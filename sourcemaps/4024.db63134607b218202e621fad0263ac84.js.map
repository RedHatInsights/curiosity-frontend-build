{"version":3,"file":"js/4024.b93e28e006246bda6f1f.js","mappings":"iQAiBMA,EAAwB,SAAC,GAKzB,IAJJC,EAII,EAJJA,MACAC,EAGI,EAHJA,EACYC,EAER,EAFJC,WAC2BC,EACvB,EADJC,0BAEQC,EAAiBJ,IAAjBI,aACoCC,EAAgBH,IAAnDI,EAAAA,GAAAA,aAELC,EAAS,KACPC,EAAO,GALT,GAMwBV,GAAS,IAA7BW,WAAAA,OANJ,MAMiB,GANjB,EAuDJ,OA/CAC,OAAOC,KAAKF,GACTG,UACAC,SAAQ,SAACC,EAAKC,GAAU,UACN,EAAH,IAAVA,IACFR,GAASS,EAAAA,EAAAA,gBAAe,CACtBC,KAAI,UAAER,EAAWK,UAAb,aAAE,EAAiBN,KAAKS,KAC5BZ,YAAAA,KAIJ,IAAMa,EAAgB,CACpBC,MAAK,UAAEV,EAAWK,UAAb,aAAE,EAAiBK,OAG1B,GAAmC,eAA/B,UAAAV,EAAWK,UAAX,eAAiBM,WAA2B,WAC1CC,EAAoB,oBAAGZ,EAAWK,UAAd,aAAG,EAAiBN,KAAKc,SAAzB,QAA8BvB,EAAE,iCAExD,UAAIU,EAAWK,UAAf,aAAI,EAAiBN,KAAKe,eAEtBF,EADEH,EAAcC,MAEd,kBAAC,EAAAK,UAAD,CACEC,OAAO,WACPC,KAAK,UACLC,MAAO5B,EAAE,kCAAmC,CAAE6B,QAAS,eAIpC7B,EAAE,kCAAmC,CAAE6B,QAAS,cAI3EV,EAAcW,MAAQ9B,EAAE,mCACxBmB,EAAcY,MAAQT,MACjB,SACCU,GAC+B,KAAlC,UAAAtB,EAAWK,UAAX,eAAiBN,KAAKwB,UAAqBjC,EAAE,kCAA9C,UACAU,EAAWK,UADX,aACA,EAAiBN,KAAKc,IACtB,EAEFJ,EAAcW,MAAQ9B,EAAE,wBAAyB,CAAE6B,QAASd,EAAKmB,QAAS7B,IAC1Ec,EAAcY,MAAQC,EAGxBb,EAAcE,UAAd,UAA0BX,EAAWK,UAArC,aAA0B,EAAiBM,UAC3CZ,EAAK0B,KAAKhB,MAIZ,yBAAKiB,UAAU,kCACb,2BAAOC,QAASrC,EAAE,mCACdS,EAAK6B,QAAU9B,GACf,+BACE,4BACE,wBAAI+B,QAAS,GAAI/B,MAIrB,KACAC,EAAK6B,QACL,+BACG7B,EAAK+B,KAAI,SAAAC,GAAS,OACjB,wBAAI1B,IAAG,kBAAa0B,EAAUX,QAC5B,4BAC2B,cAAxBW,EAAUpB,WACT,kBAAC,EAAAI,UAAD,CAAWiB,KAAK,KAAKhB,OAAO,OAAOC,KAAMc,EAAUrB,OAAS,gBAErC,cAAxBqB,EAAUpB,WACT,kBAAC,EAAAI,UAAD,CAAWiB,KAAK,KAAKf,KAAMc,EAAUrB,OAAS,gBAC7C,IACFqB,EAAUX,OAEb,4BAAKW,EAAUV,aAKrB,OAEDtB,EAAK6B,QAAUtC,EAAE,+BAAgC,CAAE6B,QAAS,WAAe,OAmCpF/B,EAAsB6C,aAAe,CACnC5C,MAAO,GACPC,EAAG4C,EAAAA,UACH1C,WAAAA,EAAAA,WACAE,0BAAAA,EAAAA","sources":["webpack:///./src/components/graphCard/graphCardChartTooltip.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useProduct, useProductGraphTallyQuery } from '../productView/productViewContext';\nimport { getTooltipDate } from './graphCardHelpers';\nimport { translate } from '../i18n/i18n';\nimport { ChartIcon } from '../chart/chartIcon';\nimport { RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\n\n/**\n * A custom chart tooltip.\n *\n * @param {object} props\n * @param {object} props.datum\n * @param {Function} props.t\n * @param {Function} props.useProduct\n * @returns {Node}\n */\nconst GraphCardChartTooltip = ({\n  datum,\n  t,\n  useProduct: useAliasProduct,\n  useProductGraphTallyQuery: useAliasProductGraphTallyQuery\n}) => {\n  const { productLabel } = useAliasProduct();\n  const { [RHSM_API_QUERY_TYPES.GRANULARITY]: granularity } = useAliasProductGraphTallyQuery();\n\n  let header = null;\n  const data = [];\n  const { itemsByKey = {} } = datum || {};\n\n  Object.keys(itemsByKey)\n    .reverse()\n    .forEach((key, index) => {\n      if (index === 0) {\n        header = getTooltipDate({\n          date: itemsByKey[key]?.data.date,\n          granularity\n        });\n      }\n\n      const tempDataFacet = {\n        color: itemsByKey[key]?.color\n      };\n\n      if (itemsByKey[key]?.chartType === 'threshold') {\n        let thresholdStringValue = itemsByKey[key]?.data.y ?? t('curiosity-graph.label_noData');\n\n        if (itemsByKey[key]?.data.hasInfinite) {\n          if (tempDataFacet.color) {\n            thresholdStringValue = (\n              <ChartIcon\n                symbol=\"infinity\"\n                fill=\"#ffffff\"\n                title={t('curiosity-graph.label_threshold', { context: 'infinite' })}\n              />\n            );\n          } else {\n            thresholdStringValue = t('curiosity-graph.label_threshold', { context: 'infinite' });\n          }\n        }\n\n        tempDataFacet.label = t('curiosity-graph.label_threshold');\n        tempDataFacet.value = thresholdStringValue;\n      } else {\n        const dataFactsValue =\n          (itemsByKey[key]?.data.hasData === false && t('curiosity-graph.label_noData')) ||\n          itemsByKey[key]?.data.y ||\n          0;\n\n        tempDataFacet.label = t('curiosity-graph.label', { context: key, product: productLabel });\n        tempDataFacet.value = dataFactsValue;\n      }\n\n      tempDataFacet.chartType = itemsByKey[key]?.chartType;\n      data.push(tempDataFacet);\n    });\n\n  return (\n    <div className=\"curiosity-usage-graph__tooltip\">\n      <table summary={t('curiosity-graph.tooltipSummary')}>\n        {(data.length && header && (\n          <thead>\n            <tr>\n              <th colSpan={2}>{header}</th>\n            </tr>\n          </thead>\n        )) ||\n          null}\n        {(data.length && (\n          <tbody>\n            {data.map(dataFacet => (\n              <tr key={`tooltip-${dataFacet.label}`}>\n                <th>\n                  {dataFacet.chartType === 'threshold' && (\n                    <ChartIcon size=\"sm\" symbol=\"dash\" fill={dataFacet.color || 'transparent'} />\n                  )}\n                  {dataFacet.chartType !== 'threshold' && (\n                    <ChartIcon size=\"sm\" fill={dataFacet.color || 'transparent'} />\n                  )}{' '}\n                  {dataFacet.label}\n                </th>\n                <td>{dataFacet.value}</td>\n              </tr>\n            ))}\n          </tbody>\n        )) ||\n          null}\n      </table>\n      {(!data.length && t('curiosity-graph.label_noData', { context: 'error' })) || null}\n    </div>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{datum: object, useProduct: Function, useProductGraphTallyQuery: Function, t: Function}}\n */\nGraphCardChartTooltip.propTypes = {\n  datum: PropTypes.shape({\n    itemsByKey: PropTypes.objectOf(\n      PropTypes.shape({\n        chartType: PropTypes.string,\n        color: PropTypes.string,\n        data: PropTypes.shape({\n          date: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\n          hasData: PropTypes.bool,\n          hasInfinite: PropTypes.bool,\n          y: PropTypes.number\n        })\n      })\n    )\n  }),\n  t: PropTypes.func,\n  useProduct: PropTypes.func,\n  useProductGraphTallyQuery: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{datum: object, useProduct: Function, useProductGraphTallyQuery: Function, t: Function}}\n */\nGraphCardChartTooltip.defaultProps = {\n  datum: {},\n  t: translate,\n  useProduct,\n  useProductGraphTallyQuery\n};\n\nexport { GraphCardChartTooltip as default, GraphCardChartTooltip };\n"],"names":["GraphCardChartTooltip","datum","t","useAliasProduct","useProduct","useAliasProductGraphTallyQuery","useProductGraphTallyQuery","productLabel","granularity","RHSM_API_QUERY_TYPES","header","data","itemsByKey","Object","keys","reverse","forEach","key","index","getTooltipDate","date","tempDataFacet","color","chartType","thresholdStringValue","y","hasInfinite","ChartIcon","symbol","fill","title","context","label","value","dataFactsValue","hasData","product","push","className","summary","length","colSpan","map","dataFacet","size","defaultProps","translate"],"sourceRoot":""}