{"version":3,"file":"js/3056.1642719022818.0c25cfefda5424e92bdd.js","mappings":"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","sources":["webpack:///./src/components/guestsList/guestsList.js","webpack:///./src/components/inventoryList/inventoryListHelpers.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TableVariant } from '@patternfly/react-table';\nimport { helpers } from '../../common';\nimport { apiQueries, connect, reduxActions, reduxSelectors } from '../../redux';\nimport { Loader } from '../loader/loader';\nimport { inventoryListHelpers } from '../inventoryList/inventoryListHelpers';\nimport { RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { Table } from '../table/table';\n\n/**\n * ToDo: Consider removing the query prop entirely.\n * The current API doesn't allow setting more than \"offset\" and \"limit\"\n */\n/**\n * ToDo: Review moving the \"onScroll\" layout into a standalone component.\n */\n/**\n * A system inventory guests component.\n *\n * @augments React.Component\n * @fires onUpdateGuestsData\n * @fires onScroll\n */\nclass GuestsList extends React.Component {\n  state = { currentPage: 0, limit: 100, previousData: [] };\n\n  componentDidMount() {\n    this.onUpdateGuestsData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage } = this.state;\n\n    if (currentPage !== prevState.currentPage) {\n      this.onUpdateGuestsData();\n    }\n  }\n\n  /**\n   * Call the RHSM APIs, apply filters.\n   *\n   * @event onUpdateGuestsData\n   */\n  onUpdateGuestsData = () => {\n    const { currentPage, limit } = this.state;\n    const { getHostsInventoryGuests, query, id } = this.props;\n\n    if (id) {\n      const updatedQuery = {\n        ...query,\n        [RHSM_API_QUERY_TYPES.LIMIT]: limit,\n        [RHSM_API_QUERY_TYPES.OFFSET]: currentPage * limit || 0\n      };\n\n      const { inventoryGuestsQuery } = apiQueries.parseRhsmQuery(updatedQuery);\n      getHostsInventoryGuests(id, inventoryGuestsQuery);\n    }\n  };\n\n  /**\n   * Update page state.\n   *\n   * @event onScroll\n   * @param {object} event\n   */\n  onScroll = event => {\n    const { target } = event;\n    const { currentPage, limit, previousData } = this.state;\n    const { numberOfGuests, pending, listData } = this.props;\n\n    const bottom = target.scrollHeight - target.scrollTop === target.clientHeight;\n\n    if (numberOfGuests > (currentPage + 1) * limit && bottom && !pending) {\n      const newPage = currentPage + 1;\n      const updatedData = [...previousData, ...(listData || [])];\n\n      this.setState({\n        previousData: updatedData,\n        currentPage: newPage\n      });\n    }\n  };\n\n  renderLoader() {\n    const { currentPage } = this.state;\n    const { filterGuestsData, listData, pending } = this.props;\n\n    if (currentPage > 0 && pending) {\n      const scrollLoader = (\n        <Loader\n          variant=\"table\"\n          tableProps={{\n            borders: false,\n            colCount: filterGuestsData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n            colWidth: (filterGuestsData?.length && filterGuestsData.map(({ cellWidth }) => cellWidth)) || [],\n            rowCount: 0,\n            variant: TableVariant.compact\n          }}\n        />\n      );\n\n      return <div className=\"curiosity-table-scroll-loader__custom\">{scrollLoader}</div>;\n    }\n\n    return null;\n  }\n\n  /**\n   * ToDo: Consider moving the \"meaning of life\" into the default props on iteration.\n   * For everyone else... move the 42 into default props, possibly the 275.\n   */\n  /**\n   * Render a guests table.\n   *\n   * @returns {Node}\n   */\n  renderTable() {\n    const { previousData } = this.state;\n    const { filterGuestsData, listData, numberOfGuests, session } = this.props;\n    let updatedColumnHeaders = [];\n\n    const updatedRows = [...previousData, ...(listData || [])].map(({ ...cellData }) => {\n      const { columnHeaders, cells } = inventoryListHelpers.parseRowCellsListData({\n        filters: filterGuestsData,\n        cellData,\n        session\n      });\n\n      updatedColumnHeaders = columnHeaders;\n\n      return {\n        cells\n      };\n    });\n\n    // Include the table header\n    let updatedHeight = (numberOfGuests + 1) * 42;\n    updatedHeight = (updatedHeight < 275 && updatedHeight) || 275;\n\n    return (\n      <div className=\"curiosity-table-scroll\" style={{ height: `${updatedHeight}px` }}>\n        <div\n          className={`curiosity-table-scroll-list${(updatedHeight < 275 && '__no-scroll') || ''}`}\n          onScroll={this.onScroll}\n        >\n          {this.renderLoader()}\n          {(updatedRows.length && (\n            <Table\n              borders={false}\n              variant={TableVariant.compact}\n              className=\"curiosity-guests-list\"\n              columnHeaders={updatedColumnHeaders}\n              rows={updatedRows}\n            />\n          )) ||\n            null}\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Render a guest list table.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { currentPage } = this.state;\n    const { error, filterGuestsData, listData, numberOfGuests, pending, perPageDefault } = this.props;\n\n    return (\n      <div className={`fadein ${(error && 'blur') || ''}`}>\n        {pending && currentPage === 0 && (\n          <Loader\n            variant=\"table\"\n            tableProps={{\n              borders: false,\n              className: 'curiosity-guests-list',\n              colCount: filterGuestsData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n              colWidth: (filterGuestsData?.length && filterGuestsData.map(({ cellWidth }) => cellWidth)) || [],\n              rowCount: numberOfGuests < perPageDefault ? numberOfGuests : perPageDefault,\n              variant: TableVariant.compact\n            }}\n          />\n        )}\n        {((!pending && currentPage === 0) || currentPage > 0) && this.renderTable()}\n      </div>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{listData: Array, getHostsInventoryGuests: Function, session: object, filterGuestsData: object,\n *     pending: boolean, query: object, numberOfGuests: number, perPageDefault: number, id: string,\n *     error: boolean}}\n */\nGuestsList.propTypes = {\n  error: PropTypes.bool,\n  filterGuestsData: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      header: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ]),\n      cell: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ])\n    }).isRequired\n  ),\n  getHostsInventoryGuests: PropTypes.func,\n  listData: PropTypes.array,\n  id: PropTypes.string.isRequired,\n  numberOfGuests: PropTypes.number.isRequired,\n  pending: PropTypes.bool,\n  perPageDefault: PropTypes.number,\n  query: PropTypes.object,\n  session: PropTypes.object\n};\n\n/**\n * Default props.\n *\n * @type {{listData: Array, getHostsInventoryGuests: Function, session: object, filterGuestsData: Array,\n *     pending: boolean, query: object, perPageDefault: number, error: boolean}}\n */\nGuestsList.defaultProps = {\n  error: false,\n  filterGuestsData: [],\n  getHostsInventoryGuests: helpers.noop,\n  listData: [],\n  pending: false,\n  perPageDefault: 5,\n  query: {},\n  session: {}\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  getHostsInventoryGuests: (id, query) => dispatch(reduxActions.rhsm.getHostsInventoryGuests(id, query))\n});\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst makeMapStateToProps = reduxSelectors.guestsList.makeGuestsList();\n\nconst ConnectedGuestsList = connect(makeMapStateToProps, mapDispatchToProps)(GuestsList);\n\nexport { ConnectedGuestsList as default, ConnectedGuestsList, GuestsList };\n","import React from 'react';\nimport { cellWidth as PfCellWidth, SortByDirection, wrappable } from '@patternfly/react-table';\nimport _camelCase from 'lodash/camelCase';\nimport { translate } from '../i18n/i18n';\nimport {\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_TYPES\n} from '../../types/rhsmApiTypes';\nimport { helpers } from '../../common';\n\n/**\n * Apply sort filter to filters.\n *\n * @param {object} params\n * @param {{ onSort: Function, sortActive: boolean, sortDirection: string, isSortDefault: boolean,\n *     sortDefaultInitialDirection: string }} params.filter\n * @param {Function} params.onSort\n * @param {object} params.query\n * @returns {object}\n */\nconst applySortFilters = ({ filter = {}, onSort, query = {} }) => {\n  const { id, sortId } = filter;\n  const updatedId = sortId || id;\n  const updatedFilter = { ...filter };\n  const hasSort = updatedFilter.onSort || onSort;\n\n  if (!updatedFilter.onSort && onSort) {\n    updatedFilter.onSort = onSort;\n  }\n\n  // set fallback for the active sorted column based on query\n  if (\n    hasSort &&\n    typeof updatedFilter.sortActive !== 'boolean' &&\n    query?.[RHSM_API_QUERY_TYPES.SORT] &&\n    (query?.[RHSM_API_QUERY_TYPES.SORT] === updatedId || _camelCase(query?.[RHSM_API_QUERY_TYPES.SORT]) === updatedId)\n  ) {\n    updatedFilter.sortActive = true;\n  }\n\n  // set sort direction\n  if (hasSort && !updatedFilter.sortDirection && query?.[RHSM_API_QUERY_TYPES.DIRECTION]) {\n    switch (query?.[RHSM_API_QUERY_TYPES.DIRECTION]) {\n      case SORT_DIRECTION_TYPES.DESCENDING:\n        updatedFilter.sortDirection = SortByDirection.desc;\n        break;\n      default:\n        updatedFilter.sortDirection = SortByDirection.asc;\n        break;\n    }\n  }\n\n  if (\n    hasSort &&\n    !updatedFilter.sortActive &&\n    !query?.[RHSM_API_QUERY_TYPES.SORT] &&\n    updatedFilter.isSortDefault === true\n  ) {\n    updatedFilter.sortActive = true;\n\n    if (updatedFilter.sortDefaultInitialDirection) {\n      updatedFilter.sortDirection = updatedFilter.sortDefaultInitialDirection;\n    }\n  }\n\n  return updatedFilter;\n};\n\nconst applyWrappableFilters = ({ filter = {} }) => {\n  const updatedFilter = { ...filter };\n\n  if (Array.isArray(updatedFilter.transforms)) {\n    updatedFilter.transforms.push(wrappable);\n  } else {\n    updatedFilter.transforms = [wrappable];\n  }\n\n  return updatedFilter;\n};\n\n/**\n * Apply additional properties to filters.\n *\n * @param {object} params\n * @param {Array} params.filters\n * @param {Function} params.onSort\n * @param {object} params.query\n * @returns {Array}\n */\nconst parseInventoryFilters = ({ filters = [], onSort, query = {} }) =>\n  [...filters].map(filter => {\n    const updatedFilter = { ...filter };\n\n    if (updatedFilter.isSortable) {\n      Object.assign(updatedFilter, applySortFilters({ filter: updatedFilter, onSort, query }));\n    }\n\n    if (updatedFilter.isWrappable) {\n      Object.assign(updatedFilter, applyWrappableFilters({ filter: updatedFilter }));\n    }\n\n    return updatedFilter;\n  });\n\n/**\n * Parse and return formatted/filtered table cells, and apply table filters.\n *\n * @param {object} params\n * @param {Array} params.filters\n * @param {object} params.cellData\n * @param {object} params.session\n * @returns {{columnHeaders: Array, cells: Array, data: object}}\n */\nconst parseRowCellsListData = ({ filters = [], cellData = {}, session = {} }) => {\n  const updatedColumnHeaders = [];\n  const updatedCells = [];\n  const allCells = {};\n\n  // Apply basic translation and value\n  Object.entries(cellData).forEach(([key, value]) => {\n    allCells[key] = {\n      title: translate('curiosity-inventory.header', { context: key }),\n      value\n    };\n\n    updatedColumnHeaders.push(allCells[key].title);\n    updatedCells.push(value);\n  });\n\n  // Apply filters to header and cell values\n  if (filters?.length) {\n    updatedColumnHeaders.length = 0;\n    updatedCells.length = 0;\n\n    filters.forEach(({ id, cell, cellWidth, header, onSort, sortId, sortActive, sortDirection, transforms }) => {\n      let headerUpdated;\n      let cellUpdated;\n\n      if (allCells[id]) {\n        headerUpdated = allCells[id]?.title ?? id;\n        cellUpdated = allCells[id]?.value ?? '';\n      } else if (id) {\n        headerUpdated = translate('curiosity-inventory.header', { context: id });\n        cellUpdated = '';\n      }\n\n      // set table header cell filter params\n      if (header) {\n        headerUpdated = (typeof header === 'function' && header({ ...allCells })) || header;\n      }\n\n      if (\n        typeof headerUpdated === 'string' ||\n        typeof headerUpdated === 'number' ||\n        React.isValidElement(headerUpdated)\n      ) {\n        headerUpdated = {\n          title: headerUpdated\n        };\n      }\n\n      if (headerUpdated) {\n        headerUpdated.transforms = [];\n\n        if (Array.isArray(transforms)) {\n          headerUpdated.transforms = headerUpdated.transforms.concat([...transforms]);\n        }\n\n        if (typeof cellWidth === 'number') {\n          headerUpdated.transforms.push(PfCellWidth(cellWidth));\n        }\n      }\n\n      if (typeof onSort === 'function') {\n        headerUpdated = {\n          ...headerUpdated,\n          onSort: obj => onSort({ ...allCells }, { ...obj, id: sortId || id }),\n          sortActive,\n          sortDirection\n        };\n      }\n\n      // set table row cell filter params\n      if (cell) {\n        cellUpdated = typeof cell === 'function' ? cell({ ...allCells }, { ...session }) : cell;\n      }\n\n      if (typeof cellUpdated === 'string' || typeof cellUpdated === 'number' || React.isValidElement(cellUpdated)) {\n        cellUpdated = {\n          title: cellUpdated\n        };\n      } else if (!cellUpdated?.title) {\n        if (helpers.DEV_MODE || helpers.REVIEW_MODE) {\n          console.error(\n            `PF table throws an error when cell values don't conform to what it is expecting, or align exactly to column headers.\n            \\n\\nSee cell ID=${id} with VALUE=${cellUpdated}`\n          );\n        }\n\n        cellUpdated = {\n          title: ''\n        };\n      }\n\n      updatedColumnHeaders.push(headerUpdated);\n      updatedCells.push(cellUpdated);\n    });\n  }\n\n  return {\n    columnHeaders: updatedColumnHeaders,\n    cells: updatedCells,\n    data: { ...allCells }\n  };\n};\n\nconst inventoryListHelpers = {\n  applySortFilters,\n  applyWrappableFilters,\n  parseInventoryFilters,\n  parseRowCellsListData\n};\n\nexport {\n  inventoryListHelpers as default,\n  inventoryListHelpers,\n  applySortFilters,\n  applyWrappableFilters,\n  parseInventoryFilters,\n  parseRowCellsListData\n};\n"],"names":["GuestsList","state","currentPage","limit","previousData","onUpdateGuestsData","props","getHostsInventoryGuests","query","id","updatedQuery","RHSM_API_QUERY_TYPES","apiQueries","inventoryGuestsQuery","onScroll","event","target","numberOfGuests","pending","listData","bottom","scrollHeight","scrollTop","clientHeight","newPage","updatedData","setState","this","prevProps","prevState","filterGuestsData","scrollLoader","Loader","variant","tableProps","borders","colCount","length","Object","keys","colWidth","map","cellWidth","rowCount","TableVariant","className","session","updatedColumnHeaders","updatedRows","cellData","inventoryListHelpers","filters","columnHeaders","cells","updatedHeight","style","height","renderLoader","Table","rows","error","perPageDefault","renderTable","React","defaultProps","helpers","makeMapStateToProps","reduxSelectors","ConnectedGuestsList","connect","dispatch","reduxActions","applySortFilters","filter","onSort","updatedId","sortId","updatedFilter","hasSort","sortActive","_camelCase","sortDirection","SORT_DIRECTION_TYPES","SortByDirection","isSortDefault","sortDefaultInitialDirection","applyWrappableFilters","Array","isArray","transforms","push","wrappable","parseInventoryFilters","isSortable","assign","isWrappable","parseRowCellsListData","updatedCells","allCells","entries","forEach","key","value","title","translate","context","headerUpdated","cellUpdated","cell","header","concat","PfCellWidth","obj","console","data"],"sourceRoot":""}