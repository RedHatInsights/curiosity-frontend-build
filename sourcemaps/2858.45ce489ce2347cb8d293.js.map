{"version":3,"file":"js/2858.5ef29397caac6183dfba.js","mappings":"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","sources":["webpack:///./src/images/graph2x.png","webpack:///./src/images/graph4x.png","webpack:///./src/components/optinView/optinView.js"],"sourcesContent":["export default __webpack_public_path__ + \"fonts/graph2x.png\";","export default __webpack_public_path__ + \"fonts/graph4x.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Brand,\n  Button,\n  Card,\n  CardHeaderMain,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  Flex,\n  FlexItem,\n  Form,\n  ActionGroup,\n  Spinner,\n  Title\n} from '@patternfly/react-core';\nimport { connect, reduxActions } from '../../redux';\nimport { translate } from '../i18n/i18n';\nimport { PageLayout } from '../pageLayout/pageLayout';\nimport { helpers } from '../../common';\nimport graphPng2x from '../../images/graph2x.png';\nimport graphPng4x from '../../images/graph4x.png';\n\n/**\n * An account opt-in view.\n *\n * @augments React.Component\n * @fires onSubmitOptIn\n */\nclass OptinView extends React.Component {\n  /**\n   * Submit and update account opt-in.\n   *\n   * @event onSubmitOptIn\n   */\n  onSubmitOptIn = () => {\n    const { updateAccountOptIn } = this.props;\n    updateAccountOptIn();\n  };\n\n  /**\n   * Render opt-in form states.\n   *\n   * @returns {Node}\n   */\n  renderOptinForm() {\n    const { error, fulfilled, pending, session, t } = this.props;\n    const disableButton = session.status !== 403;\n\n    if (pending) {\n      return (\n        <Form>\n          <ActionGroup>\n            <Button variant=\"primary\" isDisabled>\n              <Spinner size=\"sm\" /> {t('curiosity-optin.buttonActivate', { appName: helpers.UI_DISPLAY_NAME })}\n            </Button>\n          </ActionGroup>\n        </Form>\n      );\n    }\n\n    if (error) {\n      return (\n        <p>\n          {t('curiosity-optin.cardIsErrorDescription', { appName: helpers.UI_DISPLAY_NAME }, [\n            <Button isInline component=\"a\" variant=\"link\" target=\"_blank\" href={helpers.UI_LINK_CONTACT_US} />\n          ])}\n        </p>\n      );\n    }\n\n    if (disableButton || fulfilled) {\n      return (\n        <Form>\n          <ActionGroup>\n            <Button variant=\"primary\" isDisabled>\n              {t('curiosity-optin.buttonIsActive', { appName: helpers.UI_DISPLAY_NAME })}\n            </Button>\n          </ActionGroup>\n          {fulfilled && <p>{t('curiosity-optin.cardIsActiveDescription')}</p>}\n        </Form>\n      );\n    }\n\n    return (\n      <Form>\n        <ActionGroup>\n          <Button variant=\"primary\" onClick={this.onSubmitOptIn}>\n            {t('curiosity-optin.buttonActivate', { appName: helpers.UI_DISPLAY_NAME })}\n          </Button>\n        </ActionGroup>\n      </Form>\n    );\n  }\n\n  /**\n   * Render tour copy and button.\n   *\n   * @returns {Node}\n   */\n  renderTour() {\n    const { t } = this.props;\n\n    return (\n      <Card className=\"curiosity-optin-tour\">\n        <CardHeader>\n          <CardHeaderMain>\n            <Brand\n              srcSet={`${graphPng4x} 1064w, ${graphPng2x} 600w`}\n              src={graphPng4x}\n              alt={t('curiosity-optin.tourTitleImageAlt')}\n              aria-hidden\n              className=\"curiosity-optin-image\"\n            />\n          </CardHeaderMain>\n        </CardHeader>\n        <CardTitle>\n          <Title headingLevel=\"h3\" size=\"2xl\">\n            {t('curiosity-optin.tourTitle')}\n          </Title>\n        </CardTitle>\n        <CardBody>{t('curiosity-optin.tourDescription')}</CardBody>\n        <CardFooter>\n          <Button variant=\"secondary\" className=\"uxui-curiosity__button-tour\">\n            {t('curiosity-optin.buttonTour')}\n          </Button>\n        </CardFooter>\n      </Card>\n    );\n  }\n\n  /**\n   * Render opt-in.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { t } = this.props;\n\n    return (\n      <PageLayout>\n        <Card>\n          <Flex>\n            <Flex flex={{ default: 'flex_2' }}>\n              <FlexItem>\n                <CardTitle key=\"heading1Title\">\n                  <Title headingLevel=\"h1\" size=\"2xl\">\n                    {t('curiosity-optin.cardTitle', { appName: helpers.UI_DISPLAY_NAME })}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading1Desc\">\n                  {t('curiosity-optin.cardDescription', { appName: helpers.UI_DISPLAY_NAME })}\n                </CardBody>\n\n                <CardTitle key=\"heading2Title\">\n                  <Title headingLevel=\"h2\" size=\"xl\">\n                    {t('curiosity-optin.cardSeeTitle')}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading2Desc\">{t('curiosity-optin.cardSeeDescription')}</CardBody>\n\n                <CardTitle key=\"heading3Title\">\n                  <Title headingLevel=\"h2\" size=\"xl\">\n                    {t('curiosity-optin.cardReportTitle')}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading3Desc\">{t('curiosity-optin.cardReportDescription')}</CardBody>\n\n                <CardTitle key=\"heading4Title\">\n                  <Title headingLevel=\"h2\" size=\"xl\">\n                    {t('curiosity-optin.cardFilterTitle')}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading4Desc\">{t('curiosity-optin.cardFilterDescription')}</CardBody>\n\n                <CardFooter>{this.renderOptinForm()}</CardFooter>\n              </FlexItem>\n            </Flex>\n            <Flex flex={{ default: 'flex_1' }} alignSelf={{ default: 'alignSelfCenter' }}>\n              <FlexItem>\n                <CardBody>{this.renderTour()}</CardBody>\n              </FlexItem>\n            </Flex>\n          </Flex>\n        </Card>\n      </PageLayout>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{t: Function, session: object, updateAccountOptIn: Function, pending: boolean, fulfilled: boolean,\n *     error: boolean}}\n */\nOptinView.propTypes = {\n  error: PropTypes.bool,\n  fulfilled: PropTypes.bool,\n  pending: PropTypes.bool,\n  session: PropTypes.shape({\n    status: PropTypes.number\n  }),\n  t: PropTypes.func,\n  updateAccountOptIn: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{t: translate, session: {status: null}, updateAccountOptIn: Function, pending: boolean,\n *     fulfilled: boolean, error: boolean}}\n */\nOptinView.defaultProps = {\n  error: false,\n  fulfilled: false,\n  pending: false,\n  session: {\n    status: null\n  },\n  t: translate,\n  updateAccountOptIn: helpers.noop\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  updateAccountOptIn: query => dispatch(reduxActions.user.updateAccountOptIn(query))\n});\n\n/**\n * Apply state to props.\n *\n * @param {object} state\n * @param {object} state.user\n * @returns {object}\n */\nconst mapStateToProps = ({ user }) => ({ ...user.optin, session: user.session });\n\nconst ConnectedOptinView = connect(mapStateToProps, mapDispatchToProps)(OptinView);\n\nexport { ConnectedOptinView as default, ConnectedOptinView, OptinView };\n"],"names":["OptinView","onSubmitOptIn","updateAccountOptIn","props","this","error","fulfilled","pending","session","t","disableButton","status","Form","ActionGroup","Button","variant","isDisabled","Spinner","size","appName","helpers","isInline","component","target","href","onClick","Card","className","CardHeader","CardHeaderMain","Brand","srcSet","graphPng4x","graphPng2x","src","alt","CardTitle","Title","headingLevel","CardBody","CardFooter","PageLayout","Flex","flex","default","FlexItem","key","renderOptinForm","alignSelf","renderTour","React","defaultProps","translate","ConnectedOptinView","connect","user","optin","dispatch","query","reduxActions"],"sourceRoot":""}