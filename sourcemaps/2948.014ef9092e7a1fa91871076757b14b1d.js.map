{"version":3,"file":"js/2948.1678116800351.f6caba71698dd1a1c3d8.js","mappings":"2YAsBMA,EAAyB,WAAuD,IAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,CAAC,EAACG,EAAAJ,EAA/CK,WAAYC,OAAe,IAAAF,EAAGC,EAAAA,WAAUD,EACxEG,EAAiCD,IAAzBE,EAAoBD,EAApBC,qBACFC,EAAU,GAchB,OAZIC,MAAMC,QAAQH,IAChBC,EAAQG,KAAIC,MAAZJ,GAAOK,EAAAA,EAAAA,GACFN,EAAqBO,KAAI,SAAAC,GAAI,MAAK,CACnCC,OAAOC,EAAAA,EAAAA,WAAU,0BAA2B,CAC1CC,QAAS,CAAC,eAA0B,KAATH,EAAe,OAAWA,KAEvDI,MAAOJ,EACPK,UAAU,EACX,MAIEZ,CACT,EAUMa,EAAc,WAGT,IAAAC,EAAAtB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,CAAC,EAACuB,EAAAD,EAFJE,YAAaC,OAAgB,IAAAF,EAAGG,EAAAA,GAAAA,WAAAA,YAAiCH,EAAAI,EAAAL,EACjElB,WAAYC,OAAe,IAAAsB,EAAGvB,EAAAA,WAAUuB,EAExCC,EAAmBvB,IAAXwB,EAAMD,EAANC,OACFC,EAAWL,IAEjB,OAAO,WAA2B,IAAAM,EAAA/B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,CAAC,EAACgC,EAAAD,EAAnBZ,MAAAA,OAAK,IAAAa,EAAG,KAAIA,EACpBF,EAAS,CACP,CACEf,KAAMkB,EAAAA,GAAAA,MAAAA,+BACNJ,OAAAA,GAEF,CACEd,KAAMkB,EAAAA,GAAAA,MAAAA,UACNJ,OAAAA,EACAK,OAAQC,EAAAA,GAAAA,aACRhB,MAAAA,IAGN,CACF,EAeMiB,EAA2B,SAAHC,GAOxB,IANJC,EAAQD,EAARC,SACAC,EAAQF,EAARE,SACAC,EAACH,EAADG,EACaC,EAAgBJ,EAA7BhB,YACwBqB,EAA2BL,EAAnDM,uBACwBC,EAA2BP,EAAnDvC,uBAEiD+C,EAAiBH,IAAzDP,EAAAA,GAAAA,cACHW,EAAWL,IAEXM,EADUH,IACe9B,KAAI,SAAAkC,GAAM,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAM,IAAE5B,SAAU4B,EAAO7B,QAAU0B,GAAY,IAElG,OACEK,IAAAA,cAACC,EAAAA,OAAM,CACL,aAAYX,EAAE,gCAAiC,CAAEtB,QAAS,CAACoB,GAAY,SAAU,kBACjFQ,SAAUA,EACVtC,QAASuC,EACTK,gBAAiBP,EACjBQ,YAAab,EAAE,gCAAiC,CAAEtB,QAAS,CAACoB,GAAY,SAAU,kBAClFC,SAAUA,EACV,YAAU,4BAGhB,EAuBAH,EAAyBkB,aAAe,CACtChB,UAAU,EACVC,SAAUgB,EAAAA,eAAAA,KACVf,EAAGvB,EAAAA,UACHI,YAAAA,EACAsB,uBAAAA,EAAAA,uBACA7C,uBAAAA,E","sources":["webpack:///./src/components/toolbar/toolbarFieldArchitecture.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useProduct, useProductToolbarQuery } from '../productView/productViewContext';\nimport { reduxTypes, storeHooks } from '../../redux';\nimport { RHSM_API_QUERY_SET_TYPES } from '../../services/rhsm/rhsmConstants';\nimport { Select, SelectPosition } from '../form/select';\nimport { translate } from '../i18n/i18n';\n\n/**\n * A standalone Architecture select filter.\n *\n * @memberof Toolbar\n * @module ToolbarFieldArchitecture\n */\n\n/**\n * Generate select field options from config\n *\n * @param {object} options\n * @param {Function} options.useProduct\n * @returns {Function}\n */\nconst useToolbarFieldOptions = ({ useProduct: useAliasProduct = useProduct } = {}) => {\n  const { productArchitectures } = useAliasProduct();\n  const options = [];\n\n  if (Array.isArray(productArchitectures)) {\n    options.push(\n      ...productArchitectures.map(type => ({\n        title: translate('curiosity-toolbar.label', {\n          context: ['architecture', (type === '' && 'none') || type]\n        }),\n        value: type,\n        selected: false\n      }))\n    );\n  }\n\n  return options;\n};\n\n/**\n * On select update.\n *\n * @param {object} options\n * @param {Function} options.useDispatch\n * @param {Function} options.useProduct\n * @returns {Function}\n */\nconst useOnSelect = ({\n  useDispatch: useAliasDispatch = storeHooks.reactRedux.useDispatch,\n  useProduct: useAliasProduct = useProduct\n} = {}) => {\n  const { viewId } = useAliasProduct();\n  const dispatch = useAliasDispatch();\n\n  return ({ value = null } = {}) => {\n    dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_RESET_INVENTORY_LIST,\n        viewId\n      },\n      {\n        type: reduxTypes.query.SET_QUERY,\n        viewId,\n        filter: RHSM_API_QUERY_SET_TYPES.ARCHITECTURE,\n        value\n      }\n    ]);\n  };\n};\n\n/**\n * Display an architecture field with generated options.\n *\n * @fires onSelect\n * @param {object} props\n * @param {boolean} props.isFilter\n * @param {string} props.position\n * @param {Function} props.t\n * @param {Function} props.useOnSelect\n * @param {Function} props.useProductToolbarQuery\n * @param {Function} props.useToolbarFieldOptions\n * @returns {React.ReactNode}\n */\nconst ToolbarFieldArchitecture = ({\n  isFilter,\n  position,\n  t,\n  useOnSelect: useAliasOnSelect,\n  useProductToolbarQuery: useAliasProductToolbarQuery,\n  useToolbarFieldOptions: useAliasToolbarFieldOptions\n}) => {\n  const { [RHSM_API_QUERY_SET_TYPES.ARCHITECTURE]: updatedValue } = useAliasProductToolbarQuery();\n  const onSelect = useAliasOnSelect();\n  const options = useAliasToolbarFieldOptions();\n  const updatedOptions = options.map(option => ({ ...option, selected: option.value === updatedValue }));\n\n  return (\n    <Select\n      aria-label={t('curiosity-toolbar.placeholder', { context: [isFilter && 'filter', 'architecture'] })}\n      onSelect={onSelect}\n      options={updatedOptions}\n      selectedOptions={updatedValue}\n      placeholder={t('curiosity-toolbar.placeholder', { context: [isFilter && 'filter', 'architecture'] })}\n      position={position}\n      data-test=\"toolbarFieldArchitecture\"\n    />\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{useOnSelect: Function, t: Function, useProductToolbarQuery: Function, isFilter: boolean,\n *     position: string, useToolbarFieldOptions: Function}}\n */\nToolbarFieldArchitecture.propTypes = {\n  isFilter: PropTypes.bool,\n  position: PropTypes.string,\n  t: PropTypes.func,\n  useOnSelect: PropTypes.func,\n  useProductToolbarQuery: PropTypes.func,\n  useToolbarFieldOptions: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{useOnSelect: Function, t: translate, useProductToolbarQuery: Function, isFilter: boolean,\n *     position: string, useToolbarFieldOptions: Function}}\n */\nToolbarFieldArchitecture.defaultProps = {\n  isFilter: false,\n  position: SelectPosition.left,\n  t: translate,\n  useOnSelect,\n  useProductToolbarQuery,\n  useToolbarFieldOptions\n};\n\nexport { ToolbarFieldArchitecture as default, ToolbarFieldArchitecture, useOnSelect, useToolbarFieldOptions };\n"],"names":["useToolbarFieldOptions","_ref","arguments","length","undefined","_ref$useProduct","useProduct","useAliasProduct","_useAliasProduct","productArchitectures","options","Array","isArray","push","apply","_toConsumableArray","map","type","title","translate","context","value","selected","useOnSelect","_ref2","_ref2$useDispatch","useDispatch","useAliasDispatch","storeHooks","_ref2$useProduct","_useAliasProduct2","viewId","dispatch","_ref3","_ref3$value","reduxTypes","filter","RHSM_API_QUERY_SET_TYPES","ToolbarFieldArchitecture","_ref4","isFilter","position","t","useAliasOnSelect","useAliasProductToolbarQuery","useProductToolbarQuery","useAliasToolbarFieldOptions","updatedValue","onSelect","updatedOptions","option","_objectSpread","React","Select","selectedOptions","placeholder","defaultProps","SelectPosition"],"sourceRoot":""}