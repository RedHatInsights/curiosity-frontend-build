{"version":3,"file":"js/4311.1668717095700.e1a3439d2bf484368a21.js","mappings":"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","sources":["webpack:///./src/components/optinView/optinView.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Brand,\n  Button,\n  Card,\n  CardHeaderMain,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  Flex,\n  FlexItem,\n  Form,\n  ActionGroup,\n  Spinner,\n  Title\n} from '@patternfly/react-core';\nimport { useSession } from '../authentication/authenticationContext';\nimport { reduxActions, storeHooks } from '../../redux';\nimport { translate } from '../i18n/i18n';\nimport { PageLayout } from '../pageLayout/pageLayout';\nimport { helpers } from '../../common';\nimport graphPng2x from '../../images/graph2x.png';\nimport graphPng4x from '../../images/graph4x.png';\n\n/**\n * An account opt-in view.\n *\n * @param {object} props\n * @param {Function} props.t\n * @param {Function} props.updateAccountOptIn\n * @param {Function} props.useDispatch\n * @param {Function} props.useSelectorsResponse\n * @param {Function} props.useSession\n * @fires onSubmitOptIn\n * @returns {Node}\n */\nconst OptinView = ({\n  t,\n  updateAccountOptIn,\n  useDispatch: useAliasDispatch,\n  useSelectorsResponse: useAliasSelectorsResponse,\n  useSession: useAliasSession\n}) => {\n  const dispatch = useAliasDispatch();\n  const { errorStatus } = useAliasSession();\n  const { error, fulfilled, pending } = useAliasSelectorsResponse(({ user }) => user?.optin);\n\n  /**\n   * Submit and update account opt-in.\n   *\n   * @event onSubmitOptIn\n   * @returns {void}\n   */\n  const onSubmitOptIn = () => updateAccountOptIn()(dispatch);\n\n  /**\n   * Render opt-in form states.\n   *\n   * @returns {Node}\n   */\n  const renderOptinForm = () => {\n    const disableButton = errorStatus !== 403;\n\n    if (pending) {\n      return (\n        <Form>\n          <ActionGroup>\n            <Button variant=\"primary\" isDisabled>\n              <Spinner size=\"sm\" /> {t('curiosity-optin.buttonActivate', { appName: helpers.UI_DISPLAY_NAME })}\n            </Button>\n          </ActionGroup>\n        </Form>\n      );\n    }\n\n    if (error) {\n      return (\n        <p>\n          {t('curiosity-optin.cardIsErrorDescription', { appName: helpers.UI_DISPLAY_NAME }, [\n            <Button isInline component=\"a\" variant=\"link\" target=\"_blank\" href={helpers.UI_LINK_CONTACT_US} />\n          ])}\n        </p>\n      );\n    }\n\n    if (disableButton || fulfilled) {\n      return (\n        <Form>\n          <ActionGroup>\n            <Button variant=\"primary\" isDisabled>\n              {t('curiosity-optin.buttonIsActive', { appName: helpers.UI_DISPLAY_NAME })}\n            </Button>\n          </ActionGroup>\n          {fulfilled && <p>{t('curiosity-optin.cardIsActiveDescription')}</p>}\n        </Form>\n      );\n    }\n\n    return (\n      <Form>\n        <ActionGroup>\n          <Button variant=\"primary\" onClick={onSubmitOptIn}>\n            {t('curiosity-optin.buttonActivate', { appName: helpers.UI_DISPLAY_NAME })}\n          </Button>\n        </ActionGroup>\n      </Form>\n    );\n  };\n\n  /**\n   * Render tour copy and button.\n   *\n   * @returns {Node}\n   */\n  const renderTour = () => (\n    <Card className=\"curiosity-optin-tour\">\n      <CardHeader>\n        <CardHeaderMain>\n          <Brand\n            srcSet={`${graphPng4x} 1064w, ${graphPng2x} 600w`}\n            src={graphPng4x}\n            alt={t('curiosity-optin.tourTitleImageAlt')}\n            aria-hidden\n            className=\"curiosity-optin-image\"\n          />\n        </CardHeaderMain>\n      </CardHeader>\n      <CardTitle>\n        <Title headingLevel=\"h3\" size=\"2xl\">\n          {t('curiosity-optin.tourTitle')}\n        </Title>\n      </CardTitle>\n      <CardBody>{t('curiosity-optin.tourDescription')}</CardBody>\n      <CardFooter>\n        <Button variant=\"secondary\" className=\"uxui-curiosity__button-tour\">\n          {t('curiosity-optin.buttonTour')}\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n\n  return (\n    <PageLayout>\n      <Card>\n        <Flex>\n          <Flex flex={{ default: 'flex_2' }}>\n            <FlexItem>\n              <CardTitle key=\"heading1Title\">\n                <Title headingLevel=\"h1\" size=\"2xl\">\n                  {t('curiosity-optin.cardTitle', { appName: helpers.UI_DISPLAY_NAME })}\n                </Title>\n              </CardTitle>\n              <CardBody key=\"heading1Desc\">\n                {t('curiosity-optin.cardDescription', { appName: helpers.UI_DISPLAY_NAME })}\n              </CardBody>\n\n              <CardTitle key=\"heading2Title\">\n                <Title headingLevel=\"h2\" size=\"xl\">\n                  {t('curiosity-optin.cardSeeTitle')}\n                </Title>\n              </CardTitle>\n              <CardBody key=\"heading2Desc\">{t('curiosity-optin.cardSeeDescription')}</CardBody>\n\n              <CardTitle key=\"heading3Title\">\n                <Title headingLevel=\"h2\" size=\"xl\">\n                  {t('curiosity-optin.cardReportTitle')}\n                </Title>\n              </CardTitle>\n              <CardBody key=\"heading3Desc\">{t('curiosity-optin.cardReportDescription')}</CardBody>\n\n              <CardTitle key=\"heading4Title\">\n                <Title headingLevel=\"h2\" size=\"xl\">\n                  {t('curiosity-optin.cardFilterTitle')}\n                </Title>\n              </CardTitle>\n              <CardBody key=\"heading4Desc\">{t('curiosity-optin.cardFilterDescription')}</CardBody>\n\n              <CardFooter>{renderOptinForm()}</CardFooter>\n            </FlexItem>\n          </Flex>\n          <Flex flex={{ default: 'flex_1' }} alignSelf={{ default: 'alignSelfCenter' }}>\n            <FlexItem>\n              <CardBody>{renderTour()}</CardBody>\n            </FlexItem>\n          </Flex>\n        </Flex>\n      </Card>\n    </PageLayout>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{useSession: Function, t: Function, updateAccountOptIn: Function, useDispatch: Function, useSelectorsResponse: Function}}\n */\nOptinView.propTypes = {\n  t: PropTypes.func,\n  updateAccountOptIn: PropTypes.func,\n  useDispatch: PropTypes.func,\n  useSelectorsResponse: PropTypes.func,\n  useSession: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{useSession: Function, t: Function, updateAccountOptIn: Function, useDispatch: Function, useSelectorsResponse: Function}}\n */\nOptinView.defaultProps = {\n  t: translate,\n  updateAccountOptIn: reduxActions.user.updateAccountOptIn,\n  useDispatch: storeHooks.reactRedux.useDispatch,\n  useSelectorsResponse: storeHooks.reactRedux.useSelectorsResponse,\n  useSession\n};\n\nexport { OptinView as default, OptinView };\n"],"names":["OptinView","disableButton","t","updateAccountOptIn","useAliasDispatch","useDispatch","useAliasSelectorsResponse","useSelectorsResponse","useAliasSession","useSession","dispatch","errorStatus","user","optin","error","fulfilled","pending","PageLayout","Card","Flex","flex","default","FlexItem","CardTitle","key","Title","headingLevel","size","appName","helpers","CardBody","CardFooter","Form","ActionGroup","Button","variant","isDisabled","Spinner","isInline","component","target","href","onClick","alignSelf","className","CardHeader","CardHeaderMain","Brand","srcSet","graphPng4x","graphPng2x","src","alt","defaultProps","translate","reduxActions","storeHooks"],"sourceRoot":""}