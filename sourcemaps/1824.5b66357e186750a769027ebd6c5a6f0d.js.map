{"version":3,"file":"js/1824.589f3b233da92452355e.js","mappings":"kYAkBMA,EAAoB,WAGf,IAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,CAAC,EAACG,EAAAJ,EAFJK,WAAYC,OAAe,IAAAF,EAAGC,EAAAA,WAAUD,EAAAG,EAAAP,EACxCQ,YAAaC,OAAgB,IAAAF,EAAGG,EAAAA,GAAAA,WAAAA,YAAiCH,EAEjEI,EAAsBL,IAAdM,EAASD,EAATC,UACR,OAAOH,GAAiB,SAAAI,GAAA,IAAAC,EAAGC,EAAQF,EAARE,SAAQ,OAAOA,SAAwB,QAAhBD,EAARC,EAAUC,sBAAc,IAAAF,OAAhB,EAARA,EAA2BF,EAAU,GAAE,GACnF,EAWMK,EAA0B,WAIrB,IAAAC,EAAAjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,CAAC,EAACkB,EAAAD,EAHJE,YAAaC,OAAgB,IAAAF,EAAGT,EAAAA,GAAAA,WAAAA,YAAiCS,EAAAG,EAAAJ,EACjEb,WAAYC,OAAe,IAAAgB,EAAGjB,EAAAA,WAAUiB,EAAAC,EAAAL,EACxCnB,kBAAmByB,OAAsB,IAAAD,EAAGxB,EAAiBwB,EAEvDE,EAAWJ,IACjBK,EAAsBpB,IAAdM,EAASc,EAATd,UACFI,EAAiBQ,IAQvB,OAAOG,EAAAA,EAAAA,cACL,SAAAC,GACE,GAAIhB,GAAaiB,MAAMC,QAAQd,IAAmBA,EAAed,OAAQ,CACvE,IAAM6B,EAAmBf,EAAegB,QAAO,SAAAC,GAAA,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAK,OAAOD,IAAON,GAAWO,IAAUP,CAAO,IAErGH,EAAS,CACPW,KAAMC,EAAAA,GAAAA,QAAAA,oBACNC,OAAQ1B,EACRI,eAAgBe,GAAoB,IAExC,CACF,GACA,CAACf,EAAgBS,EAAUb,GAE/B,EAWM2B,EAAuB,WAIlB,IAAAC,EAAAvC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,CAAC,EAACwC,EAAAD,EAHJpB,YAAaC,OAAgB,IAAAoB,EAAG/B,EAAAA,GAAAA,WAAAA,YAAiC+B,EAAAC,EAAAF,EACjEnC,WAAYC,OAAe,IAAAoC,EAAGrC,EAAAA,WAAUqC,EAAAC,EAAAH,EACxCzC,kBAAmByB,OAAsB,IAAAmB,EAAG5C,EAAiB4C,EAEvDlB,EAAWJ,IACjBuB,EAAsBtC,IAAdM,EAASgC,EAAThC,UACFI,EAAiBQ,IAQvB,OAAOG,EAAAA,EAAAA,cACL,SAAAZ,GACE,GAAIH,EAAW,CACb,IAAMiC,EAAmBhB,MAAMC,QAAQf,IAAaA,GAAa,CAACA,GAElEU,EAAS,CACPW,KAAMC,EAAAA,GAAAA,QAAAA,oBACNC,OAAQ1B,EACRI,eAAgB,GAAF8B,QAAAC,EAAAA,EAAAA,GACR/B,GAAkB,KAAE+B,EAAAA,EAAAA,GACrBF,EACAG,KAAI,SAAAC,GACH,OAAIA,SAAAA,EAAOf,IAAMe,SAAAA,EAAOd,OAASc,SAAAA,EAAOC,SAAWD,SAAAA,EAAOE,QACjDF,EAGY,iBAAVA,GAAuC,iBAAVA,EAC/B,CACLf,GAAIe,EACJd,MAAOc,QAHX,CAQF,IACCjB,QAAO,SAAAiB,GAAK,YAAc9C,IAAV8C,CAAmB,OAG5C,MAAWG,EAAAA,EAAAA,UACTC,QAAQC,KACN,gKAGN,GACA,CAACtC,EAAgBS,EAAUb,GAE/B,EAEM2C,EAAU,CACdxD,kBAAAA,EACAkB,wBAAAA,EACAsB,qBAAAA,E","sources":["webpack:///./src/components/bannerMessages/bannerMessagesContext.js"],"sourcesContent":["import { useCallback } from 'react';\nimport { reduxTypes, storeHooks } from '../../redux';\nimport { useProduct } from '../productView/productViewContext';\nimport { helpers } from '../../common/helpers';\n\n/**\n * @memberof BannerMessages\n * @module BannerMessagesContext\n */\n\n/**\n * Retrieve, set and remove application banner messages from state.\n *\n * @param {object} options\n * @param {Function} options.useProduct\n * @param {Function} options.useSelector\n * @returns {{ bannerMessages: Array, setBannerMessages: Function, removeBannerMessages: Function }}\n */\nconst useBannerMessages = ({\n  useProduct: useAliasProduct = useProduct,\n  useSelector: useAliasSelector = storeHooks.reactRedux.useSelector\n} = {}) => {\n  const { productId } = useAliasProduct();\n  return useAliasSelector(({ messages }) => messages?.bannerMessages?.[productId], []);\n};\n\n/**\n * Provide a callback for removing application banner messages from state.\n *\n * @param {object} options\n * @param {Function} options.useDispatch\n * @param {Function} options.useProduct\n * @param {Function} options.useBannerMessages\n * @returns {Function}\n */\nconst useRemoveBannerMessages = ({\n  useDispatch: useAliasDispatch = storeHooks.reactRedux.useDispatch,\n  useProduct: useAliasProduct = useProduct,\n  useBannerMessages: useAliasBannerMessages = useBannerMessages\n} = {}) => {\n  const dispatch = useAliasDispatch();\n  const { productId } = useAliasProduct();\n  const bannerMessages = useAliasBannerMessages();\n\n  /**\n   * Remove a banner message from state.\n   *\n   * @callback removeBannerMessages\n   * @param {string} idTitle\n   */\n  return useCallback(\n    idTitle => {\n      if (productId && Array.isArray(bannerMessages) && bannerMessages.length) {\n        const filteredMessages = bannerMessages.filter(({ id, title }) => id !== idTitle && title !== idTitle);\n\n        dispatch({\n          type: reduxTypes.message.SET_BANNER_MESSAGES,\n          viewId: productId,\n          bannerMessages: filteredMessages || []\n        });\n      }\n    },\n    [bannerMessages, dispatch, productId]\n  );\n};\n\n/**\n * Provide a callback for setting application banner messages from state.\n *\n * @param {object} options\n * @param {Function} options.useDispatch\n * @param {Function} options.useProduct\n * @param {Function} options.useBannerMessages\n * @returns {Function}\n */\nconst useSetBannerMessages = ({\n  useDispatch: useAliasDispatch = storeHooks.reactRedux.useDispatch,\n  useProduct: useAliasProduct = useProduct,\n  useBannerMessages: useAliasBannerMessages = useBannerMessages\n} = {}) => {\n  const dispatch = useAliasDispatch();\n  const { productId } = useAliasProduct();\n  const bannerMessages = useAliasBannerMessages();\n\n  /**\n   * Set application messages for banner display\n   *\n   * @callback setBannerMessages\n   * @param {Array<{ id: string, message: string, title: string, variant: string }>|{ id: string, message: string, title: string, variant: string }} messages\n   */\n  return useCallback(\n    messages => {\n      if (productId) {\n        const updatedMessages = (Array.isArray(messages) && messages) || [messages];\n\n        dispatch({\n          type: reduxTypes.message.SET_BANNER_MESSAGES,\n          viewId: productId,\n          bannerMessages: [\n            ...(bannerMessages || []),\n            ...updatedMessages\n              .map(value => {\n                if (value?.id || value?.title || value?.message || value?.variant) {\n                  return value;\n                }\n\n                if (typeof value === 'string' || typeof value === 'number') {\n                  return {\n                    id: value,\n                    title: value\n                  };\n                }\n\n                return undefined;\n              })\n              .filter(value => value !== undefined)\n          ]\n        });\n      } else if (helpers.DEV_MODE) {\n        console.warn(\n          'Banner messages currently require the use of \"product id\". Product context is unavailable, try moving your banner message \"set\" lower in the component order.'\n        );\n      }\n    },\n    [bannerMessages, dispatch, productId]\n  );\n};\n\nconst context = {\n  useBannerMessages,\n  useRemoveBannerMessages,\n  useSetBannerMessages\n};\n\nexport { context as default, context, useBannerMessages, useRemoveBannerMessages, useSetBannerMessages };\n"],"names":["useBannerMessages","_ref","arguments","length","undefined","_ref$useProduct","useProduct","useAliasProduct","_ref$useSelector","useSelector","useAliasSelector","storeHooks","_useAliasProduct","productId","_ref2","_messages$bannerMessa","messages","bannerMessages","useRemoveBannerMessages","_ref3","_ref3$useDispatch","useDispatch","useAliasDispatch","_ref3$useProduct","_ref3$useBannerMessag","useAliasBannerMessages","dispatch","_useAliasProduct2","useCallback","idTitle","Array","isArray","filteredMessages","filter","_ref4","id","title","type","reduxTypes","viewId","useSetBannerMessages","_ref5","_ref5$useDispatch","_ref5$useProduct","_ref5$useBannerMessag","_useAliasProduct3","updatedMessages","concat","_toConsumableArray","map","value","message","variant","helpers","console","warn","context"],"sourceRoot":""}