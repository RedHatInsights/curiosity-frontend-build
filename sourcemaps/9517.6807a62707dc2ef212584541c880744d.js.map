{"version":3,"file":"js/9517.1673970473410.762397a2ccabcd5e2d6b.js","mappings":"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","sources":["webpack:///./src/components/form/formHelpers.js","webpack:///./src/components/form/textInput.js","webpack:///./src/components/toolbar/toolbarFieldDisplayName.js"],"sourcesContent":["import { helpers } from '../../common/helpers';\n\n/**\n * Create a consistent mock event object.\n *\n * @param {object} event\n * @param {boolean} persistEvent\n * @returns {{keyCode, currentTarget, name, id: *, persist: Function, value, target}}\n */\nconst createMockEvent = (event, persistEvent = false) => {\n  const { checked, currentTarget = {}, keyCode, persist = helpers.noop, target = {} } = { ...event };\n  if (persistEvent) {\n    persist();\n  }\n\n  return {\n    checked,\n    currentTarget,\n    keyCode,\n    id: currentTarget.id || currentTarget.name,\n    name: currentTarget.name,\n    persist,\n    value: currentTarget.value,\n    target\n  };\n};\n\n/**\n * Confirm a string has minimum length.\n *\n * @param {string} value\n * @param {number} characters\n * @returns {boolean}\n */\nconst doesNotHaveMinimumCharacters = (value, characters = 1) =>\n  (typeof value === 'string' && value.length < characters) || typeof value !== 'string';\n\nconst formHelpers = {\n  createMockEvent,\n  doesNotHaveMinimumCharacters\n};\n\nexport { formHelpers as default, formHelpers, createMockEvent, doesNotHaveMinimumCharacters };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextInput as PfTextInput } from '@patternfly/react-core';\nimport { createMockEvent } from './formHelpers';\nimport { helpers } from '../../common';\n\n/**\n * A wrapper for Patternfly TextInput. Provides restructured event data,\n * and an onClear event for the search type.\n *\n * @augments React.Component\n * @fires onKeyUp\n * @fires onMouseUp\n * @fires onChange\n */\nclass TextInput extends React.Component {\n  state = {\n    updatedValue: null\n  };\n\n  /**\n   * onKeyUp event, provide additional functionality for onClear event.\n   *\n   * @event onKeyUp\n   * @param {object} event\n   */\n  onKeyUp = event => {\n    const { onClear, onKeyUp, type } = this.props;\n    const { currentTarget, keyCode } = event;\n    const clonedEvent = { ...event };\n\n    onKeyUp(createMockEvent(event, true));\n\n    if (keyCode === 27) {\n      if (type === 'search' && currentTarget.value === '') {\n        onClear(createMockEvent(clonedEvent));\n      } else {\n        this.setState({ updatedValue: '' }, () => {\n          onClear(\n            createMockEvent({ ...clonedEvent, ...{ currentTarget: { ...clonedEvent.currentTarget, value: '' } } })\n          );\n        });\n      }\n    }\n  };\n\n  /**\n   * onMouseUp event, provide additional functionality for onClear event.\n   *\n   * @event onMouseUp\n   * @param {object} event\n   */\n  onMouseUp = event => {\n    const { onClear, onMouseUp, type } = this.props;\n    const { currentTarget } = event;\n    const clonedEvent = { ...event };\n\n    onMouseUp(createMockEvent(event, true));\n\n    if (type !== 'search' || currentTarget.value === '') {\n      return;\n    }\n\n    setTimeout(() => {\n      if (currentTarget.value === '') {\n        onClear(createMockEvent(clonedEvent));\n      }\n    });\n  };\n\n  /**\n   * onChange event, provide restructured event.\n   *\n   * @param {string} value\n   * @param {object} event\n   */\n  onChange = (value, event) => {\n    const { onChange } = this.props;\n    const clonedEvent = { ...event };\n\n    this.setState({ updatedValue: value }, () => {\n      onChange(createMockEvent(clonedEvent));\n    });\n  };\n\n  /**\n   * Render a text input.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { updatedValue } = this.state;\n    const {\n      className,\n      id,\n      isDisabled,\n      name,\n      onChange,\n      onClear,\n      onKeyUp,\n      onMouseUp,\n      isReadOnly,\n      type,\n      value,\n      ...props\n    } = this.props;\n    const updatedName = name || helpers.generateId();\n    const updatedId = id || updatedName;\n\n    return (\n      <PfTextInput\n        id={updatedId}\n        name={updatedName}\n        className={`curiosity-text-input ${className}`}\n        isDisabled={isDisabled || false}\n        onChange={this.onChange}\n        onKeyUp={this.onKeyUp}\n        onMouseUp={this.onMouseUp}\n        isReadOnly={isReadOnly || false}\n        type={type}\n        value={updatedValue ?? value ?? ''}\n        {...props}\n      />\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{onKeyUp: Function, isReadOnly: boolean, onChange: Function, onClear: Function,\n *     name: string, className: string, id: string, isDisabled: boolean, onMouseUp: Function,\n *     type: string, value: string}}\n */\nTextInput.propTypes = {\n  className: PropTypes.string,\n  id: PropTypes.string,\n  isDisabled: PropTypes.bool,\n  isReadOnly: PropTypes.bool,\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  onClear: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  type: PropTypes.string,\n  value: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{onKeyUp: Function, isReadOnly: boolean, onChange: Function, onClear: Function,\n *     name: string, className: string, id: string, isDisabled: boolean, onMouseUp: Function,\n *     type: string, value: string}}\n */\nTextInput.defaultProps = {\n  className: '',\n  id: null,\n  isDisabled: false,\n  isReadOnly: false,\n  name: null,\n  onChange: helpers.noop,\n  onClear: helpers.noop,\n  onKeyUp: helpers.noop,\n  onMouseUp: helpers.noop,\n  type: 'text',\n  value: ''\n};\n\nexport { TextInput as default, TextInput };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { InputGroup } from '@patternfly/react-core';\nimport _debounce from 'lodash/debounce';\nimport { reduxTypes, storeHooks } from '../../redux';\nimport { useProduct, useProductInventoryHostsQuery } from '../productView/productViewContext';\nimport { TextInput } from '../form/textInput';\nimport { RHSM_API_QUERY_SET_TYPES } from '../../services/rhsm/rhsmConstants';\nimport { translate } from '../i18n/i18n';\n\n/**\n * ToDo: evaluate the debounce milliseconds, currently based off platforms default 800 ms\n */\n/**\n * Display a display name input field for search.\n *\n * @fires onSubmit\n * @fires onClear\n * @fires onKeyUp\n * @param {object} props\n * @param {Function} props.t\n * @param {Function} props.useDispatch\n * @param {Function} props.useProduct\n * @param {Function} props.useProductInventoryHostsQuery\n * @returns {Node}\n */\nconst ToolbarFieldDisplayName = ({\n  t,\n  useDispatch: useAliasDispatch,\n  useProduct: useAliasProduct,\n  useProductInventoryHostsQuery: useAliasProductInventoryHostsQuery\n}) => {\n  const { viewId } = useAliasProduct();\n  const { [RHSM_API_QUERY_SET_TYPES.DISPLAY_NAME]: currentValue } = useAliasProductInventoryHostsQuery();\n  const dispatch = useAliasDispatch();\n\n  /**\n   * On submit, dispatch type.\n   *\n   * @event onSubmit\n   * @param {string} submitValue\n   * @returns {void}\n   */\n  const onSubmit = submitValue =>\n    dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR_INVENTORY_LIST,\n        viewId\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_SET_TYPES.DISPLAY_NAME],\n        viewId,\n        [RHSM_API_QUERY_SET_TYPES.DISPLAY_NAME]: submitValue?.trim() || null\n      }\n    ]);\n\n  /**\n   * On clear, dispatch type.\n   *\n   * @event onClear\n   * @returns {void}\n   */\n  const onClear = () => {\n    if (currentValue === '' || !currentValue) {\n      return;\n    }\n\n    dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR_INVENTORY_LIST,\n        viewId\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_SET_TYPES.DISPLAY_NAME],\n        viewId,\n        [RHSM_API_QUERY_SET_TYPES.DISPLAY_NAME]: null\n      }\n    ]);\n  };\n\n  /**\n   * Set up submit debounce event to allow for bypass.\n   */\n  const debounced = _debounce(onSubmit, 700);\n\n  /**\n   * On enter submit value, on type submit value, and on esc ignore (clear value at component level).\n   *\n   * @event onKeyUp\n   * @param {object} event\n   */\n  const onKeyUp = event => {\n    switch (event.keyCode) {\n      case 13:\n        onSubmit(event.value);\n        break;\n      case 27:\n        break;\n      default:\n        debounced(event.value);\n        break;\n    }\n  };\n\n  return (\n    <InputGroup>\n      <TextInput\n        aria-label={t('curiosity-toolbar.placeholder_filter', { context: 'displayName' })}\n        className=\"curiosity-input__display-name\"\n        iconVariant=\"search\"\n        maxLength={255}\n        onClear={onClear}\n        onKeyUp={onKeyUp}\n        value={currentValue}\n        placeholder={t('curiosity-toolbar.placeholder_filter', { context: 'displayName' })}\n        data-test=\"toolbarFieldDisplayName\"\n      />\n    </InputGroup>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{useProduct: Function, t: translate, useDispatch: Function, useProductInventoryHostsQuery: Function}}\n */\nToolbarFieldDisplayName.propTypes = {\n  t: PropTypes.func,\n  useDispatch: PropTypes.func,\n  useProduct: PropTypes.func,\n  useProductInventoryHostsQuery: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{useProduct: Function, t: translate, useDispatch: Function, useProductInventoryHostsQuery: Function}}\n */\nToolbarFieldDisplayName.defaultProps = {\n  t: translate,\n  useDispatch: storeHooks.reactRedux.useDispatch,\n  useProduct,\n  useProductInventoryHostsQuery\n};\n\nexport { ToolbarFieldDisplayName as default, ToolbarFieldDisplayName };\n"],"names":["createMockEvent","event","persistEvent","checked","currentTarget","keyCode","persist","helpers","target","id","name","value","doesNotHaveMinimumCharacters","characters","length","formHelpers","TextInput","state","updatedValue","onKeyUp","props","onClear","type","clonedEvent","setState","onMouseUp","setTimeout","onChange","this","className","isDisabled","isReadOnly","updatedName","updatedId","React","defaultProps","ToolbarFieldDisplayName","t","useAliasDispatch","useDispatch","useAliasProduct","useProduct","useAliasProductInventoryHostsQuery","useProductInventoryHostsQuery","viewId","currentValue","RHSM_API_QUERY_SET_TYPES","dispatch","onSubmit","submitValue","reduxTypes","trim","debounced","_debounce","InputGroup","context","iconVariant","maxLength","placeholder","translate","storeHooks"],"sourceRoot":""}