{"version":3,"file":"js/5473.1659372034629.255df25766650d03e496.js","mappings":"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","sources":["webpack:///./src/components/inventoryCard/inventoryCardHelpers.js","webpack:///./src/components/inventoryGuests/guestsList.deprecated.js"],"sourcesContent":["import React from 'react';\nimport { cellWidth as PfCellWidth, SortByDirection, wrappable } from '@patternfly/react-table';\nimport _camelCase from 'lodash/camelCase';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport { Tooltip } from '../tooltip/tooltip';\nimport { translate } from '../i18n/i18n';\nimport {\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_TYPES\n} from '../../types/rhsmApiTypes';\nimport { helpers } from '../../common';\n\n/**\n * ToDo: review setting up a transformed cell cache for already transformed cells.\n * - review using a simple state and key memoized component\n * - review using lru cache in a inventoryCardContext custom hook\n */\n\n/**\n * Apply product inventory config properties consistently.\n *\n * @param {Function|string|number} prop\n * @param {object} options\n * @param {*[]|*} options.params\n * @returns {React.ReactNode}\n */\nconst applyConfigProperty = (prop, { params = [] } = {}) => {\n  let updatedProp = prop;\n\n  if (typeof prop === 'function') {\n    updatedProp = prop(...((Array.isArray(params) && params) || [params]));\n  }\n\n  if (typeof updatedProp === 'string' || typeof updatedProp === 'number' || React.isValidElement(updatedProp)) {\n    return updatedProp;\n  }\n\n  return undefined;\n};\n\n/**\n * Generate header and row cell configuration from filters.\n *\n * @param {object} params\n * @param {Array<{id: string, isStandalone: boolean, cell:React.ReactNode|{ title: string }, cellWidth: number,\n *     header:React.ReactNode|{ title: string }, onSort: Function, showEmptyCell: boolean, sortId: string,\n *     sortActive: boolean, sortDirection: string, transforms: Array}>} params.filters\n * @param {object} params.cellData\n * @param {object} params.meta\n * @param {object} params.session\n * @returns {{bodyCells: { title: React.ReactNode }[], headerCells: { title: React.ReactNode }[]}}\n */\nconst applyHeaderRowCellFilters = ({ filters = [], cellData = {}, meta = {}, session = {} } = {}) => {\n  const headerCells = [];\n  const bodyCells = [];\n\n  filters.forEach(\n    ({\n      isStandalone,\n      id,\n      cell,\n      cellWidth,\n      header,\n      onSort,\n      showEmptyCell = true,\n      sortId,\n      sortActive,\n      sortDirection,\n      transforms\n    }) => {\n      const headerCellUpdated = { title: translate('curiosity-inventory.header', { context: id }), transforms: [] };\n      const bodyCellUpdated = { title: '' };\n\n      // set filtered base header and body cells, or if filter doesn't exist skip\n      if (cellData[id]) {\n        headerCellUpdated.title = cellData[id]?.title ?? id;\n        bodyCellUpdated.title = cellData[id]?.value ?? '';\n      } else if (isStandalone === true) {\n        headerCellUpdated.title = '';\n        bodyCellUpdated.title = '';\n      } else {\n        if (helpers.DEV_MODE || helpers.REVIEW_MODE) {\n          console.warn(`Warning: Filter \"${id}\" not found in \"table row\" response data.`, cellData);\n        }\n        if (showEmptyCell === false) {\n          return;\n        }\n      }\n\n      // set header cell title\n      if (header) {\n        const updatedHeaderCellTitle = applyConfigProperty(header, {\n          params: [{ ...cellData }, { ...session }, { ...meta }]\n        });\n        if (updatedHeaderCellTitle) {\n          headerCellUpdated.title = updatedHeaderCellTitle;\n        } else if (_isPlainObject(header)) {\n          Object.assign(headerCellUpdated, { ...header });\n        }\n\n        // set header cell tooltip\n        if (header.tooltip && headerCellUpdated.title) {\n          const updatedHeaderCellTooltip = applyConfigProperty(header.tooltip, {\n            params: [{ ...cellData }, { ...session }, { ...meta }]\n          });\n          if (updatedHeaderCellTooltip) {\n            headerCellUpdated.title = <Tooltip content={updatedHeaderCellTooltip}>{headerCellUpdated.title}</Tooltip>;\n          }\n\n          delete headerCellUpdated.tooltip;\n        }\n      }\n\n      // set header cell transforms\n      if (Array.isArray(headerCellUpdated.transforms)) {\n        if (Array.isArray(transforms)) {\n          headerCellUpdated.transforms = headerCellUpdated.transforms.concat([...transforms]);\n        }\n\n        if (typeof cellWidth === 'number') {\n          headerCellUpdated.transforms.push(PfCellWidth(cellWidth));\n        }\n      }\n\n      // set header cell onSort\n      if (typeof onSort === 'function') {\n        headerCellUpdated.onSort = obj => onSort({ ...cellData }, { ...obj, id: sortId || id });\n        headerCellUpdated.sortActive = sortActive;\n        headerCellUpdated.sortDirection = sortDirection;\n      }\n\n      // set body cell title\n      if (cell) {\n        const updatedBodyCellTitle = applyConfigProperty(cell, {\n          params: [{ ...cellData }, { ...session }, { ...meta }]\n        });\n        if (updatedBodyCellTitle) {\n          bodyCellUpdated.title = updatedBodyCellTitle;\n        } else if (_isPlainObject(cell)) {\n          Object.assign(bodyCellUpdated, { ...cell });\n        }\n\n        // set body cell tooltip\n        if (cell.tooltip && bodyCellUpdated.title) {\n          const updatedBodyCellTooltip = applyConfigProperty(cell.tooltip, {\n            params: [{ ...cellData }, { ...session }, { ...meta }]\n          });\n          if (updatedBodyCellTooltip) {\n            bodyCellUpdated.title = <Tooltip content={updatedBodyCellTooltip}>{bodyCellUpdated.title}</Tooltip>;\n          }\n\n          delete bodyCellUpdated.tooltip;\n        }\n      }\n\n      headerCells.push(headerCellUpdated);\n      bodyCells.push(bodyCellUpdated);\n    }\n  );\n\n  return {\n    headerCells,\n    bodyCells\n  };\n};\n\n/**\n * Shallow clone filter, and apply a column sort filter.\n *\n * @param {object} params\n * @param {{onSort: Function, sortActive: boolean, sortDirection: string, isSortDefault: boolean,\n *     sortDefaultInitialDirection: string}} params.filter\n * @param {Function} params.onSort\n * @param {object} params.query\n * @returns {{}}\n */\nconst applySortFilters = ({ filter = {}, onSort, query = {} } = {}) => {\n  const { id, sortId } = filter;\n  const updatedId = sortId || id;\n  const updatedFilter = { ...filter };\n  const hasSort = updatedFilter.onSort || onSort;\n\n  if (!updatedFilter.onSort && onSort) {\n    updatedFilter.onSort = onSort;\n  }\n\n  // set fallback for the active sorted column based on query\n  if (\n    hasSort &&\n    typeof updatedFilter.sortActive !== 'boolean' &&\n    query?.[RHSM_API_QUERY_TYPES.SORT] &&\n    (query?.[RHSM_API_QUERY_TYPES.SORT] === updatedId || _camelCase(query?.[RHSM_API_QUERY_TYPES.SORT]) === updatedId)\n  ) {\n    updatedFilter.sortActive = true;\n  }\n\n  // set sort direction\n  if (hasSort && !updatedFilter.sortDirection && query?.[RHSM_API_QUERY_TYPES.DIRECTION]) {\n    switch (query?.[RHSM_API_QUERY_TYPES.DIRECTION]) {\n      case SORT_DIRECTION_TYPES.DESCENDING:\n        updatedFilter.sortDirection = SortByDirection.desc;\n        break;\n      default:\n        updatedFilter.sortDirection = SortByDirection.asc;\n        break;\n    }\n  }\n\n  if (\n    hasSort &&\n    !updatedFilter.sortActive &&\n    !query?.[RHSM_API_QUERY_TYPES.SORT] &&\n    updatedFilter.isSortDefault === true\n  ) {\n    updatedFilter.sortActive = true;\n\n    if (updatedFilter.sortDefaultInitialDirection) {\n      updatedFilter.sortDirection = updatedFilter.sortDefaultInitialDirection;\n    }\n  }\n\n  return updatedFilter;\n};\n\n/**\n * Shallow clone and apply a consistent PF \"wrappable\" transformation config allowing column content to wrap.\n *\n * @param {object} params\n * @param {object} params.filter\n * @returns {{}}\n */\nconst applyWrappableFilters = ({ filter = {} } = {}) => {\n  const updatedFilter = { ...filter };\n\n  if (Array.isArray(updatedFilter.transforms)) {\n    updatedFilter.transforms.push(wrappable);\n  } else {\n    updatedFilter.transforms = [wrappable];\n  }\n\n  return updatedFilter;\n};\n\n/**\n * Shallow clone and apply, sequence specific, additional properties to filters.\n *\n * @param {object} params\n * @param {Array<{id: string, cell:*, cellWidth: number, header:*, onSort: Function,\n *     showEmptyCell: boolean, sortId: string, sortActive: boolean,\n *     sortDirection: string, transforms: Array, isSortDefault: boolean,\n *     sortDefaultInitialDirection: string}>} params.filters\n * @param {Function} params.onSort\n * @param {object} params.query\n * @returns {*[]}\n */\nconst parseInventoryFilters = ({ filters = [], onSort, query = {} } = {}) =>\n  [...filters].map(filter => {\n    const updatedFilter = { ...filter };\n\n    if (updatedFilter.isSortable) {\n      Object.assign(updatedFilter, applySortFilters({ filter: updatedFilter, onSort, query }));\n    }\n\n    if (updatedFilter.isWrappable) {\n      Object.assign(updatedFilter, applyWrappableFilters({ filter: updatedFilter }));\n    }\n\n    return updatedFilter;\n  });\n\n/**\n * Parse and return formatted/filtered table cells, and apply table filters.\n *\n * @param {object} params\n * @param {Array<{id: string, cell:React.ReactNode|{ title: string }, cellWidth: number,\n *     header:React.ReactNode|{ title: string }, onSort: Function, showEmptyCell: boolean,\n *     sortId: string, sortActive: boolean, sortDirection: string,\n *     transforms: Array}>} params.filters\n * @param {object} params.cellData\n * @param {object} params.meta\n * @param {object} params.session\n * @returns {{columnHeaders: { title: React.ReactNode }[], cells: { title: React.ReactNode }[], data: {}}}\n */\nconst parseRowCellsListData = ({ filters = [], cellData = {}, meta = {}, session = {} } = {}) => {\n  const updatedColumnHeaders = [];\n  const updatedCells = [];\n  const allCells = {};\n\n  // Apply basic translation and value\n  Object.entries(cellData).forEach(([key, value = '']) => {\n    allCells[key] = {\n      title: translate('curiosity-inventory.header', { context: key }),\n      value\n    };\n\n    updatedColumnHeaders.push(allCells[key].title);\n    updatedCells.push(value || '...');\n  });\n\n  // Apply filters to header and cell values\n  if (filters?.length && Object.keys(allCells).length) {\n    updatedColumnHeaders.length = 0;\n    updatedCells.length = 0;\n\n    const { headerCells = [], bodyCells = [] } = applyHeaderRowCellFilters({\n      filters,\n      cellData: allCells,\n      meta,\n      session\n    });\n\n    updatedColumnHeaders.push(...headerCells);\n    updatedCells.push(...bodyCells);\n  }\n\n  return {\n    columnHeaders: updatedColumnHeaders,\n    cells: updatedCells,\n    data: { ...allCells }\n  };\n};\n\nconst inventoryCardHelpers = {\n  applyConfigProperty,\n  applyHeaderRowCellFilters,\n  applySortFilters,\n  applyWrappableFilters,\n  parseInventoryFilters,\n  parseRowCellsListData\n};\n\nexport {\n  inventoryCardHelpers as default,\n  inventoryCardHelpers,\n  applyConfigProperty,\n  applyHeaderRowCellFilters,\n  applySortFilters,\n  applyWrappableFilters,\n  parseInventoryFilters,\n  parseRowCellsListData\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TableVariant } from '@patternfly/react-table';\nimport { helpers } from '../../common';\nimport { apiQueries, connect, reduxActions, reduxSelectors } from '../../redux';\nimport { Loader } from '../loader/loader';\nimport { inventoryCardHelpers } from '../inventoryCard/inventoryCardHelpers';\nimport { RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { Table } from '../table/table';\n\n/**\n * ToDo: Consider removing the query prop entirely.\n * The current API doesn't allow setting more than \"offset\" and \"limit\"\n */\n/**\n * ToDo: Review moving the \"onScroll\" layout into a standalone component.\n */\n/**\n * A system inventory guests component.\n *\n * @augments React.Component\n * @fires onUpdateGuestsData\n * @fires onScroll\n */\nclass GuestsList extends React.Component {\n  state = { currentPage: 0, limit: 100, previousData: [] };\n\n  componentDidMount() {\n    this.onUpdateGuestsData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage } = this.state;\n\n    if (currentPage !== prevState.currentPage) {\n      this.onUpdateGuestsData();\n    }\n  }\n\n  /**\n   * Call the RHSM APIs, apply filters.\n   *\n   * @event onUpdateGuestsData\n   */\n  onUpdateGuestsData = () => {\n    const { currentPage, limit } = this.state;\n    const { getHostsInventoryGuests, query, id } = this.props;\n\n    if (id) {\n      const updatedQuery = {\n        ...query,\n        [RHSM_API_QUERY_TYPES.LIMIT]: limit,\n        [RHSM_API_QUERY_TYPES.OFFSET]: currentPage * limit || 0\n      };\n\n      const { inventoryGuestsQuery } = apiQueries.parseRhsmQuery(updatedQuery);\n      getHostsInventoryGuests(id, inventoryGuestsQuery);\n    }\n  };\n\n  /**\n   * Update page state.\n   *\n   * @event onScroll\n   * @param {object} event\n   */\n  onScroll = event => {\n    const { target } = event;\n    const { currentPage, limit, previousData } = this.state;\n    const { numberOfGuests, pending, listData } = this.props;\n\n    const bottom = target.scrollHeight - target.scrollTop === target.clientHeight;\n\n    if (numberOfGuests > (currentPage + 1) * limit && bottom && !pending) {\n      const newPage = currentPage + 1;\n      const updatedData = [...previousData, ...(listData || [])];\n\n      this.setState({\n        previousData: updatedData,\n        currentPage: newPage\n      });\n    }\n  };\n\n  renderLoader() {\n    const { currentPage } = this.state;\n    const { filterGuestsData, listData, pending } = this.props;\n\n    if (currentPage > 0 && pending) {\n      const scrollLoader = (\n        <Loader\n          variant=\"table\"\n          tableProps={{\n            borders: false,\n            colCount: filterGuestsData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n            colWidth: (filterGuestsData?.length && filterGuestsData.map(({ cellWidth }) => cellWidth)) || [],\n            rowCount: 0,\n            variant: TableVariant.compact\n          }}\n        />\n      );\n\n      return <div className=\"curiosity-table-scroll-loader__custom\">{scrollLoader}</div>;\n    }\n\n    return null;\n  }\n\n  /**\n   * ToDo: Consider moving the \"meaning of life\" into the default props on iteration.\n   * For everyone else... move the 42 into default props, possibly the 275.\n   */\n  /**\n   * Render a guests table.\n   *\n   * @returns {Node}\n   */\n  renderTable() {\n    const { previousData } = this.state;\n    const { filterGuestsData, listData, numberOfGuests, session } = this.props;\n    let updatedColumnHeaders = [];\n\n    const updatedRows = [...previousData, ...(listData || [])].map(({ ...cellData }) => {\n      const { columnHeaders, cells } = inventoryCardHelpers.parseRowCellsListData({\n        filters: filterGuestsData,\n        cellData,\n        session\n      });\n\n      updatedColumnHeaders = columnHeaders;\n\n      return {\n        cells\n      };\n    });\n\n    // Include the table header\n    let updatedHeight = (numberOfGuests + 1) * 42;\n    updatedHeight = (updatedHeight < 275 && updatedHeight) || 275;\n\n    return (\n      <div className=\"curiosity-table-scroll\" style={{ height: `${updatedHeight}px` }}>\n        <div\n          className={`curiosity-table-scroll-list${(updatedHeight < 275 && '__no-scroll') || ''}`}\n          onScroll={this.onScroll}\n        >\n          {this.renderLoader()}\n          {(updatedRows.length && (\n            <Table\n              borders={false}\n              variant={TableVariant.compact}\n              className=\"curiosity-guests-list\"\n              columnHeaders={updatedColumnHeaders}\n              rows={updatedRows}\n            />\n          )) ||\n            null}\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Render a guest list table.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { currentPage } = this.state;\n    const { error, filterGuestsData, listData, numberOfGuests, pending, perPageDefault } = this.props;\n\n    return (\n      <div className={`fadein ${(error && 'blur') || ''}`}>\n        {pending && currentPage === 0 && (\n          <Loader\n            variant=\"table\"\n            tableProps={{\n              borders: false,\n              className: 'curiosity-guests-list',\n              colCount: filterGuestsData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n              colWidth: (filterGuestsData?.length && filterGuestsData.map(({ cellWidth }) => cellWidth)) || [],\n              rowCount: numberOfGuests < perPageDefault ? numberOfGuests : perPageDefault,\n              variant: TableVariant.compact\n            }}\n          />\n        )}\n        {((!pending && currentPage === 0) || currentPage > 0) && this.renderTable()}\n      </div>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{listData: Array, getHostsInventoryGuests: Function, session: object, filterGuestsData: object,\n *     pending: boolean, query: object, numberOfGuests: number, perPageDefault: number, id: string,\n *     error: boolean}}\n */\nGuestsList.propTypes = {\n  error: PropTypes.bool,\n  filterGuestsData: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      header: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ]),\n      cell: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ])\n    }).isRequired\n  ),\n  getHostsInventoryGuests: PropTypes.func,\n  listData: PropTypes.array,\n  id: PropTypes.string.isRequired,\n  numberOfGuests: PropTypes.number.isRequired,\n  pending: PropTypes.bool,\n  perPageDefault: PropTypes.number,\n  query: PropTypes.object,\n  session: PropTypes.object\n};\n\n/**\n * Default props.\n *\n * @type {{listData: Array, getHostsInventoryGuests: Function, session: object, filterGuestsData: Array,\n *     pending: boolean, query: object, perPageDefault: number, error: boolean}}\n */\nGuestsList.defaultProps = {\n  error: false,\n  filterGuestsData: [],\n  getHostsInventoryGuests: helpers.noop,\n  listData: [],\n  pending: false,\n  perPageDefault: 5,\n  query: {},\n  session: {}\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  getHostsInventoryGuests: (id, query) => dispatch(reduxActions.rhsm.getHostsInventoryGuests(id, query))\n});\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst makeMapStateToProps = reduxSelectors.guestsList.makeGuestsList();\n\nconst ConnectedGuestsList = connect(makeMapStateToProps, mapDispatchToProps)(GuestsList);\n\nexport { ConnectedGuestsList as default, ConnectedGuestsList, GuestsList };\n"],"names":["applyConfigProperty","prop","params","updatedProp","Array","isArray","React","applyHeaderRowCellFilters","filters","cellData","meta","session","headerCells","bodyCells","forEach","isStandalone","id","cell","cellWidth","header","onSort","showEmptyCell","sortId","sortActive","sortDirection","transforms","headerCellUpdated","title","translate","context","bodyCellUpdated","value","helpers","console","warn","updatedHeaderCellTitle","_isPlainObject","Object","assign","tooltip","updatedHeaderCellTooltip","Tooltip","content","concat","push","PfCellWidth","obj","updatedBodyCellTitle","updatedBodyCellTooltip","applySortFilters","filter","query","updatedId","updatedFilter","hasSort","RHSM_API_QUERY_TYPES","_camelCase","SORT_DIRECTION_TYPES","SortByDirection","isSortDefault","sortDefaultInitialDirection","applyWrappableFilters","wrappable","parseInventoryFilters","map","isSortable","isWrappable","parseRowCellsListData","updatedColumnHeaders","updatedCells","allCells","entries","key","length","keys","columnHeaders","cells","data","inventoryCardHelpers","GuestsList","state","currentPage","limit","previousData","onUpdateGuestsData","props","getHostsInventoryGuests","updatedQuery","apiQueries","inventoryGuestsQuery","onScroll","event","target","numberOfGuests","pending","listData","bottom","scrollHeight","scrollTop","clientHeight","newPage","updatedData","setState","this","prevProps","prevState","filterGuestsData","scrollLoader","Loader","variant","tableProps","borders","colCount","colWidth","rowCount","TableVariant","className","updatedRows","updatedHeight","style","height","renderLoader","Table","rows","error","perPageDefault","renderTable","defaultProps","makeMapStateToProps","reduxSelectors","ConnectedGuestsList","connect","dispatch","reduxActions"],"sourceRoot":""}