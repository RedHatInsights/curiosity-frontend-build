"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4024,8139,1858],{44024:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d,GraphCardChartTooltip:()=>d});var i=r(96985),o=r.n(i),n=r(51858),a=r(78139),u=r(83109),s=r(1138),l=r(46262),c=r(76006),d=function(t){var e=t.datum,r=t.t,i=t.useProduct,n=t.useProductGraphTallyQuery,u=i().productLabel,d=n()[l.O6.GRANULARITY],v=null,y=[],h=(e||{}).itemsByKey,p=void 0===h?{}:h;return Object.keys(p).reverse().forEach((function(t,e){var i,n,l,c;0===e&&(v=(0,a.getTooltipDate)({date:null===(c=p[t])||void 0===c?void 0:c.data.date,granularity:d}));var h={color:null===(i=p[t])||void 0===i?void 0:i.color};if("threshold"===(null===(n=p[t])||void 0===n?void 0:n.chartType)){var m,f,g,T=null!==(m=null===(f=p[t])||void 0===f?void 0:f.data.y)&&void 0!==m?m:r("curiosity-graph.label_noData");null!==(g=p[t])&&void 0!==g&&g.data.hasInfinite&&(T=h.color?o().createElement(s.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),h.label=r("curiosity-graph.label_threshold"),h.value=T}else{var I,S,b=!1===(null===(I=p[t])||void 0===I?void 0:I.data.hasData)&&r("curiosity-graph.label_noData")||(null===(S=p[t])||void 0===S?void 0:S.data.y)||0;h.label=r("curiosity-graph.label",{context:t,product:u}),h.value=b}h.chartType=null===(l=p[t])||void 0===l?void 0:l.chartType,y.push(h)})),o().createElement("div",{className:"curiosity-usage-graph__tooltip"},o().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},y.length&&v&&o().createElement("thead",null,o().createElement("tr",null,o().createElement("th",{colSpan:2},v)))||null,y.length&&o().createElement("tbody",null,y.map((function(t){var e,r,i="number"==typeof t.value&&!Number.isInteger(t.value)&&(null===(e=c.BM.numberDisplay(t.value))||void 0===e||null===(r=e.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||t.value;return o().createElement("tr",{key:"tooltip-".concat(t.label)},o().createElement("th",null,"threshold"===t.chartType&&o().createElement(s.ChartIcon,{size:"sm",symbol:"dash",fill:t.color||"transparent"}),"threshold"!==t.chartType&&o().createElement(s.ChartIcon,{size:"sm",fill:t.color||"transparent"})," ",t.label),o().createElement("td",null,i))})))||null),!y.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};d.defaultProps={datum:{},t:u.translate,useProduct:n.useProduct,useProductGraphTallyQuery:n.useProductGraphTallyQuery}},78139:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f,graphCardHelpers:()=>f,generateChartSettings:()=>d,generateExtendedChartSettings:()=>m,getChartXAxisLabelIncrement:()=>v,getTooltipDate:()=>y,xAxisTickFormat:()=>h,yAxisTickFormat:()=>p});var i=r(1413),o=r(45987),n=r(30381),a=r.n(n),u=r(98454),s=r(30446),l=r(76006),c=["id","isStandalone","isThreshold"],d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],r=[];return t.forEach((function(t){var n=t.id,a=t.isStandalone,s=void 0!==a&&a,l=t.isThreshold,d=void 0!==l&&l,v=(0,o.Z)(t,c);if(n){var y={id:n,isStacked:!d,isStandalone:s,isThreshold:d,strokeWidth:2};d&&(y.stroke=u.chart_color_green_300.value,y.strokeDasharray="4,3",y.strokeWidth=3),s?e.push((0,i.Z)((0,i.Z)({},y),v)):r.push((0,i.Z)((0,i.Z)({},y),v))}})),{standaloneFilters:e,groupedFilters:r}},v=function(t){switch(t){case s.U9.DAILY:return 5;case s.U9.WEEKLY:case s.U9.MONTHLY:return 2;case s.U9.QUARTERLY:default:return 1}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.date,r=t.granularity,i=a().utc(e);switch(r){case s.U9.QUARTERLY:return"".concat(i.format(l.i3.timestampQuarterFormats.yearShort)," - ").concat(i.add(1,"quarter").format(l.i3.timestampQuarterFormats.yearShort));case s.U9.MONTHLY:return i.format(l.i3.timestampMonthFormats.yearLong);case s.U9.WEEKLY:return"".concat(i.format(l.i3.timestampDayFormats.short)," - ").concat(i.add(1,"week").format(l.i3.timestampDayFormats.yearShort));case s.U9.DAILY:default:return i.format(l.i3.timestampDayFormats.long)}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,r=t.date,i=t.granularity,o=t.tick,n=t.previousDate;if(r&&i){if(e)return e({callback:e,date:r,granularity:i,tick:o,previousDate:n});var u,c=a().utc(r),d=0!==o&&Number.parseInt(c.year(),10)!==Number.parseInt(a().utc(n).year(),10);switch(i){case s.U9.QUARTERLY:u=(u=d?c.format(l.i3.timestampQuarterFormats.yearShort):c.format(l.i3.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case s.U9.MONTHLY:u=(u=d?c.format(l.i3.timestampMonthFormats.yearShort):c.format(l.i3.timestampMonthFormats.short)).replace(/\s/,"\n");break;case s.U9.WEEKLY:case s.U9.DAILY:default:u=(u=d?c.format(l.i3.timestampDayFormats.yearShort):c.format(l.i3.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return u}},p=function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.callback,o=r.tick;return i?i({tick:o}):null===(t=l.BM.numberDisplay(o))||void 0===t||null===(e=t.format({average:!0,mantissa:1,trimMantissa:!0,lowPrecision:!1}))||void 0===e?void 0:e.toUpperCase()},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.settings,r=t.granularity;return(0,i.Z)((0,i.Z)({},e),{},{xAxisLabelIncrement:v(r),xAxisTickFormat:function(t){var i=t.item,o=t.previousItem,n=t.tick;return h({callback:null==e?void 0:e.xAxisTickFormat,tick:n,date:i.date,previousDate:o.date,granularity:r})},yAxisTickFormat:function(t){var r=t.tick;return p({callback:null==e?void 0:e.yAxisTickFormat,tick:r})}})},f={generateChartSettings:d,generateExtendedChartSettings:m,getChartXAxisLabelIncrement:v,getTooltipDate:y,xAxisTickFormat:h,yAxisTickFormat:p}},51858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>_,context:()=>_,ProductViewContext:()=>p,DEFAULT_CONTEXT:()=>h,useProductContext:()=>C,useProductQuery:()=>g,useProductQueryFactory:()=>f,useProductGraphTallyQuery:()=>T,useProductInventoryGuestsQuery:()=>I,useProductInventoryHostsQuery:()=>S,useProductInventorySubscriptionsQuery:()=>b,useProduct:()=>F,useProductGraphConfig:()=>E,useProductInventoryGuestsConfig:()=>P,useProductInventoryHostsConfig:()=>x,useProductInventorySubscriptionsConfig:()=>k,useProductToolbarConfig:()=>Q});var i=r(45987),o=r(4942),n=r(1413),a=r(96985),u=r.n(a),s=r(12723),l=r(2606),c=r(30446),d=r(46262),v=r(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],h=[{},v.B.noop],p=u().createContext(h),m=function(){return(0,a.useContext)(p)},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,i=e.useProductViewContext,o=void 0===i?m:i,a=o(),u=a[t],s=a.productId,c=a.viewId,d=l.Cr.reactRedux.useSelector((function(e){var i,o=e.view;return null==o||null===(i=o[t])||void 0===i?void 0:i[r]}),void 0),v=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[s]}),void 0),y=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[c]}),void 0);return(0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},u),d),v),y)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,i=t.options;return f(r,i)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,i=t.schemaCheck,o=void 0===i?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,a=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},g()),f(r,a)),o)},I=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,i=void 0===r?100:r,a=e.defaultOffset,u=void 0===a?0:a,l=e.queryType,v=void 0===l?"inventoryGuestsQuery":l,y=e.schemaCheck,h=void 0===y?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,p=e.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)((t={},(0,o.Z)(t,d.O6.LIMIT,i),(0,o.Z)(t,d.O6.OFFSET,u),t),g()),f(v,p)),h)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,i=t.schemaCheck,o=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,a=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},g()),f(r,a)),o)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,i=t.schemaCheck,o=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,a=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},g()),f(r,a)),o)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?g:e,o=t.useProductViewContext,u=void 0===o?m:o,s=r(),l=s[c.VN.UOM],d=u(),v=d.initialGraphFilters,h=void 0===v?[]:v,p=d.initialInventoryFilters,f=void 0===p?[]:p,T=d.initialSubscriptionsInventoryFilters,I=void 0===T?[]:T,S=d.productContextFilterUom,b=(0,i.Z)(d,y),C=(0,a.useCallback)((function(){if(!0===S){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,n.Z)((0,n.Z)({},b),{},{initialGraphFilters:h.filter(t),initialInventoryFilters:f.filter(t),initialSubscriptionsInventoryFilters:I.filter(t)})}return(0,n.Z)((0,n.Z)({},b),{},{initialGraphFilters:h,initialInventoryFilters:f,initialSubscriptionsInventoryFilters:I})}),[b,h,f,I,S,l]);return C()},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?m:e,i=r(),o=i.productGroup,n=i.productId,a=i.productLabel,u=i.viewId;return{productGroup:o,productId:n,productLabel:a,viewId:u}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?C:e,i=r(),o=i.initialGraphFilters,n=i.initialGraphSettings,a=void 0===n?{}:n;return{filters:o,settings:a}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?C:e,i=r(),o=i.inventoryGuestsQuery,n=void 0===o?{}:o,a=i.initialGuestsFilters,u=i.initialGuestsSettings,s=void 0===u?{}:u;return{filters:a,initialQuery:n,settings:s}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?C:e,i=r(),o=i.initialInventoryFilters,n=i.initialInventorySettings,a=void 0===n?{}:n;return{filters:o,settings:a}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?C:e,i=r(),o=i.initialSubscriptionsInventoryFilters,n=i.initialSubscriptionsInventorySettings,a=void 0===n?{}:n;return{filters:o,settings:a}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?C:e,i=r(),o=i.initialToolbarFilters,n=i.initialToolbarSettings,a=void 0===n?{}:n,u=i.initialSecondaryToolbarFilters;return{filters:o,secondaryFilters:u,settings:a}},_={ProductViewContext:p,DEFAULT_CONTEXT:h,useProductContext:C,useQuery:g,useQueryFactory:f,useGraphTallyQuery:T,useInventoryGuestsQuery:I,useInventoryHostsQuery:S,useInventorySubscriptionsQuery:b,useProduct:F,useGraphConfig:E,useInventoryGuestsConfig:P,useInventoryHostsConfig:x,useInventorySubscriptionsConfig:k,useToolbarConfig:Q}}}]);
//# sourceMappingURL=../sourcemaps/4024.c0a1217b443e146b4ee5beac392ffb34.js.map