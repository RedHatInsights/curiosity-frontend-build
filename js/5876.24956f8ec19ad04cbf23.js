"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[5876,1858],{51858:function(t,e,n){n.r(e),n.d(e,{DEFAULT_CONTEXT:function(){return a},ProductViewContext:function(){return d},context:function(){return b},default:function(){return b},useProduct:function(){return g},useProductContext:function(){return I},useProductGraphConfig:function(){return Q},useProductGraphTallyQuery:function(){return v},useProductInventoryGuestsConfig:function(){return _},useProductInventoryGuestsQuery:function(){return T},useProductInventoryHostsConfig:function(){return E},useProductInventoryHostsQuery:function(){return P},useProductInventorySubscriptionsConfig:function(){return C},useProductInventorySubscriptionsQuery:function(){return S},useProductQuery:function(){return f},useProductQueryFactory:function(){return p},useProductToolbarConfig:function(){return R},useProductToolbarQuery:function(){return h}});var r=n(28416),o=n.n(r),u=n(50361),i=n.n(u),s=n(48253),l=n(2606),c=n(46262);const a=[{},n(62834).B.noop],d=o().createContext(a),y=()=>(0,r.useContext)(d),p=function(t){let{overrideId:e,useProductViewContext:n=y,useSelectors:r=l.Cr.reactRedux.useSelectors}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{[t]:o,productId:u,viewId:i}=n(),[s,c,a]=r([n=>{var r;let{view:o}=n;return null==o||null===(r=o[t])||void 0===r?void 0:r[e]},e=>{var n;let{view:r}=e;return null==r||null===(n=r[t])||void 0===n?void 0:n[u]},e=>{var n;let{view:r}=e;return null==r||null===(n=r[t])||void 0===n?void 0:n[i]}]);return{...o,...s,...c,...a}},f=function(){let{queryType:t="query",useProductQueryFactory:e=p,options:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(t,n)},v=function(){let{queryType:t="graphTallyQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_TALLY_CAPACITY_TYPES,useProductQuery:n=f,useProductQueryFactory:r=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...n(),...r(t,o)},e)},T=function(){let{queryType:t="inventoryGuestsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:n=f,useProductQueryFactory:r=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...n(),...r(t,o)},e)},P=function(){let{queryType:t="inventoryHostsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:n=f,useProductQueryFactory:r=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...n(),...r(t,o)},e)},S=function(){let{queryType:t="inventorySubscriptionsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:n=f,useProductQueryFactory:r=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...n(),...r(t,o)},e)},h=function(){let{useProductQuery:t=f,useProductGraphTallyQuery:e=v,useProductInventoryHostsQuery:n=P,useProductInventorySubscriptionsQuery:r=S,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t({options:o}),...e({options:o}),...n({options:o}),...r({options:o})}},I=function(){let{useProductQuery:t=f,useProductViewContext:e=y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{[c.O6.UOM]:n}=t(),{initialGraphFilters:o=[],initialInventoryFilters:u=[],initialSubscriptionsInventoryFilters:s=[],productContextFilterUom:l,...a}=e();return(0,r.useCallback)((()=>{if(!0===l){const t=t=>{let{id:e,metric:r,isOptional:o}=t;return!o||new RegExp(n,"i").test(r)||new RegExp(n,"i").test(e)},e=i()(o).map((e=>{let{filters:n,...r}=e;return{...r,filters:n.filter(t),isOptional:!1}})).filter(t);return{...a,initialGraphFilters:e,initialInventoryFilters:u.filter(t),initialSubscriptionsInventoryFilters:s.filter(t)}}return{...a,initialGraphFilters:o,initialInventoryFilters:u,initialSubscriptionsInventoryFilters:s}}),[a,o,u,s,l,n])()},g=function(){let{useProductViewContext:t=y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productGroup:e,productId:n,productLabel:r,productVariants:o,viewId:u}=t();return{productGroup:e,productId:n,productLabel:r,productVariants:o,viewId:u}},Q=function(){let{useProductContext:t=I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialGraphFilters:e,initialGraphSettings:n={}}=t();return{filters:e,settings:n}},_=function(){let{useProductContext:t=I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{inventoryGuestsQuery:e={},initialGuestsFilters:n,initialGuestsSettings:r={}}=t();return{filters:n,initialQuery:e,settings:r}},E=function(){let{useProductContext:t=I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialInventoryFilters:e,initialInventorySettings:n={}}=t();return{filters:e,settings:n}},C=function(){let{useProductContext:t=I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialSubscriptionsInventoryFilters:e,initialSubscriptionsInventorySettings:n={}}=t();return{filters:e,settings:n}},R=function(){let{useProductContext:t=I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialToolbarFilters:e,initialToolbarSettings:n={}}=t();return{filters:e,settings:n}},b={ProductViewContext:d,DEFAULT_CONTEXT:a,useProductContext:I,useQuery:f,useQueryFactory:p,useGraphTallyQuery:v,useInventoryGuestsQuery:T,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:S,useProduct:g,useGraphConfig:Q,useInventoryGuestsConfig:_,useInventoryHostsConfig:E,useInventorySubscriptionsConfig:C,useToolbarConfig:R,useToolbarQuery:h}},65876:function(t,e,n){n.r(e),n.d(e,{ToolbarFieldRangedMonthly:function(){return v},default:function(){return v},toolbarFieldOptions:function(){return p},useOnSelect:function(){return f}});var r=n(28416),o=n.n(r),u=n(45697),i=n.n(u),s=n(87284),l=n(51858),c=n(49844),a=n(46262),d=n(76006),y=n(83109);const p=d.i3.getRangedMonthDateTime().listDateTimeRanges.map((t=>({...t,selected:!1}))),f=function(){let{useDispatch:t=s.Cr.reactRedux.useDispatch,useProduct:e=l.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{viewId:n}=e(),r=t();return function(){let{value:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:e,endDate:o}=t;r([{type:s.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:n},{type:s.JD.query.SET_QUERY_RHSM_TYPES[a.O6.GRANULARITY],viewId:n,[a.O6.GRANULARITY]:a.U9.DAILY},{type:s.JD.query.SET_QUERY_RHSM_TYPES[a.O6.START_DATE],viewId:n,[a.O6.START_DATE]:null==e?void 0:e.toISOString()},{type:s.JD.query.SET_QUERY_RHSM_TYPES[a.O6.END_DATE],viewId:n,[a.O6.END_DATE]:null==o?void 0:o.toISOString()}])}},v=t=>{let{isFilter:e,options:n,position:r,t:u,useOnSelect:i,useProductGraphTallyQuery:s}=t;const{[a.O6.START_DATE]:l}=s(),d=i(),y=n.map((t=>({...t,selected:t.title===l||t.value.startDate.toISOString()===l})));return o().createElement(c.Select,{"aria-label":u("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"rangedMonthly"}),onSelect:d,options:y,placeholder:u("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"rangedMonthly"}),position:r,maxHeight:250,"data-test":"toolbarFieldRangeGranularity"})};v.propTypes={isFilter:i().bool,options:i().arrayOf(i().shape({title:i().node,value:i().any,selected:i().bool})),position:i().string,t:i().func,useOnSelect:i().func,useProductGraphTallyQuery:i().func},v.defaultProps={isFilter:!1,options:p,position:c.SelectPosition.left,t:y.translate,useOnSelect:f,useProductGraphTallyQuery:l.useProductGraphTallyQuery}}}]);
//# sourceMappingURL=../sourcemaps/5876.8968a823c2f159a4cd717be6f50e221b.js.map