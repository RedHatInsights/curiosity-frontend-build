"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[6587,8710,1339,2896,353,8900,5020,9517],{18710:function(e,t,n){n.r(t),n.d(t,{TextInput:function(){return y},default:function(){return y}});var r=n(45987),o=n(1413),a=n(15671),s=n(43144),i=n(79340),u=n(54062),c=n(92950),l=n.n(c),d=n(90154),p=n(44044),f=n(76006),v=["className","id","isDisabled","name","onChange","onClear","onKeyUp","onMouseUp","isReadOnly","type","value"],y=function(e){(0,i.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={updatedValue:null},e.onKeyUp=function(t){var n=e.props,r=n.onClear,a=n.onKeyUp,s=n.type,i=t.currentTarget,u=t.keyCode,c=(0,o.Z)({},t);a((0,p.createMockEvent)(t,!0)),27===u&&("search"===s&&""===i.value?r((0,p.createMockEvent)(c)):e.setState({updatedValue:""},(function(){r((0,p.createMockEvent)((0,o.Z)((0,o.Z)({},c),{currentTarget:(0,o.Z)((0,o.Z)({},c.currentTarget),{},{value:""})})))})))},e.onMouseUp=function(t){var n=e.props,r=n.onClear,a=n.onMouseUp,s=n.type,i=t.currentTarget,u=(0,o.Z)({},t);a((0,p.createMockEvent)(t,!0)),"search"===s&&""!==i.value&&setTimeout((function(){""===i.value&&r((0,p.createMockEvent)(u))}))},e.onChange=function(t,n){var r=e.props.onChange,a=(0,o.Z)({},n);e.setState({updatedValue:t},(function(){r((0,p.createMockEvent)(a))}))},e}return(0,s.Z)(n,[{key:"render",value:function(){var e,t=this.state.updatedValue,n=this.props,o=n.className,a=n.id,s=n.isDisabled,i=n.name,u=(n.onChange,n.onClear,n.onKeyUp,n.onMouseUp,n.isReadOnly),c=n.type,p=n.value,y=(0,r.Z)(n,v),m=i||f.BM.generateId(),g=a||m;return l().createElement(d.TextInput,Object.assign({id:g,name:m,className:"curiosity-text-input ".concat(o),isDisabled:s||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:u||!1,type:c,value:null!==(e=null!=t?t:p)&&void 0!==e?e:""},y))}}]),n}(l().Component);y.defaultProps={className:"",id:null,isDisabled:!1,isReadOnly:!1,name:null,onChange:f.BM.noop,onClear:f.BM.noop,onKeyUp:f.BM.noop,onMouseUp:f.BM.noop,type:"text",value:""}},76587:function(e,t,n){n.r(t),n.d(t,{InventoryCard:function(){return M},default:function(){return M}});var r=n(1413),o=n(36459),a=n(29439),s=n(92950),i=n.n(s),u=n(62179),c=n(40227),l=n(90154),d=n(48521),p=n(94184),f=n.n(p),v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)};function y(e){return"".concat(e,e>1||e<1?" Results":" Result")}var m=function(e){var t,n=e.isFooter,r=void 0!==n&&n,o=e.results,a=e.className,i=e.selected,u=e.children,c=e.ouiaId,p=e.ouiaSafe,m=void 0===p||p,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),I=f()("ins-c-table__toolbar",((t={})["ins-m-footer"]=r,t),a),E="RHI/TableToolbar",h=(0,l.useOUIAId)(E,c,m);return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(l.Toolbar,v({className:I,"data-ouia-component-type":E,"data-ouia-component-id":h,"data-ouia-safe":m},g,{children:u})),(o&&o>=0||i&&i>=0)&&(0,d.jsxs)("div",v({className:"ins-c-table__toolbar-results"},{children:[o&&o>=0&&(0,d.jsxs)("span",v({className:"ins-c-table__toolbar-results-count"},{children:[" ",y(o)," "]})),i&&i>=0&&(0,d.jsxs)("span",v({className:"ins-c-table__toolbar-results-selected"},{children:[" ",i," Selected "]}))]}))]})},g=n(98944),I=n(51858),E=n(76006),h=n(78697),P=n(1797),O=n(91339),S=n(15242),_=n(12243),b=n(68900),C=n(89517),D=n(65020),T=n(46262),N=n(83109),R=n(42896),M=function(e){var t=e.cardActions,n=e.isDisabled,d=e.perPageDefault,p=e.t,f=e.useGetInventory,v=e.useOnPage,y=e.useOnColumnSort,g=e.useProduct,I=e.useProductInventoryConfig,E=e.useProductInventoryQuery,C=e.useSession,N=(0,s.useState)({columnHeaders:[],rows:[]}),R=(0,a.Z)(N,2),M=R[0],H=R[1],Z=C(),Y=E(),w=v(),x=y(),U=g().productId,L=I(),A=L.filters,Q=L.settings,k=f({isDisabled:n}),F=k.error,V=k.fulfilled,B=k.pending,j=k.data,G=void 0===j?{}:j,q=G.data,J=void 0===q?[]:q,K=G.meta,W=void 0===K?{}:K;if((0,u.Z)((function(){var e=[],t=[];V&&J.length&&(t=J.map((function(t){var n=Object.assign({},((0,o.Z)(t),t)),a=_.inventoryCardHelpers.parseRowCellsListData({filters:_.inventoryCardHelpers.parseInventoryFilters({filters:A,onSort:x,query:Y}),cellData:n,meta:W,session:Z,productId:U}),s=a.columnHeaders,u=a.cells;e=s;var c=null==n?void 0:n.subscriptionManagerId,l=null==n?void 0:n.numberOfGuests;return{cells:u,expandedContent:("function"==typeof(null==Q?void 0:Q.hasSubTable)?Q.hasSubTable((0,r.Z)({},n),(0,r.Z)({},Z)):l>0&&c)&&i().createElement(S.InventoryGuests,{key:"guests-".concat(c),numberOfGuests:l,id:c})||void 0}}))),H((function(){return{columnHeaders:e,rows:t}}))}),[A,V,J]),n)return i().createElement(l.Card,{className:"curiosity-inventory-card__disabled"},i().createElement(l.CardBody,null,i().createElement(l.Bullseye,null,p("curiosity-inventory.tab",{context:"disabled"}))));var z=null==W?void 0:W.count,$=Y[T.O6.LIMIT]||d,X=Y[T.O6.OFFSET],ee=D.paginationHelpers.isLastPage(X,$,z),te=!0===V&&z<$&&"bodyMinHeight-".concat($,"-resize")||!0===V&&ee&&"bodyMinHeight-".concat($,"-resize")||!0===F&&"bodyMinHeight-".concat($,"-resize")||"bodyMinHeight-".concat($);return i().createElement(l.Card,{className:"curiosity-inventory-card"},i().createElement(O.MinHeight,{key:"headerMinHeight"},i().createElement(l.CardHeader,{className:F?"hidden":"","aria-hidden":F||!1},t,i().createElement(l.CardActions,{className:z?"":"transparent","aria-hidden":!z||!1},i().createElement(b.default,{isCompact:!0,isDisabled:B||F,itemCount:z,offset:X,onPage:w,onPerPage:w,perPage:$})))),i().createElement(O.MinHeight,{key:te},i().createElement(l.CardBody,null,i().createElement("div",{className:(F?"blur":B&&"fadein")||""},B&&i().createElement(P.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==A?void 0:A.length)||(null==J?void 0:J[0])&&Object.keys(J[0]).length||1,colWidth:(null==A?void 0:A.length)&&A.map((function(e){return e.cellWidth}))||[],rowCount:(null==J?void 0:J.length)||$,variant:c.TableVariant.compact}}),!B&&i().createElement(h.default,{borders:!0,variant:c.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:M.columnHeaders,rows:M.rows})))),i().createElement(O.MinHeight,{key:"footerMinHeight"},i().createElement(l.CardFooter,{className:(F?"hidden":!z&&"transparent")||"","aria-hidden":F||!z||!1},i().createElement(m,{isFooter:!0},i().createElement(b.default,{dropDirection:"up",isDisabled:B||F,itemCount:z,offset:X,onPage:w,onPerPage:w,perPage:$})))))};M.defaultProps={cardActions:i().createElement(l.CardHeaderMain,null,i().createElement(C.ToolbarFieldDisplayName,null)),isDisabled:E.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:N.translate,useGetInventory:R.useGetInstancesInventory,useOnPage:R.useOnPageInstances,useOnColumnSort:R.useOnColumnSortInstances,useProduct:I.useProduct,useProductInventoryConfig:I.useProductInventoryHostsConfig,useProductInventoryQuery:I.useProductInventoryHostsQuery,useSession:g.useSession}},42896:function(e,t,n){n.r(t),n.d(t,{context:function(){return P},default:function(){return P},useGetHostsInventory:function(){return m},useGetInstancesInventory:function(){return g},useOnColumnSortHosts:function(){return E},useOnColumnSortInstances:function(){return h},useOnPageInstances:function(){return I}});var r=n(4942),o=n(1413),a=n(45987),s=n(17297),i=n(68929),u=n.n(i),c=n(40227),l=n(82410),d=n(51858),p=n(46262),f=n(76006),v=["cancelled","pending","data"],y=["cancelled","pending","data"],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,i=void 0===r?l.Ak.rhsm.getHostsInventory:r,u=e.useDispatch,c=void 0===u?l.Cr.reactRedux.useDispatch:u,p=e.useProduct,f=void 0===p?d.useProduct:p,y=e.useProductInventoryQuery,m=void 0===y?d.useProductInventoryHostsQuery:y,g=e.useSelectorsResponse,I=void 0===g?l.Cr.reactRedux.useSelectorsResponse:g,E=f().productId,h=m(),P=c(),O=I((function(e){var t,n=e.inventory;return null==n||null===(t=n.hostsInventory)||void 0===t?void 0:t[E]})),S=O.cancelled,_=O.pending,b=O.data,C=(0,a.Z)(O,v);return(0,s.Z)((function(){n||i(E,h)(P)}),[P,n,E,h]),(0,o.Z)((0,o.Z)({},C),{},{pending:_||S||!1,data:1===(null==b?void 0:b.length)&&b[0]||b||{}})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,i=void 0===r?l.Ak.rhsm.getInstancesInventory:r,u=e.useDispatch,c=void 0===u?l.Cr.reactRedux.useDispatch:u,p=e.useProduct,f=void 0===p?d.useProduct:p,v=e.useProductInventoryQuery,m=void 0===v?d.useProductInventoryHostsQuery:v,g=e.useSelectorsResponse,I=void 0===g?l.Cr.reactRedux.useSelectorsResponse:g,E=f().productId,h=m(),P=c(),O=I((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[E]})),S=O.cancelled,_=O.pending,b=O.data,C=(0,a.Z)(O,y);return(0,s.Z)((function(){n||i(E,h)(P)}),[P,n,E,h]),(0,o.Z)((0,o.Z)({},C),{},{pending:_||S||!1,data:1===(null==b?void 0:b.length)&&b[0]||b||{}})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?l.Cr.reactRedux.useDispatch:t,o=e.useProduct,a=(void 0===o?d.useProduct:o)().productId,s=n();return function(e){var t=e.offset,n=e.perPage;s([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.OFFSET],viewId:a},p.O6.OFFSET,t),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.LIMIT],viewId:a},p.O6.LIMIT,n)])}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?p.$k:t,o=e.useDispatch,a=void 0===o?l.Cr.reactRedux.useDispatch:o,s=e.useProduct,i=(void 0===s?d.useProduct:s)().productId,v=a();return function(e,t){var o,a=t.direction,s=t.id,d=Object.values(n).find((function(e){return e===s||u()(e)===s}));d?(o=a===c.SortByDirection.desc?p.PQ.DESCENDING:p.PQ.ASCENDING,v([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DIRECTION],viewId:i},p.O6.DIRECTION,o),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.SORT],viewId:i},p.O6.SORT,d)])):(f.BM.DEV_MODE||f.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(s," is allowed."))}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?p.xB:t,o=e.useDispatch,a=void 0===o?l.Cr.reactRedux.useDispatch:o,s=e.useProduct,i=(void 0===s?d.useProduct:s)().productId,v=a();return function(e,t){var o,a=t.direction,s=t.id,d=Object.values(n).find((function(e){return e===s||u()(e)===s}));d?(o=a===c.SortByDirection.desc?p.PQ.DESCENDING:p.PQ.ASCENDING,v([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DIRECTION],viewId:i},p.O6.DIRECTION,o),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.SORT],viewId:i},p.O6.SORT,d)])):(f.BM.DEV_MODE||f.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(s," is allowed."))}},P={useGetHostsInventory:m,useGetInstancesInventory:g,useOnPageInstances:I,useOnColumnSortHosts:E,useOnColumnSortInstances:h}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return i},default:function(){return i}});var r=n(29439),o=n(92950),a=n.n(o),s=n(70725),i=function(e){var t=e.children,n=e.isOnLoad,s=e.minHeight,i=e.useResizeObserver,u=(0,o.useState)({containerWidth:void 0,isLoaded:!1}),c=(0,r.Z)(u,2),l=c[0],d=c[1],p=(0,o.useRef)(null),f=(0,o.useRef)(null),v=i(p),y=v.height,m=v.width;return(0,o.useEffect)((function(){if(!n||n&&!l.isLoaded){var e=p.current,t=void 0===e?{}:e,r=f.current,o=void 0===r?{}:r;if(null!=t&&t.style){var a=(null==o?void 0:o.clientHeight)||0;s>y&&(a=s),t.style.minHeight="".concat(a,"px"),d((function(){return{containerWidth:m,isLoaded:n,updatedHeight:a}}))}}}),[y,m,p,f,n,s,l.isLoaded]),a().createElement("div",{className:"curiosity-minheight",ref:p},a().createElement("div",{className:"curiosity-minheight__inner",ref:f},t))};i.defaultProps={isOnLoad:!1,minHeight:0,useResizeObserver:s.yU}},68900:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return u},default:function(){return u}});var r=n(92950),o=n.n(r),a=n(90154),s=n(76006),i=n(65020),u=function e(t){var n=t.dropDirection,r=t.isDisabled,s=t.isCompact,u=t.itemCount,c=t.offset,l=t.onPage,d=t.onPerPage,p=t.perPage,f=t.variant;return o().createElement(a.Pagination,{dropDirection:n,isCompact:s,isDisabled:r||!u,itemCount:u,onSetPage:function(e,t,n){return l({event:e,perPage:n,offset:i.paginationHelpers.calculateOffsetFromPage(t,n)})},onPerPageSelect:function(t,n){return d({event:t,perPage:n,offset:e.defaultProps.offset})},page:i.paginationHelpers.calculatePageFromOffset(c||e.defaultProps.offset,p),perPage:p,variant:f})};u.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:s.BM.noop,onPerPage:s.BM.noop,perPage:10,variant:null}},65020:function(e,t,n){n.r(t),n.d(t,{calculateOffsetFromPage:function(){return r},calculatePageFromOffset:function(){return o},default:function(){return s},isLastPage:function(){return a},paginationHelpers:function(){return s}});var r=function(e,t){return t*(e-1)||0},o=function(e,t){return e/t+1||1},a=function(e,t,n){return o(e,t)===Math.ceil(n/t)},s={calculateOffsetFromPage:r,calculatePageFromOffset:o,isLastPage:a}},89517:function(e,t,n){n.r(t),n.d(t,{ToolbarFieldDisplayName:function(){return v},default:function(){return v}});var r=n(4942),o=n(92950),a=n.n(o),s=n(90154),i=n(23279),u=n.n(i),c=n(82410),l=n(51858),d=n(18710),p=n(46262),f=n(83109),v=function(e){var t=e.t,n=e.useDispatch,o=e.useProduct,i=e.useProductInventoryHostsQuery,l=o().viewId,f=i()[p.O6.DISPLAY_NAME],v=n(),y=function(e){return v([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},(0,r.Z)({type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DISPLAY_NAME],viewId:l},p.O6.DISPLAY_NAME,(null==e?void 0:e.trim())||null)])},m=u()(y,700);return a().createElement(s.InputGroup,null,a().createElement(d.TextInput,{"aria-label":t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:function(){""!==f&&f&&v([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},(0,r.Z)({type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DISPLAY_NAME],viewId:l},p.O6.DISPLAY_NAME,null)])},onKeyUp:function(e){switch(e.keyCode){case 13:y(e.value);break;case 27:break;default:m(e.value)}},value:f,placeholder:t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),"data-test":"toolbarFieldDisplayName"}))};v.defaultProps={t:f.translate,useDispatch:c.Cr.reactRedux.useDispatch,useProduct:l.useProduct,useProductInventoryHostsQuery:l.useProductInventoryHostsQuery}}}]);
//# sourceMappingURL=../sourcemaps/6587.0c135b677d6f69ed8a5f420cf1912c36.js.map