"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5394,1858,9942],{25394:(t,e,r)=>{r.r(e),r.d(e,{default:()=>y,context:()=>y,GraphCardContext:()=>l,DEFAULT_CONTEXT:()=>d,useGetGraphTally:()=>v,useGraphCardContext:()=>a,useMetricsSelector:()=>c});var i=r(1413),n=r(92950),o=r.n(n),u=r(186),s=r(51858),d=[{settings:{isStandalone:!1,metrics:[],metric:void 0}},r(62834).B.noop],l=o().createContext(d),a=function(){return(0,n.useContext)(l)},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useDispatch,r=void 0===e?u.Cr.reactRedux.useDispatch:e,i=t.useProductGraphTallyQuery,n=void 0===i?s.useProductGraphTallyQuery:i,o=n(),d=r();return function(t){return u.Ak.rhsm.getGraphTally(t,o)(d)}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useGraphCardContext,r=void 0===e?a:e,n=t.useSelectors,o=void 0===n?u.Cr.reactRedux.useSelectors:n,d=t.useProduct,l=void 0===d?s.useProduct:d,v=l(),c=v.productId,y=r(),p=y.settings,f=void 0===p?{}:p,C=f.metrics,h=void 0===C?[]:C,g={},T=o(h.map((function(t){var e=t.id;return function(t){var r;return null===(r=t.graph.tally)||void 0===r?void 0:r["".concat(c,"_").concat(e)]}})),[]),S=!1,I=!1,P=0,G=T.map((function(t,e){var r,n,o=t||{},u=o.pending,s=o.fulfilled,d=o.error,l=o.cancelled;!(!u&&!l)&&(S=!0),s&&(I=!0),d&&(P+=1);var a=(0,i.Z)((0,i.Z)({},h[e]),{},{data:(null==t||null===(r=t.data)||void 0===r?void 0:r.data)||[],meta:(null==t||null===(n=t.data)||void 0===n?void 0:n.meta)||{}});return g[h[e].id]=a,a})),x={data:g,dataSets:G,error:!1,fulfilled:!1,pending:!1};return P===G.length?x.error=!0:S?x.pending=!0:I&&(x.fulfilled=!0),x},y={GraphCardContext:l,DEFAULT_CONTEXT:d,useGetGraphTally:v,useGraphCardContext:a,useMetricsSelector:c}},51858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>b,context:()=>b,ProductViewContext:()=>f,DEFAULT_CONTEXT:()=>p,useProductContext:()=>G,useProductQuery:()=>g,useProductQueryFactory:()=>h,useProductGraphTallyQuery:()=>T,useProductInventoryGuestsQuery:()=>S,useProductInventoryHostsQuery:()=>I,useProductInventorySubscriptionsQuery:()=>P,useProduct:()=>x,useProductGraphConfig:()=>Q,useProductInventoryGuestsConfig:()=>_,useProductInventoryHostsConfig:()=>E,useProductInventorySubscriptionsConfig:()=>F,useProductToolbarConfig:()=>Z});var i=r(45987),n=r(4942),o=r(1413),u=r(92950),s=r.n(u),d=r(12723),l=r(1798),a=r(30446),v=r(46262),c=r(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],p=[{},c.B.noop],f=s().createContext(p),C=function(){return(0,u.useContext)(f)},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,i=e.useProductViewContext,n=void 0===i?C:i,u=n(),s=u[t],d=u.productId,a=u.viewId,v=l.Cr.reactRedux.useSelector((function(e){var i,n=e.view;return null==n||null===(i=n[t])||void 0===i?void 0:i[r]}),void 0),c=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[d]}),void 0),y=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[a]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),v),c),y)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,i=t.options;return h(r,i)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,i=t.schemaCheck,n=void 0===i?a.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,u=t.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)({},g()),h(r,u)),n)},S=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,i=void 0===r?100:r,u=e.defaultOffset,s=void 0===u?0:u,l=e.queryType,c=void 0===l?"inventoryGuestsQuery":l,y=e.schemaCheck,p=void 0===y?a.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,f=e.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,n.Z)(t,v.O6.LIMIT,i),(0,n.Z)(t,v.O6.OFFSET,s),t),g()),h(c,f)),p)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,i=t.schemaCheck,n=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)({},g()),h(r,u)),n)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,i=t.schemaCheck,n=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)({},g()),h(r,u)),n)},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?g:e,n=t.useProductViewContext,s=void 0===n?C:n,d=r(),l=d[a.VN.UOM],v=s(),c=v.initialGraphFilters,p=void 0===c?[]:c,f=v.initialInventoryFilters,h=void 0===f?[]:f,T=v.initialSubscriptionsInventoryFilters,S=void 0===T?[]:T,I=v.productContextFilterUom,P=(0,i.Z)(v,y),G=(0,u.useCallback)((function(){if(!0===I){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,o.Z)((0,o.Z)({},P),{},{initialGraphFilters:p.filter(t),initialInventoryFilters:h.filter(t),initialSubscriptionsInventoryFilters:S.filter(t)})}return(0,o.Z)((0,o.Z)({},P),{},{initialGraphFilters:p,initialInventoryFilters:h,initialSubscriptionsInventoryFilters:S})}),[P,p,h,S,I,l]);return G()},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?C:e,i=r(),n=i.productGroup,o=i.productId,u=i.productLabel,s=i.viewId;return{productGroup:n,productId:o,productLabel:u,viewId:s}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialGraphFilters,o=i.initialGraphSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.inventoryGuestsQuery,o=void 0===n?{}:n,u=i.initialGuestsFilters,s=i.initialGuestsSettings,d=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:d}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialInventoryFilters,o=i.initialInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialSubscriptionsInventoryFilters,o=i.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialToolbarFilters,o=i.initialToolbarSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},b={ProductViewContext:f,DEFAULT_CONTEXT:p,useProductContext:G,useQuery:g,useQueryFactory:h,useGraphTallyQuery:T,useInventoryGuestsQuery:S,useInventoryHostsQuery:I,useInventorySubscriptionsQuery:P,useProduct:x,useGraphConfig:Q,useInventoryGuestsConfig:_,useInventoryHostsConfig:E,useInventorySubscriptionsConfig:F,useToolbarConfig:Z}}}]);
//# sourceMappingURL=../sourcemaps/5394.98ec1cc13cec82c9f398ced78ad455bd.js.map