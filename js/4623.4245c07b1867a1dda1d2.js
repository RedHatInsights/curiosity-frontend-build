"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4623,608,1799,9877,9407,1014,3056,6876,136],{87585:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g,BannerMessages:()=>g});var a=r(15274),n=r(56949),l=r(48418),o=r(92950),i=r.n(o),s=r(21012),c=r(91999),u=r(15451),d=r(186),p=r(83109),m=r(76006),y=r(30446),v=r(3281),g=function(e){var t,r=e.messages,c=e.useRouteDetail,p=e.useAppMessages,v=(0,o.useState)({}),g=(0,l.Z)(v,2),h=g[0],f=g[1],E=(0,o.useState)([]),C=(0,l.Z)(E,2),b=C[0],I=C[1],S=c()||{},T=S.pathParameter,D=S.productConfig,_=1===(null==D?void 0:D.length)&&(null==D?void 0:D[0]),P=d.IT.parseRhsmQuery((null==D||null===(t=D[0])||void 0===t?void 0:t.query)||{}).query,M=p().appMessages;return(0,u.Z)((function(){if(T&&_){var e,t=m.i3.getRangedDateTime("CURRENT"),r=t.startDate,l=t.endDate,o=(0,n.Z)((0,n.Z)({},P),{},(e={},(0,a.Z)(e,y.VN.GRANULARITY,y.U9.DAILY),(0,a.Z)(e,y.VN.START_DATE,r.toISOString()),(0,a.Z)(e,y.VN.END_DATE,l.toISOString()),e));d.Cr.rhsmActions.useGetMessageReports(T,o)}}),[T,_,P]),(0,u.Z)((function(){var e=[];r.length&&Object.entries(M).forEach((function(t){var a=(0,l.Z)(t,2),o=a[0],i=a[1];if(!0!==h[o]&&!0===i){var s=r.find((function(e){return e.id===o}));s&&e.push((0,n.Z)({key:o},s))}})),I(e.map((function(e){var t=e.key,r=e.message,l=e.title,o=e.variant,c=void 0===o?s.AlertVariant.info:o,u=i().createElement(s.AlertActionCloseButton,{onClose:function(){return f((0,n.Z)((0,n.Z)({},h),{},(0,a.Z)({},t,!0)))}});return i().createElement(s.Alert,{actionClose:u,key:t,title:l,variant:c},r)})))}),[M,h,r]),(null==b?void 0:b.length)?i().createElement("div",{className:"curiosity-banner-messages"},b):null};g.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,p.translate)("curiosity-banner.dataMismatchTitle"),message:(0,p.translate)("curiosity-banner.dataMismatchMessage",{context:""!==m.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:m.BM.UI_DISPLAY_NAME},[i().createElement(s.Button,{isInline:!0,component:"a",variant:"link",icon:i().createElement(c.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:m.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useAppMessages:d.Cr.rhsmSelectors.useAppMessages,useRouteDetail:v.Tu}},10608:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,GraphCard:()=>u});var a=r(92950),n=r.n(a),l=r(51858),o=r(76006),i=r(11014),s=r(49877),c=r(78139),u=function(e){var t=e.isDisabled,r=(0,e.useProductGraphConfig)().filters,a=c.graphCardHelpers.generateChartSettings(r),l=a.groupedFilters,o=a.standaloneFilters;return t?null:n().createElement(n().Fragment,null,(null==l?void 0:l.length)&&n().createElement(i.GraphCardMetrics,{metricFilters:l})||null,o.map((function(e){return n().createElement(s.GraphCardMetric,{key:"graphCard_".concat(e.id),metricFilter:e})})))};u.defaultProps={isDisabled:o.BM.UI_DISABLED_GRAPH,useProductGraphConfig:l.useProductGraphConfig}},91799:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E,GraphCardChart:()=>E});var a=r(56949),n=r(92950),l=r.n(n),o=r(21012),i=r(15451),s=r(51858),c=r(25394),u=r(78139),d=r(60930),p=r(64418),m=r(44024),y=r(99171),v=r(46262),g=r(91339),h=r(1797),f=r(83109),E=function(e){var t=e.t,r=e.useGetGraphTally,n=e.useGraphCardContext,s=e.useMetricsSelector,c=e.useProduct,f=e.useProductGraphTallyQuery,E=c().productId,C=n().settings,b=void 0===C?{}:C,I=b.actionDisplay,S=b.metric,T=b.metrics,D=void 0===T?[]:T,_=f()[v.O6.GRANULARITY],P=s(),M=P.pending,G=P.error,O=P.data,N=void 0===O?{}:O,A=P.dataSets,F=void 0===A?[]:A,H=r();(0,i.Z)((function(){H(D.map((function(e){var t=e.id;return{id:E,metric:t}})))}),[D,E,H]);var R=(null==S?void 0:S.id)&&"_".concat(null==S?void 0:S.id)||"",k=null;return"function"==typeof I&&(k=I({data:(0,a.Z)({},N)})),l().createElement(o.Card,{className:"curiosity-usage-graph"},l().createElement(g.MinHeight,{key:"headerMinHeight"},l().createElement(o.CardHeader,null,l().createElement(o.CardTitle,null,l().createElement(o.Title,{headingLevel:"h2",size:"lg"},t("curiosity-graph.cardHeading".concat(R),{context:E}),l().createElement(y.GraphCardChartTitleTooltip,null))),k&&l().createElement(o.CardActions,{className:G?"blur":""},k))),l().createElement(g.MinHeight,{key:"bodyMinHeight"},l().createElement(o.CardBody,null,l().createElement("div",{className:(G?"blur":M&&"fadein")||""},M&&l().createElement(h.Loader,{variant:"graph"}),!M&&l().createElement(d.Chart,Object.assign({},u.graphCardHelpers.generateExtendedChartSettings({settings:b,granularity:_}),{dataSets:F,chartLegend:function(e){var t=e.chart,r=e.datum;return l().createElement(p.GraphCardChartLegend,{chart:t,datum:r})},chartTooltip:function(e){var t=e.datum;return l().createElement(m.GraphCardChartTooltip,{datum:t})}}))))))};E.defaultProps={t:f.translate,useGetGraphTally:c.useGetGraphTally,useGraphCardContext:c.useGraphCardContext,useMetricsSelector:c.useMetricsSelector,useProduct:s.useProduct,useProductGraphTallyQuery:s.useProductGraphTallyQuery}},49877:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d,GraphCardMetric:()=>d});var a=r(56949),n=r(48418),l=r(92950),o=r.n(l),i=r(91799),s=r(51858),c=r(25394),u=(r(46262),r(29407)),d=function(e){var t=e.metricFilter,r=e.useProductGraphConfig,s=(0,l.useState)({}),d=(0,n.Z)(s,2),p=d[0],m=d[1],y=r().settings;return(0,l.useEffect)((function(){m({settings:(0,a.Z)((0,a.Z)({padding:{bottom:75,left:75,right:45,top:45}},y),{},{isStandalone:!0,metric:t,metrics:[t]})})}),[t,y,m]),o().createElement(c.GraphCardContext.Provider,{value:p},o().createElement(u.GraphCardMetricTotals,null,o().createElement(i.GraphCardChart,null)))};d.defaultProps={metricFilter:{},useProductGraphConfig:s.useProductGraphConfig}},29407:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g,GraphCardMetricTotals:()=>g});var a=r(92950),n=r.n(a),l=r(21012),o=r(30381),i=r.n(o),s=r(51858),c=r(25394),u=r(91339),d=r(1797),p=r(76006),m=r(65876),y=r(46262),v=r(83109),g=function(e){var t,r,a,o,s=e.children,c=e.t,v=e.useMetricsSelector,g=(0,e.useProductGraphTallyQuery)()[y.O6.START_DATE],h=v(),f=h.pending,E=h.error,C=h.fulfilled,b=h.dataSets,I=(void 0===b?[]:b)[0]||{},S=I.data,T=void 0===S?[]:S,D=I.id,_=I.meta,P=void 0===_?{}:_,M=T[T.length-1]||{},G=M.date,O=M.hasData,N=M.y,A=T.find((function(e){return!0===e.isCurrentDate}))||{},F=A.date,H=A.hasData,R=A.y,k=P.totalMonthlyDate,L=P.totalMonthlyHasData,Z=P.totalMonthlyValue,B=m.toolbarFieldOptions.find((function(e){return e.title===g||e.value.startDate.toISOString()===g}))||{},x=B.title,U=B.isCurrent,w=U?F:G,V=U?H:O,Q=U?R:N;return n().createElement(l.Flex,{className:"curiosity-usage-graph__totals"},n().createElement(l.Flex,{flex:{default:"flex_1"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},n().createElement(l.FlexItem,{className:"curiosity-usage-graph__totals-column"},n().createElement(l.Card,{"data-test":"graphDailyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(E?"blur":"")},n().createElement(l.CardTitle,null,c("curiosity-graph.cardHeadingMetric_dailyTotal",{context:D,month:x})),n().createElement(u.MinHeight,{key:"currentBody"},n().createElement(l.CardBody,null,n().createElement("div",null,f&&n().createElement(d.Loader,{variant:"skeleton",skeletonProps:{size:d.SkeletonSize.lg}}),C&&c("curiosity-graph.cardBodyMetric_total",{context:V&&D||"",total:null===(t=p.BM.numberDisplay(Q))||void 0===t||null===(r=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===r?void 0:r.toUpperCase()},[n().createElement("strong",{title:Q,"aria-label":Q})])))),n().createElement(u.MinHeight,{key:"currentFooter"},n().createElement(l.CardFooter,null,n().createElement("div",{className:V?"":"hidden"},C&&w&&c("curiosity-graph.cardFooterMetric",{date:i().utc(w).format(p.i3.timestampUTCTimeFormats.yearTimeShort)}))))),n().createElement(l.Card,{"data-test":"graphMonthlyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(E?"blur":"")},n().createElement(l.CardTitle,null,c("curiosity-graph.cardHeadingMetric_monthlyTotal",{context:D,month:x})),n().createElement(u.MinHeight,{key:"totalMonthlyBody"},n().createElement(l.CardBody,null,n().createElement("div",null,f&&n().createElement(d.Loader,{variant:"skeleton",skeletonProps:{size:d.SkeletonSize.lg}}),C&&c("curiosity-graph.cardBodyMetric_total",{context:L&&D||"",total:null===(a=p.BM.numberDisplay(Z))||void 0===a||null===(o=a.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===o?void 0:o.toUpperCase()},[n().createElement("strong",{title:Z,"aria-label":Z})])))),n().createElement(u.MinHeight,{key:"totalMonthlyFooter"},n().createElement(l.CardFooter,null,n().createElement("div",{className:L?"":"hidden"},C&&k&&c("curiosity-graph.cardFooterMetric",{date:i().utc(k).format(p.i3.timestampUTCTimeFormats.yearTimeShort)}))))))),n().createElement(l.Flex,{flex:{default:"flex_3"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},n().createElement(l.FlexItem,{className:"curiosity-usage-graph__totals-graph-column"},s)))};g.defaultProps={children:null,t:v.translate,useMetricsSelector:c.useMetricsSelector,useProductGraphTallyQuery:s.useProductGraphTallyQuery}},11014:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,GraphCardMetrics:()=>u});var a=r(56949),n=r(48418),l=r(92950),o=r.n(l),i=r(91799),s=r(51858),c=r(25394),u=(r(46262),function(e){var t=e.metricFilters,r=e.useProductGraphConfig,s=(0,l.useState)({}),u=(0,n.Z)(s,2),d=u[0],p=u[1],m=r().settings;return(0,l.useEffect)((function(){p({settings:(0,a.Z)((0,a.Z)({},m),{},{isStandalone:!1,metric:void 0,metrics:t})})}),[t,m,p]),o().createElement(c.GraphCardContext.Provider,{value:d},o().createElement(i.GraphCardChart,null))});u.defaultProps={metricFilters:[],useProductGraphConfig:s.useProductGraphConfig}},63056:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b,ConnectedGuestsList:()=>b,GuestsList:()=>E});var a=r(1252),n=r(15274),l=r(56949),o=r(90237),i=r(65337),s=r(39576),c=r(33215),u=r(92950),d=r.n(u),p=r(86445),m=r(76006),y=r(186),v=r(1797),g=r(44822),h=r(30446),f=r(78697),E=function(e){(0,s.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={currentPage:0,limit:100,previousData:[]},e.onUpdateGuestsData=function(){var t=e.state,r=t.currentPage,a=t.limit,o=e.props,i=o.getHostsInventoryGuests,s=o.query,c=o.id;if(c){var u,d=(0,l.Z)((0,l.Z)({},s),{},(u={},(0,n.Z)(u,h.VN.LIMIT,a),(0,n.Z)(u,h.VN.OFFSET,r*a||0),u));i(c,y.IT.parseRhsmQuery(d).inventoryGuestsQuery)}},e.onScroll=function(t){var r=t.target,n=e.state,l=n.currentPage,o=n.limit,i=n.previousData,s=e.props,c=s.numberOfGuests,u=s.pending,d=s.listData,p=r.scrollHeight-r.scrollTop===r.clientHeight;if(c>(l+1)*o&&p&&!u){var m=l+1,y=[].concat((0,a.Z)(i),(0,a.Z)(d||[]));e.setState({previousData:y,currentPage:m})}},e}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(e,t){this.state.currentPage!==t.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var e=this.state.currentPage,t=this.props,r=t.filterGuestsData,a=t.listData,n=t.pending;if(e>0&&n){var l=d().createElement(v.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==r?void 0:r.length)||(null==a?void 0:a[0])&&Object.keys(a[0]).length||1,colWidth:(null==r?void 0:r.length)&&r.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:p.TableVariant.compact}});return d().createElement("div",{className:"curiosity-table-scroll-loader__custom"},l)}return null}},{key:"renderTable",value:function(){var e=this.state.previousData,t=this.props,r=t.filterGuestsData,n=t.listData,l=t.numberOfGuests,o=t.session,i=[],s=[].concat((0,a.Z)(e),(0,a.Z)(n||[])).map((function(e){var t=Object.assign({},e),a=g.inventoryListHelpers.parseRowCellsListData({filters:r,cellData:t,session:o}),n=a.columnHeaders,l=a.cells;return i=n,{cells:l}})),c=42*(l+1);return c=c<275&&c||275,d().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(c,"px")}},d().createElement("div",{className:"curiosity-table-scroll-list".concat(c<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),s.length&&d().createElement(f.Table,{borders:!1,variant:p.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:i,rows:s})||null))}},{key:"render",value:function(){var e=this.state.currentPage,t=this.props,r=t.error,a=t.filterGuestsData,n=t.listData,l=t.numberOfGuests,o=t.pending,i=t.perPageDefault;return d().createElement("div",{className:"fadein ".concat(r?"blur":"")},o&&0===e&&d().createElement(v.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==a?void 0:a.length)||(null==n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null==a?void 0:a.length)&&a.map((function(e){return e.cellWidth}))||[],rowCount:l<i?l:i,variant:p.TableVariant.compact}}),(!o&&0===e||e>0)&&this.renderTable())}}]),r}(d().Component);E.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:m.BM.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var C=y.R1.guestsList.makeGuestsList(),b=(0,y.$j)(C,(function(e){return{getHostsInventoryGuests:function(t,r){return e(y.Ak.rhsm.getHostsInventoryGuests(t,r))}}}))(E)},86876:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A,ConnectedInventoryList:()=>A,InventoryList:()=>O});var a=r(56949),n=r(15274),l=r(90237),o=r(65337),i=r(39576),s=r(33215),c=r(92950),u=r.n(c),d=r(18446),p=r.n(d),m=r(86445),y=r(21012),v=r(32875),g=r(68929),h=r.n(g),f=r(76006),E=r(186),C=r(78697),b=r(1797),I=r(91339),S=r(63056),T=r(44822),D=r(68900),_=r(89517),P=r(65020),M=r(46262),G=r(83109),O=function(e){(0,i.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,l.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onColumnSort=function(t,r){var a,l=r.direction,o=r.id,i=e.props.productId,s=Object.values(M.xB).find((function(e){return e===o||h()(e)===o}));if(s){switch(l){case m.SortByDirection.desc:a=M.PQ.DESCENDING;break;default:a=M.PQ.ASCENDING}E.h.dispatch([(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.DIRECTION],viewId:i},M.O6.DIRECTION,a),(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.SORT],viewId:i},M.O6.SORT,s)])}else(f.BM.DEV_MODE||f.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(o," is allowed."))},e.onPage=function(t){var r=t.offset,a=t.perPage,l=e.props.productId;E.h.dispatch([(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.OFFSET],viewId:l},M.O6.OFFSET,r),(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.LIMIT],viewId:l},M.O6.LIMIT,a)])},e.onUpdateInventoryData=function(){var t=e.props,r=t.getInstancesInventory,a=t.isDisabled,n=t.productId,l=t.query;!a&&n&&r(n,l)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.productId,a=t.query;r===e.productId&&p()(a,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,r=t.filterGuestsData,n=t.filterInventoryData,l=t.data,o=t.query,i=t.session,s=t.settings,c=[],d=l.map((function(t){var l=Object.assign({},t),d=T.inventoryListHelpers.parseRowCellsListData({filters:T.inventoryListHelpers.parseInventoryFilters({filters:n,onSort:e.onColumnSort,query:o}),cellData:l,session:i}),p=d.columnHeaders,m=d.cells;c=p;var y=null==l?void 0:l.subscriptionManagerId,v=(null==l?void 0:l.numberOfGuests)>0&&y;return"function"==typeof(null==s?void 0:s.hasGuests)&&(v=s.hasGuests((0,a.Z)({},l),(0,a.Z)({},i))),{cells:m,expandedContent:v&&u().createElement(S.default,{key:y,filterGuestsData:r,numberOfGuests:null==l?void 0:l.numberOfGuests,id:y,query:o})||void 0}}));return u().createElement(C.default,{borders:!0,variant:m.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:c,rows:d})}},{key:"render",value:function(){var e=this.props,t=e.error,r=e.filterInventoryData,a=e.fulfilled,n=e.isDisabled,l=e.data,o=e.meta,i=e.pending,s=e.perPageDefault,c=e.query,d=e.t,p=e.viewId;if(n)return u().createElement(y.Card,{className:"curiosity-inventory-card__disabled"},u().createElement(y.CardBody,null,u().createElement(y.Bullseye,null,d("curiosity-inventory.tab",{context:"disabled"}))));var g=null==o?void 0:o.count,h=c[M.O6.LIMIT]||s,f=c[M.O6.OFFSET],E=P.paginationHelpers.isLastPage(f,h,g),C=!0===a&&g<h&&"bodyMinHeight-".concat(h,"-resize")||!0===a&&E&&"bodyMinHeight-".concat(h,"-resize")||!0===t&&"bodyMinHeight-".concat(h,"-resize")||"bodyMinHeight-".concat(h);return u().createElement(y.Card,{className:"curiosity-inventory-card"},u().createElement(I.MinHeight,{key:"headerMinHeight",updateOnContent:!0},u().createElement(y.CardHeader,{className:t?"hidden":"","aria-hidden":t||!1},u().createElement(y.CardHeaderMain,null,u().createElement(_.ToolbarFieldDisplayName,{viewId:p})),u().createElement(y.CardActions,{className:g?"":"transparent","aria-hidden":!g||!1},u().createElement(D.default,{isCompact:!0,isDisabled:i||t,itemCount:g,offset:f,onPage:this.onPage,onPerPage:this.onPage,perPage:h})))),u().createElement(I.MinHeight,{key:C,updateOnContent:!0},u().createElement(y.CardBody,null,u().createElement("div",{className:(t?"blur":i&&"fadein")||""},i&&u().createElement(b.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==r?void 0:r.length)||(null==l?void 0:l[0])&&Object.keys(l[0]).length||1,colWidth:(null==r?void 0:r.length)&&r.map((function(e){return e.cellWidth}))||[],rowCount:(null==l?void 0:l.length)||h,variant:m.TableVariant.compact}}),!i&&this.renderTable()))),u().createElement(I.MinHeight,{key:"footerMinHeight",updateOnContent:!0},u().createElement(y.CardFooter,{className:(t?"hidden":!g&&"transparent")||"","aria-hidden":t||!g||!1},u().createElement(v.Z,{isFooter:!0},u().createElement(D.default,{dropDirection:"up",isDisabled:i||t,itemCount:g,offset:f,onPage:this.onPage,onPerPage:this.onPage,perPage:h})))))}}]),r}(u().Component);O.defaultProps={data:[],error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getInstancesInventory:f.BM.noop,isDisabled:f.BM.UI_DISABLED_TABLE_INSTANCES,meta:{count:0},pending:!1,perPageDefault:10,session:{},settings:{},t:G.translate,viewId:"inventoryInstancesList"};var N=E.R1.instancesList.makeInstancesList(),A=(0,E.$j)(N,(function(e){return{getInstancesInventory:function(t,r){return e(E.Ak.rhsm.getInstancesInventory(t,r))}}}))(O)},29175:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T,ProductView:()=>T});var a=r(92950),n=r.n(a),l=r(21012),o=r(31369),i=r(3281),s=r(51858),c=r(52422),u=r(186),d=r(28341),p=r(10608),m=r(92227),y=r(11001),v=r(86876),g=r(76006),h=r(87585),f=r(49844),E=r(2738),C=r(69051),b=r(47493),I=r(46262),S=r(83109),T=function(e){var t=e.t,r=e.toolbarGraph,a=e.toolbarGraphDescription,i=(0,e.useRouteDetail)(),S=i.pathParameter,T=i.productParameter,D=i.productConfig;return n().createElement(c.PageLayout,null,n().createElement(c.PageHeader,{productLabel:T},t("curiosity-view.title",{appName:g.BM.UI_DISPLAY_NAME,context:T})),n().createElement(c.PageMessages,null,S!==I.WK.RHOSAK&&n().createElement(h.default,null)),n().createElement(c.PageColumns,null,D.map((function(e){return function(e){var i=e.graphTallyQuery,h=e.inventoryHostsQuery,S=e.inventorySubscriptionsQuery,T=e.query,D=e.initialGuestsFilters,_=e.initialInventoryFilters,P=e.initialInventorySettings,M=e.initialSubscriptionsInventoryFilters,G=e.productId,O=e.viewId;if(!G||!O)return null;var N=u.IT.parseRhsmQuery(T,{graphTallyQuery:i,inventoryHostsQuery:h,inventorySubscriptionsQuery:S}),A=N.graphTallyQuery,F=N.inventoryHostsQuery,H=N.inventorySubscriptionsQuery,R=null;a&&(R=n().createElement(l.Tooltip,{content:n().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:G})),position:l.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},n().createElement("sup",{className:"curiosity-icon__info"},n().createElement(o.ZP,null))));var k=n().createElement(n().Fragment,null,t("curiosity-graph.cardHeading",{context:G}),R);return n().createElement(s.ProductViewContext.Provider,{value:e,key:"product_".concat(G)},n().createElement(c.PageToolbar,null,n().createElement(m.Toolbar,null)),n().createElement(c.PageSection,null,G!==I.WK.RHOSAK&&n().createElement(d.ConnectedGraphCard,{key:"graph_".concat(G),query:A,productId:G,viewId:O,cardTitle:k},n().isValidElement(r)&&r||!1!==r&&n().createElement(E.ToolbarFieldGranularity,{position:f.SelectPosition.right})),G===I.WK.RHOSAK&&n().createElement(p.GraphCard,null)),n().createElement(c.PageSection,{className:G===I.WK.RHOSAK?"curiosity-page-section__tabs":""},n().createElement(C.default,{key:"inventory_".concat(G),productId:G,isDisabled:!_&&!M||g.BM.UI_DISABLED_TABLE},!g.BM.UI_DISABLED_TABLE_HOSTS&&G!==I.WK.RHOSAK&&_&&n().createElement(C.InventoryTab,{key:"inventory_hosts_".concat(G),title:t("curiosity-inventory.tabHosts",{context:["noInstances",G]})},n().createElement(y.ConnectedInventoryList,{key:"inv_".concat(G),filterGuestsData:D,filterInventoryData:_,productId:G,settings:P,query:F,viewId:O})),!g.BM.UI_DISABLED_TABLE_INSTANCES&&G===I.WK.RHOSAK&&_&&n().createElement(C.InventoryTab,{key:"inventory_instances_".concat(G),title:t("curiosity-inventory.tabInstances",{context:["noInstances",G]})},n().createElement(v.ConnectedInventoryList,{key:"inv_instances_".concat(G),filterGuestsData:D,filterInventoryData:_,productId:G,settings:P,query:F,viewId:O})),!g.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&M&&n().createElement(C.InventoryTab,{key:"inventory_subs_".concat(G),title:t("curiosity-inventory.tabSubscriptions",{context:G})},n().createElement(b.ConnectedInventorySubscriptions,{key:"subs_".concat(G),filterInventoryData:M,productId:G,query:H,viewId:O})))))}(e)}))))};T.defaultProps={t:S.translate,toolbarGraph:null,toolbarGraphDescription:!1,useRouteDetail:i.Tu}},70136:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b,ToolbarFieldSelectCategory:()=>b,toolbarFieldOptions:()=>f,useOnSelect:()=>E,useSelectCategoryOptions:()=>C});var a=r(56949),n=r(92950),l=r.n(n),o=r(91999),i=r(15451),s=r(186),c=r(51858),u=r(49844),d=r(30446),p=r(83109),m=r(2738),y=r(65876),v=r(33267),g=r(74097),h=r(49928),f=[{title:(0,p.translate)("curiosity-toolbar.category",{context:d.VN.GRANULARITY}),value:d.VN.GRANULARITY,component:l().createElement(m.ToolbarFieldGranularity,{key:"selectCategory_granularity",isFilter:!0}),options:m.toolbarFieldOptions,isClearable:!1},{title:(0,p.translate)("curiosity-toolbar.category",{context:"rangedMonthly"}),value:"rangedMonthly",component:l().createElement(y.ToolbarFieldRangedMonthly,{key:"selectCategory_rangedMonthly",isFilter:!0}),options:y.toolbarFieldOptions,isClearable:!1},{title:(0,p.translate)("curiosity-toolbar.category",{context:d.VN.UOM}),value:d.VN.UOM,component:l().createElement(g.ToolbarFieldUom,{key:"selectCategory_uom",isFilter:!0}),options:g.toolbarFieldOptions,isClearable:!1},{title:(0,p.translate)("curiosity-toolbar.category",{context:d.VN.SLA}),value:d.VN.SLA,component:l().createElement(v.ToolbarFieldSla,{key:"selectCategory_sla",isFilter:!0}),options:v.toolbarFieldOptions,isClearable:!0},{title:(0,p.translate)("curiosity-toolbar.category",{context:d.VN.USAGE}),value:d.VN.USAGE,component:l().createElement(h.ToolbarFieldUsage,{key:"selectCategory_usage",isFilter:!0}),options:h.toolbarFieldOptions,isClearable:!0}].map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selected:!1})})),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,r=void 0===t?s.Cr.reactRedux.useDispatch:t,a=e.useProduct,n=void 0===a?c.useProduct:a,l=n(),o=l.viewId,i=r();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,r=void 0===t?null:t;i([{type:s.JD.toolbar.SET_FILTER_TYPE,viewId:o,currentFilter:r}])}},C=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.categoryOptions,n=void 0===r?f:r,l=t.useProduct,o=void 0===l?c.useProduct:l,i=t.useProductToolbarConfig,u=void 0===i?c.useProductToolbarConfig:i,d=t.useSelector,p=void 0===d?s.Cr.reactRedux.useSelector:d,m=o(),y=m.viewId,v=p((function(e){var t;return null===(t=e.toolbar.filters)||void 0===t?void 0:t[y]}),{}),g=v.currentFilter,h=u(),E=h.filters,C=void 0===E?[]:E,b=C.map((function(t){var r=t.id,l=t.selected,o=n.find((function(e){var t=e.value;return r===t}));return void 0===g&&l&&(e=o.value),(0,a.Z)((0,a.Z)({},o),{},{selected:void 0===g&&l||g===o.value})}));return{currentCategory:g,initialCategory:e,options:b}},b=function(e){var t=e.t,r=e.useOnSelect,a=(0,e.useSelectCategoryOptions)(),n=a.currentCategory,s=a.initialCategory,c=a.options,d=r();return(0,i.Z)((function(){s&&d({value:s})}),[s,d]),l().createElement(u.Select,{"aria-label":t("curiosity-toolbar.placeholder_filter"),onSelect:d,options:c,selectedOptions:n,placeholder:t("curiosity-toolbar.placeholder_filter"),toggleIcon:l().createElement(o.FilterIcon,null),"data-test":"toolbarFieldCategory"})};b.defaultProps={t:p.translate,useOnSelect:E,useSelectCategoryOptions:C}}}]);
//# sourceMappingURL=../sourcemaps/4623.fdf61a65cb480fcfa9d5cc217975f834.js.map