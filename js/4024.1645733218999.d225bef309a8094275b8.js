"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4024,1138,1858,8139,9942],{1138:(t,e,r)=>{r.r(e),r.d(e,{default:()=>o,ChartIcon:()=>o});var i=r(92950),n=r.n(i),a=r(6033),o=function(t){var e=t.fill,r=t.symbol,i=t.size,o=t.title,s={},u={size:i,title:o},l=function(t){switch(t){case"md":return"1.5em";case"lg":return"2em";case"xl":return"3em";default:return"1em"}}(i);return o?s["aria-labelledby"]=o:s["aria-hidden"]=!0,e&&(u.color=e),n().createElement("span",{className:"curiosity-chartarea__icon curiosity-chartarea__icon-".concat(r)},function(){switch(r){case"dash":return n().createElement("span",{style:{width:l,height:"".concat(Number.parseFloat(l)/2,"em")}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 38 10",role:"img"},s),n().createElement("rect",{y:"5",width:"10",height:"10",fill:e}),n().createElement("rect",{x:"14",y:"5",width:"10",height:"10",fill:e}),n().createElement("rect",{x:"28",y:"5",width:"10",height:"10",fill:e})));case"threshold":return n().createElement("span",{style:{width:"".concat(2*Number.parseFloat(l),"em"),height:l}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 18 10",role:"img"},s),n().createElement("line",{x1:0,y1:16*Number.parseFloat(l)/2,x2:16*Number.parseFloat(l)*3,y2:16*Number.parseFloat(l)/2,stroke:e,strokeWidth:3,strokeDasharray:"4,3"})));case"eye":return n().createElement(a.EyeIcon,u);case"eyeSlash":return n().createElement(a.EyeSlashIcon,u);case"infinity":return n().createElement(a.InfinityIcon,u);default:return n().createElement(a.SquareIcon,u)}}())};o.defaultProps={fill:null,size:"sm",symbol:"square",title:null}},44024:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d,GraphCardChartTooltip:()=>d});var i=r(92950),n=r.n(i),a=r(51858),o=r(78139),s=r(83109),u=r(1138),l=r(46262),c=r(76006),d=function(t){var e=t.datum,r=t.t,i=t.useProduct,a=t.useProductGraphTallyQuery,s=i().productLabel,d=a()[l.O6.GRANULARITY],v=null,h=[],y=(e||{}).itemsByKey,m=void 0===y?{}:y;return Object.keys(m).reverse().forEach((function(t,e){var i,a,l,c;0===e&&(v=(0,o.getTooltipDate)({date:null===(c=m[t])||void 0===c?void 0:c.data.date,granularity:d}));var y={color:null===(i=m[t])||void 0===i?void 0:i.color};if("threshold"===(null===(a=m[t])||void 0===a?void 0:a.chartType)){var p,f,g,b=null!==(p=null===(f=m[t])||void 0===f?void 0:f.data.y)&&void 0!==p?p:r("curiosity-graph.label_noData");null!==(g=m[t])&&void 0!==g&&g.data.hasInfinite&&(b=y.color?n().createElement(u.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),y.label=r("curiosity-graph.label_threshold"),y.value=b}else{var T,E,I=!1===(null===(T=m[t])||void 0===T?void 0:T.data.hasData)&&r("curiosity-graph.label_noData")||(null===(E=m[t])||void 0===E?void 0:E.data.y)||0;y.label=r("curiosity-graph.label",{context:t,product:s}),y.value=I}y.chartType=null===(l=m[t])||void 0===l?void 0:l.chartType,h.push(y)})),n().createElement("div",{className:"curiosity-usage-graph__tooltip"},n().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},h.length&&v&&n().createElement("thead",null,n().createElement("tr",null,n().createElement("th",{colSpan:2},v)))||null,h.length&&n().createElement("tbody",null,h.map((function(t){var e,r,i="number"==typeof t.value&&!Number.isInteger(t.value)&&(null===(e=c.BM.numberDisplay(t.value))||void 0===e||null===(r=e.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||t.value;return n().createElement("tr",{key:"tooltip-".concat(t.label)},n().createElement("th",null,"threshold"===t.chartType&&n().createElement(u.ChartIcon,{size:"sm",symbol:"dash",fill:t.color||"transparent"}),"threshold"!==t.chartType&&n().createElement(u.ChartIcon,{size:"sm",fill:t.color||"transparent"})," ",t.label),n().createElement("td",null,i))})))||null),!h.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};d.defaultProps={datum:{},t:s.translate,useProduct:a.useProduct,useProductGraphTallyQuery:a.useProductGraphTallyQuery}},78139:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f,graphCardHelpers:()=>f,generateChartSettings:()=>d,generateExtendedChartSettings:()=>p,getChartXAxisLabelIncrement:()=>v,getTooltipDate:()=>h,xAxisTickFormat:()=>y,yAxisTickFormat:()=>m});var i=r(1413),n=r(45987),a=r(30381),o=r.n(a),s=r(58617),u=r(30446),l=r(76006),c=["id","isStandalone","isThreshold"],d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],r=[];return t.forEach((function(t){var a=t.id,o=t.isStandalone,u=void 0!==o&&o,l=t.isThreshold,d=void 0!==l&&l,v=(0,n.Z)(t,c);if(a){var h={id:a,isStacked:!d,isStandalone:u,isThreshold:d,strokeWidth:2};d&&(h.stroke=s.chart_color_green_300.value,h.strokeDasharray="4,3",h.strokeWidth=3),u?e.push((0,i.Z)((0,i.Z)({},h),v)):r.push((0,i.Z)((0,i.Z)({},h),v))}})),{standaloneFilters:e,groupedFilters:r}},v=function(t){switch(t){case u.U9.DAILY:return 5;case u.U9.WEEKLY:case u.U9.MONTHLY:return 2;case u.U9.QUARTERLY:default:return 1}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.date,r=t.granularity,i=o().utc(e);switch(r){case u.U9.QUARTERLY:return"".concat(i.format(l.i3.timestampQuarterFormats.yearShort)," - ").concat(i.add(1,"quarter").format(l.i3.timestampQuarterFormats.yearShort));case u.U9.MONTHLY:return i.format(l.i3.timestampMonthFormats.yearLong);case u.U9.WEEKLY:return"".concat(i.format(l.i3.timestampDayFormats.short)," - ").concat(i.add(1,"week").format(l.i3.timestampDayFormats.yearShort));case u.U9.DAILY:default:return i.format(l.i3.timestampDayFormats.long)}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,r=t.date,i=t.granularity,n=t.tick,a=t.previousDate;if(r&&i){if(e)return e({callback:e,date:r,granularity:i,tick:n,previousDate:a});var s,c=o().utc(r),d=0!==n&&Number.parseInt(c.year(),10)!==Number.parseInt(o().utc(a).year(),10);switch(i){case u.U9.QUARTERLY:s=(s=d?c.format(l.i3.timestampQuarterFormats.yearShort):c.format(l.i3.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case u.U9.MONTHLY:s=(s=d?c.format(l.i3.timestampMonthFormats.yearShort):c.format(l.i3.timestampMonthFormats.short)).replace(/\s/,"\n");break;case u.U9.WEEKLY:case u.U9.DAILY:default:s=(s=d?c.format(l.i3.timestampDayFormats.yearShort):c.format(l.i3.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return s}},m=function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.callback,n=r.tick;return i?i({tick:n}):null===(t=l.BM.numberDisplay(n))||void 0===t||null===(e=t.format({average:!0,mantissa:1,trimMantissa:!0,lowPrecision:!1}))||void 0===e?void 0:e.toUpperCase()},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.settings,r=t.granularity;return(0,i.Z)((0,i.Z)({},e),{},{xAxisLabelIncrement:v(r),xAxisTickFormat:function(t){var i=t.item,n=t.previousItem,a=t.tick;return y({callback:null==e?void 0:e.xAxisTickFormat,tick:a,date:i.date,previousDate:n.date,granularity:r})},yAxisTickFormat:function(t){var r=t.tick;return m({callback:null==e?void 0:e.yAxisTickFormat,tick:r})}})},f={generateChartSettings:d,generateExtendedChartSettings:p,getChartXAxisLabelIncrement:v,getTooltipDate:h,xAxisTickFormat:y,yAxisTickFormat:m}},51858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Q,context:()=>Q,ProductViewContext:()=>m,DEFAULT_CONTEXT:()=>y,useProductContext:()=>S,useProductQuery:()=>g,useProductQueryFactory:()=>f,useProductGraphTallyQuery:()=>b,useProductInventoryGuestsQuery:()=>T,useProductInventoryHostsQuery:()=>E,useProductInventorySubscriptionsQuery:()=>I,useProduct:()=>C,useProductGraphConfig:()=>F,useProductInventoryGuestsConfig:()=>x,useProductInventoryHostsConfig:()=>P,useProductInventorySubscriptionsConfig:()=>k,useProductToolbarConfig:()=>_});var i=r(45987),n=r(4942),a=r(1413),o=r(92950),s=r.n(o),u=r(12723),l=r(1798),c=r(30446),d=r(46262),v=r(62834),h=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],y=[{},v.B.noop],m=s().createContext(y),p=function(){return(0,o.useContext)(m)},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,i=e.useProductViewContext,n=void 0===i?p:i,o=n(),s=o[t],u=o.productId,c=o.viewId,d=l.Cr.reactRedux.useSelector((function(e){var i,n=e.view;return null==n||null===(i=n[t])||void 0===i?void 0:i[r]}),void 0),v=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[u]}),void 0),h=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[c]}),void 0);return(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},s),d),v),h)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,i=t.options;return f(r,i)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,i=t.schemaCheck,n=void 0===i?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,o=t.options;return u.VS.setApiQuery((0,a.Z)((0,a.Z)({},g()),f(r,o)),n)},T=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,i=void 0===r?100:r,o=e.defaultOffset,s=void 0===o?0:o,l=e.queryType,v=void 0===l?"inventoryGuestsQuery":l,h=e.schemaCheck,y=void 0===h?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:h,m=e.options;return u.VS.setApiQuery((0,a.Z)((0,a.Z)((t={},(0,n.Z)(t,d.O6.LIMIT,i),(0,n.Z)(t,d.O6.OFFSET,s),t),g()),f(v,m)),y)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,i=t.schemaCheck,n=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,o=t.options;return u.VS.setApiQuery((0,a.Z)((0,a.Z)({},g()),f(r,o)),n)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,i=t.schemaCheck,n=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,o=t.options;return u.VS.setApiQuery((0,a.Z)((0,a.Z)({},g()),f(r,o)),n)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?g:e,n=t.useProductViewContext,s=void 0===n?p:n,u=r(),l=u[c.VN.UOM],d=s(),v=d.initialGraphFilters,y=void 0===v?[]:v,m=d.initialInventoryFilters,f=void 0===m?[]:m,b=d.initialSubscriptionsInventoryFilters,T=void 0===b?[]:b,E=d.productContextFilterUom,I=(0,i.Z)(d,h),S=(0,o.useCallback)((function(){if(!0===E){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,a.Z)((0,a.Z)({},I),{},{initialGraphFilters:y.filter(t),initialInventoryFilters:f.filter(t),initialSubscriptionsInventoryFilters:T.filter(t)})}return(0,a.Z)((0,a.Z)({},I),{},{initialGraphFilters:y,initialInventoryFilters:f,initialSubscriptionsInventoryFilters:T})}),[I,y,f,T,E,l]);return S()},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?p:e,i=r(),n=i.productGroup,a=i.productId,o=i.productLabel,s=i.viewId;return{productGroup:n,productId:a,productLabel:o,viewId:s}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialGraphFilters,a=i.initialGraphSettings,o=void 0===a?{}:a;return{filters:n,settings:o}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.inventoryGuestsQuery,a=void 0===n?{}:n,o=i.initialGuestsFilters,s=i.initialGuestsSettings,u=void 0===s?{}:s;return{filters:o,initialQuery:a,settings:u}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialInventoryFilters,a=i.initialInventorySettings,o=void 0===a?{}:a;return{filters:n,settings:o}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialSubscriptionsInventoryFilters,a=i.initialSubscriptionsInventorySettings,o=void 0===a?{}:a;return{filters:n,settings:o}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialToolbarFilters,a=i.initialToolbarSettings,o=void 0===a?{}:a;return{filters:n,settings:o}},Q={ProductViewContext:m,DEFAULT_CONTEXT:y,useProductContext:S,useQuery:g,useQueryFactory:f,useGraphTallyQuery:b,useInventoryGuestsQuery:T,useInventoryHostsQuery:E,useInventorySubscriptionsQuery:I,useProduct:C,useGraphConfig:F,useInventoryGuestsConfig:x,useInventoryHostsConfig:P,useInventorySubscriptionsConfig:k,useToolbarConfig:_}}}]);
//# sourceMappingURL=../sourcemaps/4024.ad0234636a5574f5db5a28bce6a4efe2.js.map