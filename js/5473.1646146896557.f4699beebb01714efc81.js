"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5473,2243,3969],{12243:(t,e,r)=>{r.r(e),r.d(e,{default:()=>C,inventoryCardHelpers:()=>C,applyConfigProperty:()=>m,applyHeaderRowCellFilters:()=>g,applySortFilters:()=>D,applyWrappableFilters:()=>b,parseInventoryFilters:()=>Z,parseRowCellsListData:()=>E});var n=r(29439),o=r(1413),a=r(93433),i=r(92950),l=r.n(i),s=r(88587),c=r(68929),u=r.n(c),p=r(68630),d=r.n(p),v=r(3969),f=r(83109),y=r(30446),h=r(76006),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,n=void 0===r?[]:r,o=t;if("function"==typeof t&&(o=t.apply(void 0,(0,a.Z)(Array.isArray(n)&&n||[n]))),"string"==typeof o||"number"==typeof o||l().isValidElement(o))return o},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[],i=[];return t.forEach((function(t){var c,u,p,y,g=t.id,D=t.cell,b=t.cellWidth,Z=t.header,E=t.onSort,C=t.showEmptyCell,S=void 0===C||C,N=t.sortId,O=t.sortActive,T=t.sortDirection,G=t.transforms,I={title:(0,f.translate)("curiosity-inventory.header",{context:g}),transforms:[]},w={title:""};if(e[g])I.title=null!==(c=null===(u=e[g])||void 0===u?void 0:u.title)&&void 0!==c?c:g,w.title=null!==(p=null===(y=e[g])||void 0===y?void 0:y.value)&&void 0!==p?p:"";else if((h.BM.DEV_MODE||h.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(g,'" not found in "table row" response data.'),e),!1===S)return;if(Z){var P=m(Z,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});if(P?I.title=P:d()(Z)&&Object.assign(I,(0,o.Z)({},Z)),Z.tooltip&&I.title){var A=m(Z.tooltip,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});A&&(I.title=l().createElement(v.Tooltip,{content:A},I.title)),delete I.tooltip}}if(Array.isArray(I.transforms)&&(Array.isArray(G)&&(I.transforms=I.transforms.concat((0,a.Z)(G))),"number"==typeof b&&I.transforms.push((0,s.cellWidth)(b))),"function"==typeof E&&(I.onSort=function(t){return E((0,o.Z)({},e),(0,o.Z)((0,o.Z)({},t),{},{id:N||g}))},I.sortActive=O,I.sortDirection=T),D){var V=m(D,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});if(V?w.title=V:d()(D)&&Object.assign(w,(0,o.Z)({},D)),D.tooltip&&w.title){var k=m(D.tooltip,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});k&&(w.title=l().createElement(v.Tooltip,{content:k},w.title)),delete w.tooltip}}n.push(I),i.push(w)})),{headerCells:n,bodyCells:i}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=t.onSort,a=t.query,i=void 0===a?{}:a,l=r.id,c=r.sortId,p=c||l,d=(0,o.Z)({},r),v=d.onSort||n;return!d.onSort&&n&&(d.onSort=n),v&&"boolean"!=typeof d.sortActive&&null!=i&&i[y.VN.SORT]&&((null==i?void 0:i[y.VN.SORT])===p||u()(null==i?void 0:i[y.VN.SORT])===p)&&(d.sortActive=!0),v&&!d.sortDirection&&null!=i&&i[y.VN.DIRECTION]&&((null==i?void 0:i[y.VN.DIRECTION])===y.hb.DESCENDING?d.sortDirection=s.SortByDirection.desc:d.sortDirection=s.SortByDirection.asc),!v||d.sortActive||null!=i&&i[y.VN.SORT]||!0!==d.isSortDefault||(d.sortActive=!0,d.sortDefaultInitialDirection&&(d.sortDirection=d.sortDefaultInitialDirection)),d},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=(0,o.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(s.wrappable):n.transforms=[s.wrappable],n},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.onSort,i=t.query,l=void 0===i?{}:i;return(0,a.Z)(r).map((function(t){var e=(0,o.Z)({},t);return e.isSortable&&Object.assign(e,D({filter:e,onSort:n,query:l})),e.isWrappable&&Object.assign(e,b({filter:e})),e}))},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,i=t.cellData,l=void 0===i?{}:i,s=t.session,c=void 0===s?{}:s,u=[],p=[],d={};if(Object.entries(l).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],o=e[1],a=void 0===o?"":o;d[r]={title:(0,f.translate)("curiosity-inventory.header",{context:r}),value:a},u.push(d[r].title),p.push(a||"...")})),null!=r&&r.length&&Object.keys(d).length){u.length=0,p.length=0;var v=g(r,d,c),y=v.headerCells,h=void 0===y?[]:y,m=v.bodyCells,D=void 0===m?[]:m;u.push.apply(u,(0,a.Z)(h)),p.push.apply(p,(0,a.Z)(D))}return{columnHeaders:u,cells:p,data:(0,o.Z)({},d)}},C={applyConfigProperty:m,applyHeaderRowCellFilters:g,applySortFilters:D,applyWrappableFilters:b,parseInventoryFilters:Z,parseRowCellsListData:E}},95473:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Z,ConnectedGuestsList:()=>Z,GuestsList:()=>D});var n=r(93433),o=r(4942),a=r(1413),i=r(15671),l=r(43144),s=r(60136),c=r(54062),u=r(92950),p=r.n(u),d=r(88587),v=r(76006),f=r(186),y=r(1797),h=r(12243),m=r(30446),g=r(78697),D=function(t){(0,s.Z)(r,t);var e=(0,c.Z)(r);function r(){var t;(0,i.Z)(this,r);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,r=e.currentPage,n=e.limit,i=t.props,l=i.getHostsInventoryGuests,s=i.query,c=i.id;if(c){var u,p=(0,a.Z)((0,a.Z)({},s),{},(u={},(0,o.Z)(u,m.VN.LIMIT,n),(0,o.Z)(u,m.VN.OFFSET,r*n||0),u));l(c,f.IT.parseRhsmQuery(p).inventoryGuestsQuery)}},t.onScroll=function(e){var r=e.target,o=t.state,a=o.currentPage,i=o.limit,l=o.previousData,s=t.props,c=s.numberOfGuests,u=s.pending,p=s.listData,d=r.scrollHeight-r.scrollTop===r.clientHeight;if(c>(a+1)*i&&d&&!u){var v=a+1,f=[].concat((0,n.Z)(l),(0,n.Z)(p||[]));t.setState({previousData:f,currentPage:v})}},t}return(0,l.Z)(r,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,r=e.filterGuestsData,n=e.listData,o=e.pending;if(t>0&&o){var a=p().createElement(y.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==r?void 0:r.length)||(null==n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null==r?void 0:r.length)&&r.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:d.TableVariant.compact}});return p().createElement("div",{className:"curiosity-table-scroll-loader__custom"},a)}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,r=e.filterGuestsData,o=e.listData,a=e.numberOfGuests,i=e.session,l=[],s=[].concat((0,n.Z)(t),(0,n.Z)(o||[])).map((function(t){var e=Object.assign({},t),n=h.inventoryCardHelpers.parseRowCellsListData({filters:r,cellData:e,session:i}),o=n.columnHeaders,a=n.cells;return l=o,{cells:a}})),c=42*(a+1);return c=c<275&&c||275,p().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(c,"px")}},p().createElement("div",{className:"curiosity-table-scroll-list".concat(c<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),s.length&&p().createElement(g.Table,{borders:!1,variant:d.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:l,rows:s})||null))}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,r=e.error,n=e.filterGuestsData,o=e.listData,a=e.numberOfGuests,i=e.pending,l=e.perPageDefault;return p().createElement("div",{className:"fadein ".concat(r?"blur":"")},i&&0===t&&p().createElement(y.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==n?void 0:n.length)||(null==o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null==n?void 0:n.length)&&n.map((function(t){return t.cellWidth}))||[],rowCount:a<l?a:l,variant:d.TableVariant.compact}}),(!i&&0===t||t>0)&&this.renderTable())}}]),r}(p().Component);D.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:v.BM.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var b=f.R1.guestsList.makeGuestsList(),Z=(0,f.$j)(b,(function(t){return{getHostsInventoryGuests:function(e,r){return t(f.Ak.rhsm.getHostsInventoryGuests(e,r))}}}))(D)},3969:(t,e,r)=>{r.r(e),r.d(e,{default:()=>s,Tooltip:()=>s});var n=r(45987),o=r(92950),a=r.n(o),i=r(45103),l=["children","content","isNoWrap"],s=function(t){var e=t.children,r=t.content,o=t.isNoWrap,s=(0,n.Z)(t,l);return a().createElement(i.Tooltip,Object.assign({className:"curiosity-tooltip".concat(o?"__nowrap":""),content:a().isValidElement(r)&&r||a().createElement("p",null,r||"")},s),a().isValidElement(e)&&e||a().createElement("span",{className:"curiosity-tooltip-children"},e))};s.defaultProps={content:"...",distance:5,enableFlip:!1,entryDelay:100,exitDelay:0,isNoWrap:!1,position:i.TooltipPosition.top}}}]);
//# sourceMappingURL=../sourcemaps/5473.3e387ae8ef6e1488394c52f7a60a747f.js.map