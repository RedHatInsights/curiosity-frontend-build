"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5242,2243,3385],{12243:function(t,e,r){r.r(e),r.d(e,{applyConfigProperty:function(){return h},applyHeaderRowCellFilters:function(){return g},applySortFilters:function(){return I},applyWrappableFilters:function(){return O},default:function(){return b},inventoryCardHelpers:function(){return b},parseInventoryFilters:function(){return m},parseRowCellsListData:function(){return E}});var n=r(29439),o=r(1413),i=r(93433),s=r(92950),l=r.n(s),u=r(40227),a=r(68929),c=r.n(a),d=r(68630),f=r.n(d),v=r(3969),p=r(83109),y=r(46262),S=r(76006),h=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).params,r=void 0===e?[]:e,n=t;if("function"==typeof t&&(n=t.apply(void 0,(0,i.Z)(Array.isArray(r)&&r||[r]))),"string"==typeof n||"number"==typeof n||l().isValidElement(n))return n},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.cellData,s=void 0===n?{}:n,a=t.meta,c=void 0===a?{}:a,d=t.productId,y=t.session,g=void 0===y?{}:y,I=[],O=[];return r.forEach((function(t){var e,r,n,a,y=t.isStandalone,m=t.id,E=t.cell,b=t.cellWidth,Z=t.header,D=t.onSort,T=t.showEmptyCell,R=void 0===T||T,C=t.sortId,G=t.sortActive,_=t.sortDirection,P=t.transforms,w={title:(0,p.translate)("curiosity-inventory.header",{context:[m,d]}),transforms:[]},A={title:""};if(s[m])w.title=null!==(e=null===(r=s[m])||void 0===r?void 0:r.title)&&void 0!==e?e:m,A.title=null!==(n=null===(a=s[m])||void 0===a?void 0:a.value)&&void 0!==n?n:"";else if(!0===y)w.title="",A.title="";else if((S.BM.DEV_MODE||S.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(m,'" not found in "table row" response data.'),s),!1===R)return;if(Z){var N=h(Z,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});if(N?w.title=N:f()(Z)&&Object.assign(w,(0,o.Z)({},Z)),Z.tooltip&&w.title){var F=h(Z.tooltip,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});F&&(w.title=l().createElement(v.Tooltip,{content:F},w.title)),delete w.tooltip}}if(Array.isArray(w.transforms)&&(Array.isArray(P)&&(w.transforms=w.transforms.concat((0,i.Z)(P))),"number"==typeof b&&w.transforms.push((0,u.cellWidth)(b))),"function"==typeof D&&(w.onSort=function(t){return D((0,o.Z)({},s),(0,o.Z)((0,o.Z)({},t),{},{id:C||m}))},w.sortActive=G,w.sortDirection=_),E){var j=h(E,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});if(j?A.title=j:f()(E)&&Object.assign(A,(0,o.Z)({},E)),E.tooltip&&A.title){var H=h(E.tooltip,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});H&&(A.title=l().createElement(v.Tooltip,{content:H},A.title)),delete A.tooltip}}I.push(w),O.push(A)})),{headerCells:I,bodyCells:O}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=t.onSort,i=t.query,s=void 0===i?{}:i,l=r.id,a=r.sortId||l,d=(0,o.Z)({},r),f=d.onSort||n;return!d.onSort&&n&&(d.onSort=n),f&&"boolean"!=typeof d.sortActive&&null!=s&&s[y.O6.SORT]&&((null==s?void 0:s[y.O6.SORT])===a||c()(null==s?void 0:s[y.O6.SORT])===a)&&(d.sortActive=!0),f&&!d.sortDirection&&null!=s&&s[y.O6.DIRECTION]&&((null==s?void 0:s[y.O6.DIRECTION])===y.PQ.DESCENDING?d.sortDirection=u.SortByDirection.desc:d.sortDirection=u.SortByDirection.asc),!f||d.sortActive||null!=s&&s[y.O6.SORT]||!0!==d.isSortDefault||(d.sortActive=!0,d.sortDefaultInitialDirection&&(d.sortDirection=d.sortDefaultInitialDirection)),d},O=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).filter,e=void 0===t?{}:t,r=(0,o.Z)({},e);return Array.isArray(r.transforms)?r.transforms.push(u.wrappable):r.transforms=[u.wrappable],r},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.onSort,s=t.query,l=void 0===s?{}:s;return(0,i.Z)(r).map((function(t){var e=(0,o.Z)({},t);return e.isSortable&&Object.assign(e,I({filter:e,onSort:n,query:l})),e.isWrappable&&Object.assign(e,O({filter:e})),e}))},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,s=t.cellData,l=void 0===s?{}:s,u=t.meta,a=void 0===u?{}:u,c=t.productId,d=t.session,f=void 0===d?{}:d,v=[],y=[],S={};if(Object.entries(l).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],o=e[1],i=void 0===o?"":o;S[r]={title:(0,p.translate)("curiosity-inventory.header",{context:[r,c]}),value:i},v.push(S[r].title),y.push(i||"...")})),null!=r&&r.length&&Object.keys(S).length){v.length=0,y.length=0;var h=g({filters:r,cellData:S,meta:a,productId:c,session:f}),I=h.headerCells,O=void 0===I?[]:I,m=h.bodyCells,E=void 0===m?[]:m;v.push.apply(v,(0,i.Z)(O)),y.push.apply(y,(0,i.Z)(E))}return{columnHeaders:v,cells:y,data:(0,o.Z)({},S)}},b={applyConfigProperty:h,applyHeaderRowCellFilters:g,applySortFilters:I,applyWrappableFilters:O,parseInventoryFilters:m,parseRowCellsListData:E}},15242:function(t,e,r){r.r(e),r.d(e,{InventoryGuests:function(){return p},default:function(){return p}});var n=r(36459),o=r(92950),i=r.n(o),s=r(40227),l=r(98944),u=r(51858),a=r(1797),c=r(12243),d=r(46262),f=r(78697),v=r(23385),p=function(t){var e=t.defaultPerPage,r=t.id,o=t.numberOfGuests,l=t.useGetGuestsInventory,u=t.useOnScroll,v=t.useProductInventoryGuestsQuery,p=t.useProductInventoryGuestsConfig,y=(0,t.useSession)(),S=p().filters,h=l(r),g=h.pending,I=h.data,O=void 0===I?[]:I,m=u(r),E=v({options:{overrideId:r}})[d.O6.OFFSET],b=[],Z=O.map((function(t){var e=Object.assign({},((0,n.Z)(t),t)),r=c.inventoryCardHelpers.parseRowCellsListData({filters:S,cellData:e,session:y}),o=r.columnHeaders,i=r.cells;return b=o,{cells:i}})),D=42*(o+1);return D=D<275&&D||275,i().createElement("div",{className:"fadein"},i().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(D,"px")}},i().createElement("div",{className:"curiosity-table-scroll-list".concat(D<275?"__no-scroll":""),onScroll:m},function(t){if(g){var r=0;t&&(r=o<e?o:e);var n=i().createElement(a.Loader,{variant:"table",tableProps:{borders:!1,className:t?"curiosity-guests-list":void 0,colCount:(null==S?void 0:S.length)||(null==O?void 0:O[0])&&Object.keys(O[0]).length||1,colWidth:(null==S?void 0:S.length)&&S.map((function(t){return t.cellWidth}))||[],rowCount:r,variant:s.TableVariant.compact}});return i().createElement("div",{className:"curiosity-table-scroll-loader__custom"},n)}return null}(0===E),Z.length&&i().createElement(f.Table,{borders:!1,variant:s.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:b,rows:Z})||null)))};p.defaultProps={defaultPerPage:5,useGetGuestsInventory:v.useGetGuestsInventory,useOnScroll:v.useOnScroll,useProductInventoryGuestsConfig:u.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:u.useProductInventoryGuestsQuery,useSession:l.useSession}},23385:function(t,e,r){r.r(e),r.d(e,{context:function(){return I},default:function(){return I},useGetGuestsInventory:function(){return h},useOnScroll:function(){return g},useSelectorsGuestsInventory:function(){return S}});var n=r(4942),o=r(1413),i=r(93433),s=r(45987),l=r(29439),u=r(92950),a=r(17297),c=r(62179),d=r(18127),f=r(82410),v=r(51858),p=r(46262),y=["data","fulfilled"],S=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useSelectorsResponse,r=(void 0===e?f.Cr.reactRedux.useSelectorsResponse:e)((function(e){var r,n=e.inventory;return null==n||null===(r=n.hostsGuests)||void 0===r?void 0:r[t]})),n=r.error,o=r.cancelled,i=r.fulfilled,s=r.pending,l=r.data;return{error:n,fulfilled:i,pending:s||o||!1,data:1===(null==l?void 0:l.length)&&l[0]||l||{}}},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getInventory,n=void 0===r?f.Ak.rhsm.getHostsInventoryGuests:r,d=e.useDispatch,p=void 0===d?f.Cr.reactRedux.useDispatch:d,h=e.useProductInventoryQuery,g=void 0===h?v.useProductInventoryGuestsQuery:h,I=e.useSelectorsInventory,O=void 0===I?S:I,m=(0,u.useState)([]),E=(0,l.Z)(m,2),b=E[0],Z=E[1],D=g({options:{overrideId:t}}),T=p(),R=O(t),C=R.data,G=void 0===C?{}:C,_=R.fulfilled,P=void 0!==_&&_,w=(0,s.Z)(R,y),A=G.data,N=void 0===A?[]:A;return(0,a.Z)((function(){n(t,D)(T)}),[T,t,D]),(0,c.Z)((function(){P&&Z((function(t){return[].concat((0,i.Z)(t),(0,i.Z)(N))}))}),[P,N]),(0,o.Z)({data:b,fulfilled:P},w)},g=function(t){var e,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.useDispatch,s=void 0===i?f.Cr.reactRedux.useDispatch:i,l=o.useSelectorsInventory,a=void 0===l?S:l,c=o.useProductInventoryQuery,y=void 0===c?v.useProductInventoryGuestsQuery:c,h=s(),g=a(t),I=g.pending,O=g.data,m=void 0===O?{}:O,E=((null==m?void 0:m.meta)||{}).count,b=y({options:{overrideId:t}}),Z=b[p.O6.LIMIT],D=b[p.O6.OFFSET];return e=function(){h([{type:f.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:t},{type:f.JD.inventory.CLEAR_INVENTORY_GUESTS,id:t}])},(r=(0,u.useRef)(e)).current=e,(0,d.Z)((function(){return function(){return r.current()}})),function(e){var r=e.target,o=r.scrollHeight-r.scrollTop===r.clientHeight;E>D+Z&&o&&!I&&h([(0,n.Z)({type:f.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[p.O6.OFFSET],viewId:t},p.O6.OFFSET,D+Z),(0,n.Z)({type:f.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[p.O6.LIMIT],viewId:t},p.O6.LIMIT,Z)])}},I={useGetGuestsInventory:h,useOnScroll:g,useSelectorsGuestsInventory:S}},38252:function(t){t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!("_owner"===s&&e.$$typeof||t(e[s],r[s])))return!1}return!0}return e!=e&&r!=r}},62179:function(t,e,r){r.d(e,{Z:function(){return s}});var n=r(37124),o=r(38252),i=r.n(o)(),s=function(t,e){(0,n.Z)(t,e,i)}}}]);
//# sourceMappingURL=../sourcemaps/5242.1504af6aee7963eedf966a7bb3da7bcd.js.map