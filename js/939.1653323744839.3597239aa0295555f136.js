"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[939,5394,1858],{99171:(t,e,r)=>{r.r(e),r.d(e,{default:()=>a,GraphCardChartTitleTooltip:()=>a});var i=r(96985),n=r.n(i),o=r(75857),u=r(36100),s=r(51858),d=r(25394),l=r(83109),a=function(t){var e=t.t,r=t.useGraphCardContext,i=(0,t.useProduct)().productId,s=r().settings,d=void 0===s?{}:s,l=d.isCardTitleDescription,a=d.metric,c=(null==a?void 0:a.id)&&"_".concat(null==a?void 0:a.id)||"";return l?n().createElement(o.Tooltip,{content:n().createElement("p",null,e("curiosity-graph.cardHeadingDescription".concat(c),{context:i})),position:o.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},n().createElement("span",{className:"curiosity-icon__question"},n().createElement(u.OutlinedQuestionCircleIcon,null))):null};a.defaultProps={t:l.translate,useProduct:s.useProduct,useGraphCardContext:d.useGraphCardContext}},25394:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p,context:()=>p,GraphCardContext:()=>l,DEFAULT_CONTEXT:()=>d,useGetGraphTally:()=>c,useGraphCardContext:()=>a,useMetricsSelector:()=>v});var i=r(1413),n=r(96985),o=r.n(n),u=r(61072),s=r(51858),d=[{settings:{isStandalone:!1,metrics:[],metric:void 0}},r(62834).B.noop],l=o().createContext(d),a=function(){return(0,n.useContext)(l)},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useDispatch,r=void 0===e?u.Cr.reactRedux.useDispatch:e,i=t.useProductGraphTallyQuery,n=void 0===i?s.useProductGraphTallyQuery:i,o=n(),d=r();return function(t){return u.Ak.rhsm.getGraphTally(t,o)(d)}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useGraphCardContext,r=void 0===e?a:e,n=t.useSelectors,o=void 0===n?u.Cr.reactRedux.useSelectors:n,d=t.useProduct,l=void 0===d?s.useProduct:d,c=l(),v=c.productId,p=r(),y=p.settings,C=void 0===y?{}:y,f=C.metrics,h=void 0===f?[]:f,T={},g=o(h.map((function(t){var e=t.id;return function(t){var r;return null===(r=t.graph.tally)||void 0===r?void 0:r["".concat(v,"_").concat(e)]}})),[]),P=!1,S=!1,I=0,G=g.map((function(t,e){var r,n,o=t||{},u=o.pending,s=o.fulfilled,d=o.error,l=o.cancelled;!(!u&&!l)&&(P=!0),s&&(S=!0),d&&(I+=1);var a=(0,i.Z)((0,i.Z)({},h[e]),{},{data:(null==t||null===(r=t.data)||void 0===r?void 0:r.data)||[],meta:(null==t||null===(n=t.data)||void 0===n?void 0:n.meta)||{}});return T[h[e].id]=a,a})),x={data:T,dataSets:G,error:!1,fulfilled:!1,pending:!1};return I===G.length?x.error=!0:P?x.pending=!0:S&&(x.fulfilled=!0),x},p={GraphCardContext:l,DEFAULT_CONTEXT:d,useGetGraphTally:c,useGraphCardContext:a,useMetricsSelector:v}},51858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m,context:()=>m,ProductViewContext:()=>C,DEFAULT_CONTEXT:()=>y,useProductContext:()=>G,useProductQuery:()=>T,useProductQueryFactory:()=>h,useProductGraphTallyQuery:()=>g,useProductInventoryGuestsQuery:()=>P,useProductInventoryHostsQuery:()=>S,useProductInventorySubscriptionsQuery:()=>I,useProduct:()=>x,useProductGraphConfig:()=>_,useProductInventoryGuestsConfig:()=>E,useProductInventoryHostsConfig:()=>F,useProductInventorySubscriptionsConfig:()=>Q,useProductToolbarConfig:()=>b});var i=r(45987),n=r(4942),o=r(1413),u=r(96985),s=r.n(u),d=r(12723),l=r(2606),a=r(30446),c=r(46262),v=r(62834),p=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],y=[{},v.B.noop],C=s().createContext(y),f=function(){return(0,u.useContext)(C)},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,i=e.useProductViewContext,n=void 0===i?f:i,u=n(),s=u[t],d=u.productId,a=u.viewId,c=l.Cr.reactRedux.useSelector((function(e){var i,n=e.view;return null==n||null===(i=n[t])||void 0===i?void 0:i[r]}),void 0),v=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[d]}),void 0),p=l.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[a]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),c),v),p)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,i=t.options;return h(r,i)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,i=t.schemaCheck,n=void 0===i?a.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,u=t.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)({},T()),h(r,u)),n)},P=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,i=void 0===r?100:r,u=e.defaultOffset,s=void 0===u?0:u,l=e.queryType,v=void 0===l?"inventoryGuestsQuery":l,p=e.schemaCheck,y=void 0===p?a.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:p,C=e.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,n.Z)(t,c.O6.LIMIT,i),(0,n.Z)(t,c.O6.OFFSET,s),t),T()),h(v,C)),y)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,i=t.schemaCheck,n=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)({},T()),h(r,u)),n)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,i=t.schemaCheck,n=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return d.VS.setApiQuery((0,o.Z)((0,o.Z)({},T()),h(r,u)),n)},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?T:e,n=t.useProductViewContext,s=void 0===n?f:n,d=r(),l=d[a.VN.UOM],c=s(),v=c.initialGraphFilters,y=void 0===v?[]:v,C=c.initialInventoryFilters,h=void 0===C?[]:C,g=c.initialSubscriptionsInventoryFilters,P=void 0===g?[]:g,S=c.productContextFilterUom,I=(0,i.Z)(c,p),G=(0,u.useCallback)((function(){if(!0===S){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,o.Z)((0,o.Z)({},I),{},{initialGraphFilters:y.filter(t),initialInventoryFilters:h.filter(t),initialSubscriptionsInventoryFilters:P.filter(t)})}return(0,o.Z)((0,o.Z)({},I),{},{initialGraphFilters:y,initialInventoryFilters:h,initialSubscriptionsInventoryFilters:P})}),[I,y,h,P,S,l]);return G()},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?f:e,i=r(),n=i.productGroup,o=i.productId,u=i.productLabel,s=i.viewId;return{productGroup:n,productId:o,productLabel:u,viewId:s}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialGraphFilters,o=i.initialGraphSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.inventoryGuestsQuery,o=void 0===n?{}:n,u=i.initialGuestsFilters,s=i.initialGuestsSettings,d=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:d}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialInventoryFilters,o=i.initialInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialSubscriptionsInventoryFilters,o=i.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?G:e,i=r(),n=i.initialToolbarFilters,o=i.initialToolbarSettings,u=void 0===o?{}:o,s=i.initialSecondaryToolbarFilters;return{filters:n,secondaryFilters:s,settings:u}},m={ProductViewContext:C,DEFAULT_CONTEXT:y,useProductContext:G,useQuery:T,useQueryFactory:h,useGraphTallyQuery:g,useInventoryGuestsQuery:P,useInventoryHostsQuery:S,useInventorySubscriptionsQuery:I,useProduct:x,useGraphConfig:_,useInventoryGuestsConfig:E,useInventoryHostsConfig:F,useInventorySubscriptionsConfig:Q,useToolbarConfig:b}}}]);
//# sourceMappingURL=../sourcemaps/939.ff552e38a393687f4d24f554930fbd8a.js.map