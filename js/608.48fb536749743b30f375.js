"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[608],{10608:function(e,t,a){a.r(t),a.d(t,{GraphCard:function(){return d},default:function(){return d}});var r=a(28416),l=a.n(r),s=a(45697),n=a.n(s),i=a(76006),o=a(29407),c=a(91799),u=a(25394);const d=e=>{let{isDisabled:t,useParseFiltersSettings:a}=e;const{filtersSettings:r}=a();return t||null==r||!r.length?null:null==r?void 0:r.map((e=>{var t;return l().createElement(u.GraphCardContext.Provider,{key:"graphCard-".concat(null==e||null===(t=e.settings)||void 0===t||null===(t=t.metrics)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id),value:e},l().createElement(o.GraphCardMetricTotals,null,l().createElement(c.GraphCardChart,null)))}))};d.propTypes={isDisabled:n().bool,useParseFiltersSettings:n().func},d.defaultProps={isDisabled:i.helpers.UI_DISABLED_GRAPH,useParseFiltersSettings:u.useParseFiltersSettings}},29407:function(e,t,a){a.r(t),a.d(t,{GraphCardMetricTotals:function(){return C},default:function(){return C}});var r=a(28416),l=a.n(r),s=a(45697),n=a.n(s),i=a(39930),o=a(68929),c=a.n(o),u=a(51858),d=a(25394),p=a(1797),h=a(65876),g=a(46262),m=a(78139),y=a(76006);const C=e=>{var t;let{children:a,useGraphCardContext:r,useMetricsSelector:s,useProductGraphTallyQuery:n}=e;const{settings:o={}}=r(),u=n(),{pending:d,error:C,fulfilled:v,dataSets:f=[]}=s(),{[g.O6.START_DATE]:_}=u,{isCurrent:S}=h.toolbarFieldOptions.find((e=>e.title===_||e.value.startDate.toISOString()===_))||{};if(null!=o&&o.isMetricDisplay&&null!=o&&null!==(t=o.cards)&&void 0!==t&&t.length){var E,P;const e=y.helpers.setImmutableData({dataSets:f.map((e=>{const{id:t,metric:a}=e||{};return{...e,display:{...m.graphCardHelpers.getDailyMonthlyTotals({dataSet:e,isCurrent:S}),...m.graphCardHelpers.getRemainingCapacity({...m.graphCardHelpers.getPrepaidTallyCapacity({data:f}),isCurrent:S}),...m.graphCardHelpers.getRemainingOverage({...m.graphCardHelpers.getPrepaidTallyCapacity({data:f}),isCurrent:S}),chartId:t,metricId:a}}}))},{isClone:!0});return l().createElement("div",{"data-test":"graphMetricTotals-".concat(null==o||null===(E=o.groupMetric)||void 0===E||null===(E=E.map((e=>c()(e))))||void 0===E?void 0:E.join("-")),"data-test-data":JSON.stringify(e),className:"curiosity-graph__totals curiosity-usage-graph__totals"},l().createElement("div",null,l().createElement("div",{className:"curiosity-graph__totals-column curiosity-usage-graph__totals-column"},null==o||null===(P=o.cards)||void 0===P?void 0:P.map(((t,a)=>{let{key:r,header:s,body:n,footer:o}=t;return l().createElement(i.Card,{key:r||y.helpers.generateHash({metricDisplayPassedData:e,index:a}),isPlain:!0,"data-test":"graphMetricTotalsCard-".concat(a),className:"curiosity-graph__totals-column-card curiosity-usage-graph__totals-column-card ".concat(C?"blur":"")},l().createElement(i.CardHeader,{className:"curiosity-graph__totals-column-card-header"},l().createElement(i.CardTitle,null,l().createElement(i.Title,{headingLevel:"h2",size:"md"},d&&l().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),v&&("function"==typeof s&&s(e)||s)))),l().createElement(i.CardBody,{className:"curiosity-graph__totals-column-card-body"},l().createElement("div",null,d&&l().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg,height:"60px"}}),v&&("function"==typeof n&&n(e)||n))),l().createElement(i.CardFooter,{className:"curiosity-graph__totals-column-card-footer"},l().createElement("div",null,d&&l().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),v&&("function"==typeof o&&o(e)||o))))})))),l().createElement("div",null,l().createElement("div",{className:"curiosity-graph__totals-graph-column curiosity-usage-graph__totals-graph-column"},a)))}return l().createElement("div",{"data-test":"graphStandalone",className:"curiosity-graph__standalone curiosity-usage-graph__standalone"},a)};C.propTypes={children:n().node,useGraphCardContext:n().func,useMetricsSelector:n().func,useProductGraphTallyQuery:n().func},C.defaultProps={children:null,useGraphCardContext:d.useGraphCardContext,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:u.useProductGraphTallyQuery}}}]);
//# sourceMappingURL=../sourcemaps/608.670479825890b857a3e80a0a457f24a9.js.map