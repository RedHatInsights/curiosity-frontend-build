"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4944,608,9877,9175],{87585:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h,BannerMessages:()=>h});var a=r(4942),n=r(1413),l=r(29439),i=r(92950),o=r.n(i),s=r(45103),c=r(6033),u=r(15451),d=r(186),m=r(83109),p=r(76006),y=r(30446),g=r(3281),h=function(e){var t,r=e.messages,c=e.useRouteDetail,m=e.useAppMessages,g=(0,i.useState)({}),h=(0,l.Z)(g,2),E=h[0],f=h[1],v=(0,i.useState)([]),C=(0,l.Z)(v,2),S=C[0],_=C[1],M=c()||{},T=M.pathParameter,I=M.productConfig,P=1===(null==I?void 0:I.length)&&(null==I?void 0:I[0]),D=d.IT.parseRhsmQuery((null==I||null===(t=I[0])||void 0===t?void 0:t.query)||{}).query,A=m().appMessages;return(0,u.Z)((function(){if(T&&P){var e,t=p.i3.getRangedDateTime("CURRENT"),r=t.startDate,l=t.endDate,i=(0,n.Z)((0,n.Z)({},D),{},(e={},(0,a.Z)(e,y.VN.GRANULARITY,y.U9.DAILY),(0,a.Z)(e,y.VN.START_DATE,r.toISOString()),(0,a.Z)(e,y.VN.END_DATE,l.toISOString()),e));d.Cr.rhsmActions.useGetMessageReports(T,i)}}),[T,P,D]),(0,u.Z)((function(){var e=[];r.length&&Object.entries(A).forEach((function(t){var a=(0,l.Z)(t,2),i=a[0],o=a[1];if(!0!==E[i]&&!0===o){var s=r.find((function(e){return e.id===i}));s&&e.push((0,n.Z)({key:i},s))}})),_(e.map((function(e){var t=e.key,r=e.message,l=e.title,i=e.variant,c=void 0===i?s.AlertVariant.info:i,u=o().createElement(s.AlertActionCloseButton,{onClose:function(){return f((0,n.Z)((0,n.Z)({},E),{},(0,a.Z)({},t,!0)))}});return o().createElement(s.Alert,{actionClose:u,key:t,title:l,variant:c},r)})))}),[A,E,r]),null!=S&&S.length?o().createElement("div",{className:"curiosity-banner-messages"},S):null};h.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,m.translate)("curiosity-banner.dataMismatchTitle"),message:(0,m.translate)("curiosity-banner.dataMismatchMessage",{context:""!==p.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:p.BM.UI_DISPLAY_NAME},[o().createElement(s.Button,{isInline:!0,component:"a",variant:"link",icon:o().createElement(c.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:p.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useAppMessages:d.Cr.rhsmSelectors.useAppMessages,useRouteDetail:g.Tu}},10608:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,GraphCard:()=>u});var a=r(92950),n=r.n(a),l=r(51858),i=r(76006),o=r(11014),s=r(49877),c=r(78139),u=function(e){var t=e.isDisabled,r=(0,e.useProductGraphConfig)().filters,a=c.graphCardHelpers.generateChartSettings(r),l=a.groupedFilters,i=a.standaloneFilters;return t?null:n().createElement(n().Fragment,null,(null==l?void 0:l.length)&&n().createElement(o.GraphCardMetrics,{metricFilters:l})||null,i.map((function(e){return n().createElement(s.GraphCardMetric,{key:"graphCard_".concat(e.id),metricFilter:e})})))};u.defaultProps={isDisabled:i.BM.UI_DISABLED_GRAPH,useProductGraphConfig:l.useProductGraphConfig}},49877:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d,GraphCardMetric:()=>d});var a=r(1413),n=r(29439),l=r(92950),i=r.n(l),o=r(91799),s=r(51858),c=r(25394),u=(r(46262),r(29407)),d=function(e){var t=e.metricFilter,r=e.useProductGraphConfig,s=(0,l.useState)({}),d=(0,n.Z)(s,2),m=d[0],p=d[1],y=r().settings;return(0,l.useEffect)((function(){p({settings:(0,a.Z)((0,a.Z)({padding:{bottom:75,left:75,right:45,top:45}},y),{},{isStandalone:!0,metric:t,metrics:[t]})})}),[t,y,p]),i().createElement(c.GraphCardContext.Provider,{value:m},i().createElement(u.GraphCardMetricTotals,null,i().createElement(o.GraphCardChart,null)))};d.defaultProps={metricFilter:{},useProductGraphConfig:s.useProductGraphConfig}},29407:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f,GraphCardMetricTotals:()=>f});var a=r(92950),n=r.n(a),l=r(45103),i=r(30381),o=r.n(i),s=r(68929),c=r.n(s),u=r(51858),d=r(25394),m=r(91339),p=r(1797),y=r(76006),g=r(65876),h=r(46262),E=r(83109),f=function(e){var t,r,a,i,s=e.children,u=e.t,d=e.useMetricsSelector,E=(0,e.useProductGraphTallyQuery)()[h.O6.START_DATE],f=d(),v=f.pending,C=f.error,S=f.fulfilled,_=f.dataSets,M=(void 0===_?[]:_)[0]||{},T=M.data,I=void 0===T?[]:T,P=M.id,D=M.meta,A=void 0===D?{}:D,b=I[I.length-1]||{},G=b.date,R=b.hasData,B=b.y,F=I.find((function(e){return!0===e.isCurrentDate}))||{},N=F.date,k=F.hasData,x=F.y,H=A.totalMonthlyDate,L=A.totalMonthlyHasData,O=A.totalMonthlyValue,Z=g.toolbarFieldOptions.find((function(e){return e.title===E||e.value.startDate.toISOString()===E}))||{},U=Z.title,K=Z.isCurrent,Q=K?N:G,w=K?k:R,V=K?x:B;return n().createElement(l.Flex,{"data-test":"graphMetricTotals-".concat(c()(P)),className:"curiosity-usage-graph__totals"},n().createElement(l.Flex,{flex:{default:"flex_1"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},n().createElement(l.FlexItem,{className:"curiosity-usage-graph__totals-column"},n().createElement(l.Card,{"data-test":"graphDailyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(C?"blur":"")},n().createElement(l.CardTitle,null,u("curiosity-graph.cardHeadingMetric_dailyTotal",{context:P,month:U})),n().createElement(m.MinHeight,{key:"currentBody"},n().createElement(l.CardBody,null,n().createElement("div",null,v&&n().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),S&&u("curiosity-graph.cardBodyMetric_total",{context:w&&P||"",total:null===(t=y.BM.numberDisplay(V))||void 0===t||null===(r=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===r?void 0:r.toUpperCase()},[n().createElement("strong",{title:V,"aria-label":V})])))),n().createElement(m.MinHeight,{key:"currentFooter"},n().createElement(l.CardFooter,null,n().createElement("div",{className:w?"":"hidden"},S&&Q&&u("curiosity-graph.cardFooterMetric",{date:o().utc(Q).format(y.i3.timestampUTCTimeFormats.yearTimeShort)}))))),n().createElement(l.Card,{"data-test":"graphMonthlyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(C?"blur":"")},n().createElement(l.CardTitle,null,u("curiosity-graph.cardHeadingMetric_monthlyTotal",{context:P,month:U})),n().createElement(m.MinHeight,{key:"totalMonthlyBody"},n().createElement(l.CardBody,null,n().createElement("div",null,v&&n().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),S&&u("curiosity-graph.cardBodyMetric_total",{context:L&&P||"",total:null===(a=y.BM.numberDisplay(O))||void 0===a||null===(i=a.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===i?void 0:i.toUpperCase()},[n().createElement("strong",{title:O,"aria-label":O})])))),n().createElement(m.MinHeight,{key:"totalMonthlyFooter"},n().createElement(l.CardFooter,null,n().createElement("div",{className:L?"":"hidden"},S&&H&&u("curiosity-graph.cardFooterMetric",{date:o().utc(H).format(y.i3.timestampUTCTimeFormats.yearTimeShort)}))))))),n().createElement(l.Flex,{flex:{default:"flex_3"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},n().createElement(l.FlexItem,{className:"curiosity-usage-graph__totals-graph-column"},s)))};f.defaultProps={children:null,t:E.translate,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:u.useProductGraphTallyQuery}},11014:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,GraphCardMetrics:()=>u});var a=r(1413),n=r(29439),l=r(92950),i=r.n(l),o=r(91799),s=r(51858),c=r(25394),u=(r(46262),function(e){var t=e.metricFilters,r=e.useProductGraphConfig,s=(0,l.useState)({}),u=(0,n.Z)(s,2),d=u[0],m=u[1],p=r().settings;return(0,l.useEffect)((function(){m({settings:(0,a.Z)((0,a.Z)({},p),{},{isStandalone:!1,metric:void 0,metrics:t})})}),[t,p,m]),i().createElement(c.GraphCardContext.Provider,{value:d},i().createElement(o.GraphCardChart,null))});u.defaultProps={metricFilters:[],useProductGraphConfig:s.useProductGraphConfig}},29175:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T,ProductView:()=>T});var a=r(92950),n=r.n(a),l=r(45103),i=r(31369),o=r(3281),s=r(51858),c=r(52422),u=r(186),d=r(28341),m=r(10608),p=r(92227),y=r(88191),g=r(82195),h=r(76006),E=r(87585),f=r(49844),v=r(2738),C=r(69051),S=r(16696),_=r(46262),M=r(83109),T=function(e){var t=e.t,r=e.toolbarGraph,a=e.toolbarGraphDescription,o=(0,e.useRouteDetail)(),M=o.pathParameter,T=o.productParameter,I=o.productConfig;return n().createElement(c.PageLayout,null,n().createElement(c.PageHeader,{productLabel:T},t("curiosity-view.title",{appName:h.BM.UI_DISPLAY_NAME,context:T})),n().createElement(c.PageMessages,null,M!==_.WK.RHOSAK&&n().createElement(E.default,null)),n().createElement(c.PageColumns,null,I.map((function(e){return function(e){var o=e.graphTallyQuery,E=e.inventoryHostsQuery,M=e.inventorySubscriptionsQuery,T=e.query,I=e.initialGuestsFilters,P=e.initialInventoryFilters,D=e.initialInventorySettings,A=e.initialSubscriptionsInventoryFilters,b=e.productId,G=e.viewId;if(!b||!G)return null;var R=u.IT.parseRhsmQuery(T,{graphTallyQuery:o,inventoryHostsQuery:E,inventorySubscriptionsQuery:M}),B=R.graphTallyQuery,F=R.inventoryHostsQuery,N=null;a&&(N=n().createElement(l.Tooltip,{content:n().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:b})),position:l.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},n().createElement("sup",{className:"curiosity-icon__info"},n().createElement(i.ZP,null))));var k=n().createElement(n().Fragment,null,t("curiosity-graph.cardHeading",{context:b}),N);return n().createElement(s.ProductViewContext.Provider,{value:e,key:"product_".concat(b)},n().createElement(c.PageToolbar,null,n().createElement(p.Toolbar,null)),n().createElement(c.PageSection,null,b!==_.WK.RHOSAK&&n().createElement(d.ConnectedGraphCard,{key:"graph_".concat(b),query:B,productId:b,viewId:G,cardTitle:k},n().isValidElement(r)&&r||!1!==r&&n().createElement(v.ToolbarFieldGranularity,{position:f.SelectPosition.right})),b===_.WK.RHOSAK&&n().createElement(m.GraphCard,null)),n().createElement(c.PageSection,{className:b===_.WK.RHOSAK?"curiosity-page-section__tabs":""},n().createElement(C.default,{key:"inventory_".concat(b),productId:b,isDisabled:!P&&!A||h.BM.UI_DISABLED_TABLE},!h.BM.UI_DISABLED_TABLE_HOSTS&&b!==_.WK.RHOSAK&&P&&n().createElement(C.InventoryTab,{key:"inventory_hosts_".concat(b),title:t("curiosity-inventory.tabHosts",{context:["noInstances",b]})},n().createElement(y.ConnectedInventoryList,{key:"inv_".concat(b),filterGuestsData:I,filterInventoryData:P,productId:b,settings:D,query:F,viewId:G})),!h.BM.UI_DISABLED_TABLE_INSTANCES&&b===_.WK.RHOSAK&&P&&n().createElement(C.InventoryTab,{key:"inventory_instances_".concat(b),title:t("curiosity-inventory.tabInstances",{context:["noInstances",b]})},n().createElement(g.ConnectedInventoryCard,null)),!h.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&A&&n().createElement(C.InventoryTab,{key:"inventory_subs_".concat(b),title:t("curiosity-inventory.tabSubscriptions",{context:b})},n().createElement(S.InventoryCardSubscriptions,null)))))}(e)}))))};T.defaultProps={t:M.translate,toolbarGraph:null,toolbarGraphDescription:!1,useRouteDetail:o.Tu}},84944:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s,ProductViewOpenShiftDedicated:()=>s});var a=r(92950),n=r.n(a),l=r(29175),i=r(49844),o=r(65876),s=function(){return n().createElement(l.ProductView,{toolbarGraph:n().createElement(o.ToolbarFieldRangedMonthly,{position:i.SelectPosition.right}),toolbarGraphDescription:!0})};s.defaultProps={}}}]);
//# sourceMappingURL=../sourcemaps/4944.a23a64fc16ae05e2c2bc305d426e0379.js.map