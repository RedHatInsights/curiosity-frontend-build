"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[939,5394],{99171:function(t,e,r){r.r(e),r.d(e,{GraphCardChartTitleTooltip:function(){return d},default:function(){return d}});var n=r(92950),i=r.n(n),o=r(54653),u=r(1915),a=r(51858),s=r(25394),c=r(83109),d=function(t){var e=t.t,r=t.useGraphCardContext,n=(0,t.useProduct)().productId,a=r().settings,s=void 0===a?{}:a,c=s.isCardTitleDescription,d=s.isStandalone,l=s.metric;return c||null!=l&&l.isCardTitleDescription?i().createElement(o.Tooltip,{content:i().createElement("p",null,e("curiosity-graph.cardHeadingDescription",{context:d&&(null==l?void 0:l.id)||n})),position:o.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},i().createElement("span",{className:"curiosity-icon__question"},i().createElement(u.OutlinedQuestionCircleIcon,null))):null};d.defaultProps={t:c.translate,useProduct:a.useProduct,useGraphCardContext:s.useGraphCardContext}},25394:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return g},GraphCardContext:function(){return h},context:function(){return T},default:function(){return T},useGetMetrics:function(){return x},useGraphCardActions:function(){return S},useGraphCardContext:function(){return m},useMetricsSelector:function(){return G},useParseFiltersSettings:function(){return y}});var n=r(1413),i=r(45987),o=r(92950),u=r.n(o),a=r(17297),s=r(54653),c=r(82410),d=r(51858),l=r(70136),p=r(62834),v=r(78139),f=["error","fulfilled","pending","data"],C=["id","content"],g=[{settings:{isStandalone:!1,metrics:[],metric:void 0}},p.B.noop],h=u().createContext(g),m=function(){return(0,o.useContext)(h)},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProduct,r=void 0===e?d.useProduct:e,n=t.useProductGraphConfig,i=void 0===n?d.useProductGraphConfig:n,u=r(),a=u.productId,s=i(),c=s.filters,l=void 0===c?[]:c,p=s.settings,f=void 0===p?{}:p,C=(0,o.useMemo)((function(){return v.graphCardHelpers.generateChartSettings({filters:l,settings:f,productId:a})}),[l,f,a]),g=C.groupedFiltersSettings,h=C.standaloneFiltersSettings,m=void 0===h?[]:h;return{groupedFiltersSettings:g,standaloneFiltersSettings:m}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useGraphCardContext,r=void 0===e?m:e,o=t.useSelectorsResponse,u=void 0===o?c.Cr.reactRedux.useSelectorsResponse:o,a=r(),s=a.settings,d=void 0===s?{}:s,l=d.metrics,p=void 0===l?[]:l,v=u(p.map((function(t){var e=t.id,r=t.isCapacity;return function(t){var n,i,o=t.graph;return r?null===(n=o.capacity)||void 0===n?void 0:n[e]:null===(i=o.tally)||void 0===i?void 0:i[e]}}))),C=v.error,g=v.fulfilled,h=v.pending,y=v.data,G=void 0===y?[]:y,x=(0,i.Z)(v,f),S={},T=null==G?void 0:G.map((function(t,e){var r=(0,n.Z)((0,n.Z)({},p[e]),t);return S[p[e].id]=r,r}));return(0,n.Z)((0,n.Z)({},x),{},{data:S,dataSets:T,error:C,fulfilled:g,pending:h})},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getGraphMetrics,r=void 0===e?c.Ak.rhsm.getGraphMetrics:e,n=t.useDispatch,i=void 0===n?c.Cr.reactRedux.useDispatch:n,o=t.useGraphCardContext,u=void 0===o?m:o,s=t.useMetricsSelector,l=void 0===s?G:s,p=t.useProduct,v=void 0===p?d.useProduct:p,f=t.useProductGraphTallyQuery,C=void 0===f?d.useProductGraphTallyQuery:f,g=v(),h=g.productId,y=C(),x=i(),S=l(),T=u(),P=T.settings,E=void 0===P?{}:P,F=E.metrics,M=void 0===F?[]:F;return(0,a.Z)((function(){var t=M.map((function(t){var e=t.metric,r=t.isCapacity,n=t.query;return{id:h,metric:e,isCapacity:r,query:n}}));r(t,y)(x)}),[M,h,y]),S},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.categoryOptions,r=void 0===e?l.toolbarFieldOptions:e,n=t.useMetricsSelector,a=void 0===n?G:n,c=t.useGraphCardContext,d=void 0===c?m:c,v=a(),f=v.pending,g=v.dataSets,h=d(),y=h.settings,x=void 0===y?{}:y,S=x.actions;return(0,o.useMemo)((function(){return null==S?void 0:S.map((function(t){var e=t.id,n=t.content,o=(0,i.Z)(t,C),a=(r.find((function(t){var r=t.value;return e===r}))||{}).component;return a&&u().createElement(s.ToolbarItem,{key:"option-".concat(e)},u().createElement(a,Object.assign({isFilter:!1},o)))||n&&!f&&g.length&&u().createElement(s.ToolbarItem,{key:e||p.B.generateId()},"function"==typeof n?n({data:g}):n)||null}))}),[S,r,g,f])},T={GraphCardContext:h,DEFAULT_CONTEXT:g,useGetMetrics:x,useGraphCardActions:S,useGraphCardContext:m,useMetricsSelector:G,useParseFiltersSettings:y}}}]);
//# sourceMappingURL=../sourcemaps/939.955d68d9d5feb46cafbdacf50ca28ed1.js.map