"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[6587,8710,1339,353,8900,5020],{18710:function(e,t,n){n.r(t),n.d(t,{TextInput:function(){return p},default:function(){return p}});var r=n(87462),s=n(4942),o=n(92950),a=n.n(o),u=n(45697),i=n.n(u),l=n(90154),c=n(44044),d=n(76006);class p extends a().Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{updatedValue:null}),(0,s.Z)(this,"onKeyUp",(e=>{const{onClear:t,onKeyUp:n,type:r}=this.props,{currentTarget:s,keyCode:o}=e,a={...e};n((0,c.createMockEvent)(e,!0)),27===o&&("search"===r&&""===s.value?t((0,c.createMockEvent)(a)):this.setState({updatedValue:""},(()=>{t((0,c.createMockEvent)({...a,currentTarget:{...a.currentTarget,value:""}}))})))})),(0,s.Z)(this,"onMouseUp",(e=>{const{onClear:t,onMouseUp:n,type:r}=this.props,{currentTarget:s}=e,o={...e};n((0,c.createMockEvent)(e,!0)),"search"===r&&""!==s.value&&setTimeout((()=>{""===s.value&&t((0,c.createMockEvent)(o))}))})),(0,s.Z)(this,"onChange",((e,t)=>{const{onChange:n}=this.props,r={...t};this.setState({updatedValue:e},(()=>{n((0,c.createMockEvent)(r))}))}))}render(){var e;const{updatedValue:t}=this.state,{className:n,id:s,isDisabled:o,name:u,onChange:i,onClear:c,onKeyUp:p,onMouseUp:f,isReadOnly:y,type:v,value:m,...h}=this.props,g=u||d.helpers.generateId(),I=s||g;return a().createElement(l.TextInput,(0,r.Z)({id:I,name:g,className:"curiosity-text-input ".concat(n),isDisabled:o||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:y||!1,type:v,value:null!==(e=null!=t?t:m)&&void 0!==e?e:""},h))}}p.propTypes={className:i().string,id:i().string,isDisabled:i().bool,isReadOnly:i().bool,name:i().string,onChange:i().func,onClear:i().func,onKeyUp:i().func,onMouseUp:i().func,type:i().string,value:i().string},p.defaultProps={className:"",id:null,isDisabled:!1,isReadOnly:!1,name:null,onChange:d.helpers.noop,onClear:d.helpers.noop,onKeyUp:d.helpers.noop,onMouseUp:d.helpers.noop,type:"text",value:""}},76587:function(e,t,n){n.r(t),n.d(t,{InventoryCard:function(){return N},default:function(){return N}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(62179),i=n(40227),l=n(90154),c=n(48521),d=n(94184),p=n.n(d),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},f.apply(this,arguments)};function y(e){return"".concat(e,e>1||e<1?" Results":" Result")}var v=function(e){var t,n=e.isFooter,s=void 0!==n&&n,o=e.results,a=e.className,u=e.selected,i=e.children,d=e.ouiaId,v=e.ouiaSafe,m=void 0===v||v,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),g=p()("ins-c-table__toolbar",((t={})["ins-m-footer"]=s,t),a),I="RHI/TableToolbar",P=(0,l.useOUIAId)(I,d,m);return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(l.Toolbar,f({className:g,"data-ouia-component-type":I,"data-ouia-component-id":P,"data-ouia-safe":m},h,{children:i})),(o&&o>=0||u&&u>=0)&&(0,c.jsxs)("div",f({className:"ins-c-table__toolbar-results"},{children:[o&&o>=0&&(0,c.jsxs)("span",f({className:"ins-c-table__toolbar-results-count"},{children:[" ",y(o)," "]})),u&&u>=0&&(0,c.jsxs)("span",f({className:"ins-c-table__toolbar-results-selected"},{children:[" ",u," Selected "]}))]}))]})},m=n(98944),h=n(51858),g=n(76006),I=n(78697),P=n(1797),E=n(91339),O=n(15242),S=n(12243),b=n(68900),D=n(89517),C=n(65020),T=n(46262),_=n(83109),R=n(42896);const N=e=>{let{cardActions:t,isDisabled:n,perPageDefault:o,t:a,useGetInventory:c,useOnPage:d,useOnColumnSort:p,useProduct:f,useProductInventoryConfig:y,useProductInventoryQuery:m,useSession:h}=e;const[g,D]=(0,r.useState)({columnHeaders:[],rows:[]}),_=h(),R=m(),N=d(),H=p(),{productId:M}=f(),{filters:Y,settings:w}=y(),{error:x,fulfilled:U,pending:L,data:Q={}}=c({isDisabled:n}),{data:A=[],meta:k={}}=Q;if((0,u.Z)((()=>{let e=[],t=[];U&&A.length&&(t=A.map((t=>{let{...n}=t;const{columnHeaders:r,cells:o}=S.inventoryCardHelpers.parseRowCellsListData({filters:S.inventoryCardHelpers.parseInventoryFilters({filters:Y,onSort:H,query:R}),cellData:n,meta:k,session:_,productId:M});e=r;const a=null==n?void 0:n.subscriptionManagerId,u=null==n?void 0:n.numberOfGuests;let i;return i="function"==typeof(null==w?void 0:w.hasSubTable)?w.hasSubTable({...n},{..._}):u>0&&a,{cells:o,expandedContent:i&&s().createElement(O.InventoryGuests,{key:"guests-".concat(a),numberOfGuests:u,id:a})||void 0}}))),D((()=>({columnHeaders:e,rows:t})))}),[Y,U,A]),n)return s().createElement(l.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(l.CardBody,null,s().createElement(l.Bullseye,null,a("curiosity-inventory.tab",{context:"disabled"}))));const F=null==k?void 0:k.count,V=R[T.O6.LIMIT]||o,G=R[T.O6.OFFSET],j=C.paginationHelpers.isLastPage(G,V,F),q=!0===U&&F<V&&"bodyMinHeight-".concat(V,"-resize")||!0===U&&j&&"bodyMinHeight-".concat(V,"-resize")||!0===x&&"bodyMinHeight-".concat(V,"-resize")||"bodyMinHeight-".concat(V);return s().createElement(l.Card,{className:"curiosity-inventory-card"},s().createElement(E.MinHeight,{key:"headerMinHeight"},s().createElement(l.CardHeader,{className:x?"hidden":"","aria-hidden":x||!1},t,s().createElement(l.CardActions,{className:F?"":"transparent","aria-hidden":!F||!1},s().createElement(b.default,{isCompact:!0,isDisabled:L||x,itemCount:F,offset:G,onPage:N,onPerPage:N,perPage:V})))),s().createElement(E.MinHeight,{key:q},s().createElement(l.CardBody,null,s().createElement("div",{className:(x?"blur":L&&"fadein")||""},L&&s().createElement(P.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==Y?void 0:Y.length)||(null==A?void 0:A[0])&&Object.keys(A[0]).length||1,colWidth:(null==Y?void 0:Y.length)&&Y.map((e=>{let{cellWidth:t}=e;return t}))||[],rowCount:(null==A?void 0:A.length)||V,variant:i.TableVariant.compact}}),!L&&s().createElement(I.default,{borders:!0,variant:i.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:g.columnHeaders,rows:g.rows})))),s().createElement(E.MinHeight,{key:"footerMinHeight"},s().createElement(l.CardFooter,{className:(x?"hidden":!F&&"transparent")||"","aria-hidden":x||!F||!1},s().createElement(v,{isFooter:!0},s().createElement(b.default,{dropDirection:"up",isDisabled:L||x,itemCount:F,offset:G,onPage:N,onPerPage:N,perPage:V})))))};N.propTypes={cardActions:a().node,isDisabled:a().bool,perPageDefault:a().number,t:a().func,useGetInventory:a().func,useOnPage:a().func,useOnColumnSort:a().func,useProduct:a().func,useProductInventoryConfig:a().func,useProductInventoryQuery:a().func,useSession:a().func},N.defaultProps={cardActions:s().createElement(l.CardHeaderMain,null,s().createElement(D.ToolbarFieldDisplayName,null)),isDisabled:g.helpers.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:_.translate,useGetInventory:R.useGetInstancesInventory,useOnPage:R.useOnPageInstances,useOnColumnSort:R.useOnColumnSortInstances,useProduct:h.useProduct,useProductInventoryConfig:h.useProductInventoryHostsConfig,useProductInventoryQuery:h.useProductInventoryHostsQuery,useSession:m.useSession}},42896:function(e,t,n){n.r(t),n.d(t,{context:function(){return m},default:function(){return m},useGetHostsInventory:function(){return d},useGetInstancesInventory:function(){return p},useOnColumnSortHosts:function(){return y},useOnColumnSortInstances:function(){return v},useOnPageInstances:function(){return f}});var r=n(17297),s=n(68929),o=n.n(s),a=n(40227),u=n(82410),i=n(51858),l=n(46262),c=n(76006);const d=function(){let{isDisabled:e=!1,getInventory:t=u.Ak.rhsm.getHostsInventory,useDispatch:n=u.Cr.reactRedux.useDispatch,useProduct:s=i.useProduct,useProductInventoryQuery:o=i.useProductInventoryHostsQuery,useSelectorsResponse:a=u.Cr.reactRedux.useSelectorsResponse}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:l}=s(),c=o(),d=n(),{cancelled:p,pending:f,data:y,...v}=a((e=>{var t;let{inventory:n}=e;return null==n||null===(t=n.hostsInventory)||void 0===t?void 0:t[l]}));return(0,r.Z)((()=>{e||t(l,c)(d)}),[d,e,l,c]),{...v,pending:f||p||!1,data:1===(null==y?void 0:y.length)&&y[0]||y||{}}},p=function(){let{isDisabled:e=!1,getInventory:t=u.Ak.rhsm.getInstancesInventory,useDispatch:n=u.Cr.reactRedux.useDispatch,useProduct:s=i.useProduct,useProductInventoryQuery:o=i.useProductInventoryHostsQuery,useSelectorsResponse:a=u.Cr.reactRedux.useSelectorsResponse}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:l}=s(),c=o(),d=n(),{cancelled:p,pending:f,data:y,...v}=a((e=>{var t;let{inventory:n}=e;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[l]}));return(0,r.Z)((()=>{e||t(l,c)(d)}),[d,e,l,c]),{...v,pending:f||p||!1,data:1===(null==y?void 0:y.length)&&y[0]||y||{}}},f=function(){let{useDispatch:e=u.Cr.reactRedux.useDispatch,useProduct:t=i.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:n}=t(),r=e();return e=>{let{offset:t,perPage:s}=e;r([{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.OFFSET],viewId:n,[l.O6.OFFSET]:t},{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.LIMIT],viewId:n,[l.O6.LIMIT]:s}])}},y=function(){let{sortColumns:e=l.$k,useDispatch:t=u.Cr.reactRedux.useDispatch,useProduct:n=i.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:r}=n(),s=t();return(t,n)=>{let{direction:i,id:d}=n;const p=Object.values(e).find((e=>e===d||o()(e)===d));let f;p?(f=i===a.SortByDirection.desc?l.PQ.DESCENDING:l.PQ.ASCENDING,s([{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.DIRECTION],viewId:r,[l.O6.DIRECTION]:f},{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.SORT],viewId:r,[l.O6.SORT]:p}])):(c.helpers.DEV_MODE||c.helpers.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(d," is allowed."))}},v=function(){let{sortColumns:e=l.xB,useDispatch:t=u.Cr.reactRedux.useDispatch,useProduct:n=i.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:r}=n(),s=t();return(t,n)=>{let{direction:i,id:d}=n;const p=Object.values(e).find((e=>e===d||o()(e)===d));let f;p?(f=i===a.SortByDirection.desc?l.PQ.DESCENDING:l.PQ.ASCENDING,s([{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.DIRECTION],viewId:r,[l.O6.DIRECTION]:f},{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.SORT],viewId:r,[l.O6.SORT]:p}])):(c.helpers.DEV_MODE||c.helpers.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(d," is allowed."))}},m={useGetHostsInventory:d,useGetInstancesInventory:p,useOnPageInstances:f,useOnColumnSortHosts:y,useOnColumnSortInstances:v}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return i},default:function(){return i}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(70725);const i=e=>{let{children:t,isOnLoad:n,minHeight:o,useResizeObserver:a}=e;const[u,i]=(0,r.useState)({containerWidth:void 0,isLoaded:!1}),l=(0,r.useRef)(null),c=(0,r.useRef)(null),{height:d,width:p}=a(l);return(0,r.useEffect)((()=>{if(!n||n&&!u.isLoaded){const{current:e={}}=l,{current:t={}}=c;if(null!=e&&e.style){let r=(null==t?void 0:t.clientHeight)||0;o>d&&(r=o),e.style.minHeight="".concat(r,"px"),i((()=>({containerWidth:p,isLoaded:n,updatedHeight:r})))}}}),[d,p,l,c,n,o,u.isLoaded]),s().createElement("div",{className:"curiosity-minheight",ref:l},s().createElement("div",{className:"curiosity-minheight__inner",ref:c},t))};i.propTypes={children:a().node.isRequired,minHeight:a().number,isOnLoad:a().bool,useResizeObserver:a().func},i.defaultProps={isOnLoad:!1,minHeight:0,useResizeObserver:u.yU}},68900:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return c},default:function(){return c}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(90154),i=n(76006),l=n(65020);const c=e=>{let{dropDirection:t,isDisabled:n,isCompact:r,itemCount:o,offset:a,onPage:i,onPerPage:d,perPage:p,variant:f}=e;return s().createElement(u.Pagination,{dropDirection:t,isCompact:r,isDisabled:n||!o,itemCount:o,onSetPage:(e,t,n)=>i({event:e,perPage:n,offset:l.paginationHelpers.calculateOffsetFromPage(t,n)}),onPerPageSelect:(e,t)=>d({event:e,perPage:t,offset:c.defaultProps.offset}),page:l.paginationHelpers.calculatePageFromOffset(a||c.defaultProps.offset,p),perPage:p,variant:f})};c.propTypes={dropDirection:a().oneOf(["up","down"]),isCompact:a().bool,isDisabled:a().bool,itemCount:a().number,offset:a().number,onPage:a().func,onPerPage:a().func,perPage:a().number,variant:a().string},c.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:i.helpers.noop,onPerPage:i.helpers.noop,perPage:10,variant:null}},65020:function(e,t,n){n.r(t),n.d(t,{calculateOffsetFromPage:function(){return r},calculatePageFromOffset:function(){return s},default:function(){return a},isLastPage:function(){return o},paginationHelpers:function(){return a}});const r=(e,t)=>t*(e-1)||0,s=(e,t)=>e/t+1||1,o=(e,t,n)=>s(e,t)===Math.ceil(n/t),a={calculateOffsetFromPage:r,calculatePageFromOffset:s,isLastPage:o}},89517:function(e,t,n){n.r(t),n.d(t,{ToolbarFieldDisplayName:function(){return v},default:function(){return v}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(90154),i=n(23279),l=n.n(i),c=n(82410),d=n(51858),p=n(18710),f=n(46262),y=n(83109);const v=e=>{let{t:t,useDispatch:n,useProduct:r,useProductInventoryHostsQuery:o}=e;const{viewId:a}=r(),{[f.O6.DISPLAY_NAME]:i}=o(),d=n(),y=e=>d([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:a},{type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[f.O6.DISPLAY_NAME],viewId:a,[f.O6.DISPLAY_NAME]:(null==e?void 0:e.trim())||null}]),v=l()(y,700);return s().createElement(u.InputGroup,null,s().createElement(p.TextInput,{"aria-label":t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:()=>{""!==i&&i&&d([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:a},{type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[f.O6.DISPLAY_NAME],viewId:a,[f.O6.DISPLAY_NAME]:null}])},onKeyUp:e=>{switch(e.keyCode){case 13:y(e.value);break;case 27:break;default:v(e.value)}},value:i,placeholder:t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),"data-test":"toolbarFieldDisplayName"}))};v.propTypes={t:a().func,useDispatch:a().func,useProduct:a().func,useProductInventoryHostsQuery:a().func},v.defaultProps={t:y.translate,useDispatch:c.Cr.reactRedux.useDispatch,useProduct:d.useProduct,useProductInventoryHostsQuery:d.useProductInventoryHostsQuery}}}]);
//# sourceMappingURL=../sourcemaps/6587.acac5afd2de138a6414e66b50903b698.js.map