"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[6587,8900,5020],{76587:function(e,t,n){n.r(t),n.d(t,{InventoryCard:function(){return N},default:function(){return N}});var r=n(92950),o=n.n(r),s=n(45697),a=n.n(s),u=n(62179),i=n(40227),c=n(90154),l=n(48521),d=n(94184),f=n.n(d),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};function m(e){return"".concat(e,e>1||e<1?" Results":" Result")}var g=function(e){var t,n=e.isFooter,o=void 0!==n&&n,s=e.results,a=e.className,u=e.selected,i=e.children,d=e.ouiaId,g=e.ouiaSafe,P=void 0===g||g,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),v=f()("ins-c-table__toolbar",((t={})["ins-m-footer"]=o,t),a),I="RHI/TableToolbar",O=(0,c.useOUIAId)(I,d,P);return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(c.Toolbar,p({className:v,"data-ouia-component-type":I,"data-ouia-component-id":O,"data-ouia-safe":P},y,{children:i})),(s&&s>=0||u&&u>=0)&&(0,l.jsxs)("div",p({className:"ins-c-table__toolbar-results"},{children:[s&&s>=0&&(0,l.jsxs)("span",p({className:"ins-c-table__toolbar-results-count"},{children:[" ",m(s)," "]})),u&&u>=0&&(0,l.jsxs)("span",p({className:"ins-c-table__toolbar-results-selected"},{children:[" ",u," Selected "]}))]}))]})},P=n(98944),y=n(51858),v=n(76006),I=n(78697),O=n(1797),b=n(91339),h=n(15242),E=n(12243),S=n(68900),C=n(89517),D=n(65020),T=n(46262),_=n(83109),H=n(42896);const N=e=>{let{cardActions:t,isDisabled:n,perPageDefault:s,t:a,useGetInventory:l,useOnPage:d,useOnColumnSort:f,useProduct:p,useProductInventoryConfig:m,useProductInventoryQuery:P,useSession:y}=e;const[v,C]=(0,r.useState)({columnHeaders:[],rows:[]}),_=y(),H=P(),N=d(),R=f(),{productId:w}=p(),{filters:M,settings:F}=m(),{error:x,fulfilled:j,pending:Q,data:Y={}}=l({isDisabled:n}),{data:G=[],meta:k={}}=Y;if((0,u.Z)((()=>{let e=[],t=[];j&&G.length&&(t=G.map((t=>{let{...n}=t;const{columnHeaders:r,cells:s}=E.inventoryCardHelpers.parseRowCellsListData({filters:E.inventoryCardHelpers.parseInventoryFilters({filters:M,onSort:R,query:H}),cellData:n,meta:k,session:_,productId:w});let a;if(e=r,"function"==typeof(null==F?void 0:F.guestContent)){const e=null==F?void 0:F.guestContent({...n},{..._});e&&(a=o().createElement(h.InventoryGuests,{key:"guests-".concat(e),id:e,numberOfGuests:n.numberOfGuests}))}return{cells:s,expandedContent:a}}))),C((()=>({columnHeaders:e,rows:t})))}),[M,j,G]),n)return o().createElement(c.Card,{className:"curiosity-inventory-card__disabled"},o().createElement(c.CardBody,null,o().createElement(c.Bullseye,null,a("curiosity-inventory.tab",{context:"disabled"}))));const A=null==k?void 0:k.count,L=H[T.O6.LIMIT]||s,V=H[T.O6.OFFSET],B=D.paginationHelpers.isLastPage(V,L,A),U=!0===j&&A<L&&"bodyMinHeight-".concat(L,"-resize")||!0===j&&B&&"bodyMinHeight-".concat(L,"-resize")||!0===x&&"bodyMinHeight-".concat(L,"-resize")||"bodyMinHeight-".concat(L);return o().createElement(c.Card,{className:"curiosity-inventory-card"},o().createElement(b.MinHeight,{key:"headerMinHeight"},o().createElement(c.CardHeader,{className:x?"hidden":"","aria-hidden":x||!1},t,o().createElement(c.CardActions,{className:A?"":"transparent","aria-hidden":!A||!1},o().createElement(S.default,{isCompact:!0,isDisabled:Q||x,itemCount:A,offset:V,onPage:N,onPerPage:N,perPage:L})))),o().createElement(b.MinHeight,{key:U},o().createElement(c.CardBody,null,o().createElement("div",{className:(x?"blur":Q&&"fadein")||""},Q&&o().createElement(O.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==M?void 0:M.length)||(null==G?void 0:G[0])&&Object.keys(G[0]).length||1,colWidth:(null==M?void 0:M.length)&&M.map((e=>{let{cellWidth:t}=e;return t}))||[],rowCount:(null==G?void 0:G.length)||L,variant:i.TableVariant.compact}}),!Q&&o().createElement(I.default,{borders:!0,variant:i.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:v.columnHeaders,rows:v.rows})))),o().createElement(b.MinHeight,{key:"footerMinHeight"},o().createElement(c.CardFooter,{className:(x?"hidden":!A&&"transparent")||"","aria-hidden":x||!A||!1},o().createElement(g,{isFooter:!0},o().createElement(S.default,{dropDirection:"up",isDisabled:Q||x,itemCount:A,offset:V,onPage:N,onPerPage:N,perPage:L})))))};N.propTypes={cardActions:a().node,isDisabled:a().bool,perPageDefault:a().number,t:a().func,useGetInventory:a().func,useOnPage:a().func,useOnColumnSort:a().func,useProduct:a().func,useProductInventoryConfig:a().func,useProductInventoryQuery:a().func,useSession:a().func},N.defaultProps={cardActions:o().createElement(c.CardHeaderMain,null,o().createElement(C.ToolbarFieldDisplayName,null)),isDisabled:v.helpers.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:_.translate,useGetInventory:H.useGetInstancesInventory,useOnPage:H.useOnPageInstances,useOnColumnSort:H.useOnColumnSortInstances,useProduct:y.useProduct,useProductInventoryConfig:y.useProductInventoryHostsConfig,useProductInventoryQuery:y.useProductInventoryHostsQuery,useSession:P.useSession}},42896:function(e,t,n){n.r(t),n.d(t,{context:function(){return m},default:function(){return m},useGetInstancesInventory:function(){return d},useOnColumnSortInstances:function(){return p},useOnPageInstances:function(){return f}});var r=n(17297),o=n(68929),s=n.n(o),a=n(40227),u=n(82410),i=n(51858),c=n(46262),l=n(76006);const d=function(){let{isDisabled:e=!1,getInventory:t=u.Ak.rhsm.getInstancesInventory,useDispatch:n=u.Cr.reactRedux.useDispatch,useProduct:o=i.useProduct,useProductInventoryQuery:s=i.useProductInventoryHostsQuery,useSelectorsResponse:a=u.Cr.reactRedux.useSelectorsResponse}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:c}=o(),l=s(),d=n(),{cancelled:f,pending:p,data:m,...g}=a((e=>{var t;let{inventory:n}=e;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[c]}));return(0,r.Z)((()=>{e||t(c,l)(d)}),[d,e,c,l]),{...g,pending:p||f||!1,data:1===(null==m?void 0:m.length)&&m[0]||m||{}}},f=function(){let{useDispatch:e=u.Cr.reactRedux.useDispatch,useProduct:t=i.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:n}=t(),r=e();return e=>{let{offset:t,perPage:o}=e;r([{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.OFFSET],viewId:n,[c.O6.OFFSET]:t},{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.LIMIT],viewId:n,[c.O6.LIMIT]:o}])}},p=function(){let{sortColumns:e=c.xB,useDispatch:t=u.Cr.reactRedux.useDispatch,useProduct:n=i.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:r}=n(),o=t();return(t,n)=>{let{direction:i,id:d}=n;const f=Object.values(e).find((e=>e===d||s()(e)===d));let p;f?(p=i===a.SortByDirection.desc?c.PQ.DESCENDING:c.PQ.ASCENDING,o([{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.DIRECTION],viewId:r,[c.O6.DIRECTION]:p},{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.SORT],viewId:r,[c.O6.SORT]:f}])):(l.helpers.DEV_MODE||l.helpers.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(d," is allowed."))}},m={useGetInstancesInventory:d,useOnPageInstances:f,useOnColumnSortInstances:p}},68900:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return l},default:function(){return l}});var r=n(92950),o=n.n(r),s=n(45697),a=n.n(s),u=n(90154),i=n(76006),c=n(65020);const l=e=>{let{dropDirection:t,isDisabled:n,isCompact:r,itemCount:s,offset:a,onPage:i,onPerPage:d,perPage:f,variant:p}=e;return o().createElement(u.Pagination,{dropDirection:t,isCompact:r,isDisabled:n||!s,itemCount:s,onSetPage:(e,t,n)=>i({event:e,perPage:n,offset:c.paginationHelpers.calculateOffsetFromPage(t,n)}),onPerPageSelect:(e,t)=>d({event:e,perPage:t,offset:l.defaultProps.offset}),page:c.paginationHelpers.calculatePageFromOffset(a||l.defaultProps.offset,f),perPage:f,variant:p})};l.propTypes={dropDirection:a().oneOf(["up","down"]),isCompact:a().bool,isDisabled:a().bool,itemCount:a().number,offset:a().number,onPage:a().func,onPerPage:a().func,perPage:a().number,variant:a().string},l.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:i.helpers.noop,onPerPage:i.helpers.noop,perPage:10,variant:null}},65020:function(e,t,n){n.r(t),n.d(t,{calculateOffsetFromPage:function(){return r},calculatePageFromOffset:function(){return o},default:function(){return a},isLastPage:function(){return s},paginationHelpers:function(){return a}});const r=(e,t)=>t*(e-1)||0,o=(e,t)=>e/t+1||1,s=(e,t,n)=>o(e,t)===Math.ceil(n/t),a={calculateOffsetFromPage:r,calculatePageFromOffset:o,isLastPage:s}}}]);
//# sourceMappingURL=../sourcemaps/6587.7f7bfbc1edf11ea1bffcf756a537f72c.js.map