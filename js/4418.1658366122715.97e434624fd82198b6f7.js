"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4418,1858],{64418:(t,e,i)=>{i.r(e),i.d(e,{default:()=>v,GraphCardChartLegend:()=>v});var r=i(96985),n=i.n(r),o=i(75857),u=i(89048),s=i(51858),a=i(61072),l=i(76006),c=i(83109),d=i(1138),v=function(t){var e=t.chart,i=t.datum,r=t.t,s=t.useDispatch,l=t.useSelectors,c=(0,t.useProduct)(),v=c.productLabel,y=c.viewId,p=s(),h=l(i.dataSets.map((function(t){var e=t.id;return function(t){var i;return null===(i=t.graph.legend)||void 0===i?void 0:i["".concat(y,"-").concat(e)]}})));(0,u.Z)((function(){i.dataSets.forEach((function(t,i){var r=t.id;((null==h?void 0:h[i])||e.isToggled(r))&&e.hide(r)}))}));var f=function(t){var i=e.toggle(t);p({type:a.JD.graph.SET_GRAPH_LEGEND,id:"".concat(y,"-").concat(t),value:i})};return n().createElement(n().Fragment,null,i.dataSets.map((function(t,i){var u=t.id,s=t.isThreshold,a=t.stroke,l=t.data,c=!(void 0===l?[]:l).find((function(t){var e=t.y,i=t.hasData;return e>=0&&!0===i||e>=0&&!0===s}))||!1,y=r(["curiosity-graph.label_".concat(s?"threshold":u),"curiosity-graph.label_no"],{product:v,context:v}),p=r("curiosity-graph.legendTooltip".concat(s?"_threshold":"","_").concat(u),{product:v,context:v},[n().createElement("span",{style:{whiteSpace:"nowrap"}})]),g=(null==h?void 0:h[i])||e.isToggled(u),S=n().createElement(o.Button,{onClick:function(){return f(u)},onKeyPress:function(){return f(u)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(u),variant:"link",component:"a",isDisabled:c,icon:(c||g)&&n().createElement(d.ChartIcon,{symbol:"eyeSlash"})||n().createElement(d.ChartIcon,{symbol:s?"dash":"square",style:{visibility:c||g?"hidden":"visible"},fill:a})},y);return p?n().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(u),content:n().createElement("p",null,p),position:o.TooltipPosition.top,enableFlip:!0,distance:5},S):S})))};v.defaultProps={chart:{hide:l.BM.noop,toggle:l.BM.noop,isToggled:l.BM.noop},datum:{dataSets:[]},t:c.translate,useDispatch:a.Cr.reactRedux.useDispatch,useSelectors:a.Cr.reactRedux.useSelectors,useProduct:s.useProduct}},51858:(t,e,i)=>{i.r(e),i.d(e,{default:()=>G,context:()=>G,ProductViewContext:()=>h,DEFAULT_CONTEXT:()=>p,useProductContext:()=>E,useProductQuery:()=>S,useProductQueryFactory:()=>g,useProductGraphTallyQuery:()=>C,useProductInventoryGuestsQuery:()=>I,useProductInventoryHostsQuery:()=>P,useProductInventorySubscriptionsQuery:()=>T,useProduct:()=>_,useProductGraphConfig:()=>b,useProductInventoryGuestsConfig:()=>F,useProductInventoryHostsConfig:()=>Q,useProductInventorySubscriptionsConfig:()=>x,useProductToolbarConfig:()=>m});var r=i(45987),n=i(4942),o=i(1413),u=i(96985),s=i.n(u),a=i(12723),l=i(2606),c=i(30446),d=i(46262),v=i(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],p=[{},v.B.noop],h=s().createContext(p),f=function(){return(0,u.useContext)(h)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.overrideId,r=e.useProductViewContext,n=void 0===r?f:r,u=n(),s=u[t],a=u.productId,c=u.viewId,d=l.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[i]}),void 0),v=l.Cr.reactRedux.useSelector((function(e){var i,r=e.view;return null==r||null===(i=r[t])||void 0===i?void 0:i[a]}),void 0),y=l.Cr.reactRedux.useSelector((function(e){var i,r=e.view;return null==r||null===(i=r[t])||void 0===i?void 0:i[c]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),d),v),y)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"query":e,r=t.options;return g(i,r)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"graphTallyQuery":e,r=t.schemaCheck,n=void 0===r?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:r,u=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(i,u)),n)},I=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.defaultLimit,r=void 0===i?100:i,u=e.defaultOffset,s=void 0===u?0:u,l=e.queryType,v=void 0===l?"inventoryGuestsQuery":l,y=e.schemaCheck,p=void 0===y?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,h=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,n.Z)(t,d.O6.LIMIT,r),(0,n.Z)(t,d.O6.OFFSET,s),t),S()),g(v,h)),p)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"inventoryHostsQuery":e,r=t.schemaCheck,n=void 0===r?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(i,u)),n)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"inventorySubscriptionsQuery":e,r=t.schemaCheck,n=void 0===r?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(i,u)),n)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,i=void 0===e?S:e,n=t.useProductViewContext,s=void 0===n?f:n,a=i(),l=a[c.VN.UOM],d=s(),v=d.initialGraphFilters,p=void 0===v?[]:v,h=d.initialInventoryFilters,g=void 0===h?[]:h,C=d.initialSubscriptionsInventoryFilters,I=void 0===C?[]:C,P=d.productContextFilterUom,T=(0,r.Z)(d,y),E=(0,u.useCallback)((function(){if(!0===P){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:p.filter(t),initialInventoryFilters:g.filter(t),initialSubscriptionsInventoryFilters:I.filter(t)})}return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:p,initialInventoryFilters:g,initialSubscriptionsInventoryFilters:I})}),[T,p,g,I,P,l]);return E()},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,i=void 0===e?f:e,r=i(),n=r.productGroup,o=r.productId,u=r.productLabel,s=r.viewId;return{productGroup:n,productId:o,productLabel:u,viewId:s}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,r=i(),n=r.initialGraphFilters,o=r.initialGraphSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,r=i(),n=r.inventoryGuestsQuery,o=void 0===n?{}:n,u=r.initialGuestsFilters,s=r.initialGuestsSettings,a=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:a}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,r=i(),n=r.initialInventoryFilters,o=r.initialInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,r=i(),n=r.initialSubscriptionsInventoryFilters,o=r.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,r=i(),n=r.initialToolbarFilters,o=r.initialToolbarSettings,u=void 0===o?{}:o,s=r.initialSecondaryToolbarFilters;return{filters:n,secondaryFilters:s,settings:u}},G={ProductViewContext:h,DEFAULT_CONTEXT:p,useProductContext:E,useQuery:S,useQueryFactory:g,useGraphTallyQuery:C,useInventoryGuestsQuery:I,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:T,useProduct:_,useGraphConfig:b,useInventoryGuestsConfig:F,useInventoryHostsConfig:Q,useInventorySubscriptionsConfig:x,useToolbarConfig:m}}}]);
//# sourceMappingURL=../sourcemaps/4418.5b995026091917e55a21596d649675b6.js.map