(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7191,1138,8139,1339,2085],{1138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,ChartIcon:()=>o});var a=r(96985),n=r.n(a),i=r(36100),o=function(e){var t=e.fill,r=e.symbol,a=e.size,o=e.title,l={},c={size:a,title:o},s=function(e){switch(e){case"md":return"1.5em";case"lg":return"2em";case"xl":return"3em";default:return"1em"}}(a);return o?l["aria-labelledby"]=o:l["aria-hidden"]=!0,t&&(c.color=t),n().createElement("span",{className:"curiosity-chartarea__icon curiosity-chartarea__icon-".concat(r)},function(){switch(r){case"dash":return n().createElement("span",{style:{width:s,height:"".concat(Number.parseFloat(s)/2,"em")}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 38 10",role:"img"},l),n().createElement("rect",{y:"5",width:"10",height:"10",fill:t}),n().createElement("rect",{x:"14",y:"5",width:"10",height:"10",fill:t}),n().createElement("rect",{x:"28",y:"5",width:"10",height:"10",fill:t})));case"threshold":return n().createElement("span",{style:{width:"".concat(2*Number.parseFloat(s),"em"),height:s}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 18 10",role:"img"},l),n().createElement("line",{x1:0,y1:16*Number.parseFloat(s)/2,x2:16*Number.parseFloat(s)*3,y2:16*Number.parseFloat(s)/2,stroke:t,strokeWidth:3,strokeDasharray:"4,3"})));case"eye":return n().createElement(i.EyeIcon,c);case"eyeSlash":return n().createElement(i.EyeSlashIcon,c);case"infinity":return n().createElement(i.InfinityIcon,c);default:return n().createElement(i.SquareIcon,c)}}())};o.defaultProps={fill:null,size:"sm",symbol:"square",title:null}},64418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,GraphCardChartLegend:()=>h});var a=r(96985),n=r.n(a),i=r(75857),o=r(89048),l=r(51858),c=r(20169),s=r(76006),u=r(83109),d=r(1138),h=function(e){var t=e.chart,r=e.datum,a=e.t,l=e.useDispatch,s=e.useSelectors,u=(0,e.useProduct)(),h=u.productLabel,m=u.viewId,p=l(),v=s(r.dataSets.map((function(e){var t=e.id;return function(e){var r;return null===(r=e.graph.legend)||void 0===r?void 0:r["".concat(m,"-").concat(t)]}})));(0,o.Z)((function(){r.dataSets.forEach((function(e,r){var a=e.id;((null==v?void 0:v[r])||t.isToggled(a))&&t.hide(a)}))}));var y=function(e){var r=t.toggle(e);p({type:c.JD.graph.SET_GRAPH_LEGEND,id:"".concat(m,"-").concat(e),value:r})};return n().createElement(n().Fragment,null,r.dataSets.map((function(e,r){var o=e.id,l=e.isThreshold,c=e.stroke,s=e.data,u=!(void 0===s?[]:s).find((function(e){var t=e.y,r=e.hasData;return t>=0&&!0===r||t>=0&&!0===l}))||!1,m=a(["curiosity-graph.label_".concat(l?"threshold":o),"curiosity-graph.label_no"],{product:h,context:h}),p=a("curiosity-graph.legendTooltip".concat(l?"_threshold":"","_").concat(o),{product:h,context:h},[n().createElement("span",{style:{whiteSpace:"nowrap"}})]),f=(null==v?void 0:v[r])||t.isToggled(o),g=n().createElement(i.Button,{onClick:function(){return y(o)},onKeyPress:function(){return y(o)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(o),variant:"link",component:"a",isDisabled:u,icon:(u||f)&&n().createElement(d.ChartIcon,{symbol:"eyeSlash"})||n().createElement(d.ChartIcon,{symbol:l?"dash":"square",style:{visibility:u||f?"hidden":"visible"},fill:c})},m);return p?n().createElement(i.Tooltip,{key:"curiosity-tooltip-".concat(o),content:n().createElement("p",null,p),position:i.TooltipPosition.top,enableFlip:!0,distance:5},g):g})))};h.defaultProps={chart:{hide:s.BM.noop,toggle:s.BM.noop,isToggled:s.BM.noop},datum:{dataSets:[]},t:u.translate,useDispatch:c.Cr.reactRedux.useDispatch,useSelectors:c.Cr.reactRedux.useSelectors,useProduct:l.useProduct}},44024:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,GraphCardChartTooltip:()=>d});var a=r(96985),n=r.n(a),i=r(51858),o=r(78139),l=r(83109),c=r(1138),s=r(46262),u=r(76006),d=function(e){var t=e.datum,r=e.t,a=e.useProduct,i=e.useProductGraphTallyQuery,l=a().productLabel,d=i()[s.O6.GRANULARITY],h=null,m=[],p=(t||{}).itemsByKey,v=void 0===p?{}:p;return Object.keys(v).reverse().forEach((function(e,t){var a,i,s,u;0===t&&(h=(0,o.getTooltipDate)({date:null===(u=v[e])||void 0===u?void 0:u.data.date,granularity:d}));var p={color:null===(a=v[e])||void 0===a?void 0:a.color};if("threshold"===(null===(i=v[e])||void 0===i?void 0:i.chartType)){var y,f,g,E=null!==(y=null===(f=v[e])||void 0===f?void 0:f.data.y)&&void 0!==y?y:r("curiosity-graph.label_noData");null!==(g=v[e])&&void 0!==g&&g.data.hasInfinite&&(E=p.color?n().createElement(c.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),p.label=r("curiosity-graph.label_threshold"),p.value=E}else{var b,T,k=!1===(null===(b=v[e])||void 0===b?void 0:b.data.hasData)&&r("curiosity-graph.label_noData")||(null===(T=v[e])||void 0===T?void 0:T.data.y)||0;p.label=r("curiosity-graph.label",{context:e,product:l}),p.value=k}p.chartType=null===(s=v[e])||void 0===s?void 0:s.chartType,m.push(p)})),n().createElement("div",{className:"curiosity-usage-graph__tooltip"},n().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},m.length&&h&&n().createElement("thead",null,n().createElement("tr",null,n().createElement("th",{colSpan:2},h)))||null,m.length&&n().createElement("tbody",null,m.map((function(e){var t,r,a="number"==typeof e.value&&!Number.isInteger(e.value)&&(null===(t=u.BM.numberDisplay(e.value))||void 0===t||null===(r=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||e.value;return n().createElement("tr",{key:"tooltip-".concat(e.label)},n().createElement("th",null,"threshold"===e.chartType&&n().createElement(c.ChartIcon,{size:"sm",symbol:"dash",fill:e.color||"transparent"}),"threshold"!==e.chartType&&n().createElement(c.ChartIcon,{size:"sm",fill:e.color||"transparent"})," ",e.label),n().createElement("td",null,a))})))||null),!m.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};d.defaultProps={datum:{},t:l.translate,useProduct:i.useProduct,useProductGraphTallyQuery:i.useProductGraphTallyQuery}},78139:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,graphCardHelpers:()=>f,generateChartSettings:()=>d,generateExtendedChartSettings:()=>y,getChartXAxisLabelIncrement:()=>h,getTooltipDate:()=>m,xAxisTickFormat:()=>p,yAxisTickFormat:()=>v});var a=r(1413),n=r(45987),i=r(30381),o=r.n(i),l=r(98454),c=r(30446),s=r(76006),u=["id","isStandalone","isThreshold"],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r=[];return e.forEach((function(e){var i=e.id,o=e.isStandalone,c=void 0!==o&&o,s=e.isThreshold,d=void 0!==s&&s,h=(0,n.Z)(e,u);if(i){var m={id:i,isStacked:!d,isStandalone:c,isThreshold:d,strokeWidth:2};d&&(m.stroke=l.chart_color_green_300.value,m.strokeDasharray="4,3",m.strokeWidth=3),c?t.push((0,a.Z)((0,a.Z)({},m),h)):r.push((0,a.Z)((0,a.Z)({},m),h))}})),{standaloneFilters:t,groupedFilters:r}},h=function(e){switch(e){case c.U9.DAILY:return 5;case c.U9.WEEKLY:case c.U9.MONTHLY:return 2;case c.U9.QUARTERLY:default:return 1}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.date,r=e.granularity,a=o().utc(t);switch(r){case c.U9.QUARTERLY:return"".concat(a.format(s.i3.timestampQuarterFormats.yearShort)," - ").concat(a.add(1,"quarter").format(s.i3.timestampQuarterFormats.yearShort));case c.U9.MONTHLY:return a.format(s.i3.timestampMonthFormats.yearLong);case c.U9.WEEKLY:return"".concat(a.format(s.i3.timestampDayFormats.short)," - ").concat(a.add(1,"week").format(s.i3.timestampDayFormats.yearShort));case c.U9.DAILY:default:return a.format(s.i3.timestampDayFormats.long)}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.callback,r=e.date,a=e.granularity,n=e.tick,i=e.previousDate;if(r&&a){if(t)return t({callback:t,date:r,granularity:a,tick:n,previousDate:i});var l,u=o().utc(r),d=0!==n&&Number.parseInt(u.year(),10)!==Number.parseInt(o().utc(i).year(),10);switch(a){case c.U9.QUARTERLY:l=(l=d?u.format(s.i3.timestampQuarterFormats.yearShort):u.format(s.i3.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case c.U9.MONTHLY:l=(l=d?u.format(s.i3.timestampMonthFormats.yearShort):u.format(s.i3.timestampMonthFormats.short)).replace(/\s/,"\n");break;case c.U9.WEEKLY:case c.U9.DAILY:default:l=(l=d?u.format(s.i3.timestampDayFormats.yearShort):u.format(s.i3.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return l}},v=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.callback,n=r.tick;return a?a({tick:n}):null===(e=s.BM.numberDisplay(n))||void 0===e||null===(t=e.format({average:!0,mantissa:1,trimMantissa:!0,lowPrecision:!1}))||void 0===t?void 0:t.toUpperCase()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings,r=e.granularity;return(0,a.Z)((0,a.Z)({},t),{},{xAxisLabelIncrement:h(r),xAxisTickFormat:function(e){var a=e.item,n=e.previousItem,i=e.tick;return p({callback:null==t?void 0:t.xAxisTickFormat,tick:i,date:a.date,previousDate:n.date,granularity:r})},yAxisTickFormat:function(e){var r=e.tick;return v({callback:null==t?void 0:t.yAxisTickFormat,tick:r})}})},f={generateChartSettings:d,generateExtendedChartSettings:y,getChartXAxisLabelIncrement:h,getTooltipDate:m,xAxisTickFormat:p,yAxisTickFormat:v}},91339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,MinHeight:()=>d});var a=r(15671),n=r(43144),i=r(97326),o=r(60136),l=r(54062),c=r(96985),s=r.n(c),u=r(76006),d=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).containerRef=s().createRef(),e.innerContainerRef=s().createRef(),e.updatedContainerWidth=0,e.resizeObserver=u.BM.noop,e.onResizeContainer=function(){var t,r,a=(0,i.Z)(e).updatedContainerWidth,n=e.props.updateOnResize,o=(null===(t=e.containerRef)||void 0===t||null===(r=t.current)||void 0===r?void 0:r.clientWidth)||0;n&&o!==a&&(e.updatedContainerWidth=o,e.setMinHeight(!0))},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.props.minHeight,a=this.containerRef.current,n=void 0===a?{}:a,i=this.innerContainerRef.current,o=void 0===i?{}:i;null!=n&&n.style&&(r>(e=t?(null==o?void 0:o.clientHeight)||0:(null==n?void 0:n.clientHeight)||0)&&(e=r),n.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return s().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},s().createElement("div",{ref:this.innerContainerRef},e))}}]),r}(s().Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},81114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I,ProductViewOpenShiftContainer:()=>I});var a=r(96985),n=r.n(a),i=r(75857),o=r(31369),l=r(3281),c=r(51858),s=r(52422),u=r(30446),d=r(20169),h=r(28341),m=r(49844),p=r(74097),v=r(2738),y=r(65876),f=r(92227),g=r(88191),E=r(16696),b=r(69051),T=r(83109),k=r(76006),I=function(e){var t=e.t,r=(0,e.useRouteDetail)(),a=r.productParameter,l=r.productConfig,T=d.Cr.reactRedux.useSelector((function(e){var t,r;return null===(t=e.view.query)||void 0===t||null===(r=t[l[0].viewId])||void 0===r?void 0:r[u.VN.UOM]}),null);return n().createElement(s.PageLayout,null,n().createElement(s.PageHeader,{productLabel:a},t("curiosity-view.title",{appName:k.BM.UI_DISPLAY_NAME,context:a})),n().createElement(s.PageColumns,null,l.map((function(e){return function(e,r){var a=e.productContextFilterUom,l=e.query,T=void 0===l?{}:l,I=e.graphTallyQuery,S=void 0===I?{}:I,x=e.inventoryHostsQuery,C=void 0===x?{}:x,w=e.inventorySubscriptionsQuery,D=void 0===w?{}:w,_=e.initialGuestsFilters,F=void 0===_?[]:_,P=e.initialInventoryFilters,R=void 0===P?[]:P,L=e.initialInventorySettings,O=void 0===L?{}:L,M=e.initialSubscriptionsInventoryFilters,U=e.productId,N=e.viewId;if(!U||!N)return null;var A,H=d.IT.parseRhsmQuery(T,{graphTallyQuery:S,inventoryHostsQuery:C,inventorySubscriptionsQuery:D}),Q=H.graphTallyQuery,z=H.inventoryHostsQuery,B=R;a&&(A=r||T[u.VN.UOM],B=R.filter((function(e){var t=e.id;return!e.isOptional||new RegExp(A,"i").test(t)})));var Z=n().createElement(n().Fragment,null,t("curiosity-graph.cardHeading",{context:U}),n().createElement(i.Tooltip,{content:n().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:U})),position:i.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},n().createElement("sup",{className:"curiosity-icon__info"},n().createElement(o.ZP,null))));return n().createElement(c.ProductViewContext.Provider,{value:e,key:"product_".concat(U,"_").concat(A)},n().createElement(s.PageToolbar,null,n().createElement(f.Toolbar,null)),n().createElement(s.PageSection,null,n().createElement(h.default,{key:"graph_".concat(U),query:Q,productId:U,viewId:N,cardTitle:Z},U===u.wc.OPENSHIFT&&A&&n().createElement(p.ToolbarFieldUom,{position:m.SelectPosition.right}),U===u.wc.OPENSHIFT&&n().createElement(v.ToolbarFieldGranularity,{position:m.SelectPosition.right}),U===u.wc.OPENSHIFT_METRICS&&n().createElement(y.ToolbarFieldRangedMonthly,{position:m.SelectPosition.right}))),n().createElement(s.PageSection,null,n().createElement(b.default,{key:"inventory_".concat(U),productId:U},n().createElement(b.InventoryTab,{key:"inventory_hosts_".concat(U),title:t("curiosity-inventory.tabHosts",{context:["noInstances",U]})},n().createElement(g.default,{key:"inv_".concat(U),filterGuestsData:F,filterInventoryData:B,productId:U,settings:O,query:z,viewId:N})),!k.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&M&&n().createElement(b.InventoryTab,{key:"inventory_subs_".concat(U),title:t("curiosity-inventory.tabSubscriptions",{context:U})},n().createElement(E.default,null)))))}(e,T)}))))};I.defaultProps={t:T.translate,useRouteDetail:l.Tu}},99376:(e,t)=>{var r=Object.keys;t.D=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var a=r(e),n=a.length,i=0;i<n;i++)if(!(a[i]in t))return!1;for(i=0;i<n;i++)if(e[a[i]]!==t[a[i]])return!1;return n===r(t).length}},15451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(99376),n=r(96985);var i=function(e,t){return e.every((function(e,r){return(0,a.D)(e,t[r])}))};const o=function(e,t){!function(e,t,r){var a=(0,n.useRef)(void 0);a.current&&r(t,a.current)||(a.current=t),(0,n.useEffect)(e,a.current)}(e,t,i)}}}]);
//# sourceMappingURL=../sourcemaps/7191.8baaa94ae5c4cb28d876a2cec66ce5cb.js.map