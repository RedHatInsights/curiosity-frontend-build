"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[608,9877],{10608:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,GraphCard:()=>u});var a=r(92950),l=r.n(a),n=r(51858),i=r(76006),o=r(11014),c=r(49877),s=r(78139),u=function(e){var t=e.isDisabled,r=(0,e.useProductGraphConfig)().filters,a=s.graphCardHelpers.generateChartSettings(r),n=a.groupedFilters,i=a.standaloneFilters;return t?null:l().createElement(l().Fragment,null,(null==n?void 0:n.length)&&l().createElement(o.GraphCardMetrics,{metricFilters:n})||null,i.map((function(e){return l().createElement(c.GraphCardMetric,{key:"graphCard_".concat(e.id),metricFilter:e})})))};u.defaultProps={isDisabled:i.BM.UI_DISABLED_GRAPH,useProductGraphConfig:n.useProductGraphConfig}},49877:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d,GraphCardMetric:()=>d});var a=r(1413),l=r(29439),n=r(92950),i=r.n(n),o=r(91799),c=r(51858),s=r(25394),u=(r(46262),r(29407)),d=function(e){var t=e.metricFilter,r=e.useProductGraphConfig,c=(0,n.useState)({}),d=(0,l.Z)(c,2),m=d[0],h=d[1],p=r().settings;return(0,n.useEffect)((function(){h({settings:(0,a.Z)((0,a.Z)({padding:{bottom:75,left:75,right:45,top:45}},p),{},{isStandalone:!0,metric:t,metrics:[t]})})}),[t,p,h]),i().createElement(s.GraphCardContext.Provider,{value:m},i().createElement(u.GraphCardMetricTotals,null,i().createElement(o.GraphCardChart,null)))};d.defaultProps={metricFilter:{},useProductGraphConfig:c.useProductGraphConfig}},29407:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C,GraphCardMetricTotals:()=>C});var a=r(92950),l=r.n(a),n=r(45103),i=r(30381),o=r.n(i),c=r(68929),s=r.n(c),u=r(51858),d=r(25394),m=r(91339),h=r(1797),p=r(76006),g=r(65876),f=r(46262),y=r(83109),C=function(e){var t,r,a,i,c=e.children,u=e.t,d=e.useMetricsSelector,y=(0,e.useProductGraphTallyQuery)()[f.O6.START_DATE],C=d(),E=C.pending,v=C.error,M=C.fulfilled,S=C.dataSets,G=(void 0===S?[]:S)[0]||{},F=G.data,P=void 0===F?[]:F,_=G.id,T=G.meta,k=void 0===T?{}:T,x=P[P.length-1]||{},D=x.date,b=x.hasData,B=x.y,H=P.find((function(e){return!0===e.isCurrentDate}))||{},N=H.date,Z=H.hasData,I=H.y,U=k.totalMonthlyDate,w=k.totalMonthlyHasData,z=k.totalMonthlyValue,A=g.toolbarFieldOptions.find((function(e){return e.title===y||e.value.startDate.toISOString()===y}))||{},L=A.title,O=A.isCurrent,Q=O?N:D,R=O?Z:b,V=O?I:B;return l().createElement(n.Flex,{"data-test":"graphMetricTotals-".concat(s()(_)),className:"curiosity-usage-graph__totals"},l().createElement(n.Flex,{flex:{default:"flex_1"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},l().createElement(n.FlexItem,{className:"curiosity-usage-graph__totals-column"},l().createElement(n.Card,{"data-test":"graphDailyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(v?"blur":"")},l().createElement(n.CardTitle,null,u("curiosity-graph.cardHeadingMetric_dailyTotal",{context:_,month:L})),l().createElement(m.MinHeight,{key:"currentBody"},l().createElement(n.CardBody,null,l().createElement("div",null,E&&l().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),M&&u("curiosity-graph.cardBodyMetric_total",{context:R&&_||"",total:null===(t=p.BM.numberDisplay(V))||void 0===t||null===(r=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===r?void 0:r.toUpperCase()},[l().createElement("strong",{title:V,"aria-label":V})])))),l().createElement(m.MinHeight,{key:"currentFooter"},l().createElement(n.CardFooter,null,l().createElement("div",{className:R?"":"hidden"},M&&Q&&u("curiosity-graph.cardFooterMetric",{date:o().utc(Q).format(p.i3.timestampUTCTimeFormats.yearTimeShort)}))))),l().createElement(n.Card,{"data-test":"graphMonthlyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(v?"blur":"")},l().createElement(n.CardTitle,null,u("curiosity-graph.cardHeadingMetric_monthlyTotal",{context:_,month:L})),l().createElement(m.MinHeight,{key:"totalMonthlyBody"},l().createElement(n.CardBody,null,l().createElement("div",null,E&&l().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),M&&u("curiosity-graph.cardBodyMetric_total",{context:w&&_||"",total:null===(a=p.BM.numberDisplay(z))||void 0===a||null===(i=a.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===i?void 0:i.toUpperCase()},[l().createElement("strong",{title:z,"aria-label":z})])))),l().createElement(m.MinHeight,{key:"totalMonthlyFooter"},l().createElement(n.CardFooter,null,l().createElement("div",{className:w?"":"hidden"},M&&U&&u("curiosity-graph.cardFooterMetric",{date:o().utc(U).format(p.i3.timestampUTCTimeFormats.yearTimeShort)}))))))),l().createElement(n.Flex,{flex:{default:"flex_3"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},l().createElement(n.FlexItem,{className:"curiosity-usage-graph__totals-graph-column"},c)))};C.defaultProps={children:null,t:y.translate,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:u.useProductGraphTallyQuery}},11014:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,GraphCardMetrics:()=>u});var a=r(1413),l=r(29439),n=r(92950),i=r.n(n),o=r(91799),c=r(51858),s=r(25394),u=(r(46262),function(e){var t=e.metricFilters,r=e.useProductGraphConfig,c=(0,n.useState)({}),u=(0,l.Z)(c,2),d=u[0],m=u[1],h=r().settings;return(0,n.useEffect)((function(){m({settings:(0,a.Z)((0,a.Z)({},h),{},{isStandalone:!1,metric:void 0,metrics:t})})}),[t,h,m]),i().createElement(s.GraphCardContext.Provider,{value:d},i().createElement(o.GraphCardChart,null))});u.defaultProps={metricFilters:[],useProductGraphConfig:c.useProductGraphConfig}}}]);
//# sourceMappingURL=../sourcemaps/608.8f5aaa37ea763c16b52ac3ac18b5c27b.js.map