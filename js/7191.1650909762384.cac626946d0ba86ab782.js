(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7191,8139,1339,2085],{64418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,GraphCardChartLegend:()=>h});var n=r(96985),a=r.n(n),i=r(75857),o=r(89048),l=r(51858),c=r(20169),s=r(76006),u=r(83109),d=r(1138),h=function(e){var t=e.chart,r=e.datum,n=e.t,l=e.useDispatch,s=e.useSelectors,u=(0,e.useProduct)(),h=u.productLabel,p=u.viewId,v=l(),m=s(r.dataSets.map((function(e){var t=e.id;return function(e){var r;return null===(r=e.graph.legend)||void 0===r?void 0:r["".concat(p,"-").concat(t)]}})));(0,o.Z)((function(){r.dataSets.forEach((function(e,r){var n=e.id;((null==m?void 0:m[r])||t.isToggled(n))&&t.hide(n)}))}));var y=function(e){var r=t.toggle(e);v({type:c.JD.graph.SET_GRAPH_LEGEND,id:"".concat(p,"-").concat(e),value:r})};return a().createElement(a().Fragment,null,r.dataSets.map((function(e,r){var o=e.id,l=e.isThreshold,c=e.stroke,s=e.data,u=!(void 0===s?[]:s).find((function(e){var t=e.y,r=e.hasData;return t>=0&&!0===r||t>=0&&!0===l}))||!1,p=n(["curiosity-graph.label_".concat(l?"threshold":o),"curiosity-graph.label_no"],{product:h,context:h}),v=n("curiosity-graph.legendTooltip".concat(l?"_threshold":"","_").concat(o),{product:h,context:h},[a().createElement("span",{style:{whiteSpace:"nowrap"}})]),f=(null==m?void 0:m[r])||t.isToggled(o),g=a().createElement(i.Button,{onClick:function(){return y(o)},onKeyPress:function(){return y(o)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(o),variant:"link",component:"a",isDisabled:u,icon:(u||f)&&a().createElement(d.ChartIcon,{symbol:"eyeSlash"})||a().createElement(d.ChartIcon,{symbol:l?"dash":"square",style:{visibility:u||f?"hidden":"visible"},fill:c})},p);return v?a().createElement(i.Tooltip,{key:"curiosity-tooltip-".concat(o),content:a().createElement("p",null,v),position:i.TooltipPosition.top,enableFlip:!0,distance:5},g):g})))};h.defaultProps={chart:{hide:s.BM.noop,toggle:s.BM.noop,isToggled:s.BM.noop},datum:{dataSets:[]},t:u.translate,useDispatch:c.Cr.reactRedux.useDispatch,useSelectors:c.Cr.reactRedux.useSelectors,useProduct:l.useProduct}},44024:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,GraphCardChartTooltip:()=>d});var n=r(96985),a=r.n(n),i=r(51858),o=r(78139),l=r(83109),c=r(1138),s=r(46262),u=r(76006),d=function(e){var t=e.datum,r=e.t,n=e.useProduct,i=e.useProductGraphTallyQuery,l=n().productLabel,d=i()[s.O6.GRANULARITY],h=null,p=[],v=(t||{}).itemsByKey,m=void 0===v?{}:v;return Object.keys(m).reverse().forEach((function(e,t){var n,i,s,u;0===t&&(h=(0,o.getTooltipDate)({date:null===(u=m[e])||void 0===u?void 0:u.data.date,granularity:d}));var v={color:null===(n=m[e])||void 0===n?void 0:n.color};if("threshold"===(null===(i=m[e])||void 0===i?void 0:i.chartType)){var y,f,g,E=null!==(y=null===(f=m[e])||void 0===f?void 0:f.data.y)&&void 0!==y?y:r("curiosity-graph.label_noData");null!==(g=m[e])&&void 0!==g&&g.data.hasInfinite&&(E=v.color?a().createElement(c.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),v.label=r("curiosity-graph.label_threshold"),v.value=E}else{var b,T,k=!1===(null===(b=m[e])||void 0===b?void 0:b.data.hasData)&&r("curiosity-graph.label_noData")||(null===(T=m[e])||void 0===T?void 0:T.data.y)||0;v.label=r("curiosity-graph.label",{context:e,product:l}),v.value=k}v.chartType=null===(s=m[e])||void 0===s?void 0:s.chartType,p.push(v)})),a().createElement("div",{className:"curiosity-usage-graph__tooltip"},a().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},p.length&&h&&a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",{colSpan:2},h)))||null,p.length&&a().createElement("tbody",null,p.map((function(e){var t,r,n="number"==typeof e.value&&!Number.isInteger(e.value)&&(null===(t=u.BM.numberDisplay(e.value))||void 0===t||null===(r=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||e.value;return a().createElement("tr",{key:"tooltip-".concat(e.label)},a().createElement("th",null,"threshold"===e.chartType&&a().createElement(c.ChartIcon,{size:"sm",symbol:"dash",fill:e.color||"transparent"}),"threshold"!==e.chartType&&a().createElement(c.ChartIcon,{size:"sm",fill:e.color||"transparent"})," ",e.label),a().createElement("td",null,n))})))||null),!p.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};d.defaultProps={datum:{},t:l.translate,useProduct:i.useProduct,useProductGraphTallyQuery:i.useProductGraphTallyQuery}},78139:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,graphCardHelpers:()=>f,generateChartSettings:()=>d,generateExtendedChartSettings:()=>y,getChartXAxisLabelIncrement:()=>h,getTooltipDate:()=>p,xAxisTickFormat:()=>v,yAxisTickFormat:()=>m});var n=r(1413),a=r(45987),i=r(30381),o=r.n(i),l=r(98454),c=r(30446),s=r(76006),u=["id","isStandalone","isThreshold"],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r=[];return e.forEach((function(e){var i=e.id,o=e.isStandalone,c=void 0!==o&&o,s=e.isThreshold,d=void 0!==s&&s,h=(0,a.Z)(e,u);if(i){var p={id:i,isStacked:!d,isStandalone:c,isThreshold:d,strokeWidth:2};d&&(p.stroke=l.chart_color_green_300.value,p.strokeDasharray="4,3",p.strokeWidth=3),c?t.push((0,n.Z)((0,n.Z)({},p),h)):r.push((0,n.Z)((0,n.Z)({},p),h))}})),{standaloneFilters:t,groupedFilters:r}},h=function(e){switch(e){case c.U9.DAILY:return 5;case c.U9.WEEKLY:case c.U9.MONTHLY:return 2;case c.U9.QUARTERLY:default:return 1}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.date,r=e.granularity,n=o().utc(t);switch(r){case c.U9.QUARTERLY:return"".concat(n.format(s.i3.timestampQuarterFormats.yearShort)," - ").concat(n.add(1,"quarter").format(s.i3.timestampQuarterFormats.yearShort));case c.U9.MONTHLY:return n.format(s.i3.timestampMonthFormats.yearLong);case c.U9.WEEKLY:return"".concat(n.format(s.i3.timestampDayFormats.short)," - ").concat(n.add(1,"week").format(s.i3.timestampDayFormats.yearShort));case c.U9.DAILY:default:return n.format(s.i3.timestampDayFormats.long)}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.callback,r=e.date,n=e.granularity,a=e.tick,i=e.previousDate;if(r&&n){if(t)return t({callback:t,date:r,granularity:n,tick:a,previousDate:i});var l,u=o().utc(r),d=0!==a&&Number.parseInt(u.year(),10)!==Number.parseInt(o().utc(i).year(),10);switch(n){case c.U9.QUARTERLY:l=(l=d?u.format(s.i3.timestampQuarterFormats.yearShort):u.format(s.i3.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case c.U9.MONTHLY:l=(l=d?u.format(s.i3.timestampMonthFormats.yearShort):u.format(s.i3.timestampMonthFormats.short)).replace(/\s/,"\n");break;case c.U9.WEEKLY:case c.U9.DAILY:default:l=(l=d?u.format(s.i3.timestampDayFormats.yearShort):u.format(s.i3.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return l}},m=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.callback,a=r.tick;return n?n({tick:a}):null===(e=s.BM.numberDisplay(a))||void 0===e||null===(t=e.format({average:!0,mantissa:1,trimMantissa:!0,lowPrecision:!1}))||void 0===t?void 0:t.toUpperCase()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings,r=e.granularity;return(0,n.Z)((0,n.Z)({},t),{},{xAxisLabelIncrement:h(r),xAxisTickFormat:function(e){var n=e.item,a=e.previousItem,i=e.tick;return v({callback:null==t?void 0:t.xAxisTickFormat,tick:i,date:n.date,previousDate:a.date,granularity:r})},yAxisTickFormat:function(e){var r=e.tick;return m({callback:null==t?void 0:t.yAxisTickFormat,tick:r})}})},f={generateChartSettings:d,generateExtendedChartSettings:y,getChartXAxisLabelIncrement:h,getTooltipDate:p,xAxisTickFormat:v,yAxisTickFormat:m}},91339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,MinHeight:()=>d});var n=r(15671),a=r(43144),i=r(97326),o=r(60136),l=r(54062),c=r(96985),s=r.n(c),u=r(76006),d=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).containerRef=s().createRef(),e.innerContainerRef=s().createRef(),e.updatedContainerWidth=0,e.resizeObserver=u.BM.noop,e.onResizeContainer=function(){var t,r,n=(0,i.Z)(e).updatedContainerWidth,a=e.props.updateOnResize,o=(null===(t=e.containerRef)||void 0===t||null===(r=t.current)||void 0===r?void 0:r.clientWidth)||0;a&&o!==n&&(e.updatedContainerWidth=o,e.setMinHeight(!0))},e}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.props.minHeight,n=this.containerRef.current,a=void 0===n?{}:n,i=this.innerContainerRef.current,o=void 0===i?{}:i;null!=a&&a.style&&(r>(e=t?(null==o?void 0:o.clientHeight)||0:(null==a?void 0:a.clientHeight)||0)&&(e=r),a.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return s().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},s().createElement("div",{ref:this.innerContainerRef},e))}}]),r}(s().Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},81114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S,ProductViewOpenShiftContainer:()=>S});var n=r(96985),a=r.n(n),i=r(75857),o=r(31369),l=r(3281),c=r(51858),s=r(52422),u=r(30446),d=r(20169),h=r(28341),p=r(49844),v=r(74097),m=r(2738),y=r(65876),f=r(92227),g=r(88191),E=r(16696),b=r(69051),T=r(83109),k=r(76006),S=function(e){var t=e.t,r=(0,e.useRouteDetail)(),n=r.productParameter,l=r.productConfig,T=d.Cr.reactRedux.useSelector((function(e){var t,r;return null===(t=e.view.query)||void 0===t||null===(r=t[l[0].viewId])||void 0===r?void 0:r[u.VN.UOM]}),null);return a().createElement(s.PageLayout,null,a().createElement(s.PageHeader,{productLabel:n},t("curiosity-view.title",{appName:k.BM.UI_DISPLAY_NAME,context:n})),a().createElement(s.PageColumns,null,l.map((function(e){return function(e,r){var n=e.productContextFilterUom,l=e.query,T=void 0===l?{}:l,S=e.graphTallyQuery,I=void 0===S?{}:S,C=e.inventoryHostsQuery,D=void 0===C?{}:C,x=e.inventorySubscriptionsQuery,P=void 0===x?{}:x,_=e.initialGuestsFilters,R=void 0===_?[]:_,F=e.initialInventoryFilters,w=void 0===F?[]:F,L=e.initialInventorySettings,M=void 0===L?{}:L,U=e.initialSubscriptionsInventoryFilters,O=e.productId,A=e.viewId;if(!O||!A)return null;var H,N=d.IT.parseRhsmQuery(T,{graphTallyQuery:I,inventoryHostsQuery:D,inventorySubscriptionsQuery:P}),Q=N.graphTallyQuery,z=N.inventoryHostsQuery,Z=w;n&&(H=r||T[u.VN.UOM],Z=w.filter((function(e){var t=e.id;return!e.isOptional||new RegExp(H,"i").test(t)})));var Y=a().createElement(a().Fragment,null,t("curiosity-graph.cardHeading",{context:O}),a().createElement(i.Tooltip,{content:a().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:O})),position:i.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},a().createElement("sup",{className:"curiosity-icon__info"},a().createElement(o.ZP,null))));return a().createElement(c.ProductViewContext.Provider,{value:e,key:"product_".concat(O,"_").concat(H)},a().createElement(s.PageToolbar,null,a().createElement(f.Toolbar,null)),a().createElement(s.PageSection,null,a().createElement(h.default,{key:"graph_".concat(O),query:Q,productId:O,viewId:A,cardTitle:Y},O===u.wc.OPENSHIFT&&H&&a().createElement(v.ToolbarFieldUom,{position:p.SelectPosition.right}),O===u.wc.OPENSHIFT&&a().createElement(m.ToolbarFieldGranularity,{position:p.SelectPosition.right}),O===u.wc.OPENSHIFT_METRICS&&a().createElement(y.ToolbarFieldRangedMonthly,{position:p.SelectPosition.right}))),a().createElement(s.PageSection,null,a().createElement(b.default,{key:"inventory_".concat(O),productId:O},a().createElement(b.InventoryTab,{key:"inventory_hosts_".concat(O),title:t("curiosity-inventory.tabHosts",{context:["noInstances",O]})},a().createElement(g.default,{key:"inv_".concat(O),filterGuestsData:R,filterInventoryData:Z,productId:O,settings:M,query:z,viewId:A})),!k.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&U&&a().createElement(b.InventoryTab,{key:"inventory_subs_".concat(O),title:t("curiosity-inventory.tabSubscriptions",{context:O})},a().createElement(E.default,null)))))}(e,T)}))))};S.defaultProps={t:T.translate,useRouteDetail:l.Tu}},99376:(e,t)=>{var r=Object.keys;t.D=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var n=r(e),a=n.length,i=0;i<a;i++)if(!(n[i]in t))return!1;for(i=0;i<a;i++)if(e[n[i]]!==t[n[i]])return!1;return a===r(t).length}},15451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(99376),a=r(96985);var i=function(e,t){return e.every((function(e,r){return(0,n.D)(e,t[r])}))};const o=function(e,t){!function(e,t,r){var n=(0,a.useRef)(void 0);n.current&&r(t,n.current)||(n.current=t),(0,a.useEffect)(e,n.current)}(e,t,i)}}}]);
//# sourceMappingURL=../sourcemaps/7191.0d93bb2d02d7e51f0066583538f66e65.js.map