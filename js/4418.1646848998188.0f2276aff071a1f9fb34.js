"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4418,1138,1858,9942],{1138:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,ChartIcon:()=>u});var i=r(92950),n=r.n(i),o=r(6033),u=function(e){var t=e.fill,r=e.symbol,i=e.size,u=e.title,s={},a={size:i,title:u},l=function(e){switch(e){case"md":return"1.5em";case"lg":return"2em";case"xl":return"3em";default:return"1em"}}(i);return u?s["aria-labelledby"]=u:s["aria-hidden"]=!0,t&&(a.color=t),n().createElement("span",{className:"curiosity-chartarea__icon curiosity-chartarea__icon-".concat(r)},function(){switch(r){case"dash":return n().createElement("span",{style:{width:l,height:"".concat(Number.parseFloat(l)/2,"em")}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 38 10",role:"img"},s),n().createElement("rect",{y:"5",width:"10",height:"10",fill:t}),n().createElement("rect",{x:"14",y:"5",width:"10",height:"10",fill:t}),n().createElement("rect",{x:"28",y:"5",width:"10",height:"10",fill:t})));case"threshold":return n().createElement("span",{style:{width:"".concat(2*Number.parseFloat(l),"em"),height:l}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 18 10",role:"img"},s),n().createElement("line",{x1:0,y1:16*Number.parseFloat(l)/2,x2:16*Number.parseFloat(l)*3,y2:16*Number.parseFloat(l)/2,stroke:t,strokeWidth:3,strokeDasharray:"4,3"})));case"eye":return n().createElement(o.EyeIcon,a);case"eyeSlash":return n().createElement(o.EyeSlashIcon,a);case"infinity":return n().createElement(o.InfinityIcon,a);default:return n().createElement(o.SquareIcon,a)}}())};u.defaultProps={fill:null,size:"sm",symbol:"square",title:null}},64418:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v,GraphCardChartLegend:()=>v});var i=r(92950),n=r.n(i),o=r(45103),u=r(89048),s=r(51858),a=r(186),l=r(76006),c=r(83109),d=r(1138),v=function(e){var t=e.chart,r=e.datum,i=e.t,s=e.useDispatch,l=e.useSelectors,c=(0,e.useProduct)(),v=c.productLabel,y=c.viewId,h=s(),p=l(r.dataSets.map((function(e){var t=e.id;return function(e){var r;return null===(r=e.graph.legend)||void 0===r?void 0:r["".concat(y,"-").concat(t)]}})));(0,u.Z)((function(){r.dataSets.forEach((function(e,r){var i=e.id;((null==p?void 0:p[r])||t.isToggled(i))&&t.hide(i)}))}));var f=function(e){var r=t.toggle(e);h({type:a.JD.graph.SET_GRAPH_LEGEND,id:"".concat(y,"-").concat(e),value:r})};return n().createElement(n().Fragment,null,r.dataSets.map((function(e,r){var u=e.id,s=e.isThreshold,a=e.stroke,l=e.data,c=!(void 0===l?[]:l).find((function(e){var t=e.y,r=e.hasData;return t>=0&&!0===r||t>=0&&!0===s}))||!1,y=i(["curiosity-graph.label_".concat(s?"threshold":u),"curiosity-graph.label_no"],{product:v,context:v}),h=i("curiosity-graph.legendTooltip".concat(s?"_threshold":"","_").concat(u),{product:v,context:v},[n().createElement("span",{style:{whiteSpace:"nowrap"}})]),g=(null==p?void 0:p[r])||t.isToggled(u),m=n().createElement(o.Button,{onClick:function(){return f(u)},onKeyPress:function(){return f(u)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(u),variant:"link",component:"a",isDisabled:c,icon:(c||g)&&n().createElement(d.ChartIcon,{symbol:"eyeSlash"})||n().createElement(d.ChartIcon,{symbol:s?"dash":"square",style:{visibility:c||g?"hidden":"visible"},fill:a})},y);return h?n().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(u),content:n().createElement("p",null,h),position:o.TooltipPosition.top,enableFlip:!0,distance:5},m):m})))};v.defaultProps={chart:{hide:l.BM.noop,toggle:l.BM.noop,isToggled:l.BM.noop},datum:{dataSets:[]},t:c.translate,useDispatch:a.Cr.reactRedux.useDispatch,useSelectors:a.Cr.reactRedux.useSelectors,useProduct:s.useProduct}},51858:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Q,context:()=>Q,ProductViewContext:()=>p,DEFAULT_CONTEXT:()=>h,useProductContext:()=>P,useProductQuery:()=>m,useProductQueryFactory:()=>g,useProductGraphTallyQuery:()=>I,useProductInventoryGuestsQuery:()=>S,useProductInventoryHostsQuery:()=>E,useProductInventorySubscriptionsQuery:()=>C,useProduct:()=>b,useProductGraphConfig:()=>T,useProductInventoryGuestsConfig:()=>_,useProductInventoryHostsConfig:()=>x,useProductInventorySubscriptionsConfig:()=>F,useProductToolbarConfig:()=>w});var i=r(45987),n=r(4942),o=r(1413),u=r(92950),s=r.n(u),a=r(12723),l=r(1798),c=r(30446),d=r(46262),v=r(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],h=[{},v.B.noop],p=s().createContext(h),f=function(){return(0,u.useContext)(p)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.overrideId,i=t.useProductViewContext,n=void 0===i?f:i,u=n(),s=u[e],a=u.productId,c=u.viewId,d=l.Cr.reactRedux.useSelector((function(t){var i,n=t.view;return null==n||null===(i=n[e])||void 0===i?void 0:i[r]}),void 0),v=l.Cr.reactRedux.useSelector((function(t){var r,i=t.view;return null==i||null===(r=i[e])||void 0===r?void 0:r[a]}),void 0),y=l.Cr.reactRedux.useSelector((function(t){var r,i=t.view;return null==i||null===(r=i[e])||void 0===r?void 0:r[c]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),d),v),y)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"query":t,i=e.options;return g(r,i)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"graphTallyQuery":t,i=e.schemaCheck,n=void 0===i?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,u=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},m()),g(r,u)),n)},S=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.defaultLimit,i=void 0===r?100:r,u=t.defaultOffset,s=void 0===u?0:u,l=t.queryType,v=void 0===l?"inventoryGuestsQuery":l,y=t.schemaCheck,h=void 0===y?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,p=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)((e={},(0,n.Z)(e,d.O6.LIMIT,i),(0,n.Z)(e,d.O6.OFFSET,s),e),m()),g(v,p)),h)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"inventoryHostsQuery":t,i=e.schemaCheck,n=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},m()),g(r,u)),n)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"inventorySubscriptionsQuery":t,i=e.schemaCheck,n=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},m()),g(r,u)),n)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductQuery,r=void 0===t?m:t,n=e.useProductViewContext,s=void 0===n?f:n,a=r(),l=a[c.VN.UOM],d=s(),v=d.initialGraphFilters,h=void 0===v?[]:v,p=d.initialInventoryFilters,g=void 0===p?[]:p,I=d.initialSubscriptionsInventoryFilters,S=void 0===I?[]:I,E=d.productContextFilterUom,C=(0,i.Z)(d,y),P=(0,u.useCallback)((function(){if(!0===E){var e=function(e){var t=e.id;return!e.isOptional||new RegExp(l,"i").test(t)};return(0,o.Z)((0,o.Z)({},C),{},{initialGraphFilters:h.filter(e),initialInventoryFilters:g.filter(e),initialSubscriptionsInventoryFilters:S.filter(e)})}return(0,o.Z)((0,o.Z)({},C),{},{initialGraphFilters:h,initialInventoryFilters:g,initialSubscriptionsInventoryFilters:S})}),[C,h,g,S,E,l]);return P()},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductViewContext,r=void 0===t?f:t,i=r(),n=i.productGroup,o=i.productId,u=i.productLabel,s=i.viewId;return{productGroup:n,productId:o,productLabel:u,viewId:s}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?P:t,i=r(),n=i.initialGraphFilters,o=i.initialGraphSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?P:t,i=r(),n=i.inventoryGuestsQuery,o=void 0===n?{}:n,u=i.initialGuestsFilters,s=i.initialGuestsSettings,a=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:a}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?P:t,i=r(),n=i.initialInventoryFilters,o=i.initialInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?P:t,i=r(),n=i.initialSubscriptionsInventoryFilters,o=i.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?P:t,i=r(),n=i.initialToolbarFilters,o=i.initialToolbarSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},Q={ProductViewContext:p,DEFAULT_CONTEXT:h,useProductContext:P,useQuery:m,useQueryFactory:g,useGraphTallyQuery:I,useInventoryGuestsQuery:S,useInventoryHostsQuery:E,useInventorySubscriptionsQuery:C,useProduct:b,useGraphConfig:T,useInventoryGuestsConfig:_,useInventoryHostsConfig:x,useInventorySubscriptionsConfig:F,useToolbarConfig:w}}}]);
//# sourceMappingURL=../sourcemaps/4418.d3d4ea2c08be1adec81b1daa17f1c660.js.map