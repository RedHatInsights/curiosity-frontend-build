"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[5925,1339,353],{10608:function(e,t,r){r.r(t),r.d(t,{GraphCard:function(){return o},default:function(){return o}});var a=r(92950),n=r.n(a),i=r(76006),l=r(29407),s=r(91799),u=r(25394),o=function(e){var t=e.isDisabled,r=(0,e.useParseFiltersSettings)().filtersSettings;return t||null==r||!r.length?null:null==r?void 0:r.map((function(e){var t,r,a;return n().createElement(u.GraphCardContext.Provider,{key:"graphCard-".concat(null==e||null===(t=e.settings)||void 0===t||null===(r=t.metrics)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.id),value:e},n().createElement(l.GraphCardMetricTotals,null,n().createElement(s.GraphCardChart,null)))}))};o.defaultProps={isDisabled:i.BM.UI_DISABLED_GRAPH,useParseFiltersSettings:u.useParseFiltersSettings}},29407:function(e,t,r){r.r(t),r.d(t,{GraphCardMetricTotals:function(){return v},default:function(){return v}});var a=r(1413),n=r(92950),i=r.n(n),l=r(90154),s=r(68929),u=r.n(s),o=r(51858),d=r(25394),c=r(1797),p=r(65876),h=r(46262),g=r(78139),m=r(76006),v=function(e){var t,r=e.children,n=e.useGraphCardContext,s=e.useMetricsSelector,o=e.useProductGraphTallyQuery,d=n().settings,v=void 0===d?{}:d,f=o(),y=s(),C=y.pending,E=y.error,S=y.fulfilled,P=y.dataSets,k=void 0===P?[]:P,T=f[h.O6.START_DATE],_=(p.toolbarFieldOptions.find((function(e){return e.title===T||e.value.startDate.toISOString()===T}))||{}).isCurrent;if(null!=v&&v.isMetricDisplay&&null!=v&&null!==(t=v.cards)&&void 0!==t&&t.length){var H,M,b,G=m.BM.setImmutableData({dataSets:k.map((function(e){var t=e||{},r=t.id,n=t.metric;return(0,a.Z)((0,a.Z)({},e),{},{display:(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},g.graphCardHelpers.getDailyMonthlyTotals({dataSet:e,isCurrent:_})),g.graphCardHelpers.getRemainingCapacity((0,a.Z)((0,a.Z)({},g.graphCardHelpers.getPrepaidTallyCapacity({data:k})),{},{isCurrent:_}))),g.graphCardHelpers.getRemainingOverage((0,a.Z)((0,a.Z)({},g.graphCardHelpers.getPrepaidTallyCapacity({data:k})),{},{isCurrent:_}))),{},{chartId:r,metricId:n})})}))},{isClone:!0});return i().createElement("div",{"data-test":"graphMetricTotals-".concat(null==v||null===(H=v.groupMetric)||void 0===H||null===(M=H.map((function(e){return u()(e)})))||void 0===M?void 0:M.join("-")),"data-test-data":JSON.stringify(G),className:"curiosity-usage-graph__totals"},i().createElement("div",null,i().createElement("div",{className:"curiosity-usage-graph__totals-column"},null==v||null===(b=v.cards)||void 0===b?void 0:b.map((function(e,t){var r=e.key,a=e.header,n=e.body,s=e.footer;return i().createElement(l.Card,{key:r||m.BM.generateHash({metricDisplayPassedData:G,index:t}),isPlain:!0,"data-test":"graphMetricTotalsCard-".concat(t),className:"curiosity-usage-graph__totals-column-card ".concat(E?"blur":"")},i().createElement(l.CardHeader,null,i().createElement(l.CardTitle,null,i().createElement(l.Title,{headingLevel:"h2",size:"md"},C&&i().createElement(c.Loader,{variant:"skeleton",skeletonProps:{size:c.SkeletonSize.lg}}),S&&("function"==typeof a&&a(G)||a)))),i().createElement(l.CardBody,null,i().createElement("div",null,C&&i().createElement(c.Loader,{variant:"skeleton",skeletonProps:{size:c.SkeletonSize.lg,height:"60px"}}),S&&("function"==typeof n&&n(G)||n))),i().createElement(l.CardFooter,null,i().createElement("div",null,C&&i().createElement(c.Loader,{variant:"skeleton",skeletonProps:{size:c.SkeletonSize.lg}}),S&&("function"==typeof s&&s(G)||s))))})))),i().createElement("div",null,i().createElement("div",{className:"curiosity-usage-graph__totals-graph-column"},r)))}return i().createElement("div",{"data-test":"graphStandalone",className:"curiosity-usage-graph__standalone"},r)};v.defaultProps={children:null,useGraphCardContext:d.useGraphCardContext,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:o.useProductGraphTallyQuery}},91339:function(e,t,r){r.r(t),r.d(t,{MinHeight:function(){return s},default:function(){return s}});var a=r(29439),n=r(92950),i=r.n(n),l=r(70725),s=function(e){var t=e.children,r=e.isOnLoad,l=e.minHeight,s=e.useResizeObserver,u=(0,n.useState)({containerWidth:void 0,isLoaded:!1}),o=(0,a.Z)(u,2),d=o[0],c=o[1],p=(0,n.useRef)(null),h=(0,n.useRef)(null),g=s(p),m=g.height,v=g.width;return(0,n.useEffect)((function(){if(!r||r&&!d.isLoaded){var e=p.current,t=void 0===e?{}:e,a=h.current,n=void 0===a?{}:a;if(null!=t&&t.style){var i=(null==n?void 0:n.clientHeight)||0;l>m&&(i=l),t.style.minHeight="".concat(i,"px"),c((function(){return{containerWidth:v,isLoaded:r,updatedHeight:i}}))}}}),[m,v,p,h,r,l,d.isLoaded]),i().createElement("div",{className:"curiosity-minheight",ref:p},i().createElement("div",{className:"curiosity-minheight__inner",ref:h},t))};s.defaultProps={isOnLoad:!1,minHeight:0,useResizeObserver:l.yU}}}]);
//# sourceMappingURL=../sourcemaps/5925.0aa53f8fb7141e8b127e02206f97b7d0.js.map