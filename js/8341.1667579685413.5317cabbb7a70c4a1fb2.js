(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[8341,1858,1339,9942],{28341:function(e,t,n){"use strict";n.r(t),n.d(t,{ConnectedGraphCard:function(){return g},GraphCard:function(){return h},default:function(){return g}});var r=n(1413),i=n(92950),o=n.n(i),u=n(21242),s=n(15451),a=n(61072),c=n(51858),l=n(76006),d=n(30446),v=n(1797),f=n(91339),p=n(89270),h=function(e){var t=e.cardTitle,n=e.children,i=e.error,a=e.getGraphReportsCapacity,c=e.graphData,l=e.meta,h=e.isDisabled,y=e.pending,g=e.useProduct,C=e.useProductGraphConfig,T=e.useProductGraphTallyQuery,P=g().productId,I=C().settings,E=T();if((0,s.Z)((function(){var e=E[d.VN.START_DATE],t=E[d.VN.END_DATE],n=E[d.VN.GRANULARITY];!h&&n&&e&&t&&P&&a(P,E)}),[a,h,P,E]),h)return null;var R=null;return"function"==typeof(null==I?void 0:I.actionDisplay)&&(R=I.actionDisplay({data:(0,r.Z)({},c),meta:(0,r.Z)({},l)})),o().createElement(u.Card,{className:"curiosity-usage-graph"},o().createElement(f.MinHeight,{key:"headerMinHeight"},o().createElement(u.CardHeader,null,o().createElement(u.CardTitle,null,o().createElement(u.Title,{headingLevel:"h2",size:"lg"},t)),o().createElement(u.CardActions,{className:i?"blur":""},o().createElement(o().Fragment,{key:"actionDisplay"},R),n))),o().createElement(f.MinHeight,{key:"bodyMinHeight"},o().createElement(u.CardBody,null,o().createElement("div",{className:(i?"blur":y&&"fadein")||""},y&&o().createElement(v.Loader,{variant:"graph"}),!y&&o().createElement(p.GraphCardChart,{graphData:c})))))};h.defaultProps={cardTitle:null,children:null,error:!1,getGraphReportsCapacity:l.BM.noop,graphData:{},isDisabled:l.BM.UI_DISABLED_GRAPH,meta:{},pending:!1,useProduct:c.useProduct,useProductGraphConfig:c.useProductGraphConfig,useProductGraphTallyQuery:c.useProductGraphTallyQuery};var y=a.R1.graphCard.makeGraphCard(),g=(0,a.$j)(y,(function(e){return{getGraphReportsCapacity:function(t,n){return e(a.Ak.rhsm.getGraphReportsCapacity(t,n))}}}))(h)},91339:function(e,t,n){"use strict";n.r(t),n.d(t,{MinHeight:function(){return d},default:function(){return d}});var r=n(15671),i=n(43144),o=n(97326),u=n(60136),s=n(54062),a=n(92950),c=n.n(a),l=n(76006),d=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return(e=t.call.apply(t,[this].concat(u))).containerRef=c().createRef(),e.innerContainerRef=c().createRef(),e.updatedContainerWidth=0,e.resizeObserver=l.BM.noop,e.onResizeContainer=function(){var t,n,r=(0,o.Z)(e).updatedContainerWidth,i=e.props.updateOnResize,u=(null===(t=e.containerRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0;i&&u!==r&&(e.updatedContainerWidth=u,e.setMinHeight(!0))},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.minHeight,r=this.containerRef.current,i=void 0===r?{}:r,o=this.innerContainerRef.current,u=void 0===o?{}:o;null!=i&&i.style&&(n>(e=t?(null==u?void 0:u.clientHeight)||0:(null==i?void 0:i.clientHeight)||0)&&(e=n),i.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return c().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},c().createElement("div",{ref:this.innerContainerRef},e))}}]),n}(c().Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},51858:function(e,t,n){"use strict";n.r(t),n.d(t,{DEFAULT_CONTEXT:function(){return p},ProductViewContext:function(){return h},context:function(){return F},default:function(){return F},useProduct:function(){return m},useProductContext:function(){return R},useProductGraphConfig:function(){return S},useProductGraphTallyQuery:function(){return T},useProductInventoryGuestsConfig:function(){return G},useProductInventoryGuestsQuery:function(){return P},useProductInventoryHostsConfig:function(){return b},useProductInventoryHostsQuery:function(){return I},useProductInventorySubscriptionsConfig:function(){return Q},useProductInventorySubscriptionsQuery:function(){return E},useProductQuery:function(){return C},useProductQueryFactory:function(){return g},useProductToolbarConfig:function(){return _}});var r=n(45987),i=n(4942),o=n(1413),u=n(92950),s=n.n(u),a=n(12723),c=n(2606),l=n(30446),d=n(46262),v=n(62834),f=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],p=[{},v.B.noop],h=s().createContext(p),y=function(){return(0,u.useContext)(h)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.overrideId,r=t.useProductViewContext,i=void 0===r?y:r,u=i(),s=u[e],a=u.productId,l=u.viewId,d=c.Cr.reactRedux.useSelector((function(t){var r,i=t.view;return null==i||null===(r=i[e])||void 0===r?void 0:r[n]}),void 0),v=c.Cr.reactRedux.useSelector((function(t){var n,r=t.view;return null==r||null===(n=r[e])||void 0===n?void 0:n[a]}),void 0),f=c.Cr.reactRedux.useSelector((function(t){var n,r=t.view;return null==r||null===(n=r[e])||void 0===n?void 0:n[l]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),d),v),f)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,n=void 0===t?"query":t,r=e.options;return g(n,r)},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,n=void 0===t?"graphTallyQuery":t,r=e.schemaCheck,i=void 0===r?l.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:r,u=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},C()),g(n,u)),i)},P=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultLimit,r=void 0===n?100:n,u=t.defaultOffset,s=void 0===u?0:u,c=t.queryType,v=void 0===c?"inventoryGuestsQuery":c,f=t.schemaCheck,p=void 0===f?l.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:f,h=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)((e={},(0,i.Z)(e,d.O6.LIMIT,r),(0,i.Z)(e,d.O6.OFFSET,s),e),C()),g(v,h)),p)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,n=void 0===t?"inventoryHostsQuery":t,r=e.schemaCheck,i=void 0===r?l.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},C()),g(n,u)),i)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,n=void 0===t?"inventorySubscriptionsQuery":t,r=e.schemaCheck,i=void 0===r?l.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},C()),g(n,u)),i)},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductQuery,n=void 0===t?C:t,i=e.useProductViewContext,s=void 0===i?y:i,a=n(),c=a[l.VN.UOM],d=s(),v=d.initialGraphFilters,p=void 0===v?[]:v,h=d.initialInventoryFilters,g=void 0===h?[]:h,T=d.initialSubscriptionsInventoryFilters,P=void 0===T?[]:T,I=d.productContextFilterUom,E=(0,r.Z)(d,f),R=(0,u.useCallback)((function(){if(!0===I){var e=function(e){var t=e.id;return!e.isOptional||new RegExp(c,"i").test(t)};return(0,o.Z)((0,o.Z)({},E),{},{initialGraphFilters:p.filter(e),initialInventoryFilters:g.filter(e),initialSubscriptionsInventoryFilters:P.filter(e)})}return(0,o.Z)((0,o.Z)({},E),{},{initialGraphFilters:p,initialInventoryFilters:g,initialSubscriptionsInventoryFilters:P})}),[E,p,g,P,I,c]);return R()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductViewContext,n=void 0===t?y:t,r=n(),i=r.productGroup,o=r.productId,u=r.productLabel,s=r.viewId;return{productGroup:i,productId:o,productLabel:u,viewId:s}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,n=void 0===t?R:t,r=n(),i=r.initialGraphFilters,o=r.initialGraphSettings,u=void 0===o?{}:o;return{filters:i,settings:u}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,n=void 0===t?R:t,r=n(),i=r.inventoryGuestsQuery,o=void 0===i?{}:i,u=r.initialGuestsFilters,s=r.initialGuestsSettings,a=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:a}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,n=void 0===t?R:t,r=n(),i=r.initialInventoryFilters,o=r.initialInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,n=void 0===t?R:t,r=n(),i=r.initialSubscriptionsInventoryFilters,o=r.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,n=void 0===t?R:t,r=n(),i=r.initialToolbarFilters,o=r.initialToolbarSettings,u=void 0===o?{}:o,s=r.initialSecondaryToolbarFilters;return{filters:i,secondaryFilters:s,settings:u}},F={ProductViewContext:h,DEFAULT_CONTEXT:p,useProductContext:R,useQuery:C,useQueryFactory:g,useGraphTallyQuery:T,useInventoryGuestsQuery:P,useInventoryHostsQuery:I,useInventorySubscriptionsQuery:E,useProduct:m,useGraphConfig:S,useInventoryGuestsConfig:G,useInventoryHostsConfig:b,useInventorySubscriptionsConfig:Q,useToolbarConfig:_}},99376:function(e,t){var n=Object.keys;t.D=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var r=n(e),i=r.length,o=0;o<i;o++)if(!(r[o]in t))return!1;for(o=0;o<i;o++)if(e[r[o]]!==t[r[o]])return!1;return i===n(t).length}},15451:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(99376),i=n(92950),o=function(e,t){return e.every((function(e,n){return(0,r.D)(e,t[n])}))},u=function(e,t){!function(e,t,n){var r=(0,i.useRef)(void 0);r.current&&n(t,r.current)||(r.current=t),(0,i.useEffect)(e,r.current)}(e,t,o)}}}]);
//# sourceMappingURL=../sourcemaps/8341.js.map