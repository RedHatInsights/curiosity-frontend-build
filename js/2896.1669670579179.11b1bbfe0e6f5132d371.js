(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2896,1858,7297],{42896:function(t,e,n){"use strict";n.r(e),n.d(e,{context:function(){return C},default:function(){return C},useGetHostsInventory:function(){return p},useGetInstancesInventory:function(){return S},useOnColumnSortHosts:function(){return E},useOnColumnSortInstances:function(){return P},useOnPageInstances:function(){return T}});var r=n(4942),i=n(1413),o=n(45987),u=n(17297),s=n(68929),c=n.n(s),d=n(76871),v=n(61072),l=n(51858),a=n(46262),f=n(76006),y=["cancelled","pending","data"],I=["cancelled","pending","data"],p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isDisabled,n=void 0!==e&&e,r=t.getInventory,s=void 0===r?v.Ak.rhsm.getHostsInventory:r,c=t.useDispatch,d=void 0===c?v.Cr.reactRedux.useDispatch:c,a=t.useProduct,f=void 0===a?l.useProduct:a,I=t.useProductInventoryQuery,p=void 0===I?l.useProductInventoryHostsQuery:I,S=t.useSelectorsResponse,T=void 0===S?v.Cr.reactRedux.useSelectorsResponse:S,E=f(),P=E.productId,C=p(),O=d(),g=T((function(t){var e,n=t.inventory;return null==n||null===(e=n.hostsInventory)||void 0===e?void 0:e[P]})),_=g.cancelled,h=g.pending,R=g.data,Q=(0,o.Z)(g,y);return(0,u.Z)((function(){n||s(P,C)(O)}),[O,n,P,C]),(0,i.Z)((0,i.Z)({},Q),{},{pending:h||_||!1,data:1===(null==R?void 0:R.length)&&R[0]||R||{}})},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isDisabled,n=void 0!==e&&e,r=t.getInventory,s=void 0===r?v.Ak.rhsm.getInstancesInventory:r,c=t.useDispatch,d=void 0===c?v.Cr.reactRedux.useDispatch:c,a=t.useProduct,f=void 0===a?l.useProduct:a,y=t.useProductInventoryQuery,p=void 0===y?l.useProductInventoryHostsQuery:y,S=t.useSelectorsResponse,T=void 0===S?v.Cr.reactRedux.useSelectorsResponse:S,E=f(),P=E.productId,C=p(),O=d(),g=T((function(t){var e,n=t.inventory;return null==n||null===(e=n.instancesInventory)||void 0===e?void 0:e[P]})),_=g.cancelled,h=g.pending,R=g.data,Q=(0,o.Z)(g,I);return(0,u.Z)((function(){n||s(P,C)(O)}),[O,n,P,C]),(0,i.Z)((0,i.Z)({},Q),{},{pending:h||_||!1,data:1===(null==R?void 0:R.length)&&R[0]||R||{}})},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useDispatch,n=void 0===e?v.Cr.reactRedux.useDispatch:e,i=t.useProduct,o=void 0===i?l.useProduct:i,u=o(),s=u.productId,c=n();return function(t){var e=t.offset,n=t.perPage;c([(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[a.O6.OFFSET],viewId:s},a.O6.OFFSET,e),(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[a.O6.LIMIT],viewId:s},a.O6.LIMIT,n)])}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sortColumns,n=void 0===e?a.$k:e,i=t.useDispatch,o=void 0===i?v.Cr.reactRedux.useDispatch:i,u=t.useProduct,s=void 0===u?l.useProduct:u,y=s(),I=y.productId,p=o();return function(t,e){var i,o=e.direction,u=e.id,s=Object.values(n).find((function(t){return t===u||c()(t)===u}));s?(i=o===d.SortByDirection.desc?a.PQ.DESCENDING:a.PQ.ASCENDING,p([(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[a.O6.DIRECTION],viewId:I},a.O6.DIRECTION,i),(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[a.O6.SORT],viewId:I},a.O6.SORT,s)])):(f.BM.DEV_MODE||f.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(u," is allowed."))}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sortColumns,n=void 0===e?a.xB:e,i=t.useDispatch,o=void 0===i?v.Cr.reactRedux.useDispatch:i,u=t.useProduct,s=void 0===u?l.useProduct:u,y=s(),I=y.productId,p=o();return function(t,e){var i,o=e.direction,u=e.id,s=Object.values(n).find((function(t){return t===u||c()(t)===u}));s?(i=o===d.SortByDirection.desc?a.PQ.DESCENDING:a.PQ.ASCENDING,p([(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[a.O6.DIRECTION],viewId:I},a.O6.DIRECTION,i),(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[a.O6.SORT],viewId:I},a.O6.SORT,s)])):(f.BM.DEV_MODE||f.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(u," is allowed."))}},C={useGetHostsInventory:p,useGetInstancesInventory:S,useOnPageInstances:T,useOnColumnSortHosts:E,useOnColumnSortInstances:P}},51858:function(t,e,n){"use strict";n.r(e),n.d(e,{DEFAULT_CONTEXT:function(){return f},ProductViewContext:function(){return y},context:function(){return Z},default:function(){return Z},useProduct:function(){return g},useProductContext:function(){return O},useProductGraphConfig:function(){return _},useProductGraphTallyQuery:function(){return T},useProductInventoryGuestsConfig:function(){return h},useProductInventoryGuestsQuery:function(){return E},useProductInventoryHostsConfig:function(){return R},useProductInventoryHostsQuery:function(){return P},useProductInventorySubscriptionsConfig:function(){return Q},useProductInventorySubscriptionsQuery:function(){return C},useProductQuery:function(){return S},useProductQueryFactory:function(){return p},useProductToolbarConfig:function(){return D}});var r=n(45987),i=n(4942),o=n(1413),u=n(92950),s=n.n(u),c=n(12723),d=n(2606),v=n(46262),l=n(62834),a=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],f=[{},l.B.noop],y=s().createContext(f),I=function(){return(0,u.useContext)(y)},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.overrideId,r=e.useProductViewContext,i=void 0===r?I:r,u=i(),s=u[t],c=u.productId,v=u.viewId,l=d.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[n]}),void 0),a=d.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[c]}),void 0),f=d.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[v]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),l),a),f)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"query":e,r=t.options;return p(n,r)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"graphTallyQuery":e,r=t.schemaCheck,i=void 0===r?v.pM.RHSM_API_QUERY_SET_TALLY_CAPACITY_TYPES:r,u=t.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),p(n,u)),i)},E=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultLimit,r=void 0===n?100:n,u=e.defaultOffset,s=void 0===u?0:u,d=e.queryType,l=void 0===d?"inventoryGuestsQuery":d,a=e.schemaCheck,f=void 0===a?v.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:a,y=e.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,i.Z)(t,v.O6.LIMIT,r),(0,i.Z)(t,v.O6.OFFSET,s),t),S()),p(l,y)),f)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventoryHostsQuery":e,r=t.schemaCheck,i=void 0===r?v.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),p(n,u)),i)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventorySubscriptionsQuery":e,r=t.schemaCheck,i=void 0===r?v.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),p(n,u)),i)},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,n=void 0===e?S:e,i=t.useProductViewContext,s=void 0===i?I:i,c=n(),d=c[v.O6.UOM],l=s(),f=l.initialGraphFilters,y=void 0===f?[]:f,p=l.initialInventoryFilters,T=void 0===p?[]:p,E=l.initialSubscriptionsInventoryFilters,P=void 0===E?[]:E,C=l.productContextFilterUom,O=(0,r.Z)(l,a),g=(0,u.useCallback)((function(){if(!0===C){var t=function(t){var e=t.id,n=t.metric;return!t.isOptional||new RegExp(d,"i").test(n)||new RegExp(d,"i").test(e)};return(0,o.Z)((0,o.Z)({},O),{},{initialGraphFilters:y.filter(t),initialInventoryFilters:T.filter(t),initialSubscriptionsInventoryFilters:P.filter(t)})}return(0,o.Z)((0,o.Z)({},O),{},{initialGraphFilters:y,initialInventoryFilters:T,initialSubscriptionsInventoryFilters:P})}),[O,y,T,P,C,d]);return g()},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,n=void 0===e?I:e,r=n(),i=r.productGroup,o=r.productId,u=r.productLabel,s=r.viewId;return{productGroup:i,productId:o,productLabel:u,viewId:s}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?O:e,r=n(),i=r.initialGraphFilters,o=r.initialGraphSettings,u=void 0===o?{}:o;return{filters:i,settings:u}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?O:e,r=n(),i=r.inventoryGuestsQuery,o=void 0===i?{}:i,u=r.initialGuestsFilters,s=r.initialGuestsSettings,c=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:c}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?O:e,r=n(),i=r.initialInventoryFilters,o=r.initialInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?O:e,r=n(),i=r.initialSubscriptionsInventoryFilters,o=r.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?O:e,r=n(),i=r.initialToolbarFilters,o=r.initialToolbarSettings,u=void 0===o?{}:o,s=r.initialSecondaryToolbarFilters;return{filters:i,secondaryFilters:s,settings:u}},Z={ProductViewContext:y,DEFAULT_CONTEXT:f,useProductContext:O,useQuery:S,useQueryFactory:p,useGraphTallyQuery:T,useInventoryGuestsQuery:E,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:C,useProduct:g,useGraphConfig:_,useInventoryGuestsConfig:h,useInventoryHostsConfig:R,useInventorySubscriptionsConfig:Q,useToolbarConfig:D}},99376:function(t,e){var n=Object.keys;e.D=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;for(var r=n(t),i=r.length,o=0;o<i;o++)if(!(r[o]in e))return!1;for(o=0;o<i;o++)if(t[r[o]]!==e[r[o]])return!1;return i===n(e).length}},37124:function(t,e,n){"use strict";var r=n(92950);e.Z=function(t,e,n){var i=(0,r.useRef)(void 0);i.current&&n(e,i.current)||(i.current=e),(0,r.useEffect)(t,i.current)}},17297:function(t,e,n){"use strict";var r=n(99376),i=n(37124),o=function(t,e){return t.every((function(t,n){return(0,r.D)(t,e[n])}))};e.Z=function(t,e){(0,i.Z)(t,e,o)}}}]);
//# sourceMappingURL=../sourcemaps/2896.js.map