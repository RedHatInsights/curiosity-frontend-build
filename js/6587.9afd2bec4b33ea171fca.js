"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[6587,8710,1339,353,8900,5020],{18710:function(e,t,n){n.r(t),n.d(t,{TextInput:function(){return p},default:function(){return p}});var r=n(87462),s=n(4942),o=n(92950),a=n.n(o),u=n(45697),i=n.n(u),l=n(90154),c=n(44044),d=n(76006);class p extends a().Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{updatedValue:null}),(0,s.Z)(this,"onKeyUp",(e=>{const{onClear:t,onKeyUp:n,type:r}=this.props,{currentTarget:s,keyCode:o}=e,a={...e};n((0,c.createMockEvent)(e,!0)),27===o&&("search"===r&&""===s.value?t((0,c.createMockEvent)(a)):this.setState({updatedValue:""},(()=>{t((0,c.createMockEvent)({...a,currentTarget:{...a.currentTarget,value:""}}))})))})),(0,s.Z)(this,"onMouseUp",(e=>{const{onClear:t,onMouseUp:n,type:r}=this.props,{currentTarget:s}=e,o={...e};n((0,c.createMockEvent)(e,!0)),"search"===r&&""!==s.value&&setTimeout((()=>{""===s.value&&t((0,c.createMockEvent)(o))}))})),(0,s.Z)(this,"onChange",((e,t)=>{const{onChange:n}=this.props,r={...t};this.setState({updatedValue:e},(()=>{n((0,c.createMockEvent)(r))}))}))}render(){var e;const{updatedValue:t}=this.state,{className:n,id:s,isDisabled:o,name:u,onChange:i,onClear:c,onKeyUp:p,onMouseUp:f,isReadOnly:y,type:m,value:g,...v}=this.props,h=u||d.helpers.generateId(),P=s||h;return a().createElement(l.TextInput,(0,r.Z)({id:P,name:h,className:"curiosity-text-input ".concat(n),isDisabled:o||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:y||!1,type:m,value:null!==(e=null!=t?t:g)&&void 0!==e?e:""},v))}}p.propTypes={className:i().string,id:i().string,isDisabled:i().bool,isReadOnly:i().bool,name:i().string,onChange:i().func,onClear:i().func,onKeyUp:i().func,onMouseUp:i().func,type:i().string,value:i().string},p.defaultProps={className:"",id:null,isDisabled:!1,isReadOnly:!1,name:null,onChange:d.helpers.noop,onClear:d.helpers.noop,onKeyUp:d.helpers.noop,onMouseUp:d.helpers.noop,type:"text",value:""}},76587:function(e,t,n){n.r(t),n.d(t,{InventoryCard:function(){return R},default:function(){return R}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(62179),i=n(40227),l=n(90154),c=n(48521),d=n(94184),p=n.n(d),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},f.apply(this,arguments)};function y(e){return"".concat(e,e>1||e<1?" Results":" Result")}var m=function(e){var t,n=e.isFooter,s=void 0!==n&&n,o=e.results,a=e.className,u=e.selected,i=e.children,d=e.ouiaId,m=e.ouiaSafe,g=void 0===m||m,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),h=p()("ins-c-table__toolbar",((t={})["ins-m-footer"]=s,t),a),P="RHI/TableToolbar",I=(0,l.useOUIAId)(P,d,g);return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(l.Toolbar,f({className:h,"data-ouia-component-type":P,"data-ouia-component-id":I,"data-ouia-safe":g},v,{children:i})),(o&&o>=0||u&&u>=0)&&(0,c.jsxs)("div",f({className:"ins-c-table__toolbar-results"},{children:[o&&o>=0&&(0,c.jsxs)("span",f({className:"ins-c-table__toolbar-results-count"},{children:[" ",y(o)," "]})),u&&u>=0&&(0,c.jsxs)("span",f({className:"ins-c-table__toolbar-results-selected"},{children:[" ",u," Selected "]}))]}))]})},g=n(98944),v=n(51858),h=n(76006),P=n(78697),I=n(1797),E=n(91339),O=n(15242),b=n(12243),S=n(68900),C=n(89517),_=n(65020),D=n(46262),T=n(83109),N=n(42896);const R=e=>{let{cardActions:t,isDisabled:n,perPageDefault:o,t:a,useGetInventory:c,useOnPage:d,useOnColumnSort:p,useProduct:f,useProductInventoryConfig:y,useProductInventoryQuery:g,useSession:v}=e;const[h,C]=(0,r.useState)({columnHeaders:[],rows:[]}),T=v(),N=g(),R=d(),H=p(),{productId:M}=f(),{filters:w,settings:L}=y(),{error:Y,fulfilled:x,pending:U,data:A={}}=c({isDisabled:n}),{data:F=[],meta:k={}}=A;if((0,u.Z)((()=>{let e=[],t=[];x&&F.length&&(t=F.map((t=>{let{...n}=t;const{columnHeaders:r,cells:o}=b.inventoryCardHelpers.parseRowCellsListData({filters:b.inventoryCardHelpers.parseInventoryFilters({filters:w,onSort:H,query:N}),cellData:n,meta:k,session:T,productId:M});let a;if(e=r,"function"==typeof(null==L?void 0:L.guestContent)){const e=null==L?void 0:L.guestContent({...n},{...T});e&&(a=s().createElement(O.InventoryGuests,{key:"guests-".concat(e),id:e,numberOfGuests:n.numberOfGuests}))}return{cells:o,expandedContent:a}}))),C((()=>({columnHeaders:e,rows:t})))}),[w,x,F]),n)return s().createElement(l.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(l.CardBody,null,s().createElement(l.Bullseye,null,a("curiosity-inventory.tab",{context:"disabled"}))));const Q=null==k?void 0:k.count,V=N[D.O6.LIMIT]||o,j=N[D.O6.OFFSET],G=_.paginationHelpers.isLastPage(j,V,Q),q=!0===x&&Q<V&&"bodyMinHeight-".concat(V,"-resize")||!0===x&&G&&"bodyMinHeight-".concat(V,"-resize")||!0===Y&&"bodyMinHeight-".concat(V,"-resize")||"bodyMinHeight-".concat(V);return s().createElement(l.Card,{className:"curiosity-inventory-card"},s().createElement(E.MinHeight,{key:"headerMinHeight"},s().createElement(l.CardHeader,{className:Y?"hidden":"","aria-hidden":Y||!1},t,s().createElement(l.CardActions,{className:Q?"":"transparent","aria-hidden":!Q||!1},s().createElement(S.default,{isCompact:!0,isDisabled:U||Y,itemCount:Q,offset:j,onPage:R,onPerPage:R,perPage:V})))),s().createElement(E.MinHeight,{key:q},s().createElement(l.CardBody,null,s().createElement("div",{className:(Y?"blur":U&&"fadein")||""},U&&s().createElement(I.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==w?void 0:w.length)||(null==F?void 0:F[0])&&Object.keys(F[0]).length||1,colWidth:(null==w?void 0:w.length)&&w.map((e=>{let{cellWidth:t}=e;return t}))||[],rowCount:(null==F?void 0:F.length)||V,variant:i.TableVariant.compact}}),!U&&s().createElement(P.default,{borders:!0,variant:i.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:h.columnHeaders,rows:h.rows})))),s().createElement(E.MinHeight,{key:"footerMinHeight"},s().createElement(l.CardFooter,{className:(Y?"hidden":!Q&&"transparent")||"","aria-hidden":Y||!Q||!1},s().createElement(m,{isFooter:!0},s().createElement(S.default,{dropDirection:"up",isDisabled:U||Y,itemCount:Q,offset:j,onPage:R,onPerPage:R,perPage:V})))))};R.propTypes={cardActions:a().node,isDisabled:a().bool,perPageDefault:a().number,t:a().func,useGetInventory:a().func,useOnPage:a().func,useOnColumnSort:a().func,useProduct:a().func,useProductInventoryConfig:a().func,useProductInventoryQuery:a().func,useSession:a().func},R.defaultProps={cardActions:s().createElement(l.CardHeaderMain,null,s().createElement(C.ToolbarFieldDisplayName,null)),isDisabled:h.helpers.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:T.translate,useGetInventory:N.useGetInstancesInventory,useOnPage:N.useOnPageInstances,useOnColumnSort:N.useOnColumnSortInstances,useProduct:v.useProduct,useProductInventoryConfig:v.useProductInventoryHostsConfig,useProductInventoryQuery:v.useProductInventoryHostsQuery,useSession:g.useSession}},42896:function(e,t,n){n.r(t),n.d(t,{context:function(){return y},default:function(){return y},useGetInstancesInventory:function(){return d},useOnColumnSortInstances:function(){return f},useOnPageInstances:function(){return p}});var r=n(17297),s=n(68929),o=n.n(s),a=n(40227),u=n(82410),i=n(51858),l=n(46262),c=n(76006);const d=function(){let{isDisabled:e=!1,getInventory:t=u.Ak.rhsm.getInstancesInventory,useDispatch:n=u.Cr.reactRedux.useDispatch,useProduct:s=i.useProduct,useProductInventoryQuery:o=i.useProductInventoryHostsQuery,useSelectorsResponse:a=u.Cr.reactRedux.useSelectorsResponse}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:l}=s(),c=o(),d=n(),{cancelled:p,pending:f,data:y,...m}=a((e=>{var t;let{inventory:n}=e;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[l]}));return(0,r.Z)((()=>{e||t(l,c)(d)}),[d,e,l,c]),{...m,pending:f||p||!1,data:1===(null==y?void 0:y.length)&&y[0]||y||{}}},p=function(){let{useDispatch:e=u.Cr.reactRedux.useDispatch,useProduct:t=i.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:n}=t(),r=e();return e=>{let{offset:t,perPage:s}=e;r([{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.OFFSET],viewId:n,[l.O6.OFFSET]:t},{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.LIMIT],viewId:n,[l.O6.LIMIT]:s}])}},f=function(){let{sortColumns:e=l.xB,useDispatch:t=u.Cr.reactRedux.useDispatch,useProduct:n=i.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:r}=n(),s=t();return(t,n)=>{let{direction:i,id:d}=n;const p=Object.values(e).find((e=>e===d||o()(e)===d));let f;p?(f=i===a.SortByDirection.desc?l.PQ.DESCENDING:l.PQ.ASCENDING,s([{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.DIRECTION],viewId:r,[l.O6.DIRECTION]:f},{type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.SORT],viewId:r,[l.O6.SORT]:p}])):(c.helpers.DEV_MODE||c.helpers.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(d," is allowed."))}},y={useGetInstancesInventory:d,useOnPageInstances:p,useOnColumnSortInstances:f}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return i},default:function(){return i}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(70725);const i=e=>{let{children:t,isOnLoad:n,minHeight:o,useResizeObserver:a}=e;const[u,i]=(0,r.useState)({containerWidth:void 0,isLoaded:!1}),l=(0,r.useRef)(null),c=(0,r.useRef)(null),{height:d,width:p}=a(l);return(0,r.useEffect)((()=>{if(!n||n&&!u.isLoaded){const{current:e={}}=l,{current:t={}}=c;if(null!=e&&e.style){let r=(null==t?void 0:t.clientHeight)||0;o>d&&(r=o),e.style.minHeight="".concat(r,"px"),i((()=>({containerWidth:p,isLoaded:n,updatedHeight:r})))}}}),[d,p,l,c,n,o,u.isLoaded]),s().createElement("div",{className:"curiosity-minheight",ref:l},s().createElement("div",{className:"curiosity-minheight__inner",ref:c},t))};i.propTypes={children:a().node.isRequired,minHeight:a().number,isOnLoad:a().bool,useResizeObserver:a().func},i.defaultProps={isOnLoad:!1,minHeight:0,useResizeObserver:u.yU}},68900:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return c},default:function(){return c}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(90154),i=n(76006),l=n(65020);const c=e=>{let{dropDirection:t,isDisabled:n,isCompact:r,itemCount:o,offset:a,onPage:i,onPerPage:d,perPage:p,variant:f}=e;return s().createElement(u.Pagination,{dropDirection:t,isCompact:r,isDisabled:n||!o,itemCount:o,onSetPage:(e,t,n)=>i({event:e,perPage:n,offset:l.paginationHelpers.calculateOffsetFromPage(t,n)}),onPerPageSelect:(e,t)=>d({event:e,perPage:t,offset:c.defaultProps.offset}),page:l.paginationHelpers.calculatePageFromOffset(a||c.defaultProps.offset,p),perPage:p,variant:f})};c.propTypes={dropDirection:a().oneOf(["up","down"]),isCompact:a().bool,isDisabled:a().bool,itemCount:a().number,offset:a().number,onPage:a().func,onPerPage:a().func,perPage:a().number,variant:a().string},c.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:i.helpers.noop,onPerPage:i.helpers.noop,perPage:10,variant:null}},65020:function(e,t,n){n.r(t),n.d(t,{calculateOffsetFromPage:function(){return r},calculatePageFromOffset:function(){return s},default:function(){return a},isLastPage:function(){return o},paginationHelpers:function(){return a}});const r=(e,t)=>t*(e-1)||0,s=(e,t)=>e/t+1||1,o=(e,t,n)=>s(e,t)===Math.ceil(n/t),a={calculateOffsetFromPage:r,calculatePageFromOffset:s,isLastPage:o}},89517:function(e,t,n){n.r(t),n.d(t,{ToolbarFieldDisplayName:function(){return m},default:function(){return m}});var r=n(92950),s=n.n(r),o=n(45697),a=n.n(o),u=n(90154),i=n(23279),l=n.n(i),c=n(82410),d=n(51858),p=n(18710),f=n(46262),y=n(83109);const m=e=>{let{t:t,useDispatch:n,useProduct:r,useProductInventoryHostsQuery:o}=e;const{viewId:a}=r(),{[f.O6.DISPLAY_NAME]:i}=o(),d=n(),y=e=>d([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:a},{type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[f.O6.DISPLAY_NAME],viewId:a,[f.O6.DISPLAY_NAME]:(null==e?void 0:e.trim())||null}]),m=l()(y,700);return s().createElement(u.InputGroup,null,s().createElement(p.TextInput,{"aria-label":t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:()=>{""!==i&&i&&d([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:a},{type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[f.O6.DISPLAY_NAME],viewId:a,[f.O6.DISPLAY_NAME]:null}])},onKeyUp:e=>{switch(e.keyCode){case 13:y(e.value);break;case 27:break;default:m(e.value)}},value:i,placeholder:t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),"data-test":"toolbarFieldDisplayName"}))};m.propTypes={t:a().func,useDispatch:a().func,useProduct:a().func,useProductInventoryHostsQuery:a().func},m.defaultProps={t:y.translate,useDispatch:c.Cr.reactRedux.useDispatch,useProduct:d.useProduct,useProductInventoryHostsQuery:d.useProductInventoryHostsQuery}}}]);
//# sourceMappingURL=../sourcemaps/6587.1ad5fdd36b8f8a4c35157c55e6093eb3.js.map