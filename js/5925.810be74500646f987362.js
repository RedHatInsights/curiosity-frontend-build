"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[5925,1339,353],{10608:function(e,t,r){r.r(t),r.d(t,{GraphCard:function(){return c},default:function(){return c}});var a=r(92950),n=r.n(a),l=r(45697),i=r.n(l),s=r(76006),u=r(29407),o=r(91799),d=r(25394);const c=e=>{let{isDisabled:t,useParseFiltersSettings:r}=e;const{filtersSettings:a}=r();return t||null==a||!a.length?null:null==a?void 0:a.map((e=>{var t,r,a;return n().createElement(d.GraphCardContext.Provider,{key:"graphCard-".concat(null==e||null===(t=e.settings)||void 0===t||null===(r=t.metrics)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.id),value:e},n().createElement(u.GraphCardMetricTotals,null,n().createElement(o.GraphCardChart,null)))}))};c.propTypes={isDisabled:i().bool,useParseFiltersSettings:i().func},c.defaultProps={isDisabled:s.helpers.UI_DISABLED_GRAPH,useParseFiltersSettings:d.useParseFiltersSettings}},29407:function(e,t,r){r.r(t),r.d(t,{GraphCardMetricTotals:function(){return v},default:function(){return v}});var a=r(92950),n=r.n(a),l=r(45697),i=r.n(l),s=r(90154),u=r(68929),o=r.n(u),d=r(51858),c=r(25394),p=r(1797),h=r(65876),g=r(46262),m=r(78139),f=r(76006);const v=e=>{var t;let{children:r,useGraphCardContext:a,useMetricsSelector:l,useProductGraphTallyQuery:i}=e;const{settings:u={}}=a(),d=i(),{pending:c,error:v,fulfilled:y,dataSets:C=[]}=l(),{[g.O6.START_DATE]:E}=d,{isCurrent:S}=h.toolbarFieldOptions.find((e=>e.title===E||e.value.startDate.toISOString()===E))||{};if(null!=u&&u.isMetricDisplay&&null!=u&&null!==(t=u.cards)&&void 0!==t&&t.length){var P,T,b;const e=f.helpers.setImmutableData({dataSets:C.map((e=>{const{id:t,metric:r}=e||{};return{...e,display:{...m.graphCardHelpers.getDailyMonthlyTotals({dataSet:e,isCurrent:S}),...m.graphCardHelpers.getRemainingCapacity({...m.graphCardHelpers.getPrepaidTallyCapacity({data:C}),isCurrent:S}),...m.graphCardHelpers.getRemainingOverage({...m.graphCardHelpers.getPrepaidTallyCapacity({data:C}),isCurrent:S}),chartId:t,metricId:r}}}))},{isClone:!0});return n().createElement("div",{"data-test":"graphMetricTotals-".concat(null==u||null===(P=u.groupMetric)||void 0===P||null===(T=P.map((e=>o()(e))))||void 0===T?void 0:T.join("-")),"data-test-data":JSON.stringify(e),className:"curiosity-usage-graph__totals"},n().createElement("div",null,n().createElement("div",{className:"curiosity-usage-graph__totals-column"},null==u||null===(b=u.cards)||void 0===b?void 0:b.map(((t,r)=>{let{key:a,header:l,body:i,footer:u}=t;return n().createElement(s.Card,{key:a||f.helpers.generateHash({metricDisplayPassedData:e,index:r}),isPlain:!0,"data-test":"graphMetricTotalsCard-".concat(r),className:"curiosity-usage-graph__totals-column-card ".concat(v?"blur":"")},n().createElement(s.CardHeader,null,n().createElement(s.CardTitle,null,n().createElement(s.Title,{headingLevel:"h2",size:"md"},c&&n().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),y&&("function"==typeof l&&l(e)||l)))),n().createElement(s.CardBody,null,n().createElement("div",null,c&&n().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg,height:"60px"}}),y&&("function"==typeof i&&i(e)||i))),n().createElement(s.CardFooter,null,n().createElement("div",null,c&&n().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),y&&("function"==typeof u&&u(e)||u))))})))),n().createElement("div",null,n().createElement("div",{className:"curiosity-usage-graph__totals-graph-column"},r)))}return n().createElement("div",{"data-test":"graphStandalone",className:"curiosity-usage-graph__standalone"},r)};v.propTypes={children:i().node,useGraphCardContext:i().func,useMetricsSelector:i().func,useProductGraphTallyQuery:i().func},v.defaultProps={children:null,useGraphCardContext:c.useGraphCardContext,useMetricsSelector:c.useMetricsSelector,useProductGraphTallyQuery:d.useProductGraphTallyQuery}},91339:function(e,t,r){r.r(t),r.d(t,{MinHeight:function(){return u},default:function(){return u}});var a=r(92950),n=r.n(a),l=r(45697),i=r.n(l),s=r(70725);const u=e=>{let{children:t,isOnLoad:r,minHeight:l,useResizeObserver:i}=e;const[s,u]=(0,a.useState)({containerWidth:void 0,isLoaded:!1}),o=(0,a.useRef)(null),d=(0,a.useRef)(null),{height:c,width:p}=i(o);return(0,a.useEffect)((()=>{if(!r||r&&!s.isLoaded){const{current:e={}}=o,{current:t={}}=d;if(null!=e&&e.style){let a=(null==t?void 0:t.clientHeight)||0;l>c&&(a=l),e.style.minHeight="".concat(a,"px"),u((()=>({containerWidth:p,isLoaded:r,updatedHeight:a})))}}}),[c,p,o,d,r,l,s.isLoaded]),n().createElement("div",{className:"curiosity-minheight",ref:o},n().createElement("div",{className:"curiosity-minheight__inner",ref:d},t))};u.propTypes={children:i().node.isRequired,minHeight:i().number,isOnLoad:i().bool,useResizeObserver:i().func},u.defaultProps={isOnLoad:!1,minHeight:0,useResizeObserver:s.yU}}}]);
//# sourceMappingURL=../sourcemaps/5925.a6072202a499c6bf7a26144de25ff86a.js.map