"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[4024,1858],{44024:function(t,e,r){r.r(e),r.d(e,{GraphCardChartTooltip:function(){return h},default:function(){return h}});var n=r(28416),o=r.n(n),u=r(45697),i=r.n(u),s=r(51858),l=r(78139),a=r(83109),c=r(30211),d=r(1138),y=r(46262),p=r(76006);const h=t=>{let{datum:e,t:r,useProduct:n,useProductGraphTallyQuery:u}=t;const{productLabel:i}=n(),{[y.O6.GRANULARITY]:s}=u();let a=null;const h=[],{itemsByKey:v={}}=e||{};return Object.keys(v).reverse().forEach(((t,e)=>{var n,u,y,p;0===e&&(a=(0,l.getTooltipDate)({date:null===(p=v[t])||void 0===p?void 0:p.data.date,granularity:s}));const f={color:null===(n=v[t])||void 0===n?void 0:n.color};if((null===(u=v[t])||void 0===u?void 0:u.chartType)===c.ChartTypeVariant.threshold){var P,g,T,b;let e=null!==(P=null===(g=v[t])||void 0===g?void 0:g.data.y)&&void 0!==P?P:r("curiosity-graph.label",{context:"noData"});(null!==(T=v[t])&&void 0!==T&&T.data.hasInfinite||null!==(b=v[t])&&void 0!==b&&b.data.hasInfiniteQuantity)&&(e=r("curiosity-graph.label",{context:["threshold","infinite"]},[f.color&&o().createElement(d.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label",{context:["threshold","infinite"]})})])),f.label=r("curiosity-graph.label",{context:["threshold"]}),f.value=e}else{var I,Q;const e=!1===(null===(I=v[t])||void 0===I?void 0:I.data.hasData)&&r("curiosity-graph.label",{context:"noData"})||(null===(Q=v[t])||void 0===Q?void 0:Q.data.y)||0;f.label=r("curiosity-graph.label",{context:t,product:i}),f.value=e}f.chartType=null===(y=v[t])||void 0===y?void 0:y.chartType,h.push(f)})),o().createElement("div",{className:"curiosity-usage-graph__tooltip"},o().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},h.length&&a&&o().createElement("thead",null,o().createElement("tr",null,o().createElement("th",{colSpan:2},a)))||null,h.length&&o().createElement("tbody",null,h.map((t=>{var e;const r="number"==typeof t.value&&!Number.isInteger(t.value)&&(null===(e=p.helpers.numberDisplay(t.value))||void 0===e||null===(e=e.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===e?void 0:e.toUpperCase())||t.value;return o().createElement("tr",{key:"tooltip-".concat(t.label)},o().createElement("th",null,t.chartType===c.ChartTypeVariant.threshold&&o().createElement(d.ChartIcon,{size:"sm",symbol:"dash",fill:t.color||"transparent"}),t.chartType!==c.ChartTypeVariant.threshold&&o().createElement(d.ChartIcon,{size:"sm",fill:t.color||"transparent"})," ",t.label),o().createElement("td",null,r))})))||null),!h.length&&r("curiosity-graph.label",{context:["noData","error"]})||null)};h.propTypes={datum:i().shape({itemsByKey:i().objectOf(i().shape({chartType:i().string,color:i().string,data:i().shape({date:i().oneOfType([i().string,i().instanceOf(Date)]),hasData:i().bool,hasInfinite:i().bool,hasInfiniteQuantity:i().bool,y:i().number})}))}),t:i().func,useProduct:i().func,useProductGraphTallyQuery:i().func},h.defaultProps={datum:{},t:a.translate,useProduct:s.useProduct,useProductGraphTallyQuery:s.useProductGraphTallyQuery}},51858:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return c},ProductViewContext:function(){return d},context:function(){return x},default:function(){return x},useProduct:function(){return I},useProductContext:function(){return b},useProductGraphConfig:function(){return Q},useProductGraphTallyQuery:function(){return v},useProductInventoryGuestsConfig:function(){return C},useProductInventoryGuestsQuery:function(){return f},useProductInventoryHostsConfig:function(){return m},useProductInventoryHostsQuery:function(){return P},useProductInventorySubscriptionsConfig:function(){return E},useProductInventorySubscriptionsQuery:function(){return g},useProductQuery:function(){return h},useProductQueryFactory:function(){return p},useProductToolbarConfig:function(){return S},useProductToolbarQuery:function(){return T}});var n=r(28416),o=r.n(n),u=r(50361),i=r.n(u),s=r(48253),l=r(2606),a=r(46262);const c=[{},r(62834).B.noop],d=o().createContext(c),y=()=>(0,n.useContext)(d),p=function(t){let{overrideId:e,useProductViewContext:r=y,useSelectors:n=l.Cr.reactRedux.useSelectors}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{[t]:o,productId:u,viewId:i}=r(),[s,a,c]=n([r=>{var n;let{view:o}=r;return null==o||null===(n=o[t])||void 0===n?void 0:n[e]},e=>{var r;let{view:n}=e;return null==n||null===(r=n[t])||void 0===r?void 0:r[u]},e=>{var r;let{view:n}=e;return null==n||null===(r=n[t])||void 0===r?void 0:r[i]}]);return{...o,...s,...a,...c}},h=function(){let{queryType:t="query",useProductQueryFactory:e=p,options:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(t,r)},v=function(){let{queryType:t="graphTallyQuery",schemaCheck:e=a.pM.RHSM_API_QUERY_SET_TALLY_CAPACITY_TYPES,useProductQuery:r=h,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},f=function(){let{queryType:t="inventoryGuestsQuery",schemaCheck:e=a.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=h,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},P=function(){let{queryType:t="inventoryHostsQuery",schemaCheck:e=a.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=h,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},g=function(){let{queryType:t="inventorySubscriptionsQuery",schemaCheck:e=a.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=h,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},T=function(){let{useProductQuery:t=h,useProductGraphTallyQuery:e=v,useProductInventoryHostsQuery:r=P,useProductInventorySubscriptionsQuery:n=g,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t({options:o}),...e({options:o}),...r({options:o}),...n({options:o})}},b=function(){let{useProductQuery:t=h,useProductViewContext:e=y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{[a.O6.UOM]:r}=t(),{initialGraphFilters:o=[],initialInventoryFilters:u=[],initialSubscriptionsInventoryFilters:s=[],productContextFilterUom:l,...c}=e();return(0,n.useCallback)((()=>{if(!0===l){const t=t=>{let{id:e,metric:n,isOptional:o}=t;return!o||new RegExp(r,"i").test(n)||new RegExp(r,"i").test(e)},e=i()(o).map((e=>{let{filters:r,...n}=e;return{...n,filters:r.filter(t),isOptional:!1}})).filter(t);return{...c,initialGraphFilters:e,initialInventoryFilters:u.filter(t),initialSubscriptionsInventoryFilters:s.filter(t)}}return{...c,initialGraphFilters:o,initialInventoryFilters:u,initialSubscriptionsInventoryFilters:s}}),[c,o,u,s,l,r])()},I=function(){let{useProductViewContext:t=y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productGroup:e,productId:r,productLabel:n,productVariants:o,viewId:u}=t();return{productGroup:e,productId:r,productLabel:n,productVariants:o,viewId:u}},Q=function(){let{useProductContext:t=b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialGraphFilters:e,initialGraphSettings:r={}}=t();return{filters:e,settings:r}},C=function(){let{useProductContext:t=b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{inventoryGuestsQuery:e={},initialGuestsFilters:r,initialGuestsSettings:n={}}=t();return{filters:r,initialQuery:e,settings:n}},m=function(){let{useProductContext:t=b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialInventoryFilters:e,initialInventorySettings:r={}}=t();return{filters:e,settings:r}},E=function(){let{useProductContext:t=b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialSubscriptionsInventoryFilters:e,initialSubscriptionsInventorySettings:r={}}=t();return{filters:e,settings:r}},S=function(){let{useProductContext:t=b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialToolbarFilters:e,initialToolbarSettings:r={}}=t();return{filters:e,settings:r}},x={ProductViewContext:d,DEFAULT_CONTEXT:c,useProductContext:b,useQuery:h,useQueryFactory:p,useGraphTallyQuery:v,useInventoryGuestsQuery:f,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:g,useProduct:I,useGraphConfig:Q,useInventoryGuestsConfig:C,useInventoryHostsConfig:m,useInventorySubscriptionsConfig:E,useToolbarConfig:S,useToolbarQuery:T}}}]);
//# sourceMappingURL=../sourcemaps/4024.10bc8c97506841c4ea4e72319f0a934c.js.map