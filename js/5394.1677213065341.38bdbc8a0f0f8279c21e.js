"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5394],{25394:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return C},GraphCardContext:function(){return h},context:function(){return F},default:function(){return F},useGetMetrics:function(){return S},useGraphCardActions:function(){return x},useGraphCardContext:function(){return m},useMetricsSelector:function(){return G},useParseFiltersSettings:function(){return y}});var n=r(1413),i=r(45987),o=r(92950),u=r.n(o),s=r(17297),a=r(54653),d=r(82410),c=r(51858),l=r(70136),p=r(62834),v=r(78139),f=["error","fulfilled","pending","data"],g=["id","content"],C=[{settings:{isStandalone:!1,metrics:[],metric:void 0}},p.B.noop],h=u().createContext(C),m=function(){return(0,o.useContext)(h)},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProduct,r=void 0===e?c.useProduct:e,n=t.useProductGraphConfig,i=void 0===n?c.useProductGraphConfig:n,u=r(),s=u.productId,a=i(),d=a.filters,l=void 0===d?[]:d,p=a.settings,f=void 0===p?{}:p,g=(0,o.useMemo)((function(){return v.graphCardHelpers.generateChartSettings({filters:l,settings:f,productId:s})}),[l,f,s]),C=g.groupedFiltersSettings,h=g.standaloneFiltersSettings,m=void 0===h?[]:h;return{groupedFiltersSettings:C,standaloneFiltersSettings:m}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useGraphCardContext,r=void 0===e?m:e,o=t.useSelectorsResponse,u=void 0===o?d.Cr.reactRedux.useSelectorsResponse:o,s=r(),a=s.settings,c=void 0===a?{}:a,l=c.metrics,p=void 0===l?[]:l,v=u(p.map((function(t){var e=t.id,r=t.isCapacity;return function(t){var n,i,o=t.graph;return r?null===(n=o.capacity)||void 0===n?void 0:n[e]:null===(i=o.tally)||void 0===i?void 0:i[e]}}))),g=v.error,C=v.fulfilled,h=v.pending,y=v.data,G=void 0===y?[]:y,S=(0,i.Z)(v,f),x={},F=null==G?void 0:G.map((function(t,e){var r=(0,n.Z)((0,n.Z)({},p[e]),t);return x[p[e].id]=r,r}));return(0,n.Z)((0,n.Z)({},S),{},{data:x,dataSets:F,error:g,fulfilled:C,pending:h})},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getGraphMetrics,r=void 0===e?d.Ak.rhsm.getGraphMetrics:e,n=t.useDispatch,i=void 0===n?d.Cr.reactRedux.useDispatch:n,o=t.useGraphCardContext,u=void 0===o?m:o,a=t.useMetricsSelector,l=void 0===a?G:a,p=t.useProduct,v=void 0===p?c.useProduct:p,f=t.useProductGraphTallyQuery,g=void 0===f?c.useProductGraphTallyQuery:f,C=v(),h=C.productId,y=g(),S=i(),x=l(),F=u(),M=F.settings,P=void 0===M?{}:M,T=P.metrics,k=void 0===T?[]:T;return(0,s.Z)((function(){var t=k.map((function(t){var e=t.metric,r=t.isCapacity,n=t.query;return{id:h,metric:e,isCapacity:r,query:n}}));r(t,y)(S)}),[k,h,y]),x},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.categoryOptions,r=void 0===e?l.toolbarFieldOptions:e,n=t.useMetricsSelector,s=void 0===n?G:n,d=t.useGraphCardContext,c=void 0===d?m:d,v=s(),f=v.pending,C=v.dataSets,h=c(),y=h.settings,S=void 0===y?{}:y,x=S.actions;return(0,o.useMemo)((function(){return null==x?void 0:x.map((function(t){var e=t.id,n=t.content,o=(0,i.Z)(t,g),s=(r.find((function(t){var r=t.value;return e===r}))||{}).component;return s&&u().createElement(a.ToolbarItem,{key:"option-".concat(e)},u().createElement(s,Object.assign({isFilter:!1},o)))||n&&!f&&C.length&&u().createElement(a.ToolbarItem,{key:e||p.B.generateId()},"function"==typeof n?n({data:C}):n)||null}))}),[x,r,C,f])},F={GraphCardContext:h,DEFAULT_CONTEXT:C,useGetMetrics:S,useGraphCardActions:x,useGraphCardContext:m,useMetricsSelector:G,useParseFiltersSettings:y}}}]);
//# sourceMappingURL=../sourcemaps/5394.9fded1b0be23523905e812032d19bb0b.js.map