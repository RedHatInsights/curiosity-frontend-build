"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[8341,9270],{28341:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f,ConnectedGraphCard:()=>f,GraphCard:()=>m});var a=t(56949),n=t(92950),i=t.n(n),u=t(21012),c=t(15451),l=t(186),s=t(51858),d=t(76006),o=t(30446),h=t(1797),p=t(91339),g=t(89270),m=function(e){var r=e.cardTitle,t=e.children,n=e.error,l=e.getGraphReportsCapacity,s=e.graphData,d=e.meta,m=e.isDisabled,y=e.pending,f=e.useProduct,C=e.useProductGraphConfig,G=e.useProductGraphTallyQuery,k=f().productId,T=C().settings,v=G();if((0,c.Z)((function(){var e=v[o.VN.START_DATE],r=v[o.VN.END_DATE],t=v[o.VN.GRANULARITY];!m&&t&&e&&r&&k&&l(k,v)}),[l,m,k,v]),m)return null;var E=null;return"function"==typeof(null==T?void 0:T.actionDisplay)&&(E=T.actionDisplay({data:(0,a.Z)({},s),meta:(0,a.Z)({},d)})),i().createElement(u.Card,{className:"curiosity-usage-graph"},i().createElement(p.MinHeight,{key:"headerMinHeight"},i().createElement(u.CardHeader,null,i().createElement(u.CardTitle,null,i().createElement(u.Title,{headingLevel:"h2",size:"lg"},r)),i().createElement(u.CardActions,{className:n?"blur":""},i().createElement(i().Fragment,{key:"actionDisplay"},E),t))),i().createElement(p.MinHeight,{key:"bodyMinHeight"},i().createElement(u.CardBody,null,i().createElement("div",{className:(n?"blur":y&&"fadein")||""},y&&i().createElement(h.Loader,{variant:"graph"}),!y&&i().createElement(g.GraphCardChart,{graphData:s})))))};m.defaultProps={cardTitle:null,children:null,error:!1,getGraphReportsCapacity:d.BM.noop,graphData:{},isDisabled:d.BM.UI_DISABLED_GRAPH,meta:{},pending:!1,useProduct:s.useProduct,useProductGraphConfig:s.useProductGraphConfig,useProductGraphTallyQuery:s.useProductGraphTallyQuery};var y=l.R1.graphCard.makeGraphCard(),f=(0,l.$j)(y,(function(e){return{getGraphReportsCapacity:function(r,t){return e(l.Ak.rhsm.getGraphReportsCapacity(r,t))}}}))(m)},89270:(e,r,t)=>{t.r(r),t.d(r,{default:()=>h,GraphCardChart:()=>h});var a=t(92950),n=t.n(a),i=t(28070),u=t(51858),c=t(78139),l=t(60930),s=t(64418),d=t(44024),o=t(30446),h=function(e){var r,t,a=e.graphData,u=e.useProductGraphConfig,h=e.useProductGraphTallyQuery,p=u().filters,g=h(),m=g[o.VN.GRANULARITY],y={xAxisLabelIncrement:c.graphCardHelpers.getChartXAxisLabelIncrement(m),xAxisTickFormat:function(e){var r=e.item,t=e.previousItem,a=e.tick;return c.graphCardHelpers.xAxisTickFormat({tick:a,date:r.date,previousDate:t.date,granularity:m})},yAxisTickFormat:c.graphCardHelpers.yAxisTickFormat};return n().createElement(l.Chart,Object.assign({key:"chart_".concat(JSON.stringify(g))},y,{dataSets:(r=a,t=function(e){var t={data:r[e],id:e,strokeWidth:2,isStacked:!/^threshold/.test(e),isThreshold:/^threshold/.test(e)};return/^threshold/.test(e)&&(t.stroke=i.chart_color_green_300.value,t.strokeDasharray="4,3",t.strokeWidth=3),t},(null==p?void 0:p.length)?p.map((function(e){return Object.assign(t(e.id),e)})):Object.keys(r).map((function(e){return t(e)}))),chartLegend:function(e){var r=e.chart,t=e.datum;return n().createElement(s.default,{chart:r,datum:t})},chartTooltip:function(e){var r=e.datum;return n().createElement(d.default,{datum:r})}}))};h.defaultProps={graphData:{},useProductGraphConfig:u.useProductGraphConfig,useProductGraphTallyQuery:u.useProductGraphTallyQuery}}}]);
//# sourceMappingURL=../sourcemaps/8341.c8de6eac072101db61eaf3b1ca1c2eda.js.map