"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2195],{82195:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P,InventoryCard:()=>P});var r=n(1413),o=n(96985),s=n.n(o),a=n(67304),u=n(75857),i=n(65550),l=n(98944),c=n(51858),d=n(76006),v=n(78697),y=n(1797),I=n(91339),f=n(15242),p=n(12243),S=n(68900),E=n(89517),m=n(65020),g=n(46262),O=n(83109),h=n(42896),P=function(e){var t=e.cardActions,n=e.isDisabled,o=e.perPageDefault,l=e.t,c=e.useGetInventory,d=e.useOnPage,E=e.useOnColumnSort,O=e.useProductInventoryConfig,h=e.useProductInventoryQuery,P=(0,e.useSession)(),T=h(),C=d(),b=E(),_=O(),D=_.filters,R=_.settings,N=c({isDisabled:n}),G=N.error,H=N.fulfilled,M=N.pending,Q=N.data,Y=void 0===Q?{}:Q,w=Y.data,F=void 0===w?[]:w,Z=Y.meta,L=void 0===Z?{}:Z;if(n)return s().createElement(u.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(u.CardBody,null,s().createElement(u.Bullseye,null,l("curiosity-inventory.tab",{context:"disabled"}))));var V,x,k=null==L?void 0:L.count,U=T[g.O6.LIMIT]||o,A=T[g.O6.OFFSET],B=m.paginationHelpers.isLastPage(A,U,k),q=!0===H&&k<U&&"bodyMinHeight-".concat(U,"-resize")||!0===H&&B&&"bodyMinHeight-".concat(U,"-resize")||!0===G&&"bodyMinHeight-".concat(U,"-resize")||"bodyMinHeight-".concat(U);return s().createElement(u.Card,{className:"curiosity-inventory-card"},s().createElement(I.MinHeight,{key:"headerMinHeight",updateOnContent:!0},s().createElement(u.CardHeader,{className:G?"hidden":"","aria-hidden":G||!1},t,s().createElement(u.CardActions,{className:k?"":"transparent","aria-hidden":!k||!1},s().createElement(S.default,{isCompact:!0,isDisabled:M||G,itemCount:k,offset:A,onPage:C,onPerPage:C,perPage:U})))),s().createElement(I.MinHeight,{key:q,updateOnContent:!0},s().createElement(u.CardBody,null,s().createElement("div",{className:(G?"blur":M&&"fadein")||""},M&&s().createElement(y.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==D?void 0:D.length)||(null==F?void 0:F[0])&&Object.keys(F[0]).length||1,colWidth:(null==D?void 0:D.length)&&D.map((function(e){return e.cellWidth}))||[],rowCount:(null==F?void 0:F.length)||U,variant:a.TableVariant.compact}}),!M&&(V=[],x=F.map((function(e){var t=Object.assign({},e),n=p.inventoryCardHelpers.parseRowCellsListData({filters:p.inventoryCardHelpers.parseInventoryFilters({filters:D,onSort:b,query:T}),cellData:t,session:P}),o=n.columnHeaders,a=n.cells;V=o;var u=null==t?void 0:t.subscriptionManagerId,i=null==t?void 0:t.numberOfGuests;return{cells:a,expandedContent:("function"==typeof(null==R?void 0:R.hasSubTable)?R.hasSubTable((0,r.Z)({},t),(0,r.Z)({},P)):i>0&&u)&&s().createElement(f.default,{numberOfGuests:i,id:u})||void 0}})),s().createElement(v.default,{borders:!0,variant:a.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:V,rows:x}))))),s().createElement(I.MinHeight,{key:"footerMinHeight",updateOnContent:!0},s().createElement(u.CardFooter,{className:(G?"hidden":!k&&"transparent")||"","aria-hidden":G||!k||!1},s().createElement(i.Z,{isFooter:!0},s().createElement(S.default,{dropDirection:"up",isDisabled:M||G,itemCount:k,offset:A,onPage:C,onPerPage:C,perPage:U})))))};P.defaultProps={cardActions:s().createElement(u.CardHeaderMain,null,s().createElement(E.ToolbarFieldDisplayName,null)),isDisabled:d.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:O.translate,useGetInventory:h.useGetInstancesInventory,useOnPage:h.useOnPageInstances,useOnColumnSort:h.useOnColumnSortInstances,useProductInventoryConfig:c.useProductInventoryHostsConfig,useProductInventoryQuery:c.useProductInventoryHostsQuery,useSession:l.useSession}},42896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f,context:()=>f,useGetInstancesInventory:()=>v,useOnPageInstances:()=>y,useOnColumnSortInstances:()=>I});var r=n(4942),o=n(15451),s=n(68929),a=n.n(s),u=n(67304),i=n(20169),l=n(51858),c=n(46262),d=n(76006),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?i.Ak.rhsm.getInstancesInventory:r,a=e.useDispatch,u=void 0===a?i.Cr.reactRedux.useDispatch:a,c=e.useProduct,d=void 0===c?l.useProduct:c,v=e.useProductInventoryQuery,y=void 0===v?l.useProductInventoryHostsQuery:v,I=e.useSelectorsResponse,f=void 0===I?i.Cr.reactRedux.useSelectorsResponse:I,p=d(),S=p.productId,E=y(),m=u(),g=f((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[S]})),O=g.error,h=g.cancelled,P=g.fulfilled,T=g.pending,C=g.data;return(0,o.Z)((function(){n||s(S,E)(m)}),[m,n,S,E]),{error:O,fulfilled:P,pending:T||h||!1,data:1===(null==C?void 0:C.length)&&C[0]||C||{}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?i.Cr.reactRedux.useDispatch:t,o=e.useProduct,s=void 0===o?l.useProduct:o,a=s(),u=a.productId,d=n();return function(e){var t=e.offset,n=e.perPage;d([(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.OFFSET],viewId:u},c.O6.OFFSET,t),(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.LIMIT],viewId:u},c.O6.LIMIT,n)])}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?c.xB:t,o=e.useDispatch,s=void 0===o?i.Cr.reactRedux.useDispatch:o,v=e.useProduct,y=void 0===v?l.useProduct:v,I=y(),f=I.productId,p=s();return function(e,t){var o,s=t.direction,l=t.id,v=Object.values(n).find((function(e){return e===l||a()(e)===l}));v?(o=s===u.SortByDirection.desc?c.PQ.DESCENDING:c.PQ.ASCENDING,p([(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.DIRECTION],viewId:f},c.O6.DIRECTION,o),(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.SORT],viewId:f},c.O6.SORT,v)])):(d.BM.DEV_MODE||d.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(l," is allowed."))}},f={useGetInstancesInventory:v,useOnPageInstances:y,useOnColumnSortInstances:I}},15242:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f,InventoryGuests:()=>f});var r=n(42982),o=n(70885),s=n(96985),a=n.n(s),u=n(67304),i=n(98944),l=n(51858),c=n(1797),d=n(12243),v=n(46262),y=n(78697),I=n(32293),f=function(e){var t,n,i,l=e.defaultPerPage,I=e.id,f=e.numberOfGuests,p=e.useGetGuestsInventory,S=e.useOnScroll,E=e.useProductInventoryGuestsQuery,m=e.useProductInventoryGuestsConfig,g=e.useSession,O=(0,s.useState)([]),h=(0,o.Z)(O,2),P=h[0],T=h[1],C=g(),b=m().filters,_=E({options:{overrideId:I}})[v.O6.OFFSET],D=p(I),R=D.error,N=D.pending,G=D.data,H=(void 0===G?{}:G).data,M=void 0===H?[]:H,Q=S(I,(function(){var e=[].concat((0,r.Z)(P),(0,r.Z)(M||[]));T(e)}));return a().createElement("div",{className:"fadein ".concat(R?"blur":"")},N&&0===_&&a().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==b?void 0:b.length)||(null==M?void 0:M[0])&&Object.keys(M[0]).length||1,colWidth:(null==b?void 0:b.length)&&b.map((function(e){return e.cellWidth}))||[],rowCount:f<l?f:l,variant:u.TableVariant.compact}}),(!N&&0===_||_>0)&&(t=[],n=[].concat((0,r.Z)(P),(0,r.Z)(M||[])).map((function(e){var n=Object.assign({},e),r=d.inventoryCardHelpers.parseRowCellsListData({filters:b,cellData:n,session:C}),o=r.columnHeaders,s=r.cells;return t=o,{cells:s}})),i=(i=42*(f+1))<275&&i||275,a().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(i,"px")}},a().createElement("div",{className:"curiosity-table-scroll-list".concat(i<275?"__no-scroll":""),onScroll:Q},function(){if(_>0&&N){var e=a().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==b?void 0:b.length)||(null==M?void 0:M[0])&&Object.keys(M[0]).length||1,colWidth:(null==b?void 0:b.length)&&b.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:u.TableVariant.compact}});return a().createElement("div",{className:"curiosity-table-scroll-loader__custom"},e)}return null}(),n.length&&a().createElement(y.Table,{borders:!1,variant:u.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:t,rows:n})||null))))};f.defaultProps={defaultPerPage:5,useGetGuestsInventory:I.useGetGuestsInventory,useOnScroll:I.useOnScroll,useProductInventoryGuestsConfig:l.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:l.useProductInventoryGuestsQuery,useSession:i.useSession}},32293:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y,context:()=>y,useGetGuestsInventory:()=>d,useOnScroll:()=>v,useSelectorsGuestsInventory:()=>c});var r=n(4942),o=n(1413),s=n(15451),a=n(77823),u=n(20169),i=n(51858),l=n(46262),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useSelectorsResponse,r=void 0===n?u.Cr.reactRedux.useSelectorsResponse:n,o=r((function(t){var n,r=t.inventory;return null==r||null===(n=r.hostsGuests)||void 0===n?void 0:n[e]})),s=o.error,a=o.cancelled,i=o.fulfilled,l=o.pending,c=o.data;return{error:s,fulfilled:i,pending:l||a||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getInventory,r=void 0===n?u.Ak.rhsm.getHostsInventoryGuests:n,a=t.useDispatch,l=void 0===a?u.Cr.reactRedux.useDispatch:a,d=t.useProductInventoryQuery,v=void 0===d?i.useProductInventoryGuestsQuery:d,y=t.useSelectorsInventory,I=void 0===y?c:y,f=v({options:{overrideId:e}}),p=l(),S=I(e);return(0,s.Z)((function(){r(e,f)(p)}),[p,e,f]),(0,o.Z)({},S)},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.useDispatch,s=void 0===o?u.Cr.reactRedux.useDispatch:o,d=n.useSelectorsInventory,v=void 0===d?c:d,y=n.useProductInventoryQuery,I=void 0===y?i.useProductInventoryGuestsQuery:y,f=s(),p=v(e),S=p.pending,E=p.data,m=void 0===E?{}:E,g=(null==m?void 0:m.meta)||{},O=g.count,h=I({options:{overrideId:e}}),P=h[l.O6.LIMIT],T=h[l.O6.OFFSET];return(0,a.Z)((function(){f([{type:u.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e}])})),function(n){var o=n.target,s=o.scrollHeight-o.scrollTop===o.clientHeight;O>(T+1)*P&&s&&!S&&("function"==typeof t&&t(n),f([(0,r.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.OFFSET],viewId:e},l.O6.OFFSET,T+1),(0,r.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.LIMIT],viewId:e},l.O6.LIMIT,P)]))}},y={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}}}]);
//# sourceMappingURL=../sourcemaps/2195.0ac04153efb5b15d2d15f36281ee67a9.js.map