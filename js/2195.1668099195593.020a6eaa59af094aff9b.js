(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2195,5451],{82195:function(e,t,n){"use strict";n.r(t),n.d(t,{InventoryCard:function(){return P},default:function(){return P}});var r=n(1413),o=n(92950),s=n.n(o),u=n(76871),i=n(21242),a=n(65550),l=n(98944),c=n(51858),d=n(76006),v=n(78697),f=n(1797),y=n(91339),I=n(15242),p=n(12243),g=n(68900),S=n(89517),E=n(65020),m=n(46262),O=n(83109),h=n(42896),P=function(e){var t=e.cardActions,n=e.isDisabled,o=e.perPageDefault,l=e.t,c=e.useGetInventory,d=e.useOnPage,S=e.useOnColumnSort,O=e.useProductInventoryConfig,h=e.useProductInventoryQuery,P=(0,e.useSession)(),T=h(),b=d(),C=S(),_=O(),D=_.filters,R=_.settings,H=c({isDisabled:n}),G=H.error,N=H.fulfilled,M=H.pending,Q=H.data,Y=void 0===Q?{}:Q,Z=Y.data,w=void 0===Z?[]:Z,F=Y.meta,L=void 0===F?{}:F;if(n)return s().createElement(i.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(i.CardBody,null,s().createElement(i.Bullseye,null,l("curiosity-inventory.tab",{context:"disabled"}))));var x,k,V=null==L?void 0:L.count,A=T[m.O6.LIMIT]||o,U=T[m.O6.OFFSET],B=E.paginationHelpers.isLastPage(U,A,V),j=!0===N&&V<A&&"bodyMinHeight-".concat(A,"-resize")||!0===N&&B&&"bodyMinHeight-".concat(A,"-resize")||!0===G&&"bodyMinHeight-".concat(A,"-resize")||"bodyMinHeight-".concat(A);return s().createElement(i.Card,{className:"curiosity-inventory-card"},s().createElement(y.MinHeight,{key:"headerMinHeight",updateOnContent:!0},s().createElement(i.CardHeader,{className:G?"hidden":"","aria-hidden":G||!1},t,s().createElement(i.CardActions,{className:V?"":"transparent","aria-hidden":!V||!1},s().createElement(g.default,{isCompact:!0,isDisabled:M||G,itemCount:V,offset:U,onPage:b,onPerPage:b,perPage:A})))),s().createElement(y.MinHeight,{key:j,updateOnContent:!0},s().createElement(i.CardBody,null,s().createElement("div",{className:(G?"blur":M&&"fadein")||""},M&&s().createElement(f.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==D?void 0:D.length)||(null==w?void 0:w[0])&&Object.keys(w[0]).length||1,colWidth:(null==D?void 0:D.length)&&D.map((function(e){return e.cellWidth}))||[],rowCount:(null==w?void 0:w.length)||A,variant:u.TableVariant.compact}}),!M&&(x=[],k=w.map((function(e){var t=Object.assign({},e),n=p.inventoryCardHelpers.parseRowCellsListData({filters:p.inventoryCardHelpers.parseInventoryFilters({filters:D,onSort:C,query:T}),cellData:t,meta:L,session:P}),o=n.columnHeaders,u=n.cells;x=o;var i=null==t?void 0:t.subscriptionManagerId,a=null==t?void 0:t.numberOfGuests;return{cells:u,expandedContent:("function"==typeof(null==R?void 0:R.hasSubTable)?R.hasSubTable((0,r.Z)({},t),(0,r.Z)({},P)):a>0&&i)&&s().createElement(I.default,{numberOfGuests:a,id:i})||void 0}})),s().createElement(v.default,{borders:!0,variant:u.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:x,rows:k}))))),s().createElement(y.MinHeight,{key:"footerMinHeight",updateOnContent:!0},s().createElement(i.CardFooter,{className:(G?"hidden":!V&&"transparent")||"","aria-hidden":G||!V||!1},s().createElement(a.Z,{isFooter:!0},s().createElement(g.default,{dropDirection:"up",isDisabled:M||G,itemCount:V,offset:U,onPage:b,onPerPage:b,perPage:A})))))};P.defaultProps={cardActions:s().createElement(i.CardHeaderMain,null,s().createElement(S.ToolbarFieldDisplayName,null)),isDisabled:d.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:O.translate,useGetInventory:h.useGetInstancesInventory,useOnPage:h.useOnPageInstances,useOnColumnSort:h.useOnColumnSortInstances,useProductInventoryConfig:c.useProductInventoryHostsConfig,useProductInventoryQuery:c.useProductInventoryHostsQuery,useSession:l.useSession}},42896:function(e,t,n){"use strict";n.r(t),n.d(t,{context:function(){return p},default:function(){return p},useGetHostsInventory:function(){return v},useGetInstancesInventory:function(){return f},useOnColumnSortInstances:function(){return I},useOnPageInstances:function(){return y}});var r=n(4942),o=n(15451),s=n(68929),u=n.n(s),i=n(76871),a=n(61072),l=n(51858),c=n(46262),d=n(76006),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?a.Ak.rhsm.getHostsInventory:r,u=e.useDispatch,i=void 0===u?a.Cr.reactRedux.useDispatch:u,c=e.useProduct,d=void 0===c?l.useProduct:c,v=e.useProductInventoryQuery,f=void 0===v?l.useProductInventoryHostsQuery:v,y=e.useSelectorsResponse,I=void 0===y?a.Cr.reactRedux.useSelectorsResponse:y,p=d(),g=p.productId,S=f(),E=i(),m=I((function(e){var t,n=e.inventory;return null==n||null===(t=n.hostsInventory)||void 0===t?void 0:t[g]})),O=m.error,h=m.cancelled,P=m.fulfilled,T=m.pending,b=m.data;return(0,o.Z)((function(){n||s(g,S)(E)}),[E,n,g,S]),{error:O,fulfilled:P,pending:T||h||!1,data:1===(null==b?void 0:b.length)&&b[0]||b||{}}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?a.Ak.rhsm.getInstancesInventory:r,u=e.useDispatch,i=void 0===u?a.Cr.reactRedux.useDispatch:u,c=e.useProduct,d=void 0===c?l.useProduct:c,v=e.useProductInventoryQuery,f=void 0===v?l.useProductInventoryHostsQuery:v,y=e.useSelectorsResponse,I=void 0===y?a.Cr.reactRedux.useSelectorsResponse:y,p=d(),g=p.productId,S=f(),E=i(),m=I((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[g]})),O=m.error,h=m.cancelled,P=m.fulfilled,T=m.pending,b=m.data;return(0,o.Z)((function(){n||s(g,S)(E)}),[E,n,g,S]),{error:O,fulfilled:P,pending:T||h||!1,data:1===(null==b?void 0:b.length)&&b[0]||b||{}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?a.Cr.reactRedux.useDispatch:t,o=e.useProduct,s=void 0===o?l.useProduct:o,u=s(),i=u.productId,d=n();return function(e){var t=e.offset,n=e.perPage;d([(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.OFFSET],viewId:i},c.O6.OFFSET,t),(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.LIMIT],viewId:i},c.O6.LIMIT,n)])}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?c.xB:t,o=e.useDispatch,s=void 0===o?a.Cr.reactRedux.useDispatch:o,v=e.useProduct,f=void 0===v?l.useProduct:v,y=f(),I=y.productId,p=s();return function(e,t){var o,s=t.direction,l=t.id,v=Object.values(n).find((function(e){return e===l||u()(e)===l}));v?(o=s===i.SortByDirection.desc?c.PQ.DESCENDING:c.PQ.ASCENDING,p([(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.DIRECTION],viewId:I},c.O6.DIRECTION,o),(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.SORT],viewId:I},c.O6.SORT,v)])):(d.BM.DEV_MODE||d.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(l," is allowed."))}},p={useGetHostsInventory:v,useGetInstancesInventory:f,useOnPageInstances:y,useOnColumnSortInstances:I}},15242:function(e,t,n){"use strict";n.r(t),n.d(t,{InventoryGuests:function(){return I},default:function(){return I}});var r=n(93433),o=n(29439),s=n(92950),u=n.n(s),i=n(76871),a=n(98944),l=n(51858),c=n(1797),d=n(12243),v=n(46262),f=n(78697),y=n(32293),I=function(e){var t,n,a,l=e.defaultPerPage,y=e.id,I=e.numberOfGuests,p=e.useGetGuestsInventory,g=e.useOnScroll,S=e.useProductInventoryGuestsQuery,E=e.useProductInventoryGuestsConfig,m=e.useSession,O=(0,s.useState)([]),h=(0,o.Z)(O,2),P=h[0],T=h[1],b=m(),C=E().filters,_=S({options:{overrideId:y}})[v.O6.OFFSET],D=p(y),R=D.error,H=D.pending,G=D.data,N=(void 0===G?{}:G).data,M=void 0===N?[]:N,Q=g(y,(function(){var e=[].concat((0,r.Z)(P),(0,r.Z)(M||[]));T(e)}));return u().createElement("div",{className:"fadein ".concat(R?"blur":"")},H&&0===_&&u().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==C?void 0:C.length)||(null==M?void 0:M[0])&&Object.keys(M[0]).length||1,colWidth:(null==C?void 0:C.length)&&C.map((function(e){return e.cellWidth}))||[],rowCount:I<l?I:l,variant:i.TableVariant.compact}}),(!H&&0===_||_>0)&&(t=[],n=[].concat((0,r.Z)(P),(0,r.Z)(M||[])).map((function(e){var n=Object.assign({},e),r=d.inventoryCardHelpers.parseRowCellsListData({filters:C,cellData:n,session:b}),o=r.columnHeaders,s=r.cells;return t=o,{cells:s}})),a=(a=42*(I+1))<275&&a||275,u().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(a,"px")}},u().createElement("div",{className:"curiosity-table-scroll-list".concat(a<275?"__no-scroll":""),onScroll:Q},function(){if(_>0&&H){var e=u().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==C?void 0:C.length)||(null==M?void 0:M[0])&&Object.keys(M[0]).length||1,colWidth:(null==C?void 0:C.length)&&C.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:i.TableVariant.compact}});return u().createElement("div",{className:"curiosity-table-scroll-loader__custom"},e)}return null}(),n.length&&u().createElement(f.Table,{borders:!1,variant:i.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:t,rows:n})||null))))};I.defaultProps={defaultPerPage:5,useGetGuestsInventory:y.useGetGuestsInventory,useOnScroll:y.useOnScroll,useProductInventoryGuestsConfig:l.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:l.useProductInventoryGuestsQuery,useSession:a.useSession}},32293:function(e,t,n){"use strict";n.r(t),n.d(t,{context:function(){return f},default:function(){return f},useGetGuestsInventory:function(){return d},useOnScroll:function(){return v},useSelectorsGuestsInventory:function(){return c}});var r=n(4942),o=n(1413),s=n(15451),u=n(77823),i=n(61072),a=n(51858),l=n(46262),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useSelectorsResponse,r=void 0===n?i.Cr.reactRedux.useSelectorsResponse:n,o=r((function(t){var n,r=t.inventory;return null==r||null===(n=r.hostsGuests)||void 0===n?void 0:n[e]})),s=o.error,u=o.cancelled,a=o.fulfilled,l=o.pending,c=o.data;return{error:s,fulfilled:a,pending:l||u||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getInventory,r=void 0===n?i.Ak.rhsm.getHostsInventoryGuests:n,u=t.useDispatch,l=void 0===u?i.Cr.reactRedux.useDispatch:u,d=t.useProductInventoryQuery,v=void 0===d?a.useProductInventoryGuestsQuery:d,f=t.useSelectorsInventory,y=void 0===f?c:f,I=v({options:{overrideId:e}}),p=l(),g=y(e);return(0,s.Z)((function(){r(e,I)(p)}),[p,e,I]),(0,o.Z)({},g)},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.useDispatch,s=void 0===o?i.Cr.reactRedux.useDispatch:o,d=n.useSelectorsInventory,v=void 0===d?c:d,f=n.useProductInventoryQuery,y=void 0===f?a.useProductInventoryGuestsQuery:f,I=s(),p=v(e),g=p.pending,S=p.data,E=void 0===S?{}:S,m=(null==E?void 0:E.meta)||{},O=m.count,h=y({options:{overrideId:e}}),P=h[l.O6.LIMIT],T=h[l.O6.OFFSET];return(0,u.Z)((function(){I([{type:i.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e}])})),function(n){var o=n.target,s=o.scrollHeight-o.scrollTop===o.clientHeight;O>(T+1)*P&&s&&!g&&("function"==typeof t&&t(n),I([(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.OFFSET],viewId:e},l.O6.OFFSET,T+1),(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.LIMIT],viewId:e},l.O6.LIMIT,P)]))}},f={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}},99376:function(e,t){var n=Object.keys;t.D=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var r=n(e),o=r.length,s=0;s<o;s++)if(!(r[s]in t))return!1;for(s=0;s<o;s++)if(e[r[s]]!==t[r[s]])return!1;return o===n(t).length}},15451:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(99376),o=n(92950),s=function(e,t){return e.every((function(e,n){return(0,r.D)(e,t[n])}))},u=function(e,t){!function(e,t,n){var r=(0,o.useRef)(void 0);r.current&&n(t,r.current)||(r.current=t),(0,o.useEffect)(e,r.current)}(e,t,s)}}}]);
//# sourceMappingURL=../sourcemaps/2195.js.map