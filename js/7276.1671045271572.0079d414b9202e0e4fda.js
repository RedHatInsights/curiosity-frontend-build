"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7276,4044,8710,1339,353,8900,5020,9517],{44044:function(e,t,n){n.r(t),n.d(t,{createMockEvent:function(){return a},default:function(){return s},doesNotHaveMinimumCharacters:function(){return i},formHelpers:function(){return s}});var r=n(1413),o=n(62834),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.Z)({},e),a=n.checked,i=n.currentTarget,s=void 0===i?{}:i,u=n.keyCode,c=n.persist,l=void 0===c?o.B.noop:c,d=n.target,v=void 0===d?{}:d;return t&&l(),{checked:a,currentTarget:s,keyCode:u,id:s.id||s.name,name:s.name,persist:l,value:s.value,target:v}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"string"==typeof e&&e.length<t||"string"!=typeof e},s={createMockEvent:a,doesNotHaveMinimumCharacters:i}},18710:function(e,t,n){n.r(t),n.d(t,{TextInput:function(){return y},default:function(){return y}});var r=n(45987),o=n(1413),a=n(15671),i=n(43144),s=n(60136),u=n(54062),c=n(92950),l=n.n(c),d=n(54653),v=n(44044),p=n(76006),f=["className","id","isDisabled","name","onChange","onClear","onKeyUp","onMouseUp","isReadOnly","type","value"],y=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={updatedValue:null},e.onKeyUp=function(t){var n=e.props,r=n.onClear,a=n.onKeyUp,i=n.type,s=t.currentTarget,u=t.keyCode,c=(0,o.Z)({},t);a((0,v.createMockEvent)(t,!0)),27===u&&("search"===i&&""===s.value?r((0,v.createMockEvent)(c)):e.setState({updatedValue:""},(function(){r((0,v.createMockEvent)((0,o.Z)((0,o.Z)({},c),{currentTarget:(0,o.Z)((0,o.Z)({},c.currentTarget),{},{value:""})})))})))},e.onMouseUp=function(t){var n=e.props,r=n.onClear,a=n.onMouseUp,i=n.type,s=t.currentTarget,u=(0,o.Z)({},t);a((0,v.createMockEvent)(t,!0)),"search"===i&&""!==s.value&&setTimeout((function(){""===s.value&&r((0,v.createMockEvent)(u))}))},e.onChange=function(t,n){var r=e.props.onChange,a=(0,o.Z)({},n);e.setState({updatedValue:t},(function(){r((0,v.createMockEvent)(a))}))},e}return(0,i.Z)(n,[{key:"render",value:function(){var e,t=this.state.updatedValue,n=this.props,o=n.className,a=n.id,i=n.isDisabled,s=n.name,u=(n.onChange,n.onClear,n.onKeyUp,n.onMouseUp,n.isReadOnly),c=n.type,v=n.value,y=(0,r.Z)(n,f),m=s||p.BM.generateId(),h=a||m;return l().createElement(d.TextInput,Object.assign({id:h,name:m,className:"curiosity-text-input ".concat(o),isDisabled:i||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:u||!1,type:c,value:null!==(e=null!=t?t:v)&&void 0!==e?e:""},y))}}]),n}(l().Component);y.defaultProps={className:"",id:null,isDisabled:!1,isReadOnly:!1,name:null,onChange:p.BM.noop,onClear:p.BM.noop,onKeyUp:p.BM.noop,onMouseUp:p.BM.noop,type:"text",value:""}},57276:function(e,t,n){n.r(t),n.d(t,{InventoryCard:function(){return M},default:function(){return M}});var r=n(1413),o=n(29439),a=n(92950),i=n.n(a),s=n(62179),u=n(14844),c=n(54653),l=n(48521),d=n(94184),v=n.n(d),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};function f(e){return"".concat(e,e>1||e<1?" Results":" Result")}var y=function(e){var t,n=e.isFooter,r=void 0!==n&&n,o=e.results,i=e.className,s=e.selected,u=e.children,d=e.ouiaId,y=e.ouiaSafe,m=void 0===y||y,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),g=v()("ins-c-table__toolbar",((t={})["ins-m-footer"]=r,t),i),I="RHI/TableToolbar",E=(0,c.useOUIAId)(I,d,m);return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(c.Toolbar,p({className:g,"data-ouia-component-type":I,"data-ouia-component-id":E,"data-ouia-safe":m},h,{children:u})),(o&&o>=0||s&&s>=0)&&(0,l.jsxs)("div",p({className:"ins-c-table__toolbar-results"},{children:[o&&o>=0&&(0,l.jsxs)("span",p({className:"ins-c-table__toolbar-results-count"},{children:[" ",f(o)," "]})),s&&s>=0&&(0,l.jsxs)("span",p({className:"ins-c-table__toolbar-results-selected"},{children:[" ",s," Selected "]}))]}))]})},m=n(98944),h=n(51858),g=n(76006),I=n(78697),E=n(1797),O=n(91339),P=n(15242),S=n(12243),C=n(68900),R=n(89517),b=n(65020),_=n(46262),D=n(83109),T=n(42896),M=function(e){var t=e.cardActions,n=e.isDisabled,l=e.perPageDefault,d=e.t,v=e.useGetInventory,p=e.useOnPage,f=e.useOnColumnSort,m=e.useProduct,h=e.useProductInventoryConfig,g=e.useProductInventoryQuery,R=e.useSession,D=(0,a.useState)({columnHeaders:[],rows:[]}),T=(0,o.Z)(D,2),M=T[0],N=T[1],H=R(),w=g(),Z=p(),k=f(),Y=m().productId,U=h(),x=U.filters,A=U.settings,Q=v({isDisabled:n}),B=Q.error,L=Q.fulfilled,F=Q.pending,V=Q.data,j=void 0===V?{}:V,z=j.data,G=void 0===z?[]:z,q=j.meta,J=void 0===q?{}:q;if((0,s.Z)((function(){var e=[],t=[];L&&G.length&&(t=G.map((function(t){var n=Object.assign({},t),o=S.inventoryCardHelpers.parseRowCellsListData({filters:S.inventoryCardHelpers.parseInventoryFilters({filters:x,onSort:k,query:w}),cellData:n,meta:J,session:H,productId:Y}),a=o.columnHeaders,s=o.cells;e=a;var u=null==n?void 0:n.subscriptionManagerId,c=null==n?void 0:n.numberOfGuests;return{cells:s,expandedContent:("function"==typeof(null==A?void 0:A.hasSubTable)?A.hasSubTable((0,r.Z)({},n),(0,r.Z)({},H)):c>0&&u)&&i().createElement(P.InventoryGuests,{key:"guests-".concat(u),numberOfGuests:c,id:u})||void 0}}))),N((function(){return{columnHeaders:e,rows:t}}))}),[x,L,G]),n)return i().createElement(c.Card,{className:"curiosity-inventory-card__disabled"},i().createElement(c.CardBody,null,i().createElement(c.Bullseye,null,d("curiosity-inventory.tab",{context:"disabled"}))));var W=null==J?void 0:J.count,K=w[_.O6.LIMIT]||l,$=w[_.O6.OFFSET],X=b.paginationHelpers.isLastPage($,K,W),ee=!0===L&&W<K&&"bodyMinHeight-".concat(K,"-resize")||!0===L&&X&&"bodyMinHeight-".concat(K,"-resize")||!0===B&&"bodyMinHeight-".concat(K,"-resize")||"bodyMinHeight-".concat(K);return i().createElement(c.Card,{className:"curiosity-inventory-card"},i().createElement(O.MinHeight,{key:"headerMinHeight",updateOnContent:!0},i().createElement(c.CardHeader,{className:B?"hidden":"","aria-hidden":B||!1},t,i().createElement(c.CardActions,{className:W?"":"transparent","aria-hidden":!W||!1},i().createElement(C.default,{isCompact:!0,isDisabled:F||B,itemCount:W,offset:$,onPage:Z,onPerPage:Z,perPage:K})))),i().createElement(O.MinHeight,{key:ee,updateOnContent:!0},i().createElement(c.CardBody,null,i().createElement("div",{className:(B?"blur":F&&"fadein")||""},F&&i().createElement(E.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==x?void 0:x.length)||(null==G?void 0:G[0])&&Object.keys(G[0]).length||1,colWidth:(null==x?void 0:x.length)&&x.map((function(e){return e.cellWidth}))||[],rowCount:(null==G?void 0:G.length)||K,variant:u.TableVariant.compact}}),!F&&i().createElement(I.default,{borders:!0,variant:u.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:M.columnHeaders,rows:M.rows})))),i().createElement(O.MinHeight,{key:"footerMinHeight",updateOnContent:!0},i().createElement(c.CardFooter,{className:(B?"hidden":!W&&"transparent")||"","aria-hidden":B||!W||!1},i().createElement(y,{isFooter:!0},i().createElement(C.default,{dropDirection:"up",isDisabled:F||B,itemCount:W,offset:$,onPage:Z,onPerPage:Z,perPage:K})))))};M.defaultProps={cardActions:i().createElement(c.CardHeaderMain,null,i().createElement(R.ToolbarFieldDisplayName,null)),isDisabled:g.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:D.translate,useGetInventory:T.useGetInstancesInventory,useOnPage:T.useOnPageInstances,useOnColumnSort:T.useOnColumnSortInstances,useProduct:h.useProduct,useProductInventoryConfig:h.useProductInventoryHostsConfig,useProductInventoryQuery:h.useProductInventoryHostsQuery,useSession:m.useSession}},42896:function(e,t,n){n.r(t),n.d(t,{context:function(){return O},default:function(){return O},useGetHostsInventory:function(){return m},useGetInstancesInventory:function(){return h},useOnColumnSortHosts:function(){return I},useOnColumnSortInstances:function(){return E},useOnPageInstances:function(){return g}});var r=n(4942),o=n(1413),a=n(45987),i=n(17297),s=n(68929),u=n.n(s),c=n(14844),l=n(82410),d=n(51858),v=n(46262),p=n(76006),f=["cancelled","pending","data"],y=["cancelled","pending","data"],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?l.Ak.rhsm.getHostsInventory:r,u=e.useDispatch,c=void 0===u?l.Cr.reactRedux.useDispatch:u,v=e.useProduct,p=void 0===v?d.useProduct:v,y=e.useProductInventoryQuery,m=void 0===y?d.useProductInventoryHostsQuery:y,h=e.useSelectorsResponse,g=void 0===h?l.Cr.reactRedux.useSelectorsResponse:h,I=p(),E=I.productId,O=m(),P=c(),S=g((function(e){var t,n=e.inventory;return null==n||null===(t=n.hostsInventory)||void 0===t?void 0:t[E]})),C=S.cancelled,R=S.pending,b=S.data,_=(0,a.Z)(S,f);return(0,i.Z)((function(){n||s(E,O)(P)}),[P,n,E,O]),(0,o.Z)((0,o.Z)({},_),{},{pending:R||C||!1,data:1===(null==b?void 0:b.length)&&b[0]||b||{}})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?l.Ak.rhsm.getInstancesInventory:r,u=e.useDispatch,c=void 0===u?l.Cr.reactRedux.useDispatch:u,v=e.useProduct,p=void 0===v?d.useProduct:v,f=e.useProductInventoryQuery,m=void 0===f?d.useProductInventoryHostsQuery:f,h=e.useSelectorsResponse,g=void 0===h?l.Cr.reactRedux.useSelectorsResponse:h,I=p(),E=I.productId,O=m(),P=c(),S=g((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[E]})),C=S.cancelled,R=S.pending,b=S.data,_=(0,a.Z)(S,y);return(0,i.Z)((function(){n||s(E,O)(P)}),[P,n,E,O]),(0,o.Z)((0,o.Z)({},_),{},{pending:R||C||!1,data:1===(null==b?void 0:b.length)&&b[0]||b||{}})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?l.Cr.reactRedux.useDispatch:t,o=e.useProduct,a=void 0===o?d.useProduct:o,i=a(),s=i.productId,u=n();return function(e){var t=e.offset,n=e.perPage;u([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.OFFSET],viewId:s},v.O6.OFFSET,t),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.LIMIT],viewId:s},v.O6.LIMIT,n)])}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?v.$k:t,o=e.useDispatch,a=void 0===o?l.Cr.reactRedux.useDispatch:o,i=e.useProduct,s=void 0===i?d.useProduct:i,f=s(),y=f.productId,m=a();return function(e,t){var o,a=t.direction,i=t.id,s=Object.values(n).find((function(e){return e===i||u()(e)===i}));s?(o=a===c.SortByDirection.desc?v.PQ.DESCENDING:v.PQ.ASCENDING,m([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.DIRECTION],viewId:y},v.O6.DIRECTION,o),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.SORT],viewId:y},v.O6.SORT,s)])):(p.BM.DEV_MODE||p.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(i," is allowed."))}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?v.xB:t,o=e.useDispatch,a=void 0===o?l.Cr.reactRedux.useDispatch:o,i=e.useProduct,s=void 0===i?d.useProduct:i,f=s(),y=f.productId,m=a();return function(e,t){var o,a=t.direction,i=t.id,s=Object.values(n).find((function(e){return e===i||u()(e)===i}));s?(o=a===c.SortByDirection.desc?v.PQ.DESCENDING:v.PQ.ASCENDING,m([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.DIRECTION],viewId:y},v.O6.DIRECTION,o),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.SORT],viewId:y},v.O6.SORT,s)])):(p.BM.DEV_MODE||p.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(i," is allowed."))}},O={useGetHostsInventory:m,useGetInstancesInventory:h,useOnPageInstances:g,useOnColumnSortHosts:I,useOnColumnSortInstances:E}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return d},default:function(){return d}});var r=n(15671),o=n(43144),a=n(97326),i=n(60136),s=n(54062),u=n(92950),c=n.n(u),l=n(76006),d=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).containerRef=c().createRef(),e.innerContainerRef=c().createRef(),e.updatedContainerWidth=0,e.resizeObserver=l.BM.noop,e.onResizeContainer=function(){var t,n,r=(0,a.Z)(e).updatedContainerWidth,o=e.props.updateOnResize,i=(null===(t=e.containerRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0;o&&i!==r&&(e.updatedContainerWidth=i,e.setMinHeight(!0))},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.minHeight,r=this.containerRef.current,o=void 0===r?{}:r,a=this.innerContainerRef.current,i=void 0===a?{}:a;null!=o&&o.style&&(n>(e=t?(null==i?void 0:i.clientHeight)||0:(null==o?void 0:o.clientHeight)||0)&&(e=n),o.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return c().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},c().createElement("div",{ref:this.innerContainerRef},e))}}]),n}(c().Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},68900:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return u},default:function(){return u}});var r=n(92950),o=n.n(r),a=n(54653),i=n(76006),s=n(65020),u=function e(t){var n=t.dropDirection,r=t.isDisabled,i=t.isCompact,u=t.itemCount,c=t.offset,l=t.onPage,d=t.onPerPage,v=t.perPage,p=t.variant;return o().createElement(a.Pagination,{dropDirection:n,isCompact:i,isDisabled:r||!u,itemCount:u,onSetPage:function(e,t,n){return l({event:e,perPage:n,offset:s.paginationHelpers.calculateOffsetFromPage(t,n)})},onPerPageSelect:function(t,n){return d({event:t,perPage:n,offset:e.defaultProps.offset})},page:s.paginationHelpers.calculatePageFromOffset(c||e.defaultProps.offset,v),perPage:v,variant:p})};u.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:i.BM.noop,onPerPage:i.BM.noop,perPage:10,variant:null}},65020:function(e,t,n){n.r(t),n.d(t,{calculateOffsetFromPage:function(){return r},calculatePageFromOffset:function(){return o},default:function(){return i},isLastPage:function(){return a},paginationHelpers:function(){return i}});var r=function(e,t){return t*(e-1)||0},o=function(e,t){return e/t+1||1},a=function(e,t,n){return o(e,t)===Math.ceil(n/t)},i={calculateOffsetFromPage:r,calculatePageFromOffset:o,isLastPage:a}},89517:function(e,t,n){n.r(t),n.d(t,{ToolbarFieldDisplayName:function(){return f},default:function(){return f}});var r=n(4942),o=n(92950),a=n.n(o),i=n(54653),s=n(23279),u=n.n(s),c=n(82410),l=n(51858),d=n(18710),v=n(46262),p=n(83109),f=function(e){var t=e.t,n=e.useDispatch,o=e.useProduct,s=e.useProductInventoryHostsQuery,l=o().viewId,p=s()[v.O6.DISPLAY_NAME],f=n(),y=function(e){return f([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},(0,r.Z)({type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.DISPLAY_NAME],viewId:l},v.O6.DISPLAY_NAME,(null==e?void 0:e.trim())||null)])},m=u()(y,700);return a().createElement(i.InputGroup,null,a().createElement(d.TextInput,{"aria-label":t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:function(){""!==p&&p&&f([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},(0,r.Z)({type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[v.O6.DISPLAY_NAME],viewId:l},v.O6.DISPLAY_NAME,null)])},onKeyUp:function(e){switch(e.keyCode){case 13:y(e.value);break;case 27:break;default:m(e.value)}},value:p,placeholder:t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),"data-test":"toolbarFieldDisplayName"}))};f.defaultProps={t:p.translate,useDispatch:c.Cr.reactRedux.useDispatch,useProduct:l.useProduct,useProductInventoryHostsQuery:l.useProductInventoryHostsQuery}}}]);
//# sourceMappingURL=../sourcemaps/7276.e5c33eec5745ae94c8f5bc5de3171114.js.map