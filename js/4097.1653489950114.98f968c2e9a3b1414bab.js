(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4097,9844,1858,998],{49844:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>P,Select:()=>P,SelectDirection:()=>b,SelectPosition:()=>T});var r=n(70885),i=n(1413),o=n(15671),u=n(43144),s=n(60136),l=n(54062),a=n(96985),c=n.n(a),d=n(75857),v=n(50361),p=n.n(v),f=n(18446),y=n.n(f),g=n(30998),h=n.n(g),S=n(68630),x=n.n(S),I=n(62834),b=d.DropdownDirection,T=d.DropdownPosition,P=function(t){(0,s.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;(0,o.Z)(this,n);for(var r=arguments.length,u=new Array(r),s=0;s<r;s++)u[s]=arguments[s];return(t=e.call.apply(e,[this].concat(u))).state={isExpanded:!1,options:null,selected:null},t.selectField=c().createRef(),t.onSelect=function(e,n){var r=t.state.options,o=t.props,u=o.id,s=o.name,l=o.onSelect,a=o.variant,c=r,v=c.findIndex((function(t){return t.title===n}));c[v].selected=a===d.SelectVariant.single||!c[v].selected,a===d.SelectVariant.single&&c.forEach((function(t,e){v!==e&&(c[e].selected=!1)}));var f=a===d.SelectVariant.single?n:c.filter((function(t){return!0===t.selected})).map((function(t){return t.title}));t.setState({options:c,selected:f},(function(){var e=p()(c),n={id:u,name:s||u,value:e[v].value,selected:a===d.SelectVariant.single&&e[v]||p()(f),selectedIndex:v,type:"select-".concat(a===d.SelectVariant.single?"one":"multiple"),options:e};a===d.SelectVariant.checkbox&&(n.checked=e[v].selected);var r=(0,i.Z)((0,i.Z)({},n),{},{target:(0,i.Z)({},n),currentTarget:(0,i.Z)({},n),persist:I.B.noop});l((0,i.Z)({},r),v,e),a===d.SelectVariant.single&&t.setState({isExpanded:!1})}))},t.onToggle=function(e){t.setState({isExpanded:e})},t}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.options,r=e.selectedOptions;y()(t.options,n)&&y()(t.selectedOptions,r)||this.formatOptions()}},{key:"formatOptions",value:function(){var t,e,n=this.selectField.current,o=void 0===n?{}:n,u=this.props,s=u.options,l=u.selectedOptions,a=u.variant,c=Object.entries(this.props).filter((function(t){var e=(0,r.Z)(t,1)[0];return/^data-/i.test(e)})),v=x()(s)?Object.entries(s).map((function(t){var e=(0,r.Z)(t,2),n=e[0],o=e[1];return(0,i.Z)((0,i.Z)({},o),{},{title:n,value:o})})):p()(s),f=l&&"string"==typeof l||"number"==typeof l?[l]:l;v.forEach((function(t,e){var n,r=t;("string"==typeof r&&(r={title:t,value:t},v[e]=r),r.text=r.text||r.title,r.textContent=r.textContent||r.title,r.label=r.label||r.title,f)&&(x()(r.value)?(n=h()(f,r.value)>-1)||(n=!!f.find((function(t){return Object.values(r.value).includes(t)}))):n=f.includes(r.value),n||(n=f.includes(r.title)),v[e].selected=n)})),e=a===d.SelectVariant.single?(v.find((function(t){return!0===t.selected}))||{}).title:v.filter((function(t){return!0===t.selected})).map((function(t){return t.title})),null!=o&&null!==(t=o.parentRef)&&void 0!==t&&t.current&&c.forEach((function(t){var e,n=(0,r.Z)(t,2),i=n[0],u=n[1];return null==o||null===(e=o.parentRef)||void 0===e?void 0:e.current.setAttribute(i,u)})),this.setState({options:v,selected:e})}},{key:"render",value:function(){var t=this.state,e=t.options,n=t.selected,r=t.isExpanded,i=this.props,o=i.ariaLabel,u=i.className,s=i.direction,l=i.isDisabled,a=i.isToggleText,v=i.maxHeight,p=i.placeholder,f=i.position,y=i.toggleIcon,g=i.variant,h={direction:s,maxHeight:v};return e&&e.length&&!l||(h.isDisabled=!0),c().createElement("div",{className:"curiosity-select"},c().createElement(d.Select,Object.assign({menuAppendTo:"parent",className:"curiosity-select-pf".concat(a?"":"__no-toggle-text"," ").concat(f===d.DropdownPosition.right?"curiosity-select-pf__position-right":""," ").concat(u),variant:g,"aria-label":o,onToggle:this.onToggle,onSelect:this.onSelect,selections:n,isOpen:r,toggleIcon:y,placeholderText:p,ref:this.selectField},h),e&&e.map((function(t){return c().createElement(d.SelectOption,{key:window.btoa("".concat(t.title,"-").concat(t.value)),id:window.btoa("".concat(t.title,"-").concat(t.value)),value:t.title,"data-value":x()(t.value)&&JSON.stringify([t.value])||t.value,"data-title":t.title})}))||[]))}}]),n}(c().Component);P.defaultProps={ariaLabel:"Select option",className:"",direction:b.down,id:I.B.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:I.B.noop,options:[],placeholder:"Select option",position:T.left,selectedOptions:null,toggleIcon:null,variant:d.SelectVariant.single}},51858:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>F,context:()=>F,ProductViewContext:()=>y,DEFAULT_CONTEXT:()=>f,useProductContext:()=>P,useProductQuery:()=>S,useProductQueryFactory:()=>h,useProductGraphTallyQuery:()=>x,useProductInventoryGuestsQuery:()=>I,useProductInventoryHostsQuery:()=>b,useProductInventorySubscriptionsQuery:()=>T,useProduct:()=>C,useProductGraphConfig:()=>m,useProductInventoryGuestsConfig:()=>E,useProductInventoryHostsConfig:()=>O,useProductInventorySubscriptionsConfig:()=>_,useProductToolbarConfig:()=>Z});var r=n(45987),i=n(4942),o=n(1413),u=n(96985),s=n.n(u),l=n(12723),a=n(2606),c=n(30446),d=n(46262),v=n(62834),p=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],f=[{},v.B.noop],y=s().createContext(f),g=function(){return(0,u.useContext)(y)},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.overrideId,r=e.useProductViewContext,i=void 0===r?g:r,u=i(),s=u[t],l=u.productId,c=u.viewId,d=a.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[n]}),void 0),v=a.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[l]}),void 0),p=a.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[c]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),d),v),p)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"query":e,r=t.options;return h(n,r)},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"graphTallyQuery":e,r=t.schemaCheck,i=void 0===r?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:r,u=t.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),h(n,u)),i)},I=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultLimit,r=void 0===n?100:n,u=e.defaultOffset,s=void 0===u?0:u,a=e.queryType,v=void 0===a?"inventoryGuestsQuery":a,p=e.schemaCheck,f=void 0===p?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:p,y=e.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,i.Z)(t,d.O6.LIMIT,r),(0,i.Z)(t,d.O6.OFFSET,s),t),S()),h(v,y)),f)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventoryHostsQuery":e,r=t.schemaCheck,i=void 0===r?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),h(n,u)),i)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventorySubscriptionsQuery":e,r=t.schemaCheck,i=void 0===r?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),h(n,u)),i)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,n=void 0===e?S:e,i=t.useProductViewContext,s=void 0===i?g:i,l=n(),a=l[c.VN.UOM],d=s(),v=d.initialGraphFilters,f=void 0===v?[]:v,y=d.initialInventoryFilters,h=void 0===y?[]:y,x=d.initialSubscriptionsInventoryFilters,I=void 0===x?[]:x,b=d.productContextFilterUom,T=(0,r.Z)(d,p),P=(0,u.useCallback)((function(){if(!0===b){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(a,"i").test(e)};return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:f.filter(t),initialInventoryFilters:h.filter(t),initialSubscriptionsInventoryFilters:I.filter(t)})}return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:f,initialInventoryFilters:h,initialSubscriptionsInventoryFilters:I})}),[T,f,h,I,b,a]);return P()},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,n=void 0===e?g:e,r=n(),i=r.productGroup,o=r.productId,u=r.productLabel,s=r.viewId;return{productGroup:i,productId:o,productLabel:u,viewId:s}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialGraphFilters,o=r.initialGraphSettings,u=void 0===o?{}:o;return{filters:i,settings:u}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.inventoryGuestsQuery,o=void 0===i?{}:i,u=r.initialGuestsFilters,s=r.initialGuestsSettings,l=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:l}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialInventoryFilters,o=r.initialInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialSubscriptionsInventoryFilters,o=r.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialToolbarFilters,o=r.initialToolbarSettings,u=void 0===o?{}:o,s=r.initialSecondaryToolbarFilters;return{filters:i,secondaryFilters:s,settings:u}},F={ProductViewContext:y,DEFAULT_CONTEXT:f,useProductContext:P,useQuery:S,useQueryFactory:h,useGraphTallyQuery:x,useInventoryGuestsQuery:I,useInventoryHostsQuery:b,useInventorySubscriptionsQuery:T,useProduct:C,useGraphConfig:m,useInventoryGuestsConfig:E,useInventoryHostsConfig:O,useInventorySubscriptionsConfig:_,useToolbarConfig:Z}},74097:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f,ToolbarFieldUom:()=>f,toolbarFieldOptions:()=>v,useOnSelect:()=>p});var r=n(1413),i=n(4942),o=n(96985),u=n.n(o),s=n(61072),l=n(51858),a=n(49844),c=n(30446),d=n(83109),v=Object.values(c.lu).map((function(t){return{title:(0,d.translate)("curiosity-toolbar.uom",{context:t}),value:t,selected:!1}})),p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useDispatch,n=void 0===e?s.Cr.reactRedux.useDispatch:e,r=t.useProduct,o=void 0===r?l.useProduct:r,u=o(),a=u.viewId,d=n();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.value,n=void 0===e?null:e;return d([{type:s.JD.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:a},(0,i.Z)({type:s.JD.query.SET_QUERY_RHSM_TYPES[c.VN.UOM],viewId:a},c.VN.UOM,n)])}},f=function(t){var e=t.isFilter,n=t.options,i=t.position,o=t.t,s=t.useOnSelect,l=(0,t.useProductQuery)()[c.VN.UOM],d=s(),v=n.map((function(t){return(0,r.Z)((0,r.Z)({},t),{},{selected:t.value===l})}));return u().createElement(a.Select,{"aria-label":o("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"uom"}),onSelect:d,options:v,selectedOptions:l,placeholder:o("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"uom"}),position:i,"data-test":"toolbarFieldUom"})};f.defaultProps={isFilter:!1,options:v,position:a.SelectPosition.left,t:d.translate,useOnSelect:p,useProductQuery:l.useProductQuery}},41848:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2958:(t,e,n)=>{var r=n(46384),i=n(90939);t.exports=function(t,e,n,o){var u=n.length,s=u,l=!o;if(null==t)return!s;for(t=Object(t);u--;){var a=n[u];if(l&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++u<s;){var c=(a=n[u])[0],d=t[c],v=a[1];if(l&&a[2]){if(void 0===d&&!(c in t))return!1}else{var p=new r;if(o)var f=o(d,v,c,t,e,p);if(!(void 0===f?i(v,d,3,o,p):f))return!1}}return!0}},67206:(t,e,n)=>{var r=n(91573),i=n(16432),o=n(6557),u=n(1469),s=n(39601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?u(t)?i(t[0],t[1]):r(t):s(t)}},91573:(t,e,n)=>{var r=n(2958),i=n(1499),o=n(42634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},16432:(t,e,n)=>{var r=n(90939),i=n(27361),o=n(79095),u=n(15403),s=n(89162),l=n(42634),a=n(40327);t.exports=function(t,e){return u(t)&&s(e)?l(a(t),e):function(n){var u=i(n,t);return void 0===u&&u===e?o(n,t):r(e,u,3)}}},40371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},79152:(t,e,n)=>{var r=n(97786);t.exports=function(t){return function(e){return r(e,t)}}},27561:(t,e,n)=>{var r=n(67990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},1499:(t,e,n)=>{var r=n(89162),i=n(3674);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],u=t[o];e[n]=[o,u,r(u)]}return e}},222:(t,e,n)=>{var r=n(71811),i=n(35694),o=n(1469),u=n(65776),s=n(41780),l=n(40327);t.exports=function(t,e,n){for(var a=-1,c=(e=r(e,t)).length,d=!1;++a<c;){var v=l(e[a]);if(!(d=null!=t&&n(t,v)))break;t=t[v]}return d||++a!=c?d:!!(c=null==t?0:t.length)&&s(c)&&u(v,c)&&(o(t)||i(t))}},89162:(t,e,n)=>{var r=n(13218);t.exports=function(t){return t==t&&!r(t)}},42634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},67990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},30998:(t,e,n)=>{var r=n(41848),i=n(67206),o=n(40554),u=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=u(s+l,0)),r(t,i(e,3),l)}},79095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},39601:(t,e,n)=>{var r=n(40371),i=n(79152),o=n(15403),u=n(40327);t.exports=function(t){return o(t)?r(u(t)):i(t)}},18601:(t,e,n)=>{var r=n(14841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},40554:(t,e,n)=>{var r=n(18601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},14841:(t,e,n)=>{var r=n(27561),i=n(13218),o=n(33448),u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,a=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?a(t.slice(2),n?2:8):u.test(t)?NaN:+t}}}]);
//# sourceMappingURL=../sourcemaps/4097.42513382f35b424d77378ff3d082cb0f.js.map