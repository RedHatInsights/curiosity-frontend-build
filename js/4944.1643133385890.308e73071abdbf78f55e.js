"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4944,608,9877,9175],{87585:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h,BannerMessages:()=>h});var r=a(4942),n=a(1413),i=a(29439),o=a(92950),l=a.n(o),s=a(99421),c=a(48418),u=a(15451),d=a(186),p=a(83109),m=a(76006),y=a(30446),g=a(3281),h=function(e){var t,a=e.messages,c=e.useRouteDetail,p=e.useAppMessages,g=(0,o.useState)({}),h=(0,i.Z)(g,2),v=h[0],f=h[1],E=(0,o.useState)([]),I=(0,i.Z)(E,2),S=I[0],C=I[1],_=c()||{},T=_.pathParameter,D=_.productConfig,M=1===(null==D?void 0:D.length)&&(null==D?void 0:D[0]),P=d.IT.parseRhsmQuery((null==D||null===(t=D[0])||void 0===t?void 0:t.query)||{}).query,b=p().appMessages;return(0,u.Z)((function(){if(T&&M){var e,t=m.i3.getRangedDateTime("CURRENT"),a=t.startDate,i=t.endDate,o=(0,n.Z)((0,n.Z)({},P),{},(e={},(0,r.Z)(e,y.VN.GRANULARITY,y.U9.DAILY),(0,r.Z)(e,y.VN.START_DATE,a.toISOString()),(0,r.Z)(e,y.VN.END_DATE,i.toISOString()),e));d.Cr.rhsmActions.useGetMessageReports(T,o)}}),[T,M,P]),(0,u.Z)((function(){var e=[];a.length&&Object.entries(b).forEach((function(t){var r=(0,i.Z)(t,2),o=r[0],l=r[1];if(!0!==v[o]&&!0===l){var s=a.find((function(e){return e.id===o}));s&&e.push((0,n.Z)({key:o},s))}})),C(e.map((function(e){var t=e.key,a=e.message,i=e.title,o=e.variant,c=void 0===o?s.AlertVariant.info:o,u=l().createElement(s.AlertActionCloseButton,{onClose:function(){return f((0,n.Z)((0,n.Z)({},v),{},(0,r.Z)({},t,!0)))}});return l().createElement(s.Alert,{actionClose:u,key:t,title:i,variant:c},a)})))}),[b,v,a]),null!=S&&S.length?l().createElement("div",{className:"curiosity-banner-messages"},S):null};h.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,p.translate)("curiosity-banner.dataMismatchTitle"),message:(0,p.translate)("curiosity-banner.dataMismatchMessage",{context:""!==m.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:m.BM.UI_DISPLAY_NAME},[l().createElement(s.Button,{isInline:!0,component:"a",variant:"link",icon:l().createElement(c.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:m.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useAppMessages:d.Cr.rhsmSelectors.useAppMessages,useRouteDetail:g.Tu}},10608:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u,GraphCard:()=>u});var r=a(92950),n=a.n(r),i=a(51858),o=a(76006),l=a(11014),s=a(49877),c=a(78139),u=function(e){var t=e.isDisabled,a=(0,e.useProductGraphConfig)().filters,r=c.graphCardHelpers.generateChartSettings(a),i=r.groupedFilters,o=r.standaloneFilters;return t?null:n().createElement(n().Fragment,null,(null==i?void 0:i.length)&&n().createElement(l.GraphCardMetrics,{metricFilters:i})||null,o.map((function(e){return n().createElement(s.GraphCardMetric,{key:"graphCard_".concat(e.id),metricFilter:e})})))};u.defaultProps={isDisabled:o.BM.UI_DISABLED_GRAPH,useProductGraphConfig:i.useProductGraphConfig}},49877:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d,GraphCardMetric:()=>d});var r=a(1413),n=a(29439),i=a(92950),o=a.n(i),l=a(91799),s=a(51858),c=a(25394),u=(a(46262),a(29407)),d=function(e){var t=e.metricFilter,a=e.useProductGraphConfig,s=(0,i.useState)({}),d=(0,n.Z)(s,2),p=d[0],m=d[1],y=a().settings;return(0,i.useEffect)((function(){m({settings:(0,r.Z)((0,r.Z)({padding:{bottom:75,left:75,right:45,top:45}},y),{},{isStandalone:!0,metric:t,metrics:[t]})})}),[t,y,m]),o().createElement(c.GraphCardContext.Provider,{value:p},o().createElement(u.GraphCardMetricTotals,null,o().createElement(l.GraphCardChart,null)))};d.defaultProps={metricFilter:{},useProductGraphConfig:s.useProductGraphConfig}},29407:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f,GraphCardMetricTotals:()=>f});var r=a(92950),n=a.n(r),i=a(99421),o=a(30381),l=a.n(o),s=a(68929),c=a.n(s),u=a(51858),d=a(25394),p=a(91339),m=a(1797),y=a(76006),g=a(65876),h=a(46262),v=a(83109),f=function(e){var t,a,r,o,s=e.children,u=e.t,d=e.useMetricsSelector,v=(0,e.useProductGraphTallyQuery)()[h.O6.START_DATE],f=d(),E=f.pending,I=f.error,S=f.fulfilled,C=f.dataSets,_=(void 0===C?[]:C)[0]||{},T=_.data,D=void 0===T?[]:T,M=_.id,P=_.meta,b=void 0===P?{}:P,O=D[D.length-1]||{},N=O.date,A=O.hasData,R=O.y,G=D.find((function(e){return!0===e.isCurrentDate}))||{},H=G.date,k=G.hasData,B=G.y,F=b.totalMonthlyDate,L=b.totalMonthlyHasData,Z=b.totalMonthlyValue,x=g.toolbarFieldOptions.find((function(e){return e.title===v||e.value.startDate.toISOString()===v}))||{},U=x.title,w=x.isCurrent,Q=w?H:N,q=w?k:A,V=w?B:R;return n().createElement(i.Flex,{"data-test":"graphMetricTotals-".concat(c()(M)),className:"curiosity-usage-graph__totals"},n().createElement(i.Flex,{flex:{default:"flex_1"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},n().createElement(i.FlexItem,{className:"curiosity-usage-graph__totals-column"},n().createElement(i.Card,{"data-test":"graphDailyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(I?"blur":"")},n().createElement(i.CardTitle,null,u("curiosity-graph.cardHeadingMetric_dailyTotal",{context:M,month:U})),n().createElement(p.MinHeight,{key:"currentBody"},n().createElement(i.CardBody,null,n().createElement("div",null,E&&n().createElement(m.Loader,{variant:"skeleton",skeletonProps:{size:m.SkeletonSize.lg}}),S&&u("curiosity-graph.cardBodyMetric_total",{context:q&&M||"",total:null===(t=y.BM.numberDisplay(V))||void 0===t||null===(a=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===a?void 0:a.toUpperCase()},[n().createElement("strong",{title:V,"aria-label":V})])))),n().createElement(p.MinHeight,{key:"currentFooter"},n().createElement(i.CardFooter,null,n().createElement("div",{className:q?"":"hidden"},S&&Q&&u("curiosity-graph.cardFooterMetric",{date:l().utc(Q).format(y.i3.timestampUTCTimeFormats.yearTimeShort)}))))),n().createElement(i.Card,{"data-test":"graphMonthlyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(I?"blur":"")},n().createElement(i.CardTitle,null,u("curiosity-graph.cardHeadingMetric_monthlyTotal",{context:M,month:U})),n().createElement(p.MinHeight,{key:"totalMonthlyBody"},n().createElement(i.CardBody,null,n().createElement("div",null,E&&n().createElement(m.Loader,{variant:"skeleton",skeletonProps:{size:m.SkeletonSize.lg}}),S&&u("curiosity-graph.cardBodyMetric_total",{context:L&&M||"",total:null===(r=y.BM.numberDisplay(Z))||void 0===r||null===(o=r.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===o?void 0:o.toUpperCase()},[n().createElement("strong",{title:Z,"aria-label":Z})])))),n().createElement(p.MinHeight,{key:"totalMonthlyFooter"},n().createElement(i.CardFooter,null,n().createElement("div",{className:L?"":"hidden"},S&&F&&u("curiosity-graph.cardFooterMetric",{date:l().utc(F).format(y.i3.timestampUTCTimeFormats.yearTimeShort)}))))))),n().createElement(i.Flex,{flex:{default:"flex_3"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},n().createElement(i.FlexItem,{className:"curiosity-usage-graph__totals-graph-column"},s)))};f.defaultProps={children:null,t:v.translate,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:u.useProductGraphTallyQuery}},11014:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u,GraphCardMetrics:()=>u});var r=a(1413),n=a(29439),i=a(92950),o=a.n(i),l=a(91799),s=a(51858),c=a(25394),u=(a(46262),function(e){var t=e.metricFilters,a=e.useProductGraphConfig,s=(0,i.useState)({}),u=(0,n.Z)(s,2),d=u[0],p=u[1],m=a().settings;return(0,i.useEffect)((function(){p({settings:(0,r.Z)((0,r.Z)({},m),{},{isStandalone:!1,metric:void 0,metrics:t})})}),[t,m,p]),o().createElement(c.GraphCardContext.Provider,{value:d},o().createElement(l.GraphCardChart,null))});u.defaultProps={metricFilters:[],useProductGraphConfig:s.useProductGraphConfig}},86876:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R,ConnectedInventoryList:()=>R,InventoryList:()=>N});var r=a(1413),n=a(4942),i=a(15671),o=a(43144),l=a(60136),s=a(54062),c=a(92950),u=a.n(c),d=a(18446),p=a.n(d),m=a(57294),y=a(99421),g=a(32875),h=a(68929),v=a.n(h),f=a(76006),E=a(186),I=a(78697),S=a(1797),C=a(91339),_=a(63056),T=a(44822),D=a(68900),M=a(89517),P=a(65020),b=a(46262),O=a(83109),N=function(e){(0,l.Z)(a,e);var t=(0,s.Z)(a);function a(){var e;(0,i.Z)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onColumnSort=function(t,a){var r,i=a.direction,o=a.id,l=e.props.productId,s=Object.values(b.xB).find((function(e){return e===o||v()(e)===o}));s?(r=i===m.SortByDirection.desc?b.PQ.DESCENDING:b.PQ.ASCENDING,E.h.dispatch([(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[b.O6.DIRECTION],viewId:l},b.O6.DIRECTION,r),(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[b.O6.SORT],viewId:l},b.O6.SORT,s)])):(f.BM.DEV_MODE||f.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(o," is allowed."))},e.onPage=function(t){var a=t.offset,r=t.perPage,i=e.props.productId;E.h.dispatch([(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[b.O6.OFFSET],viewId:i},b.O6.OFFSET,a),(0,n.Z)({type:E.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[b.O6.LIMIT],viewId:i},b.O6.LIMIT,r)])},e.onUpdateInventoryData=function(){var t=e.props,a=t.getInstancesInventory,r=t.isDisabled,n=t.productId,i=t.query;!r&&n&&a(n,i)},e}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.productId,r=t.query;a===e.productId&&p()(r,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,a=t.filterGuestsData,n=t.filterInventoryData,i=t.data,o=t.query,l=t.session,s=t.settings,c=[],d=i.map((function(t){var i=Object.assign({},t),d=T.inventoryListHelpers.parseRowCellsListData({filters:T.inventoryListHelpers.parseInventoryFilters({filters:n,onSort:e.onColumnSort,query:o}),cellData:i,session:l}),p=d.columnHeaders,m=d.cells;c=p;var y=null==i?void 0:i.subscriptionManagerId,g=(null==i?void 0:i.numberOfGuests)>0&&y;return"function"==typeof(null==s?void 0:s.hasGuests)&&(g=s.hasGuests((0,r.Z)({},i),(0,r.Z)({},l))),{cells:m,expandedContent:g&&u().createElement(_.default,{key:y,filterGuestsData:a,numberOfGuests:null==i?void 0:i.numberOfGuests,id:y,query:o})||void 0}}));return u().createElement(I.default,{borders:!0,variant:m.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:c,rows:d})}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.filterInventoryData,r=e.fulfilled,n=e.isDisabled,i=e.data,o=e.meta,l=e.pending,s=e.perPageDefault,c=e.query,d=e.t,p=e.viewId;if(n)return u().createElement(y.Card,{className:"curiosity-inventory-card__disabled"},u().createElement(y.CardBody,null,u().createElement(y.Bullseye,null,d("curiosity-inventory.tab",{context:"disabled"}))));var h=null==o?void 0:o.count,v=c[b.O6.LIMIT]||s,f=c[b.O6.OFFSET],E=P.paginationHelpers.isLastPage(f,v,h),I=!0===r&&h<v&&"bodyMinHeight-".concat(v,"-resize")||!0===r&&E&&"bodyMinHeight-".concat(v,"-resize")||!0===t&&"bodyMinHeight-".concat(v,"-resize")||"bodyMinHeight-".concat(v);return u().createElement(y.Card,{className:"curiosity-inventory-card"},u().createElement(C.MinHeight,{key:"headerMinHeight",updateOnContent:!0},u().createElement(y.CardHeader,{className:t?"hidden":"","aria-hidden":t||!1},u().createElement(y.CardHeaderMain,null,u().createElement(M.ToolbarFieldDisplayName,{viewId:p})),u().createElement(y.CardActions,{className:h?"":"transparent","aria-hidden":!h||!1},u().createElement(D.default,{isCompact:!0,isDisabled:l||t,itemCount:h,offset:f,onPage:this.onPage,onPerPage:this.onPage,perPage:v})))),u().createElement(C.MinHeight,{key:I,updateOnContent:!0},u().createElement(y.CardBody,null,u().createElement("div",{className:(t?"blur":l&&"fadein")||""},l&&u().createElement(S.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==a?void 0:a.length)||(null==i?void 0:i[0])&&Object.keys(i[0]).length||1,colWidth:(null==a?void 0:a.length)&&a.map((function(e){return e.cellWidth}))||[],rowCount:(null==i?void 0:i.length)||v,variant:m.TableVariant.compact}}),!l&&this.renderTable()))),u().createElement(C.MinHeight,{key:"footerMinHeight",updateOnContent:!0},u().createElement(y.CardFooter,{className:(t?"hidden":!h&&"transparent")||"","aria-hidden":t||!h||!1},u().createElement(g.Z,{isFooter:!0},u().createElement(D.default,{dropDirection:"up",isDisabled:l||t,itemCount:h,offset:f,onPage:this.onPage,onPerPage:this.onPage,perPage:v})))))}}]),a}(u().Component);N.defaultProps={data:[],error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getInstancesInventory:f.BM.noop,isDisabled:f.BM.UI_DISABLED_TABLE_INSTANCES,meta:{count:0},pending:!1,perPageDefault:10,session:{},settings:{},t:O.translate,viewId:"inventoryInstancesList"};var A=E.R1.instancesList.makeInstancesList(),R=(0,E.$j)(A,(function(e){return{getInstancesInventory:function(t,a){return e(E.Ak.rhsm.getInstancesInventory(t,a))}}}))(N)},29175:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T,ProductView:()=>T});var r=a(92950),n=a.n(r),i=a(99421),o=a(31369),l=a(3281),s=a(51858),c=a(52422),u=a(186),d=a(28341),p=a(10608),m=a(92227),y=a(11001),g=a(86876),h=a(76006),v=a(87585),f=a(49844),E=a(2738),I=a(69051),S=a(47493),C=a(46262),_=a(83109),T=function(e){var t=e.t,a=e.toolbarGraph,r=e.toolbarGraphDescription,l=(0,e.useRouteDetail)(),_=l.pathParameter,T=l.productParameter,D=l.productConfig;return n().createElement(c.PageLayout,null,n().createElement(c.PageHeader,{productLabel:T},t("curiosity-view.title",{appName:h.BM.UI_DISPLAY_NAME,context:T})),n().createElement(c.PageMessages,null,_!==C.WK.RHOSAK&&n().createElement(v.default,null)),n().createElement(c.PageColumns,null,D.map((function(e){return function(e){var l=e.graphTallyQuery,v=e.inventoryHostsQuery,_=e.inventorySubscriptionsQuery,T=e.query,D=e.initialGuestsFilters,M=e.initialInventoryFilters,P=e.initialInventorySettings,b=e.initialSubscriptionsInventoryFilters,O=e.productId,N=e.viewId;if(!O||!N)return null;var A=u.IT.parseRhsmQuery(T,{graphTallyQuery:l,inventoryHostsQuery:v,inventorySubscriptionsQuery:_}),R=A.graphTallyQuery,G=A.inventoryHostsQuery,H=A.inventorySubscriptionsQuery,k=null;r&&(k=n().createElement(i.Tooltip,{content:n().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:O})),position:i.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},n().createElement("sup",{className:"curiosity-icon__info"},n().createElement(o.ZP,null))));var B=n().createElement(n().Fragment,null,t("curiosity-graph.cardHeading",{context:O}),k);return n().createElement(s.ProductViewContext.Provider,{value:e,key:"product_".concat(O)},n().createElement(c.PageToolbar,null,n().createElement(m.Toolbar,null)),n().createElement(c.PageSection,null,O!==C.WK.RHOSAK&&n().createElement(d.ConnectedGraphCard,{key:"graph_".concat(O),query:R,productId:O,viewId:N,cardTitle:B},n().isValidElement(a)&&a||!1!==a&&n().createElement(E.ToolbarFieldGranularity,{position:f.SelectPosition.right})),O===C.WK.RHOSAK&&n().createElement(p.GraphCard,null)),n().createElement(c.PageSection,{className:O===C.WK.RHOSAK?"curiosity-page-section__tabs":""},n().createElement(I.default,{key:"inventory_".concat(O),productId:O,isDisabled:!M&&!b||h.BM.UI_DISABLED_TABLE},!h.BM.UI_DISABLED_TABLE_HOSTS&&O!==C.WK.RHOSAK&&M&&n().createElement(I.InventoryTab,{key:"inventory_hosts_".concat(O),title:t("curiosity-inventory.tabHosts",{context:["noInstances",O]})},n().createElement(y.ConnectedInventoryList,{key:"inv_".concat(O),filterGuestsData:D,filterInventoryData:M,productId:O,settings:P,query:G,viewId:N})),!h.BM.UI_DISABLED_TABLE_INSTANCES&&O===C.WK.RHOSAK&&M&&n().createElement(I.InventoryTab,{key:"inventory_instances_".concat(O),title:t("curiosity-inventory.tabInstances",{context:["noInstances",O]})},n().createElement(g.ConnectedInventoryList,{key:"inv_instances_".concat(O),filterGuestsData:D,filterInventoryData:M,productId:O,settings:P,query:G,viewId:N})),!h.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&b&&n().createElement(I.InventoryTab,{key:"inventory_subs_".concat(O),title:t("curiosity-inventory.tabSubscriptions",{context:O})},n().createElement(S.ConnectedInventorySubscriptions,{key:"subs_".concat(O),filterInventoryData:b,productId:O,query:H,viewId:N})))))}(e)}))))};T.defaultProps={t:_.translate,toolbarGraph:null,toolbarGraphDescription:!1,useRouteDetail:l.Tu}},84944:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s,ProductViewOpenShiftDedicated:()=>s});var r=a(92950),n=a.n(r),i=a(29175),o=a(49844),l=a(65876),s=function(){return n().createElement(i.ProductView,{toolbarGraph:n().createElement(l.ToolbarFieldRangedMonthly,{position:o.SelectPosition.right}),toolbarGraphDescription:!0})};s.defaultProps={}}}]);
//# sourceMappingURL=../sourcemaps/4944.7e116e68c59d9534156b0882b043cbfd.js.map