"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[930,1026],{60930:(t,e,a)=>{a.r(e),a.d(e,{Chart:()=>x,default:()=>x});var i=a(18489),r=a(23430),n=a(92950),o=a.n(n),l=a(98326),s=a(54096),d=a(52902),u=a(61026),c=a(76006),x=function(t){var e=t.chartLegend,a=t.chartTooltip,x=t.dataSets,h=t.padding,m=t.themeColor,v=t.xAxisChartLabel,f=t.yAxisChartLabel,p=t.xAxisFixLabelOverlap,g=t.xAxisLabelIncrement,y=t.xAxisTickFormat,A=t.yAxisTickFormat,b=t.xValueFormat,k=t.yValueFormat,L=(0,n.useState)(),Z=(0,r.Z)(L,2),C=Z[0],S=Z[1],F=(0,n.useState)({}),E=(0,r.Z)(F,2),T=E[0],P=E[1],Y=(0,n.useRef)(null),M=(0,n.useRef)(null),D=function(t){var e=(0,n.useState)({width:0,height:0}),a=(0,r.Z)(e,2),i=a[0],o=a[1];return(0,n.useEffect)((function(){var e=t&&window.ResizeObserver&&!0,a=null==t?void 0:t.current,i=c.BM.noop;if(a){var r=function(){var t=a||{},i=t.clientHeight,r=void 0===i?0:i,n=t.clientWidth,l=void 0===n?0:n,s=t.innerHeight,d=void 0===s?0:s,u=t.innerWidth;o({width:e?l:void 0===u?0:u,height:e?r:d})};if(e){var n=new window.ResizeObserver(r);n.observe(a),i=function(){return n.unobserve(a)}}else r(),window.addEventListener("resize",r),i=function(){return window.removeEventListener("resize",r)}}return function(){i()}}),[t]),i}(Y).width;return(0,n.useEffect)((function(){var t,r,n,o,l,s,d,c,L,Z,C,F,E,V,X=(t=x.filter((function(t){var e=t.id;return!T[e]})),r=u.chartHelpers.generateTooltipData({content:a,dataSets:t}),o=(n=u.chartHelpers.generateMaxXY({dataSets:t})).maxX,l=n.maxY,s=u.chartHelpers.generateMaxXY({dataSets:x}).individualMaxY,c=(d=u.chartHelpers.generateAxisProps({dataSets:x,individualMaxY:s,maxX:o,maxY:l,xAxisChartLabel:v,yAxisChartLabel:f,xAxisFixLabelOverlap:p,xAxisLabelIncrement:g,xAxisTickFormat:y,yAxisTickFormat:A})).xAxisProps,Z=(L=d.yAxisProps).length>1,C=u.chartHelpers.generateElementsProps({dataSets:t,maxX:o,maxY:Z&&s||l,xValueFormat:b,yValueFormat:k}),E=(F=u.chartHelpers.generateDomains({maxY:Z&&s||l,padding:h})).domain,V=F.padding,{xAxisProps:c,yAxisProps:L,chartDomain:{domain:E},chartElementsProps:C,hasData:!!c.tickValues,isMultiYAxis:Z,maxX:o,maxY:Z&&s||l,padding:(0,i.Z)((0,i.Z)({bottom:0,left:0,right:0,top:0},h),V),themeColor:m,tooltipDataSetLookUp:r}),w={chartContainerRef:function(){return Y},chartSettings:(0,i.Z)((0,i.Z)({},X),{},{chartLegend:e,chartWidth:D,dataSets:x}),chartTooltipRef:function(){return M},dataSetsToggle:[T,P]};S(w)}),[e,a,D,x,T,h,S,m,v,f,p,g,A,y,b,k]),o().createElement(l.ChartContext.Provider,{value:C},o().createElement("div",{id:"curiosity-chartarea",className:"curiosity-chartarea uxui-curiosity__modal uxui-curiosity__modal--loading",ref:Y},D>0&&o().createElement(o().Fragment,null,o().createElement(s.ChartElements,null),o().createElement(d.ChartLegend,null))))};x.defaultProps={chartLegend:null,chartTooltip:null,dataSets:[],padding:{bottom:75,left:55,right:55,top:50},themeColor:"blue",xAxisChartLabel:null,yAxisChartLabel:null,xAxisFixLabelOverlap:!0,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null,xValueFormat:null,yValueFormat:null}},61026:(t,e,a)=>{a.r(e),a.d(e,{default:()=>y,chartHelpers:()=>y,generateAxisProps:()=>g,generateDomains:()=>h,generateElementsProps:()=>m,generateMaxXY:()=>x,generateTooltipData:()=>v,generateXAxisProps:()=>f,generateYAxisProps:()=>p});var i=a(83738),r=a(18489),n=a(35531),o=a(92950),l=a.n(o),s=a(50361),d=a.n(s),u=a(76006),c=["yAxisChartLabel","id","stroke","strokeWidth"],x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dataSets,a=void 0===e?[]:e,i={},r=0,o=0;return a.filter((function(t){return!0===t.isStacked})).forEach((function(t){var e=t.data;Array.isArray(e)&&(o+=Math.max.apply(Math,(0,n.Z)(e.map((function(t){var e;return null!==(e=null==t?void 0:t.y)&&void 0!==e?e:0})))))})),a.forEach((function(t){var e=t.id,a=t.data,l=0;Array.isArray(a)&&(r=a.length>r?a.length:r,l=Math.max.apply(Math,(0,n.Z)(a.map((function(t){var e;return null!==(e=null==t?void 0:t.y)&&void 0!==e?e:0})))),o=l>o?l:o),e&&(i[e]=l)})),{maxX:r,maxY:o,individualMaxY:i}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.maxY,a=t.padding,i=void 0===a?{}:a,n={},o=(0,r.Z)({},i),l={};if(Object.values(e).length)l.y=[0,1.25];else if(e>=.1){var s=Math.pow(10,Math.floor(Math.log10(e||10)));l.y=[0,Math.ceil((e+1)/s)*s]}else l.y=e<.1?[0,e+e/4||10]:[0,10];return e<.01&&(o.left+=l.y.toString().length,o.right+=l.y.toString().length),Object.keys(l).length&&(n.domain=l),(0,r.Z)((0,r.Z)({},n),{},{padding:o})},m=function(t){var e=t.dataSets,a=void 0===e?[]:e,i=t.maxX,n=t.maxY,o=t.xValueFormat,l=t.yValueFormat,s=[],d=[],u={},c={};return a.forEach((function(t){var e=t.animate,a=t.chartType,x=t.data,h=t.fill,m=t.id,v=t.isStacked,f=t.interpolation,p=t.stroke,g=t.strokeDasharray,y=t.strokeWidth;if(null==x?void 0:x.length){var A={data:{}};h&&"line"!==a&&"threshold"!==a&&(A.data.fill=h),p&&(A.data.stroke=p),g&&(A.data.strokeDasharray=g),y&&(A.data.strokeWidth=y);var b={};e&&(b.animate=e),f&&(b.interpolation=f);var k=(0,r.Z)((0,r.Z)({},b),{},{key:"chart-".concat(t.id,"-").concat(a||""),name:"chart-".concat(t.id,"-").concat(a||""),data:t.data,style:(0,r.Z)((0,r.Z)({},t.style||{}),A),themeColor:t.themeColor,themeVariant:t.themeVariant,x:o&&function(t){var e=o({datum:t,maxX:i});return void 0===e||Number.isNaN(e)?0:e}||void 0,y:function(e){var a;return void 0===(a=l?l({datum:e,isMultiAxis:"number"!=typeof n,maxY:"number"==typeof n?n:null==n?void 0:n[t.id]}):"number"==typeof n?e.y:e.y/(null==n?void 0:n[t.id]))||Number.isNaN(a)?0:a}}),L={chartType:a,props:(0,r.Z)({},k)};v?(c[m]=L,d.push(L)):(u[m]=L,s.push(L))}})),{elements:s,elementsById:u,stackedElements:d,stackedElementsById:c}},v=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.content,i=void 0===a?u.BM.noop:a,n=e.dataSets,o=void 0===n?[]:n,s={};return i&&Array.isArray(null==o||null===(t=o[0])||void 0===t?void 0:t.data)&&o[0].data.forEach((function(t,e){var a={};o.forEach((function(t){(null==t?void 0:t.data[e])&&(a[t.id]={color:t.stroke||t.fill||t.color||"",chartType:t.chartType,data:d()(t.data[e])})}));var n={datum:{x:t.x,y:t.y,index:e,itemsByKey:a}};s[t.x]={x:t.x,y:null,itemsByKey:a,tooltip:l().isValidElement(i)&&l().cloneElement(i,(0,r.Z)({},n))||i((0,r.Z)({},n))}})),s},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dataSet,a=void 0===e?{}:e,i=t.maxX,n=t.xAxisLabelIncrement,o=t.xAxisPropDefaults,l=void 0===o?{}:o,s=t.xAxisTickFormat,d=a.data,u=void 0===d?[]:d,c=a.xAxisChartLabel,x=(0,r.Z)((0,r.Z)({},l),{},{tickValues:u.reduce((function(t,e,a){return a%n==0?t.concat(e.x):t}),[]),tickFormat:function(t){var e;return(null===(e=u[t])||void 0===e?void 0:e.xAxisLabel)||t}});return x.label="function"==typeof c?c((0,r.Z)((0,r.Z)({},a),{},{xAxisChartLabel:void 0})):c,"function"==typeof s&&(x.tickFormat=function(t){var e=x.tickValues.indexOf(t),a=(0,r.Z)({},u[x.tickValues[e-1]]),n=(0,r.Z)({},u[x.tickValues[e+1]]),o=(0,r.Z)({},u[t]);return s({tick:t,previousItem:a,item:o,nextItem:n,maxX:i})}),x},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dataSets,a=void 0===e?[]:e,n=t.maxY,o=t.yAxisPropDefaults,l=void 0===o?{}:o,s=t.yAxisTickFormat,d=[],u=a.length>1;return a.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.yAxisChartLabel,a=t.id,o=t.stroke,x=t.strokeWidth,h=(0,i.Z)(t,c),m=arguments.length>1?arguments[1]:void 0,v={style:{axis:{},tickLabels:{}},tickFormat:function(t){return t}};if(u&&o&&(v.style.axis.stroke=o),u&&x&&(v.style.axis.strokeWidth=x),v.label="function"==typeof e?e((0,r.Z)({id:a,stroke:o,strokeWidth:x},h)):e,"function"==typeof s){var f="number"==typeof n&&n||(null==n?void 0:n[a]);v.tickFormat=function(t){return s({tick:u&&t*f||t,isMultiAxis:u,maxY:f})}}d.push((0,r.Z)((0,r.Z)((0,r.Z)({},l),v),{},{orientation:0===m?"left":"right"}))})),d},g=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.dataSets,i=void 0===a?[]:a,n=e.individualMaxY,o=void 0===n?{}:n,l=e.maxX,s=e.maxY,d=e.xAxisChartLabel,u=e.yAxisChartLabel,c=e.xAxisFixLabelOverlap,x=void 0===c||c,h=e.xAxisLabelIncrement,m=void 0===h?1:h,v=e.xAxisTickFormat,g=e.yAxisTickFormat,y={fixLabelOverlap:x},A={dependentAxis:!0,showGrid:!0},b=[];i.forEach((function(e){e.yAxisUseDataSet&&b.push((0,r.Z)({yAxisChartLabel:u},e)),e.xAxisUseDataSet&&(t=(0,r.Z)({xAxisChartLabel:d},e))})),b.length?b=b.slice(0,2):b.push((0,r.Z)({yAxisChartLabel:u},null==i?void 0:i[0])),t||(t=(0,r.Z)({xAxisChartLabel:d},null==i?void 0:i[0]));var k=b.length>1&&o||s;return{xAxisProps:f({dataSet:t,maxX:l,xAxisLabelIncrement:m,xAxisPropDefaults:y,xAxisTickFormat:v}),yAxisProps:p({dataSets:b,maxY:k,yAxisPropDefaults:A,yAxisTickFormat:g})}},y={generateAxisProps:g,generateDomains:h,generateElementsProps:m,generateMaxXY:x,generateTooltipData:v,generateXAxisProps:f,generateYAxisProps:p}},52902:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d,ChartLegend:()=>d});var i=a(18489),r=a(92950),n=a.n(r),o=a(50361),l=a.n(o),s=a(98326),d=function(){var t=(0,s.useToggleData)(),e=t.getIsToggled,a=t.onHide,r=t.onRevert,o=t.onToggle,d=(0,s.useChartContext)().chartSettings,u=void 0===d?{}:d,c=u.chartLegend,x=u.dataSets,h=u.padding,m=void 0===h?{}:h,v=u.xAxisProps,f=void 0===v?{}:v;if(!c)return null;var p={datum:{dataSets:l()(x)},chart:{hide:a,revert:r,toggle:o,isToggled:e}};return n().createElement("div",{className:"curiosity-chartarea__legend".concat((null==f?void 0:f.label)?"-axis-label-active":""),style:{marginLeft:(null==m?void 0:m.left)&&"".concat(m.left,"px")||0,marginRight:(null==m?void 0:m.right)&&"".concat(m.right,"px")||0}},n().isValidElement(c)&&n().cloneElement(c,(0,i.Z)({},p))||c((0,i.Z)({},p)))};d.defaultProps={}}}]);
//# sourceMappingURL=../sourcemaps/930.119081e68975d85fbd77fde965746f39.js.map