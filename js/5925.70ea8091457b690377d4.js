"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5925,1339,353],{10608:function(e,t,n){n.r(t),n.d(t,{GraphCard:function(){return u},default:function(){return u}});var r=n(92950),a=n.n(r),i=n(76006),l=n(29407),o=n(91799),s=n(25394),u=function(e){var t=e.isDisabled,n=(0,e.useParseFiltersSettings)().filtersSettings;return t||null==n||!n.length?null:null==n?void 0:n.map((function(e){var t,n,r;return a().createElement(s.GraphCardContext.Provider,{key:"graphCard-".concat(null==e||null===(t=e.settings)||void 0===t||null===(n=t.metrics)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.id),value:e},a().createElement(l.GraphCardMetricTotals,null,a().createElement(o.GraphCardChart,null)))}))};u.defaultProps={isDisabled:i.BM.UI_DISABLED_GRAPH,useParseFiltersSettings:s.useParseFiltersSettings}},29407:function(e,t,n){n.r(t),n.d(t,{GraphCardMetricTotals:function(){return v},default:function(){return v}});var r=n(92950),a=n.n(r),i=n(90154),l=n(68929),o=n.n(l),s=n(51858),u=n(25394),d=n(1797),c=n(65876),h=n(46262),p=n(76006),v=function(e){var t,n=e.children,r=e.useGraphCardContext,l=e.useMetricsSelector,s=e.useProductGraphTallyQuery,u=r().settings,v=void 0===u?{}:u,f=s()[h.O6.START_DATE],m=l(),g=m.pending,y=m.error,C=m.fulfilled,E=m.dataSets,M=(void 0===E?[]:E)[0]||{},k=M.data,D=void 0===k?[]:k,z=M.id,S=M.metric,R=M.meta,H=void 0===R?{}:R,P=D[D.length-1]||{},_=P.date,O=P.hasData,T=P.y,b=D.find((function(e){return!0===e.isCurrentDate}))||{},G=b.date,w=b.hasData,x=b.y,I=H.totalMonthlyDate,L=H.totalMonthlyHasData,N=H.totalMonthlyValue,B=c.toolbarFieldOptions.find((function(e){return e.title===f||e.value.startDate.toISOString()===f}))||{},A=B.title,F=B.isCurrent,W=F?G:_,Z=F?w:O,V=F?x:T;if(null!=v&&v.isMetricDisplay&&null!=v&&null!==(t=v.cards)&&void 0!==t&&t.length){var Q,U,j,J=p.BM.setImmutableData({chartId:z,dailyDate:W,dailyHasData:Z,dailyValue:V,metricId:S,groupMetricId:v.groupMetric,monthlyDate:I,monthlyHasData:L,monthlyValue:N,selectedValue:A},{isClone:!0});return a().createElement("div",{"data-test":"graphMetricTotals-".concat(null==v||null===(Q=v.groupMetric)||void 0===Q||null===(U=Q.map((function(e){return o()(e)})))||void 0===U?void 0:U.join("-")),"data-test-data":JSON.stringify(J),className:"curiosity-usage-graph__totals"},a().createElement("div",null,a().createElement("div",{className:"curiosity-usage-graph__totals-column"},null==v||null===(j=v.cards)||void 0===j?void 0:j.map((function(e,t){var n=e.key,r=e.header,l=e.body,o=e.footer;return a().createElement(i.Card,{key:n||p.BM.generateHash({metricDisplayPassedData:J,index:t}),isPlain:!0,"data-test":"graphMetricTotalsCard-".concat(t),className:"curiosity-usage-graph__totals-column-card ".concat(y?"blur":"")},a().createElement(i.CardHeader,null,a().createElement(i.CardTitle,null,a().createElement(i.Title,{headingLevel:"h2",size:"md"},g&&a().createElement(d.Loader,{variant:"skeleton",skeletonProps:{size:d.SkeletonSize.lg}}),C&&("function"==typeof r&&r(J)||r)))),a().createElement(i.CardBody,null,a().createElement("div",null,g&&a().createElement(d.Loader,{variant:"skeleton",skeletonProps:{size:d.SkeletonSize.lg,height:"60px"}}),C&&("function"==typeof l&&l(J)||l))),a().createElement(i.CardFooter,null,a().createElement("div",null,g&&a().createElement(d.Loader,{variant:"skeleton",skeletonProps:{size:d.SkeletonSize.lg}}),C&&("function"==typeof o&&o(J)||o))))})))),a().createElement("div",null,a().createElement("div",{className:"curiosity-usage-graph__totals-graph-column"},n)))}return a().createElement("div",{"data-test":"graphStandalone",className:"curiosity-usage-graph__standalone"},n)};v.defaultProps={children:null,useGraphCardContext:u.useGraphCardContext,useMetricsSelector:u.useMetricsSelector,useProductGraphTallyQuery:s.useProductGraphTallyQuery}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return c},default:function(){return c}});var r=n(15671),a=n(43144),i=n(97326),l=n(79340),o=n(54062),s=n(92950),u=n.n(s),d=n(76006),c=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).containerRef=u().createRef(),e.innerContainerRef=u().createRef(),e.updatedContainerWidth=0,e.resizeObserver=d.BM.noop,e.onResizeContainer=function(){var t,n,r=(0,i.Z)(e).updatedContainerWidth,a=e.props.updateOnResize,l=(null===(t=e.containerRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0;a&&l!==r&&(e.updatedContainerWidth=l,e.setMinHeight(!0))},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.minHeight,r=this.containerRef.current,a=void 0===r?{}:r,i=this.innerContainerRef.current,l=void 0===i?{}:i;null!=a&&a.style&&(n>(e=t?(null==l?void 0:l.clientHeight)||0:(null==a?void 0:a.clientHeight)||0)&&(e=n),a.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return u().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},u().createElement("div",{ref:this.innerContainerRef},e))}}]),n}(u().Component);c.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}}}]);
//# sourceMappingURL=../sourcemaps/5925.62a2d597be8b2f56345270043e9cd44c.js.map