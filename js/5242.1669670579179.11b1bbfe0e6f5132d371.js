(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5242,2243,2293,1858,7297],{12243:function(t,e,r){"use strict";r.r(e),r.d(e,{applyConfigProperty:function(){return I},applyHeaderRowCellFilters:function(){return g},applySortFilters:function(){return h},applyWrappableFilters:function(){return O},default:function(){return T},inventoryCardHelpers:function(){return T},parseInventoryFilters:function(){return C},parseRowCellsListData:function(){return E}});var n=r(29439),o=r(1413),i=r(93433),u=r(92950),s=r.n(u),l=r(76871),a=r(68929),c=r.n(a),d=r(68630),v=r.n(d),f=r(3969),y=r(83109),p=r(46262),S=r(76006),I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,n=void 0===r?[]:r,o=t;if("function"==typeof t&&(o=t.apply(void 0,(0,i.Z)(Array.isArray(n)&&n||[n]))),"string"==typeof o||"number"==typeof o||s().isValidElement(o))return o},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.cellData,u=void 0===n?{}:n,a=t.meta,c=void 0===a?{}:a,d=t.productId,p=t.session,g=void 0===p?{}:p,h=[],O=[];return r.forEach((function(t){var e,r,n,a,p=t.isStandalone,C=t.id,E=t.cell,T=t.cellWidth,b=t.header,Z=t.onSort,P=t.showEmptyCell,m=void 0===P||P,G=t.sortId,_=t.sortActive,R=t.sortDirection,F=t.transforms,D={title:(0,y.translate)("curiosity-inventory.header",{context:[C,d]}),transforms:[]},Q={title:""};if(u[C])D.title=null!==(e=null===(r=u[C])||void 0===r?void 0:r.title)&&void 0!==e?e:C,Q.title=null!==(n=null===(a=u[C])||void 0===a?void 0:a.value)&&void 0!==n?n:"";else if(!0===p)D.title="",Q.title="";else if((S.BM.DEV_MODE||S.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(C,'" not found in "table row" response data.'),u),!1===m)return;if(b){var w=I(b,{params:[(0,o.Z)({},u),(0,o.Z)({},g),(0,o.Z)({},c)]});if(w?D.title=w:v()(b)&&Object.assign(D,(0,o.Z)({},b)),b.tooltip&&D.title){var A=I(b.tooltip,{params:[(0,o.Z)({},u),(0,o.Z)({},g),(0,o.Z)({},c)]});A&&(D.title=s().createElement(f.Tooltip,{content:A},D.title)),delete D.tooltip}}if(Array.isArray(D.transforms)&&(Array.isArray(F)&&(D.transforms=D.transforms.concat((0,i.Z)(F))),"number"==typeof T&&D.transforms.push((0,l.cellWidth)(T))),"function"==typeof Z&&(D.onSort=function(t){return Z((0,o.Z)({},u),(0,o.Z)((0,o.Z)({},t),{},{id:G||C}))},D.sortActive=_,D.sortDirection=R),E){var x=I(E,{params:[(0,o.Z)({},u),(0,o.Z)({},g),(0,o.Z)({},c)]});if(x?Q.title=x:v()(E)&&Object.assign(Q,(0,o.Z)({},E)),E.tooltip&&Q.title){var N=I(E.tooltip,{params:[(0,o.Z)({},u),(0,o.Z)({},g),(0,o.Z)({},c)]});N&&(Q.title=s().createElement(f.Tooltip,{content:N},Q.title)),delete Q.tooltip}}h.push(D),O.push(Q)})),{headerCells:h,bodyCells:O}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=t.onSort,i=t.query,u=void 0===i?{}:i,s=r.id,a=r.sortId,d=a||s,v=(0,o.Z)({},r),f=v.onSort||n;return!v.onSort&&n&&(v.onSort=n),f&&"boolean"!=typeof v.sortActive&&null!=u&&u[p.O6.SORT]&&((null==u?void 0:u[p.O6.SORT])===d||c()(null==u?void 0:u[p.O6.SORT])===d)&&(v.sortActive=!0),f&&!v.sortDirection&&null!=u&&u[p.O6.DIRECTION]&&((null==u?void 0:u[p.O6.DIRECTION])===p.PQ.DESCENDING?v.sortDirection=l.SortByDirection.desc:v.sortDirection=l.SortByDirection.asc),!f||v.sortActive||null!=u&&u[p.O6.SORT]||!0!==v.isSortDefault||(v.sortActive=!0,v.sortDefaultInitialDirection&&(v.sortDirection=v.sortDefaultInitialDirection)),v},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=(0,o.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(l.wrappable):n.transforms=[l.wrappable],n},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.onSort,u=t.query,s=void 0===u?{}:u;return(0,i.Z)(r).map((function(t){var e=(0,o.Z)({},t);return e.isSortable&&Object.assign(e,h({filter:e,onSort:n,query:s})),e.isWrappable&&Object.assign(e,O({filter:e})),e}))},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,u=t.cellData,s=void 0===u?{}:u,l=t.meta,a=void 0===l?{}:l,c=t.productId,d=t.session,v=void 0===d?{}:d,f=[],p=[],S={};if(Object.entries(s).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],o=e[1],i=void 0===o?"":o;S[r]={title:(0,y.translate)("curiosity-inventory.header",{context:[r,c]}),value:i},f.push(S[r].title),p.push(i||"...")})),null!=r&&r.length&&Object.keys(S).length){f.length=0,p.length=0;var I=g({filters:r,cellData:S,meta:a,productId:c,session:v}),h=I.headerCells,O=void 0===h?[]:h,C=I.bodyCells,E=void 0===C?[]:C;f.push.apply(f,(0,i.Z)(O)),p.push.apply(p,(0,i.Z)(E))}return{columnHeaders:f,cells:p,data:(0,o.Z)({},S)}},T={applyConfigProperty:I,applyHeaderRowCellFilters:g,applySortFilters:h,applyWrappableFilters:O,parseInventoryFilters:C,parseRowCellsListData:E}},15242:function(t,e,r){"use strict";r.r(e),r.d(e,{InventoryGuests:function(){return f},default:function(){return f}});var n=r(92950),o=r.n(n),i=r(76871),u=r(98944),s=r(51858),l=r(1797),a=r(12243),c=r(46262),d=r(78697),v=r(32293),f=function(t){var e=t.defaultPerPage,r=t.id,n=t.numberOfGuests,u=t.useGetGuestsInventory,s=t.useOnScroll,v=t.useProductInventoryGuestsQuery,f=t.useProductInventoryGuestsConfig,y=(0,t.useSession)(),p=f().filters,S=u(r),I=S.pending,g=S.data,h=void 0===g?[]:g,O=s(r),C=v({options:{overrideId:r}})[c.O6.OFFSET],E=[],T=h.map((function(t){var e=Object.assign({},t),r=a.inventoryCardHelpers.parseRowCellsListData({filters:p,cellData:e,session:y}),n=r.columnHeaders,o=r.cells;return E=n,{cells:o}})),b=42*(n+1);return b=b<275&&b||275,o().createElement("div",{className:"fadein"},o().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(b,"px")}},o().createElement("div",{className:"curiosity-table-scroll-list".concat(b<275?"__no-scroll":""),onScroll:O},function(t){if(I){var r=0;t&&(r=n<e?n:e);var u=o().createElement(l.Loader,{variant:"table",tableProps:{borders:!1,className:t?"curiosity-guests-list":void 0,colCount:(null==p?void 0:p.length)||(null==h?void 0:h[0])&&Object.keys(h[0]).length||1,colWidth:(null==p?void 0:p.length)&&p.map((function(t){return t.cellWidth}))||[],rowCount:r,variant:i.TableVariant.compact}});return o().createElement("div",{className:"curiosity-table-scroll-loader__custom"},u)}return null}(0===C),T.length&&o().createElement(d.Table,{borders:!1,variant:i.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:E,rows:T})||null)))};f.defaultProps={defaultPerPage:5,useGetGuestsInventory:v.useGetGuestsInventory,useOnScroll:v.useOnScroll,useProductInventoryGuestsConfig:s.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:s.useProductInventoryGuestsQuery,useSession:u.useSession}},32293:function(t,e,r){"use strict";r.r(e),r.d(e,{context:function(){return h},default:function(){return h},useGetGuestsInventory:function(){return I},useOnScroll:function(){return g},useSelectorsGuestsInventory:function(){return S}});var n=r(4942),o=r(1413),i=r(93433),u=r(45987),s=r(29439),l=r(92950),a=r(17297),c=r(62179),d=r(77823),v=r(61072),f=r(51858),y=r(46262),p=["data","fulfilled"],S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useSelectorsResponse,n=void 0===r?v.Cr.reactRedux.useSelectorsResponse:r,o=n((function(e){var r,n=e.inventory;return null==n||null===(r=n.hostsGuests)||void 0===r?void 0:r[t]})),i=o.error,u=o.cancelled,s=o.fulfilled,l=o.pending,a=o.data;return{error:i,fulfilled:s,pending:l||u||!1,data:1===(null==a?void 0:a.length)&&a[0]||a||{}}},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getInventory,n=void 0===r?v.Ak.rhsm.getHostsInventoryGuests:r,d=e.useDispatch,y=void 0===d?v.Cr.reactRedux.useDispatch:d,I=e.useProductInventoryQuery,g=void 0===I?f.useProductInventoryGuestsQuery:I,h=e.useSelectorsInventory,O=void 0===h?S:h,C=(0,l.useState)([]),E=(0,s.Z)(C,2),T=E[0],b=E[1],Z=g({options:{overrideId:t}}),P=y(),m=O(t),G=m.data,_=void 0===G?{}:G,R=m.fulfilled,F=void 0!==R&&R,D=(0,u.Z)(m,p),Q=_.data,w=void 0===Q?[]:Q;return(0,a.Z)((function(){n(t,Z)(P)}),[P,t,Z]),(0,c.Z)((function(){F&&b((function(t){return[].concat((0,i.Z)(t),(0,i.Z)(w))}))}),[F,w]),(0,o.Z)({data:T,fulfilled:F},D)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useDispatch,o=void 0===r?v.Cr.reactRedux.useDispatch:r,i=e.useSelectorsInventory,u=void 0===i?S:i,s=e.useProductInventoryQuery,l=void 0===s?f.useProductInventoryGuestsQuery:s,a=o(),c=u(t),p=c.pending,I=c.data,g=void 0===I?{}:I,h=(null==g?void 0:g.meta)||{},O=h.count,C=l({options:{overrideId:t}}),E=C[y.O6.LIMIT],T=C[y.O6.OFFSET];return(0,d.Z)((function(){a([{type:v.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:t},{type:v.JD.inventory.CLEAR_INVENTORY_GUESTS,id:t}])})),function(e){var r=e.target,o=r.scrollHeight-r.scrollTop===r.clientHeight;O>T+E&&o&&!p&&a([(0,n.Z)({type:v.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[y.O6.OFFSET],viewId:t},y.O6.OFFSET,T+E),(0,n.Z)({type:v.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[y.O6.LIMIT],viewId:t},y.O6.LIMIT,E)])}},h={useGetGuestsInventory:I,useOnScroll:g,useSelectorsGuestsInventory:S}},51858:function(t,e,r){"use strict";r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return f},ProductViewContext:function(){return y},context:function(){return _},default:function(){return _},useProduct:function(){return T},useProductContext:function(){return E},useProductGraphConfig:function(){return b},useProductGraphTallyQuery:function(){return g},useProductInventoryGuestsConfig:function(){return Z},useProductInventoryGuestsQuery:function(){return h},useProductInventoryHostsConfig:function(){return P},useProductInventoryHostsQuery:function(){return O},useProductInventorySubscriptionsConfig:function(){return m},useProductInventorySubscriptionsQuery:function(){return C},useProductQuery:function(){return I},useProductQueryFactory:function(){return S},useProductToolbarConfig:function(){return G}});var n=r(45987),o=r(4942),i=r(1413),u=r(92950),s=r.n(u),l=r(12723),a=r(2606),c=r(46262),d=r(62834),v=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],f=[{},d.B.noop],y=s().createContext(f),p=function(){return(0,u.useContext)(y)},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,n=e.useProductViewContext,o=void 0===n?p:n,u=o(),s=u[t],l=u.productId,c=u.viewId,d=a.Cr.reactRedux.useSelector((function(e){var n,o=e.view;return null==o||null===(n=o[t])||void 0===n?void 0:n[r]}),void 0),v=a.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[l]}),void 0),f=a.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[c]}),void 0);return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},s),d),v),f)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,n=t.options;return S(r,n)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,n=t.schemaCheck,o=void 0===n?c.pM.RHSM_API_QUERY_SET_TALLY_CAPACITY_TYPES:n,u=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},I()),S(r,u)),o)},h=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,n=void 0===r?100:r,u=e.defaultOffset,s=void 0===u?0:u,a=e.queryType,d=void 0===a?"inventoryGuestsQuery":a,v=e.schemaCheck,f=void 0===v?c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:v,y=e.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)((t={},(0,o.Z)(t,c.O6.LIMIT,n),(0,o.Z)(t,c.O6.OFFSET,s),t),I()),S(d,y)),f)},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,n=t.schemaCheck,o=void 0===n?c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,u=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},I()),S(r,u)),o)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,n=t.schemaCheck,o=void 0===n?c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,u=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},I()),S(r,u)),o)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?I:e,o=t.useProductViewContext,s=void 0===o?p:o,l=r(),a=l[c.O6.UOM],d=s(),f=d.initialGraphFilters,y=void 0===f?[]:f,S=d.initialInventoryFilters,g=void 0===S?[]:S,h=d.initialSubscriptionsInventoryFilters,O=void 0===h?[]:h,C=d.productContextFilterUom,E=(0,n.Z)(d,v),T=(0,u.useCallback)((function(){if(!0===C){var t=function(t){var e=t.id,r=t.metric;return!t.isOptional||new RegExp(a,"i").test(r)||new RegExp(a,"i").test(e)};return(0,i.Z)((0,i.Z)({},E),{},{initialGraphFilters:y.filter(t),initialInventoryFilters:g.filter(t),initialSubscriptionsInventoryFilters:O.filter(t)})}return(0,i.Z)((0,i.Z)({},E),{},{initialGraphFilters:y,initialInventoryFilters:g,initialSubscriptionsInventoryFilters:O})}),[E,y,g,O,C,a]);return T()},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?p:e,n=r(),o=n.productGroup,i=n.productId,u=n.productLabel,s=n.viewId;return{productGroup:o,productId:i,productLabel:u,viewId:s}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?E:e,n=r(),o=n.initialGraphFilters,i=n.initialGraphSettings,u=void 0===i?{}:i;return{filters:o,settings:u}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?E:e,n=r(),o=n.inventoryGuestsQuery,i=void 0===o?{}:o,u=n.initialGuestsFilters,s=n.initialGuestsSettings,l=void 0===s?{}:s;return{filters:u,initialQuery:i,settings:l}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?E:e,n=r(),o=n.initialInventoryFilters,i=n.initialInventorySettings,u=void 0===i?{}:i;return{filters:o,settings:u}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?E:e,n=r(),o=n.initialSubscriptionsInventoryFilters,i=n.initialSubscriptionsInventorySettings,u=void 0===i?{}:i;return{filters:o,settings:u}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?E:e,n=r(),o=n.initialToolbarFilters,i=n.initialToolbarSettings,u=void 0===i?{}:i,s=n.initialSecondaryToolbarFilters;return{filters:o,secondaryFilters:s,settings:u}},_={ProductViewContext:y,DEFAULT_CONTEXT:f,useProductContext:E,useQuery:I,useQueryFactory:S,useGraphTallyQuery:g,useInventoryGuestsQuery:h,useInventoryHostsQuery:O,useInventorySubscriptionsQuery:C,useProduct:T,useGraphConfig:b,useInventoryGuestsConfig:Z,useInventoryHostsConfig:P,useInventorySubscriptionsConfig:m,useToolbarConfig:G}},38252:function(t){"use strict";t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var u=i[o];if(!("_owner"===u&&e.$$typeof||t(e[u],r[u])))return!1}return!0}return e!=e&&r!=r}},99376:function(t,e){var r=Object.keys;e.D=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;for(var n=r(t),o=n.length,i=0;i<o;i++)if(!(n[i]in e))return!1;for(i=0;i<o;i++)if(t[n[i]]!==e[n[i]])return!1;return o===r(e).length}},37124:function(t,e,r){"use strict";var n=r(92950);e.Z=function(t,e,r){var o=(0,n.useRef)(void 0);o.current&&r(e,o.current)||(o.current=e),(0,n.useEffect)(t,o.current)}},62179:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var n=r(37124),o=r(38252),i=r.n(o)(),u=function(t,e){(0,n.Z)(t,e,i)}},17297:function(t,e,r){"use strict";var n=r(99376),o=r(37124),i=function(t,e){return t.every((function(t,r){return(0,n.D)(t,e[r])}))};e.Z=function(t,e){(0,o.Z)(t,e,i)}}}]);
//# sourceMappingURL=../sourcemaps/5242.js.map