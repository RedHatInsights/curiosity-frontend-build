"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7585,1824],{87585:function(e,t,n){n.r(t),n.d(t,{BannerMessages:function(){return A},default:function(){return A}});var r=n(4942),s=n(1413),a=n(29439),i=n(92950),u=n.n(i),o=n(54653),c=n(1915),l=n(17297),d=n(31824),f=n(76006),g=n(83109),A=function(e){var t=e.messages,n=e.useGetAppMessages,c=(0,i.useState)({}),d=(0,a.Z)(c,2),f=d[0],g=d[1],A=(0,i.useState)([]),v=(0,a.Z)(A,2),p=v[0],M=v[1],m=n().data;return(0,l.Z)((function(){var e=[];t.length&&Object.entries(m).forEach((function(n){var r=(0,a.Z)(n,2),i=r[0],u=r[1];if(!0!==f[i]&&!0===u){var o=t.find((function(e){return e.id===i}));o&&e.push((0,s.Z)({key:i},o))}})),M(e.map((function(e){var t=e.key,n=e.message,a=e.title,i=e.variant,c=void 0===i?o.AlertVariant.info:i,l=u().createElement(o.AlertActionCloseButton,{onClose:function(){return g((0,s.Z)((0,s.Z)({},f),{},(0,r.Z)({},t,!0)))}});return u().createElement(o.Alert,{actionClose:l,key:t,title:a,variant:c},n)})))}),[m,f,t]),null!=p&&p.length?u().createElement("div",{className:"curiosity-banner-messages"},p):null};A.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,g.translate)("curiosity-banner.dataMismatchTitle"),message:(0,g.translate)("curiosity-banner.dataMismatchMessage",{context:""!==f.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:f.BM.UI_DISPLAY_NAME},[u().createElement(o.Button,{isInline:!0,component:"a",variant:"link",icon:u().createElement(c.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:f.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useGetAppMessages:d.useGetAppMessages}},31824:function(e,t,n){n.r(t),n.d(t,{context:function(){return d},default:function(){return d},useGetAppMessages:function(){return l}});var r=n(4942),s=n(1413),a=n(17297),i=n(82410),u=n(51858),o=n(76006),c=n(46262),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getMessageReports,n=void 0===t?i.Ak.rhsm.getMessageReports:t,l=e.useDispatch,d=void 0===l?i.Cr.reactRedux.useDispatch:l,f=e.useProduct,g=void 0===f?u.useProduct:f,A=e.useProductQuery,v=void 0===A?u.useProductQuery:A,p=e.useSelectorsResponse,M=void 0===p?i.Cr.reactRedux.useSelectorsResponse:p,m=g(),E=m.productId,R=v(),_=d(),C=M({id:"messages",selector:function(e){var t,n=e.messages;return null==n||null===(t=n.report)||void 0===t?void 0:t[E]}}),h=C.error,I=C.fulfilled,S=C.pending,T=C.data;(0,a.Z)((function(){if(E){var e,t=o.i3.getRangedDateTime("CURRENT"),a=t.startDate,i=t.endDate,u=(0,s.Z)((0,s.Z)({},R),{},(e={},(0,r.Z)(e,c.O6.GRANULARITY,c.U9.DAILY),(0,r.Z)(e,c.O6.START_DATE,a.toISOString()),(0,r.Z)(e,c.O6.END_DATE,i.toISOString()),e));n(E,u)(_)}}),[E,R]);var Z={cloudigradeMismatch:!1};if(I){var D,O,N=T||{},P=N.messages,k=void 0===P?{}:P;Z.cloudigradeMismatch=void 0!==(null==k||null===(D=k.data)||void 0===D||null===(O=D.reverse())||void 0===O?void 0:O.find((function(e){return!0===e[c.pM.RHSM_API_RESPONSE_TALLY_CAPACITY_META_TYPES.HAS_CLOUDIGRADE_MISMATCH]})))}return{error:h,fulfilled:I,pending:S,data:(0,s.Z)({},Z)}},d={useGetAppMessages:l}}}]);
//# sourceMappingURL=../sourcemaps/7585.e09d39fab4bac2caf51973fe4e0bc604.js.map