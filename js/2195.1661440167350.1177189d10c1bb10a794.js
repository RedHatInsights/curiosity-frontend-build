"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2195,2896,2293],{82195:function(e,t,n){n.r(t),n.d(t,{InventoryCard:function(){return P},default:function(){return P}});var r=n(1413),o=n(92950),s=n.n(o),u=n(38137),a=n(73666),i=n(65550),l=n(98944),c=n(51858),d=n(76006),v=n(78697),y=n(1797),f=n(91339),I=n(15242),p=n(12243),S=n(68900),E=n(89517),m=n(65020),g=n(46262),O=n(83109),h=n(42896),P=function(e){var t=e.cardActions,n=e.isDisabled,o=e.perPageDefault,l=e.t,c=e.useGetInventory,d=e.useOnPage,E=e.useOnColumnSort,O=e.useProductInventoryConfig,h=e.useProductInventoryQuery,P=(0,e.useSession)(),T=h(),C=d(),b=E(),_=O(),D=_.filters,R=_.settings,N=c({isDisabled:n}),G=N.error,H=N.fulfilled,M=N.pending,Q=N.data,Y=void 0===Q?{}:Q,w=Y.data,F=void 0===w?[]:w,Z=Y.meta,L=void 0===Z?{}:Z;if(n)return s().createElement(a.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(a.CardBody,null,s().createElement(a.Bullseye,null,l("curiosity-inventory.tab",{context:"disabled"}))));var V,x,k=null==L?void 0:L.count,U=T[g.O6.LIMIT]||o,A=T[g.O6.OFFSET],B=m.paginationHelpers.isLastPage(A,U,k),q=!0===H&&k<U&&"bodyMinHeight-".concat(U,"-resize")||!0===H&&B&&"bodyMinHeight-".concat(U,"-resize")||!0===G&&"bodyMinHeight-".concat(U,"-resize")||"bodyMinHeight-".concat(U);return s().createElement(a.Card,{className:"curiosity-inventory-card"},s().createElement(f.MinHeight,{key:"headerMinHeight",updateOnContent:!0},s().createElement(a.CardHeader,{className:G?"hidden":"","aria-hidden":G||!1},t,s().createElement(a.CardActions,{className:k?"":"transparent","aria-hidden":!k||!1},s().createElement(S.default,{isCompact:!0,isDisabled:M||G,itemCount:k,offset:A,onPage:C,onPerPage:C,perPage:U})))),s().createElement(f.MinHeight,{key:q,updateOnContent:!0},s().createElement(a.CardBody,null,s().createElement("div",{className:(G?"blur":M&&"fadein")||""},M&&s().createElement(y.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==D?void 0:D.length)||(null==F?void 0:F[0])&&Object.keys(F[0]).length||1,colWidth:(null==D?void 0:D.length)&&D.map((function(e){return e.cellWidth}))||[],rowCount:(null==F?void 0:F.length)||U,variant:u.TableVariant.compact}}),!M&&(V=[],x=F.map((function(e){var t=Object.assign({},e),n=p.inventoryCardHelpers.parseRowCellsListData({filters:p.inventoryCardHelpers.parseInventoryFilters({filters:D,onSort:b,query:T}),cellData:t,meta:L,session:P}),o=n.columnHeaders,u=n.cells;V=o;var a=null==t?void 0:t.subscriptionManagerId,i=null==t?void 0:t.numberOfGuests;return{cells:u,expandedContent:("function"==typeof(null==R?void 0:R.hasSubTable)?R.hasSubTable((0,r.Z)({},t),(0,r.Z)({},P)):i>0&&a)&&s().createElement(I.default,{numberOfGuests:i,id:a})||void 0}})),s().createElement(v.default,{borders:!0,variant:u.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:V,rows:x}))))),s().createElement(f.MinHeight,{key:"footerMinHeight",updateOnContent:!0},s().createElement(a.CardFooter,{className:(G?"hidden":!k&&"transparent")||"","aria-hidden":G||!k||!1},s().createElement(i.Z,{isFooter:!0},s().createElement(S.default,{dropDirection:"up",isDisabled:M||G,itemCount:k,offset:A,onPage:C,onPerPage:C,perPage:U})))))};P.defaultProps={cardActions:s().createElement(a.CardHeaderMain,null,s().createElement(E.ToolbarFieldDisplayName,null)),isDisabled:d.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:O.translate,useGetInventory:h.useGetInstancesInventory,useOnPage:h.useOnPageInstances,useOnColumnSort:h.useOnColumnSortInstances,useProductInventoryConfig:c.useProductInventoryHostsConfig,useProductInventoryQuery:c.useProductInventoryHostsQuery,useSession:l.useSession}},42896:function(e,t,n){n.r(t),n.d(t,{context:function(){return I},default:function(){return I},useGetInstancesInventory:function(){return v},useOnColumnSortInstances:function(){return f},useOnPageInstances:function(){return y}});var r=n(4942),o=n(15451),s=n(68929),u=n.n(s),a=n(38137),i=n(61072),l=n(51858),c=n(46262),d=n(76006),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?i.Ak.rhsm.getInstancesInventory:r,u=e.useDispatch,a=void 0===u?i.Cr.reactRedux.useDispatch:u,c=e.useProduct,d=void 0===c?l.useProduct:c,v=e.useProductInventoryQuery,y=void 0===v?l.useProductInventoryHostsQuery:v,f=e.useSelectorsResponse,I=void 0===f?i.Cr.reactRedux.useSelectorsResponse:f,p=d(),S=p.productId,E=y(),m=a(),g=I((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[S]})),O=g.error,h=g.cancelled,P=g.fulfilled,T=g.pending,C=g.data;return(0,o.Z)((function(){n||s(S,E)(m)}),[m,n,S,E]),{error:O,fulfilled:P,pending:T||h||!1,data:1===(null==C?void 0:C.length)&&C[0]||C||{}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?i.Cr.reactRedux.useDispatch:t,o=e.useProduct,s=void 0===o?l.useProduct:o,u=s(),a=u.productId,d=n();return function(e){var t=e.offset,n=e.perPage;d([(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.OFFSET],viewId:a},c.O6.OFFSET,t),(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.LIMIT],viewId:a},c.O6.LIMIT,n)])}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?c.xB:t,o=e.useDispatch,s=void 0===o?i.Cr.reactRedux.useDispatch:o,v=e.useProduct,y=void 0===v?l.useProduct:v,f=y(),I=f.productId,p=s();return function(e,t){var o,s=t.direction,l=t.id,v=Object.values(n).find((function(e){return e===l||u()(e)===l}));v?(o=s===a.SortByDirection.desc?c.PQ.DESCENDING:c.PQ.ASCENDING,p([(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.DIRECTION],viewId:I},c.O6.DIRECTION,o),(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.SORT],viewId:I},c.O6.SORT,v)])):(d.BM.DEV_MODE||d.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(l," is allowed."))}},I={useGetInstancesInventory:v,useOnPageInstances:y,useOnColumnSortInstances:f}},15242:function(e,t,n){n.r(t),n.d(t,{InventoryGuests:function(){return I},default:function(){return I}});var r=n(93433),o=n(29439),s=n(92950),u=n.n(s),a=n(38137),i=n(98944),l=n(51858),c=n(1797),d=n(12243),v=n(46262),y=n(78697),f=n(32293),I=function(e){var t,n,i,l=e.defaultPerPage,f=e.id,I=e.numberOfGuests,p=e.useGetGuestsInventory,S=e.useOnScroll,E=e.useProductInventoryGuestsQuery,m=e.useProductInventoryGuestsConfig,g=e.useSession,O=(0,s.useState)([]),h=(0,o.Z)(O,2),P=h[0],T=h[1],C=g(),b=m().filters,_=E({options:{overrideId:f}})[v.O6.OFFSET],D=p(f),R=D.error,N=D.pending,G=D.data,H=(void 0===G?{}:G).data,M=void 0===H?[]:H,Q=S(f,(function(){var e=[].concat((0,r.Z)(P),(0,r.Z)(M||[]));T(e)}));return u().createElement("div",{className:"fadein ".concat(R?"blur":"")},N&&0===_&&u().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==b?void 0:b.length)||(null==M?void 0:M[0])&&Object.keys(M[0]).length||1,colWidth:(null==b?void 0:b.length)&&b.map((function(e){return e.cellWidth}))||[],rowCount:I<l?I:l,variant:a.TableVariant.compact}}),(!N&&0===_||_>0)&&(t=[],n=[].concat((0,r.Z)(P),(0,r.Z)(M||[])).map((function(e){var n=Object.assign({},e),r=d.inventoryCardHelpers.parseRowCellsListData({filters:b,cellData:n,session:C}),o=r.columnHeaders,s=r.cells;return t=o,{cells:s}})),i=(i=42*(I+1))<275&&i||275,u().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(i,"px")}},u().createElement("div",{className:"curiosity-table-scroll-list".concat(i<275?"__no-scroll":""),onScroll:Q},function(){if(_>0&&N){var e=u().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==b?void 0:b.length)||(null==M?void 0:M[0])&&Object.keys(M[0]).length||1,colWidth:(null==b?void 0:b.length)&&b.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:a.TableVariant.compact}});return u().createElement("div",{className:"curiosity-table-scroll-loader__custom"},e)}return null}(),n.length&&u().createElement(y.Table,{borders:!1,variant:a.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:t,rows:n})||null))))};I.defaultProps={defaultPerPage:5,useGetGuestsInventory:f.useGetGuestsInventory,useOnScroll:f.useOnScroll,useProductInventoryGuestsConfig:l.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:l.useProductInventoryGuestsQuery,useSession:i.useSession}},32293:function(e,t,n){n.r(t),n.d(t,{context:function(){return y},default:function(){return y},useGetGuestsInventory:function(){return d},useOnScroll:function(){return v},useSelectorsGuestsInventory:function(){return c}});var r=n(4942),o=n(1413),s=n(15451),u=n(77823),a=n(61072),i=n(51858),l=n(46262),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useSelectorsResponse,r=void 0===n?a.Cr.reactRedux.useSelectorsResponse:n,o=r((function(t){var n,r=t.inventory;return null==r||null===(n=r.hostsGuests)||void 0===n?void 0:n[e]})),s=o.error,u=o.cancelled,i=o.fulfilled,l=o.pending,c=o.data;return{error:s,fulfilled:i,pending:l||u||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getInventory,r=void 0===n?a.Ak.rhsm.getHostsInventoryGuests:n,u=t.useDispatch,l=void 0===u?a.Cr.reactRedux.useDispatch:u,d=t.useProductInventoryQuery,v=void 0===d?i.useProductInventoryGuestsQuery:d,y=t.useSelectorsInventory,f=void 0===y?c:y,I=v({options:{overrideId:e}}),p=l(),S=f(e);return(0,s.Z)((function(){r(e,I)(p)}),[p,e,I]),(0,o.Z)({},S)},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.useDispatch,s=void 0===o?a.Cr.reactRedux.useDispatch:o,d=n.useSelectorsInventory,v=void 0===d?c:d,y=n.useProductInventoryQuery,f=void 0===y?i.useProductInventoryGuestsQuery:y,I=s(),p=v(e),S=p.pending,E=p.data,m=void 0===E?{}:E,g=(null==m?void 0:m.meta)||{},O=g.count,h=f({options:{overrideId:e}}),P=h[l.O6.LIMIT],T=h[l.O6.OFFSET];return(0,u.Z)((function(){I([{type:a.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e}])})),function(n){var o=n.target,s=o.scrollHeight-o.scrollTop===o.clientHeight;O>(T+1)*P&&s&&!S&&("function"==typeof t&&t(n),I([(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.OFFSET],viewId:e},l.O6.OFFSET,T+1),(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.LIMIT],viewId:e},l.O6.LIMIT,P)]))}},y={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}}}]);
//# sourceMappingURL=../sourcemaps/2195.49fe7a58642b7d93508f0a4c12659f96.js.map