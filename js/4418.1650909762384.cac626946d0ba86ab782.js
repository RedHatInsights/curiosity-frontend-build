"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4418,1858,9942],{64418:(t,e,i)=>{i.r(e),i.d(e,{default:()=>v,GraphCardChartLegend:()=>v});var n=i(96985),r=i.n(n),o=i(75857),u=i(89048),s=i(51858),a=i(20169),c=i(76006),l=i(83109),d=i(1138),v=function(t){var e=t.chart,i=t.datum,n=t.t,s=t.useDispatch,c=t.useSelectors,l=(0,t.useProduct)(),v=l.productLabel,y=l.viewId,p=s(),h=c(i.dataSets.map((function(t){var e=t.id;return function(t){var i;return null===(i=t.graph.legend)||void 0===i?void 0:i["".concat(y,"-").concat(e)]}})));(0,u.Z)((function(){i.dataSets.forEach((function(t,i){var n=t.id;((null==h?void 0:h[i])||e.isToggled(n))&&e.hide(n)}))}));var f=function(t){var i=e.toggle(t);p({type:a.JD.graph.SET_GRAPH_LEGEND,id:"".concat(y,"-").concat(t),value:i})};return r().createElement(r().Fragment,null,i.dataSets.map((function(t,i){var u=t.id,s=t.isThreshold,a=t.stroke,c=t.data,l=!(void 0===c?[]:c).find((function(t){var e=t.y,i=t.hasData;return e>=0&&!0===i||e>=0&&!0===s}))||!1,y=n(["curiosity-graph.label_".concat(s?"threshold":u),"curiosity-graph.label_no"],{product:v,context:v}),p=n("curiosity-graph.legendTooltip".concat(s?"_threshold":"","_").concat(u),{product:v,context:v},[r().createElement("span",{style:{whiteSpace:"nowrap"}})]),g=(null==h?void 0:h[i])||e.isToggled(u),S=r().createElement(o.Button,{onClick:function(){return f(u)},onKeyPress:function(){return f(u)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(u),variant:"link",component:"a",isDisabled:l,icon:(l||g)&&r().createElement(d.ChartIcon,{symbol:"eyeSlash"})||r().createElement(d.ChartIcon,{symbol:s?"dash":"square",style:{visibility:l||g?"hidden":"visible"},fill:a})},y);return p?r().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(u),content:r().createElement("p",null,p),position:o.TooltipPosition.top,enableFlip:!0,distance:5},S):S})))};v.defaultProps={chart:{hide:c.BM.noop,toggle:c.BM.noop,isToggled:c.BM.noop},datum:{dataSets:[]},t:l.translate,useDispatch:a.Cr.reactRedux.useDispatch,useSelectors:a.Cr.reactRedux.useSelectors,useProduct:s.useProduct}},51858:(t,e,i)=>{i.r(e),i.d(e,{default:()=>G,context:()=>G,ProductViewContext:()=>h,DEFAULT_CONTEXT:()=>p,useProductContext:()=>E,useProductQuery:()=>S,useProductQueryFactory:()=>g,useProductGraphTallyQuery:()=>C,useProductInventoryGuestsQuery:()=>I,useProductInventoryHostsQuery:()=>P,useProductInventorySubscriptionsQuery:()=>T,useProduct:()=>_,useProductGraphConfig:()=>b,useProductInventoryGuestsConfig:()=>F,useProductInventoryHostsConfig:()=>Q,useProductInventorySubscriptionsConfig:()=>x,useProductToolbarConfig:()=>m});var n=i(45987),r=i(4942),o=i(1413),u=i(96985),s=i.n(u),a=i(12723),c=i(1798),l=i(30446),d=i(46262),v=i(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],p=[{},v.B.noop],h=s().createContext(p),f=function(){return(0,u.useContext)(h)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.overrideId,n=e.useProductViewContext,r=void 0===n?f:n,u=r(),s=u[t],a=u.productId,l=u.viewId,d=c.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[i]}),void 0),v=c.Cr.reactRedux.useSelector((function(e){var i,n=e.view;return null==n||null===(i=n[t])||void 0===i?void 0:i[a]}),void 0),y=c.Cr.reactRedux.useSelector((function(e){var i,n=e.view;return null==n||null===(i=n[t])||void 0===i?void 0:i[l]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),d),v),y)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"query":e,n=t.options;return g(i,n)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"graphTallyQuery":e,n=t.schemaCheck,r=void 0===n?l.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:n,u=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(i,u)),r)},I=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.defaultLimit,n=void 0===i?100:i,u=e.defaultOffset,s=void 0===u?0:u,c=e.queryType,v=void 0===c?"inventoryGuestsQuery":c,y=e.schemaCheck,p=void 0===y?l.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,h=e.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,r.Z)(t,d.O6.LIMIT,n),(0,r.Z)(t,d.O6.OFFSET,s),t),S()),g(v,h)),p)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"inventoryHostsQuery":e,n=t.schemaCheck,r=void 0===n?l.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,u=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(i,u)),r)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,i=void 0===e?"inventorySubscriptionsQuery":e,n=t.schemaCheck,r=void 0===n?l.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,u=t.options;return a.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(i,u)),r)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,i=void 0===e?S:e,r=t.useProductViewContext,s=void 0===r?f:r,a=i(),c=a[l.VN.UOM],d=s(),v=d.initialGraphFilters,p=void 0===v?[]:v,h=d.initialInventoryFilters,g=void 0===h?[]:h,C=d.initialSubscriptionsInventoryFilters,I=void 0===C?[]:C,P=d.productContextFilterUom,T=(0,n.Z)(d,y),E=(0,u.useCallback)((function(){if(!0===P){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(c,"i").test(e)};return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:p.filter(t),initialInventoryFilters:g.filter(t),initialSubscriptionsInventoryFilters:I.filter(t)})}return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:p,initialInventoryFilters:g,initialSubscriptionsInventoryFilters:I})}),[T,p,g,I,P,c]);return E()},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,i=void 0===e?f:e,n=i(),r=n.productGroup,o=n.productId,u=n.productLabel,s=n.viewId;return{productGroup:r,productId:o,productLabel:u,viewId:s}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,n=i(),r=n.initialGraphFilters,o=n.initialGraphSettings,u=void 0===o?{}:o;return{filters:r,settings:u}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,n=i(),r=n.inventoryGuestsQuery,o=void 0===r?{}:r,u=n.initialGuestsFilters,s=n.initialGuestsSettings,a=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:a}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,n=i(),r=n.initialInventoryFilters,o=n.initialInventorySettings,u=void 0===o?{}:o;return{filters:r,settings:u}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,n=i(),r=n.initialSubscriptionsInventoryFilters,o=n.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:r,settings:u}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,i=void 0===e?E:e,n=i(),r=n.initialToolbarFilters,o=n.initialToolbarSettings,u=void 0===o?{}:o;return{filters:r,settings:u}},G={ProductViewContext:h,DEFAULT_CONTEXT:p,useProductContext:E,useQuery:S,useQueryFactory:g,useGraphTallyQuery:C,useInventoryGuestsQuery:I,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:T,useProduct:_,useGraphConfig:b,useInventoryGuestsConfig:F,useInventoryHostsConfig:Q,useInventorySubscriptionsConfig:x,useToolbarConfig:m}}}]);
//# sourceMappingURL=../sourcemaps/4418.28f943c0ade85da68b5421b4b6c4d727.js.map