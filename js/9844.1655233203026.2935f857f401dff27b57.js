(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[9844,998],{49844:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z,Select:()=>Z,SelectDirection:()=>y,SelectPosition:()=>O});var r=n(70885),i=n(1413),o=n(15671),l=n(43144),a=n(60136),c=n(54062),s=n(96985),u=n.n(s),f=n(75857),p=n(50361),v=n.n(p),d=n(18446),g=n.n(d),h=n(30998),x=n.n(h),m=n(68630),b=n.n(m),S=n(62834),y=f.DropdownDirection,O=f.DropdownPosition,Z=function(e){(0,a.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={isExpanded:!1,options:null,selected:null},e.selectField=u().createRef(),e.onSelect=function(t,n){var r=e.state.options,o=e.props,l=o.id,a=o.name,c=o.onSelect,s=o.variant,u=r,p=u.findIndex((function(e){return e.title===n}));u[p].selected=s===f.SelectVariant.single||!u[p].selected,s===f.SelectVariant.single&&u.forEach((function(e,t){p!==t&&(u[t].selected=!1)}));var d=s===f.SelectVariant.single?n:u.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:u,selected:d},(function(){var t=v()(u),n={id:l,name:a||l,value:t[p].value,selected:s===f.SelectVariant.single&&t[p]||v()(d),selectedIndex:p,type:"select-".concat(s===f.SelectVariant.single?"one":"multiple"),options:t};s===f.SelectVariant.checkbox&&(n.checked=t[p].selected);var r=(0,i.Z)((0,i.Z)({},n),{},{target:(0,i.Z)({},n),currentTarget:(0,i.Z)({},n),persist:S.B.noop});c((0,i.Z)({},r),p,t),s===f.SelectVariant.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,r=t.selectedOptions;g()(e.options,n)&&g()(e.selectedOptions,r)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t,n=this.selectField.current,o=void 0===n?{}:n,l=this.props,a=l.options,c=l.selectedOptions,s=l.variant,u=Object.entries(this.props).filter((function(e){var t=(0,r.Z)(e,1)[0];return/^data-/i.test(t)})),p=b()(a)?Object.entries(a).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return(0,i.Z)((0,i.Z)({},o),{},{title:n,value:o})})):v()(a),d=c&&"string"==typeof c||"number"==typeof c?[c]:c;p.forEach((function(e,t){var n,r=e;("string"==typeof r&&(r={title:e,value:e},p[t]=r),r.text=r.text||r.title,r.textContent=r.textContent||r.title,r.label=r.label||r.title,d)&&(b()(r.value)?(n=x()(d,r.value)>-1)||(n=!!d.find((function(e){return Object.values(r.value).includes(e)}))):n=d.includes(r.value),n||(n=d.includes(r.title)),p[t].selected=n)})),t=s===f.SelectVariant.single?(p.find((function(e){return!0===e.selected}))||{}).title:p.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),null!=o&&null!==(e=o.parentRef)&&void 0!==e&&e.current&&u.forEach((function(e){var t,n=(0,r.Z)(e,2),i=n[0],l=n[1];return null==o||null===(t=o.parentRef)||void 0===t?void 0:t.current.setAttribute(i,l)})),this.setState({options:p,selected:t})}},{key:"render",value:function(){var e=this.state,t=e.options,n=e.selected,r=e.isExpanded,i=this.props,o=i.ariaLabel,l=i.className,a=i.direction,c=i.isDisabled,s=i.isToggleText,p=i.maxHeight,v=i.placeholder,d=i.position,g=i.toggleIcon,h=i.variant,x={direction:a,maxHeight:p};return t&&t.length&&!c||(x.isDisabled=!0),u().createElement("div",{className:"curiosity-select"},u().createElement(f.Select,Object.assign({menuAppendTo:"parent",className:"curiosity-select-pf".concat(s?"":"__no-toggle-text"," ").concat(d===f.DropdownPosition.right?"curiosity-select-pf__position-right":""," ").concat(l),variant:h,"aria-label":o,onToggle:this.onToggle,onSelect:this.onSelect,selections:n,isOpen:r,toggleIcon:g,placeholderText:v,ref:this.selectField},x),t&&t.map((function(e){return u().createElement(f.SelectOption,{key:window.btoa("".concat(e.title,"-").concat(e.value)),id:window.btoa("".concat(e.title,"-").concat(e.value)),value:e.title,"data-value":b()(e.value)&&JSON.stringify([e.value])||e.value,"data-title":e.title})}))||[]))}}]),n}(u().Component);Z.defaultProps={ariaLabel:"Select option",className:"",direction:y.down,id:S.B.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:S.B.noop,options:[],placeholder:"Select option",position:O.left,selectedOptions:null,toggleIcon:null,variant:f.SelectVariant.single}},41848:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2958:(e,t,n)=>{var r=n(46384),i=n(90939);e.exports=function(e,t,n,o){var l=n.length,a=l,c=!o;if(null==e)return!a;for(e=Object(e);l--;){var s=n[l];if(c&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++l<a;){var u=(s=n[l])[0],f=e[u],p=s[1];if(c&&s[2]){if(void 0===f&&!(u in e))return!1}else{var v=new r;if(o)var d=o(f,p,u,e,t,v);if(!(void 0===d?i(p,f,3,o,v):d))return!1}}return!0}},67206:(e,t,n)=>{var r=n(91573),i=n(16432),o=n(6557),l=n(1469),a=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?l(e)?i(e[0],e[1]):r(e):a(e)}},91573:(e,t,n)=>{var r=n(2958),i=n(1499),o=n(42634);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},16432:(e,t,n)=>{var r=n(90939),i=n(27361),o=n(79095),l=n(15403),a=n(89162),c=n(42634),s=n(40327);e.exports=function(e,t){return l(e)&&a(t)?c(s(e),t):function(n){var l=i(n,e);return void 0===l&&l===t?o(n,e):r(t,l,3)}}},40371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:(e,t,n)=>{var r=n(97786);e.exports=function(e){return function(t){return r(t,e)}}},27561:(e,t,n)=>{var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1499:(e,t,n)=>{var r=n(89162),i=n(3674);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],l=e[o];t[n]=[o,l,r(l)]}return t}},222:(e,t,n)=>{var r=n(71811),i=n(35694),o=n(1469),l=n(65776),a=n(41780),c=n(40327);e.exports=function(e,t,n){for(var s=-1,u=(t=r(t,e)).length,f=!1;++s<u;){var p=c(t[s]);if(!(f=null!=e&&n(e,p)))break;e=e[p]}return f||++s!=u?f:!!(u=null==e?0:e.length)&&a(u)&&l(p,u)&&(o(e)||i(e))}},89162:(e,t,n)=>{var r=n(13218);e.exports=function(e){return e==e&&!r(e)}},42634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},30998:(e,t,n)=>{var r=n(41848),i=n(67206),o=n(40554),l=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var c=null==n?0:o(n);return c<0&&(c=l(a+c,0)),r(e,i(t,3),c)}},79095:(e,t,n)=>{var r=n(13),i=n(222);e.exports=function(e,t){return null!=e&&i(e,t,r)}},39601:(e,t,n)=>{var r=n(40371),i=n(79152),o=n(15403),l=n(40327);e.exports=function(e){return o(e)?r(l(e)):i(e)}},18601:(e,t,n)=>{var r=n(14841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:(e,t,n)=>{var r=n(18601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var r=n(27561),i=n(13218),o=n(33448),l=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||c.test(e)?s(e.slice(2),n?2:8):l.test(e)?NaN:+e}}}]);
//# sourceMappingURL=../sourcemaps/9844.0c43f2fa080cb6b5e0934301a1832925.js.map