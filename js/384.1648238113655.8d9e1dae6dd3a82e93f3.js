(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[384],{90384:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y,FormState:()=>y});var r=n(4942),a=n(1413),o=n(15671),s=n(43144),i=n(97326),u=n(60136),c=n(54062),l=n(96985),d=n.n(l),v=n(50361),p=n.n(v),h=n(18446),f=n.n(h),b=n(62834),j={isUpdating:!1,isSubmitting:!1,isValid:null,isValidating:!1,submitCount:0},y=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e){var s;return(0,o.Z)(this,n),(s=t.call(this,e)).state=(0,a.Z)({},j),s.onEventCustom=function(e){var t=Array.isArray(e)&&e||e&&[e];t.length&&t.filter((function(e){return"name"in e&&("value"in e||"checked"in e)})).forEach((function(e){return s.onEvent({target:(0,a.Z)({},e),persist:b.Z.noop,type:"custom"})}))},s.onEvent=function(e){var t=(0,i.Z)(s),n=t.touched,o=t.values,u=e.options?(0,a.Z)({},e):e.target,c=u.id,l=u.name,d=u.value,v=u.checked;e.persist();var p=l||c||"generated form state target, add name or id attr to field";s.touched=(0,a.Z)((0,a.Z)({},n),{},(0,r.Z)({},p,!0)),s.values=(0,a.Z)((0,a.Z)({},o),{},(0,r.Z)({},p,d)),void 0!==v&&(s.checked=(0,a.Z)((0,a.Z)({},s.checked),{},(0,r.Z)({},p,v))),s.setState({isUpdating:!0,isValidating:!0},(function(){return s.validate(e).then((function(e){var t=(0,a.Z)({},e&&e[0]||e||{}),n=!Object.values(t).filter((function(e){return!0===e})).length;s.errors=t,s.setState({isUpdating:!1,isValid:n,isValidating:!1})}))}))},s.onReset=function(e){var t=(0,i.Z)(s),r=t.refValues,o=t.values,u=s.props,c=u.setValuesAssumeBoolIsChecked,l=u.onReset,d=u.resetUsingSetValues;e.persist();var v=r&&!0===d,h=v&&p()(r)||{},f=v&&n.checkedSetValues(c,h)||{};s.values=h,s.checked=f,s.errors={},s.touched={},s.setState((0,a.Z)({},j)),l(v?(0,a.Z)({event:e},p()({values:h,prevValues:o})):(0,a.Z)({event:e,values:{}},p()({prevValues:o})))},s.onSubmit=function(e){var t=s.state.submitCount;e.persist(),e.preventDefault(),s.setState({submitCount:t+1,isSubmitting:!0,isUpdating:!0,isValidating:!0},(function(){return s.validate(e).then((function(t){var n=(0,a.Z)({},t&&t[0]||t||{}),r=!Object.values(n).filter((function(e){return!0===e})).length;s.errors=n,s.touched={},s.setState({isValid:r,isValidating:!1},(function(){return r&&s.submit(e).then((function(){s.setState({isSubmitting:!1,isUpdating:!1})}))}))}))}))},s.touched={},s.checked=n.checkedSetValues(e),s.refValues=!0===e.resetUsingSetValues||!0===e.setValuesOnUpdate?p()(e.setValues):null,s.errors={},s.values=p()(e.setValues),s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){!0===this.props.validateOnMount&&this.validateOnMount()}},{key:"componentDidUpdate",value:function(){var e=this.refValues,t=this.props,n=t.setValuesOnUpdate,r=t.setValues;!0!==n||f()(e,r)||this.updateComponentValues()}},{key:"submit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"submit"},t=this.checked,r=this.errors,o=this.values,s=this.touched,i=this.props.onSubmit,u=i((0,a.Z)({event:e},p()((0,a.Z)((0,a.Z)({},this.state),{},{checked:t,errors:r,values:o,touched:s}))));return n.isPromise(u)?u:{then:function(e){return e()}}}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"validate"},t=this.checked,r=this.errors,o=this.values,s=this.touched,i=this.props.validate,u=i((0,a.Z)({event:e},p()((0,a.Z)((0,a.Z)({},this.state),{},{checked:t,errors:r,values:o,touched:s}))));return n.isPromise(u)?u:{then:function(e){return e(u)}}}},{key:"validateOnMount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"mount"};this.validateOnUpdate(e)}},{key:"validateOnUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"update"};this.setState({isUpdating:!0,isValidating:!0},(function(){return e.validate(t).then((function(t){var n=(0,a.Z)({},t&&t[0]||t||{}),r=!Object.values(n).filter((function(e){return!0===e})).length;e.errors=n,e.setState({isUpdating:!1,isValidating:!1,isValid:r})}))}))}},{key:"updateComponentValues",value:function(){var e=this,t=this.props,r=t.setValues,a=t.setValuesAssumeBoolIsChecked,o=t.validateOnUpdate;this.setState({isUpdating:!0},(function(){e.checked=n.checkedSetValues(a,r),e.refValues=p()(r),e.values=p()(r),o?e.validateOnUpdate():e.setState({isUpdating:!1})}))}},{key:"render",value:function(){var e=this.checked,t=this.errors,n=this.values,r=this.touched,o=this.props.children;return d().createElement(d().Fragment,null,o((0,a.Z)({handleOnEventCustom:this.onEventCustom,handleOnEvent:this.onEvent,handleOnReset:this.onReset,handleOnSubmit:this.onSubmit},p()((0,a.Z)((0,a.Z)({},this.state),{},{checked:e,errors:t,values:n,touched:r})))))}}],[{key:"checkedSetValues",value:function(e){var t=e.setValuesAssumeBoolIsChecked,n=e.setValues,r={};return t&&Object.keys(n).forEach((function(e){"boolean"==typeof n[e]&&(r[e]=n[e])})),r}},{key:"isPromise",value:function(e){return"[object Promise]"===Object.prototype.toString.call(e)}}]),n}(d().Component);y.defaultProps={onReset:b.Z.noop,onSubmit:b.Z.noop,resetUsingSetValues:!0,setValues:{},setValuesOnUpdate:!1,setValuesAssumeBoolIsChecked:!0,validate:b.Z.noop,validateOnMount:!1,validateOnUpdate:!1}},77412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},44037:(e,t,n)=>{var r=n(98363),a=n(3674);e.exports=function(e,t){return e&&r(t,a(t),e)}},63886:(e,t,n)=>{var r=n(98363),a=n(81704);e.exports=function(e,t){return e&&r(t,a(t),e)}},85990:(e,t,n)=>{var r=n(46384),a=n(77412),o=n(34865),s=n(44037),i=n(63886),u=n(64626),c=n(278),l=n(18805),d=n(1911),v=n(58234),p=n(46904),h=n(64160),f=n(43824),b=n(29148),j=n(38517),y=n(1469),g=n(44144),m=n(56688),V=n(13218),k=n(72928),Z=n(3674),S=n(81704),O="[object Arguments]",U="[object Function]",A="[object Object]",x={};x[O]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[A]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[U]=x["[object WeakMap]"]=!1,e.exports=function e(t,n,C,w,E,I){var M,B=1&n,F=2&n,D=4&n;if(C&&(M=E?C(t,w,E,I):C(t)),void 0!==M)return M;if(!V(t))return t;var P=y(t);if(P){if(M=f(t),!B)return c(t,M)}else{var R=h(t),N=R==U||"[object GeneratorFunction]"==R;if(g(t))return u(t,B);if(R==A||R==O||N&&!E){if(M=F||N?{}:j(t),!B)return F?d(t,i(M,t)):l(t,s(M,t))}else{if(!x[R])return E?t:{};M=b(t,R,B)}}I||(I=new r);var _=I.get(t);if(_)return _;I.set(t,M),k(t)?t.forEach((function(r){M.add(e(r,n,C,r,t,I))})):m(t)&&t.forEach((function(r,a){M.set(a,e(r,n,C,a,t,I))}));var G=P?void 0:(D?F?p:v:F?S:Z)(t);return a(G||t,(function(r,a){G&&(r=t[a=r]),o(M,a,e(r,n,C,a,t,I))})),M}},25588:(e,t,n)=>{var r=n(64160),a=n(37005);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},29221:(e,t,n)=>{var r=n(64160),a=n(37005);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},57157:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},93147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},40419:(e,t,n)=>{var r=n(62705),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},18805:(e,t,n)=>{var r=n(98363),a=n(99551);e.exports=function(e,t){return r(e,a(e),t)}},1911:(e,t,n)=>{var r=n(98363),a=n(51442);e.exports=function(e,t){return r(e,a(e),t)}},46904:(e,t,n)=>{var r=n(68866),a=n(51442),o=n(81704);e.exports=function(e){return r(e,o,a)}},51442:(e,t,n)=>{var r=n(62488),a=n(85924),o=n(99551),s=n(70479),i=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:s;e.exports=i},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},29148:(e,t,n)=>{var r=n(74318),a=n(57157),o=n(93147),s=n(40419),i=n(77133);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return s(e)}}},50361:(e,t,n)=>{var r=n(85990);e.exports=function(e){return r(e,5)}},56688:(e,t,n)=>{var r=n(25588),a=n(7518),o=n(31167),s=o&&o.isMap,i=s?a(s):r;e.exports=i},72928:(e,t,n)=>{var r=n(29221),a=n(7518),o=n(31167),s=o&&o.isSet,i=s?a(s):r;e.exports=i}}]);
//# sourceMappingURL=../sourcemaps/384.a1d11a08cdffc2d12105dc66b3c21064.js.map