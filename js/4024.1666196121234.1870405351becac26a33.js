"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4024,1858,8139,9942],{44024:function(t,e,r){r.r(e),r.d(e,{GraphCardChartTooltip:function(){return v},default:function(){return v}});var n=r(92950),i=r.n(n),o=r(51858),a=r(78139),u=r(83109),s=r(60930),l=r(1138),c=r(46262),d=r(76006),v=function(t){var e=t.datum,r=t.t,n=t.useProduct,o=t.useProductGraphTallyQuery,u=n(),v=u.productId,y=u.productLabel,f=o()[c.O6.GRANULARITY],p=null,h=[],m=(e||{}).itemsByKey,g=void 0===m?{}:m;return Object.keys(g).reverse().forEach((function(t,e){var n,o,u,c;0===e&&(p=(0,a.getTooltipDate)({date:null===(c=g[t])||void 0===c?void 0:c.data.date,granularity:f}));var d={color:null===(n=g[t])||void 0===n?void 0:n.color};if((null===(o=g[t])||void 0===o?void 0:o.chartType)===s.ChartTypeVariant.threshold){var m,T,C,S=null!==(m=null===(T=g[t])||void 0===T?void 0:T.data.y)&&void 0!==m?m:r("curiosity-graph.label_noData");null!==(C=g[t])&&void 0!==C&&C.data.hasInfinite&&(S=d.color?i().createElement(l.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),d.label=r("curiosity-graph.label_threshold"),d.value=S}else{var I,b,F=!1===(null===(I=g[t])||void 0===I?void 0:I.data.hasData)&&r("curiosity-graph.label_noData")||(null===(b=g[t])||void 0===b?void 0:b.data.y)||0;d.label=r("curiosity-graph.label_".concat(t),{context:v,product:y}),d.value=F}d.chartType=null===(u=g[t])||void 0===u?void 0:u.chartType,h.push(d)})),i().createElement("div",{className:"curiosity-usage-graph__tooltip"},i().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},h.length&&p&&i().createElement("thead",null,i().createElement("tr",null,i().createElement("th",{colSpan:2},p)))||null,h.length&&i().createElement("tbody",null,h.map((function(t){var e,r,n="number"==typeof t.value&&!Number.isInteger(t.value)&&(null===(e=d.BM.numberDisplay(t.value))||void 0===e||null===(r=e.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||t.value;return i().createElement("tr",{key:"tooltip-".concat(t.label)},i().createElement("th",null,t.chartType===s.ChartTypeVariant.threshold&&i().createElement(l.ChartIcon,{size:"sm",symbol:"dash",fill:t.color||"transparent"}),t.chartType!==s.ChartTypeVariant.threshold&&i().createElement(l.ChartIcon,{size:"sm",fill:t.color||"transparent"})," ",t.label),i().createElement("td",null,n))})))||null),!h.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};v.defaultProps={datum:{},t:u.translate,useProduct:o.useProduct,useProductGraphTallyQuery:o.useProductGraphTallyQuery}},78139:function(t,e,r){r.r(e),r.d(e,{default:function(){return g},generateChartSettings:function(){return v},generateExtendedChartSettings:function(){return m},getChartXAxisLabelIncrement:function(){return y},getTooltipDate:function(){return f},graphCardHelpers:function(){return g},xAxisTickFormat:function(){return p},yAxisTickFormat:function(){return h}});var n=r(1413),i=r(45987),o=r(30381),a=r.n(o),u=r(77323),s=r(60930),l=r(30446),c=r(76006),d=["id","isStandalone"],v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],o=[];t.forEach((function(t){var a=t.id,l=t.isStandalone,c=void 0!==l&&l,v=(0,i.Z)(t,d);if(a){var y=(null==v?void 0:v.chartType)===s.ChartTypeVariant.threshold,f={id:a,isStacked:!y,isStandalone:c,isThreshold:y,isCapacity:y,strokeWidth:2};y&&(f.stroke=u.chart_color_green_300.value,f.strokeDasharray="4,3",f.strokeWidth=3),c?r.push({settings:(0,n.Z)((0,n.Z)({padding:{bottom:75,left:75,right:45,top:45}},e),{},{isStandalone:!0,metric:(0,n.Z)((0,n.Z)({},f),v),metrics:[(0,n.Z)((0,n.Z)({},f),v)]})}):o.push((0,n.Z)((0,n.Z)({},f),v))}}));var a=o.length&&{settings:(0,n.Z)((0,n.Z)({},e),{},{isStandalone:!1,metric:void 0,metrics:o})}||void 0;return{standaloneFiltersSettings:r,groupedFiltersSettings:a}},y=function(t){switch(t){case l.U9.DAILY:return 5;case l.U9.WEEKLY:case l.U9.MONTHLY:return 2;case l.U9.QUARTERLY:default:return 1}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.date,r=t.granularity,n=a().utc(e);switch(r){case l.U9.QUARTERLY:return"".concat(n.format(c.i3.timestampQuarterFormats.yearShort)," - ").concat(n.add(1,"quarter").format(c.i3.timestampQuarterFormats.yearShort));case l.U9.MONTHLY:return n.format(c.i3.timestampMonthFormats.yearLong);case l.U9.WEEKLY:return"".concat(n.format(c.i3.timestampDayFormats.short)," - ").concat(n.add(1,"week").format(c.i3.timestampDayFormats.yearShort));case l.U9.DAILY:default:return n.format(c.i3.timestampDayFormats.long)}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,r=t.date,n=t.granularity,i=t.tick,o=t.previousDate;if(r&&n){if(e)return e({callback:e,date:r,granularity:n,tick:i,previousDate:o});var u,s=a().utc(r),d=0!==i&&Number.parseInt(s.year(),10)!==Number.parseInt(a().utc(o).year(),10);switch(n){case l.U9.QUARTERLY:u=(u=d?s.format(c.i3.timestampQuarterFormats.yearShort):s.format(c.i3.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case l.U9.MONTHLY:u=(u=d?s.format(c.i3.timestampMonthFormats.yearShort):s.format(c.i3.timestampMonthFormats.short)).replace(/\s/,"\n");break;case l.U9.WEEKLY:case l.U9.DAILY:default:u=(u=d?s.format(c.i3.timestampDayFormats.yearShort):s.format(c.i3.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return u}},h=function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.callback,i=r.tick;return n?n({tick:i}):null===(t=c.BM.numberDisplay(i))||void 0===t||null===(e=t.format({average:!0,mantissa:1,trimMantissa:!0,lowPrecision:!1}))||void 0===e?void 0:e.toUpperCase()},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.settings,r=t.granularity;return(0,n.Z)((0,n.Z)({},e),{},{xAxisLabelIncrement:y(r),xAxisTickFormat:function(t){var n=t.item,i=t.previousItem,o=t.tick;return p({callback:null==e?void 0:e.xAxisTickFormat,tick:o,date:n.date,previousDate:i.date,granularity:r})},yAxisTickFormat:function(t){var r=t.tick;return h({callback:null==e?void 0:e.yAxisTickFormat,tick:r})}})},g={generateChartSettings:v,generateExtendedChartSettings:m,getChartXAxisLabelIncrement:y,getTooltipDate:f,xAxisTickFormat:p,yAxisTickFormat:h}},51858:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return f},ProductViewContext:function(){return p},context:function(){return Q},default:function(){return Q},useProduct:function(){return F},useProductContext:function(){return b},useProductGraphConfig:function(){return E},useProductGraphTallyQuery:function(){return T},useProductInventoryGuestsConfig:function(){return P},useProductInventoryGuestsQuery:function(){return C},useProductInventoryHostsConfig:function(){return x},useProductInventoryHostsQuery:function(){return S},useProductInventorySubscriptionsConfig:function(){return k},useProductInventorySubscriptionsQuery:function(){return I},useProductQuery:function(){return g},useProductQueryFactory:function(){return m},useProductToolbarConfig:function(){return _}});var n=r(45987),i=r(4942),o=r(1413),a=r(92950),u=r.n(a),s=r(12723),l=r(2606),c=r(30446),d=r(46262),v=r(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],f=[{},v.B.noop],p=u().createContext(f),h=function(){return(0,a.useContext)(p)},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,n=e.useProductViewContext,i=void 0===n?h:n,a=i(),u=a[t],s=a.productId,c=a.viewId,d=l.Cr.reactRedux.useSelector((function(e){var n,i=e.view;return null==i||null===(n=i[t])||void 0===n?void 0:n[r]}),void 0),v=l.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[s]}),void 0),y=l.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[c]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u),d),v),y)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,n=t.options;return m(r,n)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,n=t.schemaCheck,i=void 0===n?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:n,a=t.options;return s.VS.setApiQuery((0,o.Z)((0,o.Z)({},g()),m(r,a)),i)},C=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,n=void 0===r?100:r,a=e.defaultOffset,u=void 0===a?0:a,l=e.queryType,v=void 0===l?"inventoryGuestsQuery":l,y=e.schemaCheck,f=void 0===y?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,p=e.options;return s.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,i.Z)(t,d.O6.LIMIT,n),(0,i.Z)(t,d.O6.OFFSET,u),t),g()),m(v,p)),f)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,n=t.schemaCheck,i=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,a=t.options;return s.VS.setApiQuery((0,o.Z)((0,o.Z)({},g()),m(r,a)),i)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,n=t.schemaCheck,i=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,a=t.options;return s.VS.setApiQuery((0,o.Z)((0,o.Z)({},g()),m(r,a)),i)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?g:e,i=t.useProductViewContext,u=void 0===i?h:i,s=r(),l=s[c.VN.UOM],d=u(),v=d.initialGraphFilters,f=void 0===v?[]:v,p=d.initialInventoryFilters,m=void 0===p?[]:p,T=d.initialSubscriptionsInventoryFilters,C=void 0===T?[]:T,S=d.productContextFilterUom,I=(0,n.Z)(d,y),b=(0,a.useCallback)((function(){if(!0===S){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,o.Z)((0,o.Z)({},I),{},{initialGraphFilters:f.filter(t),initialInventoryFilters:m.filter(t),initialSubscriptionsInventoryFilters:C.filter(t)})}return(0,o.Z)((0,o.Z)({},I),{},{initialGraphFilters:f,initialInventoryFilters:m,initialSubscriptionsInventoryFilters:C})}),[I,f,m,C,S,l]);return b()},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?h:e,n=r(),i=n.productGroup,o=n.productId,a=n.productLabel,u=n.viewId;return{productGroup:i,productId:o,productLabel:a,viewId:u}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),i=n.initialGraphFilters,o=n.initialGraphSettings,a=void 0===o?{}:o;return{filters:i,settings:a}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),i=n.inventoryGuestsQuery,o=void 0===i?{}:i,a=n.initialGuestsFilters,u=n.initialGuestsSettings,s=void 0===u?{}:u;return{filters:a,initialQuery:o,settings:s}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),i=n.initialInventoryFilters,o=n.initialInventorySettings,a=void 0===o?{}:o;return{filters:i,settings:a}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),i=n.initialSubscriptionsInventoryFilters,o=n.initialSubscriptionsInventorySettings,a=void 0===o?{}:o;return{filters:i,settings:a}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),i=n.initialToolbarFilters,o=n.initialToolbarSettings,a=void 0===o?{}:o,u=n.initialSecondaryToolbarFilters;return{filters:i,secondaryFilters:u,settings:a}},Q={ProductViewContext:p,DEFAULT_CONTEXT:f,useProductContext:b,useQuery:g,useQueryFactory:m,useGraphTallyQuery:T,useInventoryGuestsQuery:C,useInventoryHostsQuery:S,useInventorySubscriptionsQuery:I,useProduct:F,useGraphConfig:E,useInventoryGuestsConfig:P,useInventoryHostsConfig:x,useInventorySubscriptionsConfig:k,useToolbarConfig:_}}}]);
//# sourceMappingURL=../sourcemaps/4024.c3bbc2a89b574e91828a7db7f5131c20.js.map