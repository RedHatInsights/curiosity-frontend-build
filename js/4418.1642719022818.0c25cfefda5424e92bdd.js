"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4418,1138,1858,9942],{1138:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u,ChartIcon:()=>u});var i=r(92950),n=r.n(i),o=r(1313),u=function(e){var t=e.fill,r=e.symbol,i=e.size,u=e.title,s={},a={size:i,title:u},c=function(e){switch(e){case"md":return"1.5em";case"lg":return"2em";case"xl":return"3em";default:return"1em"}}(i);return u?s["aria-labelledby"]=u:s["aria-hidden"]=!0,t&&(a.color=t),n().createElement("span",{className:"curiosity-chartarea__icon curiosity-chartarea__icon-".concat(r)},function(){switch(r){case"dash":return n().createElement("span",{style:{width:c,height:"".concat(Number.parseFloat(c)/2,"em")}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 38 10",role:"img"},s),n().createElement("rect",{y:"5",width:"10",height:"10",fill:t}),n().createElement("rect",{x:"14",y:"5",width:"10",height:"10",fill:t}),n().createElement("rect",{x:"28",y:"5",width:"10",height:"10",fill:t})));case"threshold":return n().createElement("span",{style:{width:"".concat(2*Number.parseFloat(c),"em"),height:c}},n().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 18 10",role:"img"},s),n().createElement("line",{x1:0,y1:16*Number.parseFloat(c)/2,x2:16*Number.parseFloat(c)*3,y2:16*Number.parseFloat(c)/2,stroke:t,strokeWidth:3,strokeDasharray:"4,3"})));case"eye":return n().createElement(o.EyeIcon,a);case"eyeSlash":return n().createElement(o.EyeSlashIcon,a);case"infinity":return n().createElement(o.InfinityIcon,a);default:return n().createElement(o.SquareIcon,a)}}())};u.defaultProps={fill:null,size:"sm",symbol:"square",title:null}},64418:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v,GraphCardChartLegend:()=>v});var i=r(92950),n=r.n(i),o=r(61603),u=r(89048),s=r(51858),a=r(186),c=r(76006),l=r(83109),d=r(1138),v=function(e){var t=e.chart,r=e.datum,i=e.t,s=e.useDispatch,c=e.useSelectors,l=(0,e.useProduct)(),v=l.productLabel,y=l.viewId,h=s(),p=c(r.dataSets.map((function(e){var t=e.id;return function(e){var r;return null===(r=e.graph.legend)||void 0===r?void 0:r["".concat(y,"-").concat(t)]}})));(0,u.Z)((function(){r.dataSets.forEach((function(e,r){var i=e.id;((null==p?void 0:p[r])||t.isToggled(i))&&t.hide(i)}))}));var f=function(e){var r=t.toggle(e);h({type:a.JD.graph.SET_GRAPH_LEGEND,id:"".concat(y,"-").concat(e),value:r})};return n().createElement(n().Fragment,null,r.dataSets.map((function(e,r){var u=e.id,s=e.isThreshold,a=e.stroke,c=e.data,l=!(void 0===c?[]:c).find((function(e){var t=e.y,r=e.hasData;return t>=0&&!0===r||t>=0&&!0===s}))||!1,y=i(["curiosity-graph.label_".concat(s?"threshold":u),"curiosity-graph.label_no"],{product:v,context:v}),h=i("curiosity-graph.legendTooltip".concat(s?"_threshold":"","_").concat(u),{product:v,context:v},[n().createElement("span",{style:{whiteSpace:"nowrap"}})]),g=(null==p?void 0:p[r])||t.isToggled(u),m=n().createElement(o.Button,{onClick:function(){return f(u)},onKeyPress:function(){return f(u)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(u),variant:"link",component:"a",isDisabled:l,icon:(l||g)&&n().createElement(d.ChartIcon,{symbol:"eyeSlash"})||n().createElement(d.ChartIcon,{symbol:s?"dash":"square",style:{visibility:l||g?"hidden":"visible"},fill:a})},y);return h?n().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(u),content:n().createElement("p",null,h),position:o.TooltipPosition.top,enableFlip:!0,distance:5},m):m})))};v.defaultProps={chart:{hide:c.BM.noop,toggle:c.BM.noop,isToggled:c.BM.noop},datum:{dataSets:[]},t:l.translate,useDispatch:a.Cr.reactRedux.useDispatch,useSelectors:a.Cr.reactRedux.useSelectors,useProduct:s.useProduct}},51858:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x,context:()=>x,ProductViewContext:()=>y,DEFAULT_CONTEXT:()=>v,useProductContext:()=>I,useProductQuery:()=>f,useProductQueryFactory:()=>p,useProductGraphTallyQuery:()=>g,useProductInventoryGuestsQuery:()=>m,useProductInventoryHostsQuery:()=>E,useProductInventorySubscriptionsQuery:()=>S,useProduct:()=>C,useProductGraphConfig:()=>b,useProductInventoryHostsConfig:()=>P,useProductInventorySubscriptionsConfig:()=>T,useProductToolbarConfig:()=>_});var i=r(45987),n=r(1413),o=r(92950),u=r.n(o),s=r(12723),a=r(1798),c=r(30446),l=r(62834),d=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],v=[{},l.B.noop],y=u().createContext(v),h=function(){return(0,o.useContext)(y)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useProductViewContext,i=void 0===r?h:r,o=i(),u=o[e],s=o.productId,c=o.viewId,l=a.Cr.reactRedux.useSelector((function(t){var r,i=t.view;return null==i||null===(r=i[e])||void 0===r?void 0:r[s]}),void 0),d=a.Cr.reactRedux.useSelector((function(t){var r,i=t.view;return null==i||null===(r=i[e])||void 0===r?void 0:r[c]}),void 0);return(0,n.Z)((0,n.Z)((0,n.Z)({},u),l),d)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"query":t,i=e.options;return p(r,i)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"graphTallyQuery":t,i=e.schemaCheck,o=void 0===i?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,u=e.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},f()),p(r,u)),o)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"inventoryGuestsQuery":t,i=e.schemaCheck,o=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:i,u=e.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},f()),p(r,u)),o)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"inventoryHostsQuery":t,i=e.schemaCheck,o=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=e.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},f()),p(r,u)),o)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryType,r=void 0===t?"inventorySubscriptionsQuery":t,i=e.schemaCheck,o=void 0===i?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=e.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},f()),p(r,u)),o)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductQuery,r=void 0===t?f:t,u=e.useProductViewContext,s=void 0===u?h:u,a=r(),l=a[c.VN.UOM],v=s(),y=v.initialGraphFilters,p=void 0===y?[]:y,g=v.initialInventoryFilters,m=void 0===g?[]:g,E=v.initialSubscriptionsInventoryFilters,S=void 0===E?[]:E,I=v.productContextFilterUom,C=(0,i.Z)(v,d),b=(0,o.useCallback)((function(){if(!0===I){var e=function(e){var t=e.id;return!e.isOptional||new RegExp(l,"i").test(t)};return(0,n.Z)((0,n.Z)({},C),{},{initialGraphFilters:p.filter(e),initialInventoryFilters:m.filter(e),initialSubscriptionsInventoryFilters:S.filter(e)})}return(0,n.Z)((0,n.Z)({},C),{},{initialGraphFilters:p,initialInventoryFilters:m,initialSubscriptionsInventoryFilters:S})}),[C,p,m,S,I,l]);return b()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductViewContext,r=void 0===t?h:t,i=r(),n=i.productGroup,o=i.productId,u=i.productLabel,s=i.viewId;return{productGroup:n,productId:o,productLabel:u,viewId:s}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?I:t,i=r(),n=i.initialGraphFilters,o=i.initialGraphSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?I:t,i=r(),n=i.initialInventoryFilters,o=i.initialInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?I:t,i=r(),n=i.initialSubscriptionsInventoryFilters,o=i.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useProductContext,r=void 0===t?I:t,i=r(),n=i.initialToolbarFilters,o=i.initialToolbarSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},x={ProductViewContext:y,DEFAULT_CONTEXT:v,useProductContext:I,useQuery:f,useQueryFactory:p,useGraphTallyQuery:g,useInventoryGuestsQuery:m,useInventoryHostsQuery:E,useInventorySubscriptionsQuery:S,useProduct:C,useGraphConfig:b,useInventoryHostsConfig:P,useInventorySubscriptionsConfig:T,useToolbarConfig:_}}}]);
//# sourceMappingURL=../sourcemaps/4418.564edfb5fd4c9b3e0ee090dbde8ed73c.js.map