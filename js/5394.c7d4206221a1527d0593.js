"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[5394],{25394:function(e,t,r){r.r(t),r.d(t,{DEFAULT_CONTEXT:function(){return C},GraphCardContext:function(){return h},context:function(){return v},default:function(){return v},useGetMetrics:function(){return G},useGraphCardActions:function(){return y},useGraphCardContext:function(){return f},useMetricsSelector:function(){return m},useParseFiltersSettings:function(){return g}});var n=r(87462),s=r(28416),u=r.n(s),o=r(15451),i=r(90154),c=r(87284),a=r(51858),l=r(70136),d=r(62834),p=r(78139);const C=[{settings:{metrics:[]}},d.B.noop],h=u().createContext(C),f=()=>(0,s.useContext)(h),g=function(){let{useProduct:e=a.useProduct,useProductGraphConfig:t=a.useProductGraphConfig}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:r}=e(),{filters:n=[],settings:u={}}=t();return(0,s.useMemo)((()=>p.graphCardHelpers.generateChartSettings({filters:n,settings:u,productId:r})),[n,u,r])},m=function(){let{useGraphCardContext:e=f,useSelectorsResponse:t=c.Cr.reactRedux.useSelectorsResponse}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{settings:r={}}=e(),{metrics:n=[]}=r,{error:s,fulfilled:u,pending:o,data:i=[],...a}=t(n.map((e=>{let{id:t,isCapacity:r}=e;return e=>{var n,s;let{graph:u}=e;return r?null===(n=u.capacity)||void 0===n?void 0:n[t]:null===(s=u.tally)||void 0===s?void 0:s[t]}}))),l={},d=null==i?void 0:i.map(((e,t)=>{const r={...n[t],...e};return l[n[t].id]=r,r}));return{...a,data:l,dataSets:d,error:s,fulfilled:u,pending:o}},G=function(){let{getGraphMetrics:e=c.Ak.rhsm.getGraphMetrics,useDispatch:t=c.Cr.reactRedux.useDispatch,useGraphCardContext:r=f,useMetricsSelector:n=m,useProduct:s=a.useProduct,useProductGraphTallyQuery:u=a.useProductGraphTallyQuery}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:i}=s(),l=u(),d=t(),p=n(),{settings:C={}}=r(),{metrics:h=[]}=C;return(0,o.Z)((()=>{const t=h.map((e=>{let{metric:t,isCapacity:r,query:n}=e;return{id:i,metric:t,isCapacity:r,query:n}}));e(t,l)(d)}),[h,i,l]),p},y=function(){let{categoryOptions:e=l.toolbarFieldOptions,useMetricsSelector:t=m,useGraphCardContext:r=f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{pending:o,dataSets:c}=t(),{settings:a={}}=r(),{actions:p}=a;return(0,s.useMemo)((()=>null==p?void 0:p.map((t=>{let{id:r,content:s,...a}=t;const l=e.find((e=>{let{value:t}=e;return r===t})),{component:p}=l||{};return p&&u().createElement(i.ToolbarItem,{key:"option-".concat(r)},u().createElement(p,(0,n.Z)({isFilter:!1},a)))||s&&!o&&c.length&&u().createElement(i.ToolbarItem,{key:r||d.B.generateId()},"function"==typeof s?s({data:c}):s)||null}))),[p,e,c,o])},v={GraphCardContext:h,DEFAULT_CONTEXT:C,useGetMetrics:G,useGraphCardActions:y,useGraphCardContext:f,useMetricsSelector:m,useParseFiltersSettings:g}}}]);
//# sourceMappingURL=../sourcemaps/5394.602de5e7af1846861b976a6bb8757a47.js.map