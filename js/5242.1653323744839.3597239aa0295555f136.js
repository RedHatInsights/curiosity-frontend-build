"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5242,2243,2293],{12243:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O,inventoryCardHelpers:()=>O,applyConfigProperty:()=>S,applyHeaderRowCellFilters:()=>I,applySortFilters:()=>g,applyWrappableFilters:()=>m,parseInventoryFilters:()=>E,parseRowCellsListData:()=>b});var o=r(70885),n=r(1413),l=r(42982),s=r(96985),i=r.n(s),a=r(67304),u=r(68929),c=r.n(u),d=r(68630),v=r.n(d),p=r(3969),y=r(83109),f=r(30446),h=r(76006),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.params,o=void 0===r?[]:r,n=e;if("function"==typeof e&&(n=e.apply(void 0,(0,l.Z)(Array.isArray(o)&&o||[o]))),"string"==typeof n||"number"==typeof n||i().isValidElement(n))return n},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=[];return e.forEach((function(e){var u,c,d,f,I=e.id,g=e.cell,m=e.cellWidth,E=e.header,b=e.onSort,O=e.showEmptyCell,Z=void 0===O||O,D=e.sortId,T=e.sortActive,C=e.sortDirection,G=e.transforms,R={title:(0,y.translate)("curiosity-inventory.header",{context:I}),transforms:[]},_={title:""};if(t[I])R.title=null!==(u=null===(c=t[I])||void 0===c?void 0:c.title)&&void 0!==u?u:I,_.title=null!==(d=null===(f=t[I])||void 0===f?void 0:f.value)&&void 0!==d?d:"";else if((h.BM.DEV_MODE||h.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(I,'" not found in "table row" response data.'),t),!1===Z)return;if(E){var N=S(E,{params:[(0,n.Z)({},t),(0,n.Z)({},r)]});if(N?R.title=N:v()(E)&&Object.assign(R,(0,n.Z)({},E)),E.tooltip&&R.title){var P=S(E.tooltip,{params:[(0,n.Z)({},t),(0,n.Z)({},r)]});P&&(R.title=i().createElement(p.Tooltip,{content:P},R.title)),delete R.tooltip}}if(Array.isArray(R.transforms)&&(Array.isArray(G)&&(R.transforms=R.transforms.concat((0,l.Z)(G))),"number"==typeof m&&R.transforms.push((0,a.cellWidth)(m))),"function"==typeof b&&(R.onSort=function(e){return b((0,n.Z)({},t),(0,n.Z)((0,n.Z)({},e),{},{id:D||I}))},R.sortActive=T,R.sortDirection=C),g){var w=S(g,{params:[(0,n.Z)({},t),(0,n.Z)({},r)]});if(w?_.title=w:v()(g)&&Object.assign(_,(0,n.Z)({},g)),g.tooltip&&_.title){var F=S(g.tooltip,{params:[(0,n.Z)({},t),(0,n.Z)({},r)]});F&&(_.title=i().createElement(p.Tooltip,{content:F},_.title)),delete _.tooltip}}o.push(R),s.push(_)})),{headerCells:o,bodyCells:s}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filter,r=void 0===t?{}:t,o=e.onSort,l=e.query,s=void 0===l?{}:l,i=r.id,u=r.sortId,d=u||i,v=(0,n.Z)({},r),p=v.onSort||o;return!v.onSort&&o&&(v.onSort=o),p&&"boolean"!=typeof v.sortActive&&null!=s&&s[f.VN.SORT]&&((null==s?void 0:s[f.VN.SORT])===d||c()(null==s?void 0:s[f.VN.SORT])===d)&&(v.sortActive=!0),p&&!v.sortDirection&&null!=s&&s[f.VN.DIRECTION]&&((null==s?void 0:s[f.VN.DIRECTION])===f.hb.DESCENDING?v.sortDirection=a.SortByDirection.desc:v.sortDirection=a.SortByDirection.asc),!p||v.sortActive||null!=s&&s[f.VN.SORT]||!0!==v.isSortDefault||(v.sortActive=!0,v.sortDefaultInitialDirection&&(v.sortDirection=v.sortDefaultInitialDirection)),v},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filter,r=void 0===t?{}:t,o=(0,n.Z)({},r);return Array.isArray(o.transforms)?o.transforms.push(a.wrappable):o.transforms=[a.wrappable],o},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=void 0===t?[]:t,o=e.onSort,s=e.query,i=void 0===s?{}:s;return(0,l.Z)(r).map((function(e){var t=(0,n.Z)({},e);return t.isSortable&&Object.assign(t,g({filter:t,onSort:o,query:i})),t.isWrappable&&Object.assign(t,m({filter:t})),t}))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=void 0===t?[]:t,s=e.cellData,i=void 0===s?{}:s,a=e.session,u=void 0===a?{}:a,c=[],d=[],v={};if(Object.entries(i).forEach((function(e){var t=(0,o.Z)(e,2),r=t[0],n=t[1],l=void 0===n?"":n;v[r]={title:(0,y.translate)("curiosity-inventory.header",{context:r}),value:l},c.push(v[r].title),d.push(l||"...")})),null!=r&&r.length&&Object.keys(v).length){c.length=0,d.length=0;var p=I(r,v,u),f=p.headerCells,h=void 0===f?[]:f,S=p.bodyCells,g=void 0===S?[]:S;c.push.apply(c,(0,l.Z)(h)),d.push.apply(d,(0,l.Z)(g))}return{columnHeaders:c,cells:d,data:(0,n.Z)({},v)}},O={applyConfigProperty:S,applyHeaderRowCellFilters:I,applySortFilters:g,applyWrappableFilters:m,parseInventoryFilters:E,parseRowCellsListData:b}},15242:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f,InventoryGuests:()=>f});var o=r(42982),n=r(70885),l=r(96985),s=r.n(l),i=r(67304),a=r(98944),u=r(51858),c=r(1797),d=r(12243),v=r(46262),p=r(78697),y=r(32293),f=function(e){var t,r,a,u=e.defaultPerPage,y=e.id,f=e.numberOfGuests,h=e.useGetGuestsInventory,S=e.useOnScroll,I=e.useProductInventoryGuestsQuery,g=e.useProductInventoryGuestsConfig,m=e.useSession,E=(0,l.useState)([]),b=(0,n.Z)(E,2),O=b[0],Z=b[1],D=m(),T=g().filters,C=I({options:{overrideId:y}})[v.O6.OFFSET],G=h(y),R=G.error,_=G.pending,N=G.data,P=(void 0===N?{}:N).data,w=void 0===P?[]:P,F=S(y,(function(){var e=[].concat((0,o.Z)(O),(0,o.Z)(w||[]));Z(e)}));return s().createElement("div",{className:"fadein ".concat(R?"blur":"")},_&&0===C&&s().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==T?void 0:T.length)||(null==w?void 0:w[0])&&Object.keys(w[0]).length||1,colWidth:(null==T?void 0:T.length)&&T.map((function(e){return e.cellWidth}))||[],rowCount:f<u?f:u,variant:i.TableVariant.compact}}),(!_&&0===C||C>0)&&(t=[],r=[].concat((0,o.Z)(O),(0,o.Z)(w||[])).map((function(e){var r=Object.assign({},e),o=d.inventoryCardHelpers.parseRowCellsListData({filters:T,cellData:r,session:D}),n=o.columnHeaders,l=o.cells;return t=n,{cells:l}})),a=(a=42*(f+1))<275&&a||275,s().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(a,"px")}},s().createElement("div",{className:"curiosity-table-scroll-list".concat(a<275?"__no-scroll":""),onScroll:F},function(){if(C>0&&_){var e=s().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==T?void 0:T.length)||(null==w?void 0:w[0])&&Object.keys(w[0]).length||1,colWidth:(null==T?void 0:T.length)&&T.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:i.TableVariant.compact}});return s().createElement("div",{className:"curiosity-table-scroll-loader__custom"},e)}return null}(),r.length&&s().createElement(p.Table,{borders:!1,variant:i.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:t,rows:r})||null))))};f.defaultProps={defaultPerPage:5,useGetGuestsInventory:y.useGetGuestsInventory,useOnScroll:y.useOnScroll,useProductInventoryGuestsConfig:u.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:u.useProductInventoryGuestsQuery,useSession:a.useSession}},32293:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p,context:()=>p,useGetGuestsInventory:()=>d,useOnScroll:()=>v,useSelectorsGuestsInventory:()=>c});var o=r(4942),n=r(1413),l=r(15451),s=r(77823),i=r(61072),a=r(51858),u=r(46262),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useSelectorsResponse,o=void 0===r?i.Cr.reactRedux.useSelectorsResponse:r,n=o((function(t){var r,o=t.inventory;return null==o||null===(r=o.hostsGuests)||void 0===r?void 0:r[e]})),l=n.error,s=n.cancelled,a=n.fulfilled,u=n.pending,c=n.data;return{error:l,fulfilled:a,pending:u||s||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getInventory,o=void 0===r?i.Ak.rhsm.getHostsInventoryGuests:r,s=t.useDispatch,u=void 0===s?i.Cr.reactRedux.useDispatch:s,d=t.useProductInventoryQuery,v=void 0===d?a.useProductInventoryGuestsQuery:d,p=t.useSelectorsInventory,y=void 0===p?c:p,f=v({options:{overrideId:e}}),h=u(),S=y(e);return(0,l.Z)((function(){o(e,f)(h)}),[h,e,f]),(0,n.Z)({},S)},v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.useDispatch,l=void 0===n?i.Cr.reactRedux.useDispatch:n,d=r.useSelectorsInventory,v=void 0===d?c:d,p=r.useProductInventoryQuery,y=void 0===p?a.useProductInventoryGuestsQuery:p,f=l(),h=v(e),S=h.pending,I=h.data,g=void 0===I?{}:I,m=(null==g?void 0:g.meta)||{},E=m.count,b=y({options:{overrideId:e}}),O=b[u.O6.LIMIT],Z=b[u.O6.OFFSET];return(0,s.Z)((function(){f([{type:i.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e}])})),function(r){var n=r.target,l=n.scrollHeight-n.scrollTop===n.clientHeight;E>(Z+1)*O&&l&&!S&&("function"==typeof t&&t(r),f([(0,o.Z)({type:i.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[u.O6.OFFSET],viewId:e},u.O6.OFFSET,Z+1),(0,o.Z)({type:i.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[u.O6.LIMIT],viewId:e},u.O6.LIMIT,O)]))}},p={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}}}]);
//# sourceMappingURL=../sourcemaps/5242.6ed4da888f01da881f18ea1a5288bb39.js.map