"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2251,8139,2085],{64418:function(t,e,r){r.r(e),r.d(e,{GraphCardChartLegend:function(){return m},default:function(){return m}});var a=r(92950),n=r.n(a),o=r(73666),i=r(89048),l=r(51858),c=r(61072),u=r(76006),s=r(83109),d=r(1138),m=function(t){var e=t.chart,r=t.datum,a=t.t,l=t.useDispatch,u=t.useSelectors,s=(0,t.useProduct)(),m=s.productLabel,p=s.viewId,h=l(),y=u(r.dataSets.map((function(t){var e=t.id;return function(t){var r;return null===(r=t.graph.legend)||void 0===r?void 0:r["".concat(p,"-").concat(e)]}})));(0,i.Z)((function(){r.dataSets.forEach((function(t,r){var a=t.id;((null==y?void 0:y[r])||e.isToggled(a))&&e.hide(a)}))}));var v=function(t){var r=e.toggle(t);h({type:c.JD.graph.SET_GRAPH_LEGEND,id:"".concat(p,"-").concat(t),value:r})};return n().createElement(n().Fragment,null,r.dataSets.map((function(t,r){var i=t.id,l=t.isThreshold,c=t.stroke,u=t.data,s=!(void 0===u?[]:u).find((function(t){var e=t.y,r=t.hasData;return e>=0&&!0===r||e>=0&&!0===l}))||!1,p=a(["curiosity-graph.label_".concat(l?"threshold":i),"curiosity-graph.label_no"],{product:m,context:m}),h=a("curiosity-graph.legendTooltip".concat(l?"_threshold":"","_").concat(i),{product:m,context:m},[n().createElement("span",{style:{whiteSpace:"nowrap"}})]),f=(null==y?void 0:y[r])||e.isToggled(i),g=n().createElement(o.Button,{onClick:function(){return v(i)},onKeyPress:function(){return v(i)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(i),variant:"link",component:"a",isDisabled:s,icon:(s||f)&&n().createElement(d.ChartIcon,{symbol:"eyeSlash"})||n().createElement(d.ChartIcon,{symbol:l?"dash":"square",style:{visibility:s||f?"hidden":"visible"},fill:c})},p);return h?n().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(i),content:n().createElement("p",null,h),position:o.TooltipPosition.top,enableFlip:!0,distance:5},g):g})))};m.defaultProps={chart:{hide:u.BM.noop,toggle:u.BM.noop,isToggled:u.BM.noop},datum:{dataSets:[]},t:s.translate,useDispatch:c.Cr.reactRedux.useDispatch,useSelectors:c.Cr.reactRedux.useSelectors,useProduct:l.useProduct}},44024:function(t,e,r){r.r(e),r.d(e,{GraphCardChartTooltip:function(){return d},default:function(){return d}});var a=r(92950),n=r.n(a),o=r(51858),i=r(78139),l=r(83109),c=r(1138),u=r(46262),s=r(76006),d=function(t){var e=t.datum,r=t.t,a=t.useProduct,o=t.useProductGraphTallyQuery,l=a(),d=l.productId,m=l.productLabel,p=o()[u.O6.GRANULARITY],h=null,y=[],v=(e||{}).itemsByKey,f=void 0===v?{}:v;return Object.keys(f).reverse().forEach((function(t,e){var a,o,l,u;0===e&&(h=(0,i.getTooltipDate)({date:null===(u=f[t])||void 0===u?void 0:u.data.date,granularity:p}));var s={color:null===(a=f[t])||void 0===a?void 0:a.color};if("threshold"===(null===(o=f[t])||void 0===o?void 0:o.chartType)){var v,g,E,b=null!==(v=null===(g=f[t])||void 0===g?void 0:g.data.y)&&void 0!==v?v:r("curiosity-graph.label_noData");null!==(E=f[t])&&void 0!==E&&E.data.hasInfinite&&(b=s.color?n().createElement(c.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),s.label=r("curiosity-graph.label_threshold"),s.value=b}else{var T,S,k=!1===(null===(T=f[t])||void 0===T?void 0:T.data.hasData)&&r("curiosity-graph.label_noData")||(null===(S=f[t])||void 0===S?void 0:S.data.y)||0;s.label=r("curiosity-graph.label_".concat(t),{context:d,product:m}),s.value=k}s.chartType=null===(l=f[t])||void 0===l?void 0:l.chartType,y.push(s)})),n().createElement("div",{className:"curiosity-usage-graph__tooltip"},n().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},y.length&&h&&n().createElement("thead",null,n().createElement("tr",null,n().createElement("th",{colSpan:2},h)))||null,y.length&&n().createElement("tbody",null,y.map((function(t){var e,r,a="number"==typeof t.value&&!Number.isInteger(t.value)&&(null===(e=s.BM.numberDisplay(t.value))||void 0===e||null===(r=e.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||t.value;return n().createElement("tr",{key:"tooltip-".concat(t.label)},n().createElement("th",null,"threshold"===t.chartType&&n().createElement(c.ChartIcon,{size:"sm",symbol:"dash",fill:t.color||"transparent"}),"threshold"!==t.chartType&&n().createElement(c.ChartIcon,{size:"sm",fill:t.color||"transparent"})," ",t.label),n().createElement("td",null,a))})))||null),!y.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};d.defaultProps={datum:{},t:l.translate,useProduct:o.useProduct,useProductGraphTallyQuery:o.useProductGraphTallyQuery}},78139:function(t,e,r){r.r(e),r.d(e,{default:function(){return f},generateChartSettings:function(){return d},generateExtendedChartSettings:function(){return v},getChartXAxisLabelIncrement:function(){return m},getTooltipDate:function(){return p},graphCardHelpers:function(){return f},xAxisTickFormat:function(){return h},yAxisTickFormat:function(){return y}});var a=r(1413),n=r(45987),o=r(30381),i=r.n(o),l=r(48651),c=r(30446),u=r(76006),s=["id","isStandalone","isThreshold"],d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],r=[];return t.forEach((function(t){var o=t.id,i=t.isStandalone,c=void 0!==i&&i,u=t.isThreshold,d=void 0!==u&&u,m=(0,n.Z)(t,s);if(o){var p={id:o,isStacked:!d,isStandalone:c,isThreshold:d,strokeWidth:2};d&&(p.stroke=l.chart_color_green_300.value,p.strokeDasharray="4,3",p.strokeWidth=3),c?e.push((0,a.Z)((0,a.Z)({},p),m)):r.push((0,a.Z)((0,a.Z)({},p),m))}})),{standaloneFilters:e,groupedFilters:r}},m=function(t){switch(t){case c.U9.DAILY:return 5;case c.U9.WEEKLY:case c.U9.MONTHLY:return 2;case c.U9.QUARTERLY:default:return 1}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.date,r=t.granularity,a=i().utc(e);switch(r){case c.U9.QUARTERLY:return"".concat(a.format(u.i3.timestampQuarterFormats.yearShort)," - ").concat(a.add(1,"quarter").format(u.i3.timestampQuarterFormats.yearShort));case c.U9.MONTHLY:return a.format(u.i3.timestampMonthFormats.yearLong);case c.U9.WEEKLY:return"".concat(a.format(u.i3.timestampDayFormats.short)," - ").concat(a.add(1,"week").format(u.i3.timestampDayFormats.yearShort));case c.U9.DAILY:default:return a.format(u.i3.timestampDayFormats.long)}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,r=t.date,a=t.granularity,n=t.tick,o=t.previousDate;if(r&&a){if(e)return e({callback:e,date:r,granularity:a,tick:n,previousDate:o});var l,s=i().utc(r),d=0!==n&&Number.parseInt(s.year(),10)!==Number.parseInt(i().utc(o).year(),10);switch(a){case c.U9.QUARTERLY:l=(l=d?s.format(u.i3.timestampQuarterFormats.yearShort):s.format(u.i3.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case c.U9.MONTHLY:l=(l=d?s.format(u.i3.timestampMonthFormats.yearShort):s.format(u.i3.timestampMonthFormats.short)).replace(/\s/,"\n");break;case c.U9.WEEKLY:case c.U9.DAILY:default:l=(l=d?s.format(u.i3.timestampDayFormats.yearShort):s.format(u.i3.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return l}},y=function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.callback,n=r.tick;return a?a({tick:n}):null===(t=u.BM.numberDisplay(n))||void 0===t||null===(e=t.format({average:!0,mantissa:1,trimMantissa:!0,lowPrecision:!1}))||void 0===e?void 0:e.toUpperCase()},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.settings,r=t.granularity;return(0,a.Z)((0,a.Z)({},e),{},{xAxisLabelIncrement:m(r),xAxisTickFormat:function(t){var a=t.item,n=t.previousItem,o=t.tick;return h({callback:null==e?void 0:e.xAxisTickFormat,tick:o,date:a.date,previousDate:n.date,granularity:r})},yAxisTickFormat:function(t){var r=t.tick;return y({callback:null==e?void 0:e.yAxisTickFormat,tick:r})}})},f={generateChartSettings:d,generateExtendedChartSettings:v,getChartXAxisLabelIncrement:m,getTooltipDate:p,xAxisTickFormat:h,yAxisTickFormat:y}},44059:function(t,e,r){r.r(e),r.d(e,{ProductViewOpenShiftContainer:function(){return k},default:function(){return k}});var a=r(92950),n=r.n(a),o=r(73666),i=r(31369),l=r(3281),c=r(51858),u=r(52422),s=r(30446),d=r(61072),m=r(28341),p=r(49844),h=r(74097),y=r(2738),v=r(65876),f=r(92227),g=r(88191),E=r(16696),b=r(69051),T=r(83109),S=r(76006),k=function(t){var e=t.t,r=(0,t.useRouteDetail)(),a=r.productParameter,l=r.productConfig,T=d.Cr.reactRedux.useSelector((function(t){var e,r;return null===(e=t.view.query)||void 0===e||null===(r=e[l[0].viewId])||void 0===r?void 0:r[s.VN.UOM]}),null);return n().createElement(u.PageLayout,null,n().createElement(u.PageHeader,{productLabel:a},e("curiosity-view.title",{appName:S.BM.UI_DISPLAY_NAME,context:a})),n().createElement(u.PageColumns,null,l.map((function(t){return function(t,r){var a=t.productContextFilterUom,l=t.query,T=void 0===l?{}:l,k=t.graphTallyQuery,I=void 0===k?{}:k,_=t.inventoryHostsQuery,D=void 0===_?{}:_,x=t.inventorySubscriptionsQuery,P=void 0===x?{}:x,F=t.initialGuestsFilters,C=void 0===F?[]:F,L=t.initialInventoryFilters,U=void 0===L?[]:L,A=t.initialInventorySettings,w=void 0===A?{}:A,M=t.initialSubscriptionsInventoryFilters,N=t.productId,Q=t.viewId;if(!N||!Q)return null;var R,H=d.IT.parseRhsmQuery(T,{graphTallyQuery:I,inventoryHostsQuery:D,inventorySubscriptionsQuery:P}),Y=H.graphTallyQuery,O=H.inventoryHostsQuery,B=U;a&&(R=r||T[s.VN.UOM],B=U.filter((function(t){var e=t.id;return!t.isOptional||new RegExp(R,"i").test(e)})));var G=n().createElement(n().Fragment,null,e("curiosity-graph.cardHeading",{context:N}),n().createElement(o.Tooltip,{content:n().createElement("p",null,e("curiosity-graph.cardHeadingDescription",{context:N})),position:o.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},n().createElement("sup",{className:"curiosity-icon__info"},n().createElement(i.ZP,null))));return n().createElement(c.ProductViewContext.Provider,{value:t,key:"product_".concat(N,"_").concat(R)},n().createElement(u.PageToolbar,null,n().createElement(f.Toolbar,null)),n().createElement(u.PageSection,null,n().createElement(m.default,{key:"graph_".concat(N),query:Y,productId:N,viewId:Q,cardTitle:G},N===s.wc.OPENSHIFT&&R&&n().createElement(h.ToolbarFieldUom,{position:p.SelectPosition.right}),N===s.wc.OPENSHIFT&&n().createElement(y.ToolbarFieldGranularity,{position:p.SelectPosition.right}),N===s.wc.OPENSHIFT_METRICS&&n().createElement(v.ToolbarFieldRangedMonthly,{position:p.SelectPosition.right}))),n().createElement(u.PageSection,null,n().createElement(b.default,{key:"inventory_".concat(N),productId:N},n().createElement(b.InventoryTab,{key:"inventory_hosts_".concat(N),title:e("curiosity-inventory.tabHosts",{context:["noInstances",N]})},n().createElement(g.default,{key:"inv_".concat(N),filterGuestsData:C,filterInventoryData:B,productId:N,settings:w,query:O,viewId:Q})),!S.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&M&&n().createElement(b.InventoryTab,{key:"inventory_subs_".concat(N),title:e("curiosity-inventory.tabSubscriptions",{context:N})},n().createElement(E.default,null)))))}(t,T)}))))};k.defaultProps={t:T.translate,useRouteDetail:l.Tu}}}]);
//# sourceMappingURL=../sourcemaps/2251.66f309d2ed1adab540f6dc633774b5a4.js.map