"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[5242,2243],{12243:function(e,t,r){r.r(t),r.d(t,{applyConfigProperty:function(){return y},applyHeaderRowCellFilters:function(){return v},applySortFilters:function(){return S},applyWrappableFilters:function(){return I},default:function(){return O},inventoryCardHelpers:function(){return O},parseInventoryFilters:function(){return g},parseRowCellsListData:function(){return h}});var n=r(92950),o=r.n(n),s=r(40227),l=r(68929),i=r.n(l),u=r(68630),a=r.n(u),c=r(3969),f=r(83109),d=r(46262),p=r(76006);const y=function(e){let{params:t=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if("function"==typeof e&&(r=e(...Array.isArray(t)&&t||[t])),"string"==typeof r||"number"==typeof r||o().isValidElement(r))return r},v=function(){let{filters:e=[],cellData:t={},meta:r={},productId:n,session:l={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=[],u=[];return e.forEach((e=>{let{isStandalone:d,id:v,cell:S,cellWidth:I,header:g,onSort:h,showEmptyCell:O=!0,sortId:m,sortActive:b,sortDirection:E,transforms:D}=e;const G={title:(0,f.translate)("curiosity-inventory.header",{context:[v,n]}),transforms:[]},T={title:""};var R,C,P,_;if(t[v])G.title=null!==(R=null===(C=t[v])||void 0===C?void 0:C.title)&&void 0!==R?R:v,T.title=null!==(P=null===(_=t[v])||void 0===_?void 0:_.value)&&void 0!==P?P:"";else if(!0===d)G.title="",T.title="";else if((p.helpers.DEV_MODE||p.helpers.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(v,'" not found in "table row" response data.'),t),!1===O)return;if(g){const e=y(g,{params:[{...t},{...l},{...r}]});if(e?G.title=e:a()(g)&&Object.assign(G,{...g}),g.tooltip&&G.title){const e=y(g.tooltip,{params:[{...t},{...l},{...r}]});e&&(G.title=o().createElement(c.Tooltip,{content:e},G.title)),delete G.tooltip}}if(Array.isArray(G.transforms)&&(Array.isArray(D)&&(G.transforms=G.transforms.concat([...D])),"number"==typeof I&&G.transforms.push((0,s.cellWidth)(I))),"function"==typeof h&&(G.onSort=e=>h({...t},{...e,id:m||v}),G.sortActive=b,G.sortDirection=E),S){const e=y(S,{params:[{...t},{...l},{...r}]});if(e?T.title=e:a()(S)&&Object.assign(T,{...S}),S.tooltip&&T.title){const e=y(S.tooltip,{params:[{...t},{...l},{...r}]});e&&(T.title=o().createElement(c.Tooltip,{content:e},T.title)),delete T.tooltip}}i.push(G),u.push(T)})),{headerCells:i,bodyCells:u}},S=function(){let{filter:e={},onSort:t,query:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:n,sortId:o}=e,l=o||n,u={...e},a=u.onSort||t;return!u.onSort&&t&&(u.onSort=t),a&&"boolean"!=typeof u.sortActive&&null!=r&&r[d.O6.SORT]&&((null==r?void 0:r[d.O6.SORT])===l||i()(null==r?void 0:r[d.O6.SORT])===l)&&(u.sortActive=!0),a&&!u.sortDirection&&null!=r&&r[d.O6.DIRECTION]&&((null==r?void 0:r[d.O6.DIRECTION])===d.PQ.DESCENDING?u.sortDirection=s.SortByDirection.desc:u.sortDirection=s.SortByDirection.asc),!a||u.sortActive||null!=r&&r[d.O6.SORT]||!0!==u.isSortDefault||(u.sortActive=!0,u.sortDefaultInitialDirection&&(u.sortDirection=u.sortDefaultInitialDirection)),u},I=function(){let{filter:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...e};return Array.isArray(t.transforms)?t.transforms.push(s.wrappable):t.transforms=[s.wrappable],t},g=function(){let{filters:e=[],onSort:t,query:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[...e].map((e=>{const n={...e};return n.isSortable&&Object.assign(n,S({filter:n,onSort:t,query:r})),n.isWrappable&&Object.assign(n,I({filter:n})),n}))},h=function(){let{filters:e=[],cellData:t={},meta:r={},productId:n,session:o={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=[],l=[],i={};if(Object.entries(t).forEach((e=>{let[t,r=""]=e;i[t]={title:(0,f.translate)("curiosity-inventory.header",{context:[t,n]}),value:r},s.push(i[t].title),l.push(r||"...")})),null!=e&&e.length&&Object.keys(i).length){s.length=0,l.length=0;const{headerCells:t=[],bodyCells:u=[]}=v({filters:e,cellData:i,meta:r,productId:n,session:o});s.push(...t),l.push(...u)}return{columnHeaders:s,cells:l,data:{...i}}},O={applyConfigProperty:y,applyHeaderRowCellFilters:v,applySortFilters:S,applyWrappableFilters:I,parseInventoryFilters:g,parseRowCellsListData:h}},15242:function(e,t,r){r.r(t),r.d(t,{InventoryGuests:function(){return v},default:function(){return v}});var n=r(92950),o=r.n(n),s=r(45697),l=r.n(s),i=r(40227),u=r(98944),a=r(51858),c=r(1797),f=r(12243),d=r(46262),p=r(78697),y=r(23385);const v=e=>{let{defaultPerPage:t,id:r,numberOfGuests:n,useGetGuestsInventory:s,useOnScroll:l,useProductInventoryGuestsQuery:u,useProductInventoryGuestsConfig:a,useSession:y}=e;const v=y(),{filters:S}=a(),{pending:I,data:g=[]}=s(r),h=l(r),O=u({options:{overrideId:r}}),{[d.O6.OFFSET]:m}=O;let b=[];const E=g.map((e=>{let{...t}=e;const{columnHeaders:r,cells:n}=f.inventoryCardHelpers.parseRowCellsListData({filters:S,cellData:t,session:v});return b=r,{cells:n}}));let D=42*(n+1);return D=D<275&&D||275,o().createElement("div",{className:"fadein"},o().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(D,"px")}},o().createElement("div",{className:"curiosity-table-scroll-list".concat(D<275?"__no-scroll":""),onScroll:h},(e=>{if(I){let r=0;e&&(r=n<t?n:t);const s=o().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:e?"curiosity-guests-list":void 0,colCount:(null==S?void 0:S.length)||(null==g?void 0:g[0])&&Object.keys(g[0]).length||1,colWidth:(null==S?void 0:S.length)&&S.map((e=>{let{cellWidth:t}=e;return t}))||[],rowCount:r,variant:i.TableVariant.compact}});return o().createElement("div",{className:"curiosity-table-scroll-loader__custom"},s)}return null})(0===m),E.length&&o().createElement(p.Table,{borders:!1,variant:i.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:b,rows:E})||null)))};v.propTypes={defaultPerPage:l().number,id:l().string.isRequired,numberOfGuests:l().number.isRequired,useGetGuestsInventory:l().func,useOnScroll:l().func,useProductInventoryGuestsConfig:l().func,useProductInventoryGuestsQuery:l().func,useSession:l().func},v.defaultProps={defaultPerPage:5,useGetGuestsInventory:y.useGetGuestsInventory,useOnScroll:y.useOnScroll,useProductInventoryGuestsConfig:a.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:a.useProductInventoryGuestsQuery,useSession:u.useSession}},23385:function(e,t,r){r.r(t),r.d(t,{context:function(){return p},default:function(){return p},useGetGuestsInventory:function(){return f},useOnScroll:function(){return d},useSelectorsGuestsInventory:function(){return c}});var n=r(92950),o=r(17297),s=r(62179),l=r(18127),i=r(82410),u=r(51858),a=r(46262);const c=function(e){let{useSelectorsResponse:t=i.Cr.reactRedux.useSelectorsResponse}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{error:r,cancelled:n,fulfilled:o,pending:s,data:l}=t((t=>{var r;let{inventory:n}=t;return null==n||null===(r=n.instancesGuests)||void 0===r?void 0:r[e]}));return{error:r,fulfilled:o,pending:s||n||!1,data:1===(null==l?void 0:l.length)&&l[0]||l||{}}},f=function(e){let{getInventory:t=i.Ak.rhsm.getInstancesInventoryGuests,useDispatch:r=i.Cr.reactRedux.useDispatch,useProductInventoryQuery:l=u.useProductInventoryGuestsQuery,useSelectorsInventory:a=c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[f,d]=(0,n.useState)([]),p=l({options:{overrideId:e}}),y=r(),{data:v={},fulfilled:S=!1,...I}=a(e),{data:g=[]}=v;return(0,o.Z)((()=>{t(e,p)(y)}),[y,e,p]),(0,s.Z)((()=>{S&&d((e=>[...e,...g]))}),[S,g]),{data:f,fulfilled:S,...I}},d=function(e){let{useDispatch:t=i.Cr.reactRedux.useDispatch,useSelectorsInventory:r=c,useProductInventoryQuery:o=u.useProductInventoryGuestsQuery}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=t(),{pending:f,data:d={}}=r(e),{count:p}=(null==d?void 0:d.meta)||{},y=o({options:{overrideId:e}}),{[a.O6.LIMIT]:v,[a.O6.OFFSET]:S}=y;return I=()=>{s([{type:i.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e},{type:i.JD.inventory.CLEAR_INVENTORY_GUESTS,id:e}])},(g=(0,n.useRef)(I)).current=I,(0,l.Z)((function(){return function(){return g.current()}})),t=>{const{target:r}=t,n=r.scrollHeight-r.scrollTop===r.clientHeight;p>S+v&&n&&!f&&s([{type:i.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[a.O6.OFFSET],viewId:e,[a.O6.OFFSET]:S+v},{type:i.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[a.O6.LIMIT],viewId:e,[a.O6.LIMIT]:v}])};var I,g},p={useGetGuestsInventory:f,useOnScroll:d,useSelectorsGuestsInventory:c}},38252:function(e){e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;0!=o--;){var l=s[o];if(!("_owner"===l&&t.$$typeof||e(t[l],r[l])))return!1}return!0}return t!=t&&r!=r}},62179:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(37124),o=r(38252),s=r.n(o)(),l=function(e,t){(0,n.Z)(e,t,s)}}}]);
//# sourceMappingURL=../sourcemaps/5242.00c9ca7d01e392d98ca99ad42fe22e2d.js.map