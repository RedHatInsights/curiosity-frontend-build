"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[939,1858,5394,9942],{99171:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l,GraphCardChartTitleTooltip:()=>l});var i=r(92950),n=r.n(i),o=r(61603),u=r(1313),s=r(51858),a=r(25394),d=r(83109),l=function(t){var e=t.t,r=t.useGraphCardContext,i=(0,t.useProduct)().productId,s=r().settings,a=void 0===s?{}:s,d=a.isCardTitleDescription,l=a.metric,c=(null==l?void 0:l.id)&&"_".concat(null==l?void 0:l.id)||"";return d?n().createElement(o.Tooltip,{content:n().createElement("p",null,e("curiosity-graph.cardHeadingDescription".concat(c),{context:i})),position:o.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},n().createElement("span",{className:"curiosity-icon__question"},n().createElement(u.OutlinedQuestionCircleIcon,null))):null};l.defaultProps={t:d.translate,useProduct:s.useProduct,useGraphCardContext:a.useGraphCardContext}},25394:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p,context:()=>p,GraphCardContext:()=>d,DEFAULT_CONTEXT:()=>a,useGetGraphTally:()=>c,useGraphCardContext:()=>l,useMetricsSelector:()=>v});var i=r(18489),n=r(92950),o=r.n(n),u=r(186),s=r(51858),a=[{settings:{isStandalone:!1,metrics:[],metric:void 0}},r(62834).B.noop],d=o().createContext(a),l=function(){return(0,n.useContext)(d)},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useDispatch,r=void 0===e?u.Cr.reactRedux.useDispatch:e,i=t.useProductGraphTallyQuery,n=void 0===i?s.useProductGraphTallyQuery:i,o=n(),a=r();return function(t){return u.Ak.rhsm.getGraphTally(t,o)(a)}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useGraphCardContext,r=void 0===e?l:e,n=t.useSelectors,o=void 0===n?u.Cr.reactRedux.useSelectors:n,a=t.useProduct,d=void 0===a?s.useProduct:a,c=d(),v=c.productId,p=r(),y=p.settings,C=void 0===y?{}:y,h=C.metrics,f=void 0===h?[]:h,T={},g=o(f.map((function(t){var e=t.id;return function(t){var r;return null===(r=t.graph.tally)||void 0===r?void 0:r["".concat(v,"_").concat(e)]}})),[]),P=!1,S=!1,I=0,x=g.map((function(t,e){var r,n,o=t||{},u=o.pending,s=o.fulfilled,a=o.error,d=o.cancelled;!(!u&&!d)&&(P=!0),s&&(S=!0),a&&(I+=1);var l=(0,i.Z)((0,i.Z)({},f[e]),{},{data:(null==t||null===(r=t.data)||void 0===r?void 0:r.data)||[],meta:(null==t||null===(n=t.data)||void 0===n?void 0:n.meta)||{}});return T[f[e].id]=l,l})),G={data:T,dataSets:x,error:!1,fulfilled:!1,pending:!1};return I===x.length?G.error=!0:P?G.pending=!0:S&&(G.fulfilled=!0),G},p={GraphCardContext:d,DEFAULT_CONTEXT:a,useGetGraphTally:c,useGraphCardContext:l,useMetricsSelector:v}},51858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Q,context:()=>Q,ProductViewContext:()=>p,DEFAULT_CONTEXT:()=>v,useProductContext:()=>S,useProductQuery:()=>h,useProductQueryFactory:()=>C,useProductGraphTallyQuery:()=>f,useProductInventoryGuestsQuery:()=>T,useProductInventoryHostsQuery:()=>g,useProductInventorySubscriptionsQuery:()=>P,useProduct:()=>I,useProductGraphConfig:()=>x,useProductInventoryHostsConfig:()=>G,useProductInventorySubscriptionsConfig:()=>_,useProductToolbarConfig:()=>E});var i=r(83738),n=r(18489),o=r(92950),u=r.n(o),s=r(12723),a=r(1798),d=r(30446),l=r(62834),c=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],v=[{},l.B.noop],p=u().createContext(v),y=function(){return(0,o.useContext)(p)},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useProductViewContext,i=void 0===r?y:r,o=i(),u=o[t],s=o.productId,d=o.viewId,l=a.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[s]}),void 0),c=a.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[d]}),void 0);return(0,n.Z)((0,n.Z)((0,n.Z)({},u),l),c)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,i=t.options;return C(r,i)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,i=t.schemaCheck,o=void 0===i?d.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},h()),C(r,u)),o)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryGuestsQuery":e,i=t.schemaCheck,o=void 0===i?d.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},h()),C(r,u)),o)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,i=t.schemaCheck,o=void 0===i?d.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},h()),C(r,u)),o)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,i=t.schemaCheck,o=void 0===i?d.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},h()),C(r,u)),o)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?h:e,u=t.useProductViewContext,s=void 0===u?y:u,a=r(),l=a[d.VN.UOM],v=s(),p=v.initialGraphFilters,C=void 0===p?[]:p,f=v.initialInventoryFilters,T=void 0===f?[]:f,g=v.initialSubscriptionsInventoryFilters,P=void 0===g?[]:g,S=v.productContextFilterUom,I=(0,i.Z)(v,c),x=(0,o.useCallback)((function(){if(!0===S){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,n.Z)((0,n.Z)({},I),{},{initialGraphFilters:C.filter(t),initialInventoryFilters:T.filter(t),initialSubscriptionsInventoryFilters:P.filter(t)})}return(0,n.Z)((0,n.Z)({},I),{},{initialGraphFilters:C,initialInventoryFilters:T,initialSubscriptionsInventoryFilters:P})}),[I,C,T,P,S,l]);return x()},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?y:e,i=r(),n=i.productGroup,o=i.productId,u=i.productLabel,s=i.viewId;return{productGroup:n,productId:o,productLabel:u,viewId:s}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialGraphFilters,o=i.initialGraphSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialInventoryFilters,o=i.initialInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialSubscriptionsInventoryFilters,o=i.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?S:e,i=r(),n=i.initialToolbarFilters,o=i.initialToolbarSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},Q={ProductViewContext:p,DEFAULT_CONTEXT:v,useProductContext:S,useQuery:h,useQueryFactory:C,useGraphTallyQuery:f,useInventoryGuestsQuery:T,useInventoryHostsQuery:g,useInventorySubscriptionsQuery:P,useProduct:I,useGraphConfig:x,useInventoryHostsConfig:G,useInventorySubscriptionsConfig:_,useToolbarConfig:E}}}]);
//# sourceMappingURL=../sourcemaps/939.798370fa108e694578c92c9103767dd7.js.map