"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[6876,3056,9517],{63056:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I,ConnectedGuestsList:()=>I,GuestsList:()=>g});var r=n(1252),a=n(15274),s=n(56949),i=n(90237),o=n(65337),l=n(39576),u=n(80239),c=n(92950),d=n.n(c),p=n(86445),v=n(76006),y=n(186),f=n(1797),m=n(44822),h=n(30446),E=n(78697),g=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).state={currentPage:0,limit:100,previousData:[]},e.onUpdateGuestsData=function(){var t=e.state,n=t.currentPage,r=t.limit,i=e.props,o=i.getHostsInventoryGuests,l=i.query,u=i.id;if(u){var c,d=(0,s.Z)((0,s.Z)({},l),{},(c={},(0,a.Z)(c,h.VN.LIMIT,r),(0,a.Z)(c,h.VN.OFFSET,n*r||0),c));o(u,y.IT.parseRhsmQuery(d).inventoryGuestsQuery)}},e.onScroll=function(t){var n=t.target,a=e.state,s=a.currentPage,i=a.limit,o=a.previousData,l=e.props,u=l.numberOfGuests,c=l.pending,d=l.listData,p=n.scrollHeight-n.scrollTop===n.clientHeight;if(u>(s+1)*i&&p&&!c){var v=s+1,y=[].concat((0,r.Z)(o),(0,r.Z)(d||[]));e.setState({previousData:y,currentPage:v})}},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(e,t){this.state.currentPage!==t.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var e=this.state.currentPage,t=this.props,n=t.filterGuestsData,r=t.listData,a=t.pending;if(e>0&&a){var s=d().createElement(f.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==n?void 0:n.length)||(null==r?void 0:r[0])&&Object.keys(r[0]).length||1,colWidth:(null==n?void 0:n.length)&&n.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:p.TableVariant.compact}});return d().createElement("div",{className:"curiosity-table-scroll-loader__custom"},s)}return null}},{key:"renderTable",value:function(){var e=this.state.previousData,t=this.props,n=t.filterGuestsData,a=t.listData,s=t.numberOfGuests,i=t.session,o=[],l=[].concat((0,r.Z)(e),(0,r.Z)(a||[])).map((function(e){var t=Object.assign({},e),r=m.inventoryListHelpers.parseRowCellsListData({filters:n,cellData:t,session:i}),a=r.columnHeaders,s=r.cells;return o=a,{cells:s}})),u=42*(s+1);return u=u<275&&u||275,d().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(u,"px")}},d().createElement("div",{className:"curiosity-table-scroll-list".concat(u<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),l.length&&d().createElement(E.Table,{borders:!1,variant:p.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:o,rows:l})||null))}},{key:"render",value:function(){var e=this.state.currentPage,t=this.props,n=t.error,r=t.filterGuestsData,a=t.listData,s=t.numberOfGuests,i=t.pending,o=t.perPageDefault;return d().createElement("div",{className:"fadein ".concat(n?"blur":"")},i&&0===e&&d().createElement(f.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==r?void 0:r.length)||(null==a?void 0:a[0])&&Object.keys(a[0]).length||1,colWidth:(null==r?void 0:r.length)&&r.map((function(e){return e.cellWidth}))||[],rowCount:s<o?s:o,variant:p.TableVariant.compact}}),(!i&&0===e||e>0)&&this.renderTable())}}]),n}(d().Component);g.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:v.BM.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var D=y.R1.guestsList.makeGuestsList(),I=(0,y.$j)(D,(function(e){return{getHostsInventoryGuests:function(t,n){return e(y.Ak.rhsm.getHostsInventoryGuests(t,n))}}}))(g)},86876:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M,ConnectedInventoryList:()=>M,InventoryList:()=>O});var r=n(56949),a=n(15274),s=n(90237),i=n(65337),o=n(39576),l=n(80239),u=n(92950),c=n.n(u),d=n(18446),p=n.n(d),v=n(86445),y=n(21012),f=n(32875),m=n(68929),h=n.n(m),E=n(76006),g=n(186),D=n(78697),I=n(1797),N=n(91339),b=n(63056),_=n(44822),S=n(68900),T=n(89517),P=n(65020),H=n(30446),C=n(83109),O=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onColumnSort=function(t,n){var r,s=n.direction,i=n.id,o=e.props.productId,l=Object.values(H.Nf).find((function(e){return h()(e)===i}));if(l){switch(s){case v.SortByDirection.desc:r=H.hb.DESCENDING;break;default:r=H.hb.ASCENDING}g.h.dispatch([(0,a.Z)({type:g.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[H.VN.DIRECTION],viewId:o},H.VN.DIRECTION,r),(0,a.Z)({type:g.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[H.VN.SORT],viewId:o},H.VN.SORT,l)])}else(E.BM.DEV_MODE||E.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(i," is allowed."))},e.onPage=function(t){var n=t.offset,r=t.perPage,s=e.props.productId;g.h.dispatch([(0,a.Z)({type:g.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[H.VN.OFFSET],viewId:s},H.VN.OFFSET,n),(0,a.Z)({type:g.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[H.VN.LIMIT],viewId:s},H.VN.LIMIT,r)])},e.onUpdateInventoryData=function(){var t=e.props,n=t.getHostsInventory,r=t.isDisabled,a=t.productId,s=t.query;!r&&a&&n(a,s)},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.productId,r=t.query;n===e.productId&&p()(r,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,n=t.filterGuestsData,a=t.filterInventoryData,s=t.listData,i=t.query,o=t.session,l=t.settings,u=[],d=s.map((function(t){var s=Object.assign({},t),d=_.inventoryListHelpers.parseRowCellsListData({filters:_.inventoryListHelpers.parseInventoryFilters({filters:a,onSort:e.onColumnSort,query:i}),cellData:s,session:o}),p=d.columnHeaders,v=d.cells;u=p;var y=null==s?void 0:s.subscriptionManagerId,f=(null==s?void 0:s.numberOfGuests)>0&&y;return"function"==typeof(null==l?void 0:l.hasGuests)&&(f=l.hasGuests((0,r.Z)({},s),(0,r.Z)({},o))),{cells:v,expandedContent:f&&c().createElement(b.default,{key:y,filterGuestsData:n,numberOfGuests:null==s?void 0:s.numberOfGuests,id:y,query:i})||void 0}}));return c().createElement(D.default,{borders:!0,variant:v.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:u,rows:d})}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.filterInventoryData,r=e.fulfilled,a=e.isDisabled,s=e.itemCount,i=e.listData,o=e.pending,l=e.perPageDefault,u=e.query,d=e.t,p=e.viewId;if(a)return c().createElement(y.Card,{className:"curiosity-inventory-card__disabled"},c().createElement(y.CardBody,null,c().createElement(y.Bullseye,null,d("curiosity-inventory.tab",{context:"disabled"}))));var m=u[H.VN.LIMIT]||l,h=u[H.VN.OFFSET],E=P.paginationHelpers.isLastPage(h,m,s),g=!0===r&&s<m&&"bodyMinHeight-".concat(m,"-resize")||!0===r&&E&&"bodyMinHeight-".concat(m,"-resize")||!0===t&&"bodyMinHeight-".concat(m,"-resize")||"bodyMinHeight-".concat(m);return c().createElement(y.Card,{className:"curiosity-inventory-card"},c().createElement(N.MinHeight,{key:"headerMinHeight",updateOnContent:!0},c().createElement(y.CardHeader,{className:t?"hidden":"","aria-hidden":t||!1},c().createElement(y.CardHeaderMain,null,c().createElement(T.ToolbarFieldDisplayName,{viewId:p})),c().createElement(y.CardActions,{className:s?"":"transparent","aria-hidden":!s||!1},c().createElement(S.default,{isCompact:!0,isDisabled:o||t,itemCount:s,offset:h,onPage:this.onPage,onPerPage:this.onPage,perPage:m})))),c().createElement(N.MinHeight,{key:g,updateOnContent:!0},c().createElement(y.CardBody,null,c().createElement("div",{className:(t?"blur":o&&"fadein")||""},o&&c().createElement(I.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==n?void 0:n.length)||(null==i?void 0:i[0])&&Object.keys(i[0]).length||1,colWidth:(null==n?void 0:n.length)&&n.map((function(e){return e.cellWidth}))||[],rowCount:(null==i?void 0:i.length)||m,variant:v.TableVariant.compact}}),!o&&this.renderTable()))),c().createElement(N.MinHeight,{key:"footerMinHeight",updateOnContent:!0},c().createElement(y.CardFooter,{className:(t?"hidden":!s&&"transparent")||"","aria-hidden":t||!s||!1},c().createElement(f.Z,{isFooter:!0},c().createElement(S.default,{dropDirection:"up",isDisabled:o||t,itemCount:s,offset:h,onPage:this.onPage,onPerPage:this.onPage,perPage:m})))))}}]),n}(c().Component);O.defaultProps={error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getHostsInventory:E.BM.noop,isDisabled:E.BM.UI_DISABLED_TABLE_HOSTS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},settings:{},t:C.translate,viewId:"inventoryList"};var L=g.R1.inventoryList.makeInventoryList(),M=(0,g.$j)(L,(function(e){return{getHostsInventory:function(t,n){return e(g.Ak.rhsm.getHostsInventory(t,n))}}}))(O)},89517:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y,ToolbarFieldDisplayName:()=>y});var r=n(15274),a=n(92950),s=n.n(a),i=n(21012),o=n(23279),l=n.n(o),u=n(186),c=n(51858),d=n(18710),p=n(30446),v=n(83109),y=function(e){var t=e.t,n=e.useDispatch,a=e.useProduct,o=e.useProductInventoryHostsQuery,c=a().viewId,v=o()[p.VN.DISPLAY_NAME],y=n(),f=function(e){return y([{type:u.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:c},(0,r.Z)({type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.VN.DISPLAY_NAME],viewId:c},p.VN.DISPLAY_NAME,(null==e?void 0:e.trim())||null)])},m=l()(f,700);return s().createElement(i.InputGroup,null,s().createElement(d.TextInput,{"aria-label":t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:function(){""!==v&&v&&y([{type:u.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:c},(0,r.Z)({type:u.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.VN.DISPLAY_NAME],viewId:c},p.VN.DISPLAY_NAME,null)])},onKeyUp:function(e){switch(e.keyCode){case 13:f(e.value);break;case 27:break;default:m(e.value)}},value:v,placeholder:t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),"data-test":"toolbarFieldDisplayName"}))};y.defaultProps={t:v.translate,useDispatch:u.Cr.reactRedux.useDispatch,useProduct:c.useProduct,useProductInventoryHostsQuery:c.useProductInventoryHostsQuery}}}]);
//# sourceMappingURL=../sourcemaps/6876.c39a67edb55b50a84abf8feac926d5ad.js.map