"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[9175,7585],{87585:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g,BannerMessages:()=>g});var r=n(15274),a=n(56949),i=n(48418),o=n(92950),l=n.n(o),s=n(21012),u=n(91999),c=n(15451),y=n(186),d=n(83109),p=n(76006),m=n(30446),v=n(3281),g=function(e){var t,n=e.messages,u=e.useRouteDetail,d=e.useAppMessages,v=(0,o.useState)({}),g=(0,i.Z)(v,2),E=g[0],I=g[1],f=(0,o.useState)([]),h=(0,i.Z)(f,2),b=h[0],_=h[1],T=u()||{},A=T.pathParameter,C=T.productConfig,D=1===(null==C?void 0:C.length)&&(null==C?void 0:C[0]),M=y.IT.parseRhsmQuery((null==C||null===(t=C[0])||void 0===t?void 0:t.query)||{}).query,P=d().appMessages;return(0,c.Z)((function(){if(A&&D){var e,t=p.i3.getRangedDateTime("CURRENT"),n=t.startDate,i=t.endDate,o=(0,a.Z)((0,a.Z)({},M),{},(e={},(0,r.Z)(e,m.VN.GRANULARITY,m.U9.DAILY),(0,r.Z)(e,m.VN.START_DATE,n.toISOString()),(0,r.Z)(e,m.VN.END_DATE,i.toISOString()),e));y.Cr.rhsmActions.useGetMessageReports(A,o)}}),[A,D,M]),(0,c.Z)((function(){var e=[];n.length&&Object.entries(P).forEach((function(t){var r=(0,i.Z)(t,2),o=r[0],l=r[1];if(!0!==E[o]&&!0===l){var s=n.find((function(e){return e.id===o}));s&&e.push((0,a.Z)({key:o},s))}})),_(e.map((function(e){var t=e.key,n=e.message,i=e.title,o=e.variant,u=void 0===o?s.AlertVariant.info:o,c=l().createElement(s.AlertActionCloseButton,{onClose:function(){return I((0,a.Z)((0,a.Z)({},E),{},(0,r.Z)({},t,!0)))}});return l().createElement(s.Alert,{actionClose:c,key:t,title:i,variant:u},n)})))}),[P,E,n]),(null==b?void 0:b.length)?l().createElement("div",{className:"curiosity-banner-messages"},b):null};g.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,d.translate)("curiosity-banner.dataMismatchTitle"),message:(0,d.translate)("curiosity-banner.dataMismatchMessage",{context:""!==p.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:p.BM.UI_DISPLAY_NAME},[l().createElement(s.Button,{isInline:!0,component:"a",variant:"link",icon:l().createElement(u.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:p.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useAppMessages:y.Cr.rhsmSelectors.useAppMessages,useRouteDetail:v.Tu}},29175:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h,ProductView:()=>h});var r=n(92950),a=n.n(r),i=n(21012),o=n(31369),l=n(3281),s=n(51858),u=n(52422),c=n(186),y=n(10608),d=n(92227),p=n(86876),m=n(76006),v=n(87585),g=n(2738),E=n(69051),I=n(47493),f=n(83109),h=function(e){var t=e.t,n=e.toolbarGraph,r=e.toolbarGraphDescription,l=(0,e.useRouteDetail)(),f=l.productParameter,h=l.productConfig;return a().createElement(u.PageLayout,null,a().createElement(u.PageHeader,{productLabel:f},t("curiosity-view.title",{appName:m.BM.UI_DISPLAY_NAME,context:f})),a().createElement(u.PageMessages,null,a().createElement(v.default,null)),a().createElement(u.PageColumns,null,h.map((function(e){return function(e){var l=e.graphTallyQuery,m=e.inventoryHostsQuery,v=e.inventorySubscriptionsQuery,f=e.query,h=e.initialGuestsFilters,b=e.initialInventoryFilters,_=e.initialInventorySettings,T=e.initialSubscriptionsInventoryFilters,A=e.productId,C=e.viewId;if(!A||!C)return null;var D=c.IT.parseRhsmQuery(f,{graphTallyQuery:l,inventoryHostsQuery:m,inventorySubscriptionsQuery:v}),M=D.graphTallyQuery,P=D.inventoryHostsQuery,R=D.inventorySubscriptionsQuery,S=null;r&&(S=a().createElement(i.Tooltip,{content:a().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:A})),position:i.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},a().createElement("sup",{className:"curiosity-icon__info"},a().createElement(o.ZP,null))));var N=a().createElement(a().Fragment,null,t("curiosity-graph.cardHeading",{context:A}),S);return a().createElement(s.ProductViewContext.Provider,{value:e,key:"product_".concat(A)},a().createElement(u.PageToolbar,null,a().createElement(d.Toolbar,null)),a().createElement(u.PageSection,null,a().createElement(y.ConnectedGraphCard,{key:"graph_".concat(A),query:M,productId:A,viewId:C,cardTitle:N},a().isValidElement(n)&&n||!1!==n&&a().createElement(g.ToolbarFieldGranularity,null))),a().createElement(u.PageSection,null,a().createElement(E.default,{key:"inventory_".concat(A),productId:A},a().createElement(E.InventoryTab,{key:"inventory_hosts_".concat(A),title:t("curiosity-inventory.tabHosts",{context:["noInstances",A]})},a().createElement(p.ConnectedInventoryList,{key:"inv_".concat(A),filterGuestsData:h,filterInventoryData:b,productId:A,settings:_,query:P,viewId:C})),T&&a().createElement(E.InventoryTab,{key:"inventory_subs_".concat(A),title:t("curiosity-inventory.tabSubscriptions",{context:A})},a().createElement(I.ConnectedInventorySubscriptions,{key:"subs_".concat(A),filterInventoryData:T,productId:A,query:R,viewId:C})))))}(e)}))))};h.defaultProps={t:f.translate,toolbarGraph:null,toolbarGraphDescription:!1,useRouteDetail:l.Tu}}}]);
//# sourceMappingURL=../sourcemaps/9175.37cb473ddbddde85b16f458fd6189909.js.map