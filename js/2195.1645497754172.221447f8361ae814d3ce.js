"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2195],{82195:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T,ConnectedInventoryCard:()=>T,InventoryCard:()=>P});var r=n(1413),o=n(92950),s=n.n(o),a=n(88587),u=n(45103),i=n(32875),l=n(51858),c=n(76006),d=n(186),v=n(78697),y=n(1797),I=n(91339),f=n(15242),p=n(12243),E=n(68900),m=n(89517),S=n(65020),g=n(46262),O=n(83109),h=n(42896),P=function(e){var t=e.cardActions,n=e.isDisabled,o=e.perPageDefault,l=e.t,c=e.session,d=e.useGetInventory,m=e.useOnPage,O=e.useOnColumnSort,h=e.useProductInventoryConfig,P=(0,e.useProductInventoryQuery)(),C=m(),T=O(),b=h(),_=b.filters,D=b.settings,R=d({isDisabled:n}),G=R.error,N=R.fulfilled,H=R.pending,M=R.data,Q=void 0===M?{}:M,Y=Q.data,w=void 0===Y?[]:Y,F=Q.meta,Z=void 0===F?{}:F;if(n)return s().createElement(u.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(u.CardBody,null,s().createElement(u.Bullseye,null,l("curiosity-inventory.tab",{context:"disabled"}))));var L,k,V=null==Z?void 0:Z.count,x=P[g.O6.LIMIT]||o,U=P[g.O6.OFFSET],A=S.paginationHelpers.isLastPage(U,x,V),B=!0===N&&V<x&&"bodyMinHeight-".concat(x,"-resize")||!0===N&&A&&"bodyMinHeight-".concat(x,"-resize")||!0===G&&"bodyMinHeight-".concat(x,"-resize")||"bodyMinHeight-".concat(x);return s().createElement(u.Card,{className:"curiosity-inventory-card"},s().createElement(I.MinHeight,{key:"headerMinHeight",updateOnContent:!0},s().createElement(u.CardHeader,{className:G?"hidden":"","aria-hidden":G||!1},t,s().createElement(u.CardActions,{className:V?"":"transparent","aria-hidden":!V||!1},s().createElement(E.default,{isCompact:!0,isDisabled:H||G,itemCount:V,offset:U,onPage:C,onPerPage:C,perPage:x})))),s().createElement(I.MinHeight,{key:B,updateOnContent:!0},s().createElement(u.CardBody,null,s().createElement("div",{className:(G?"blur":H&&"fadein")||""},H&&s().createElement(y.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==_?void 0:_.length)||(null==w?void 0:w[0])&&Object.keys(w[0]).length||1,colWidth:(null==_?void 0:_.length)&&_.map((function(e){return e.cellWidth}))||[],rowCount:(null==w?void 0:w.length)||x,variant:a.TableVariant.compact}}),!H&&(L=[],k=w.map((function(e){var t=Object.assign({},e),n=p.inventoryCardHelpers.parseRowCellsListData({filters:p.inventoryCardHelpers.parseInventoryFilters({filters:_,onSort:T,query:P}),cellData:t,session:c}),o=n.columnHeaders,a=n.cells;L=o;var u=null==t?void 0:t.subscriptionManagerId,i=null==t?void 0:t.numberOfGuests;return{cells:a,expandedContent:("function"==typeof(null==D?void 0:D.hasSubTable)?D.hasSubTable((0,r.Z)({},t),(0,r.Z)({},c)):i>0&&u)&&s().createElement(f.default,{numberOfGuests:i,id:u})||void 0}})),s().createElement(v.default,{borders:!0,variant:a.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:L,rows:k}))))),s().createElement(I.MinHeight,{key:"footerMinHeight",updateOnContent:!0},s().createElement(u.CardFooter,{className:(G?"hidden":!V&&"transparent")||"","aria-hidden":G||!V||!1},s().createElement(i.Z,{isFooter:!0},s().createElement(E.default,{dropDirection:"up",isDisabled:H||G,itemCount:V,offset:U,onPage:C,onPerPage:C,perPage:x})))))};P.defaultProps={cardActions:s().createElement(u.CardHeaderMain,null,s().createElement(m.ToolbarFieldDisplayName,null)),isDisabled:c.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,session:{},t:O.translate,useGetInventory:h.useGetInstancesInventory,useOnPage:h.useOnPageInstances,useOnColumnSort:h.useOnColumnSortInstances,useProductInventoryConfig:l.useProductInventoryHostsConfig,useProductInventoryQuery:l.useProductInventoryHostsQuery};var C=d.R1.user.makeUserSession(),T=(0,d.$j)(C)(P)},42896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f,context:()=>f,useGetInstancesInventory:()=>v,useOnPageInstances:()=>y,useOnColumnSortInstances:()=>I});var r=n(4942),o=n(15451),s=n(68929),a=n.n(s),u=n(88587),i=n(186),l=n(51858),c=n(46262),d=n(76006),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?i.Ak.rhsm.getInstancesInventory:r,a=e.useDispatch,u=void 0===a?i.Cr.reactRedux.useDispatch:a,c=e.useProduct,d=void 0===c?l.useProduct:c,v=e.useProductInventoryQuery,y=void 0===v?l.useProductInventoryHostsQuery:v,I=e.useSelectorsResponse,f=void 0===I?i.Cr.reactRedux.useSelectorsResponse:I,p=d(),E=p.productId,m=y(),S=u(),g=f((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[E]})),O=g.error,h=g.cancelled,P=g.fulfilled,C=g.pending,T=g.data;return(0,o.Z)((function(){n||s(E,m)(S)}),[S,n,E,m]),{error:O,fulfilled:P,pending:C||h||!1,data:1===(null==T?void 0:T.length)&&T[0]||T||{}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?i.Cr.reactRedux.useDispatch:t,o=e.useProduct,s=void 0===o?l.useProduct:o,a=s(),u=a.productId,d=n();return function(e){var t=e.offset,n=e.perPage;d([(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.OFFSET],viewId:u},c.O6.OFFSET,t),(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.LIMIT],viewId:u},c.O6.LIMIT,n)])}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?c.xB:t,o=e.useDispatch,s=void 0===o?i.Cr.reactRedux.useDispatch:o,v=e.useProduct,y=void 0===v?l.useProduct:v,I=y(),f=I.productId,p=s();return function(e,t){var o,s=t.direction,l=t.id,v=Object.values(n).find((function(e){return e===l||a()(e)===l}));v?(o=s===u.SortByDirection.desc?c.PQ.DESCENDING:c.PQ.ASCENDING,p([(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.DIRECTION],viewId:f},c.O6.DIRECTION,o),(0,r.Z)({type:i.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[c.O6.SORT],viewId:f},c.O6.SORT,v)])):(d.BM.DEV_MODE||d.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(l," is allowed."))}},f={useGetInstancesInventory:v,useOnPageInstances:y,useOnColumnSortInstances:I}},15242:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E,ConnectedInventoryGuests:()=>E,InventoryGuests:()=>f});var r=n(93433),o=n(29439),s=n(92950),a=n.n(s),u=n(88587),i=n(51858),l=n(186),c=n(1797),d=n(12243),v=n(46262),y=n(78697),I=n(32293),f=function(e){var t,n,i,l=e.defaultPerPage,I=e.id,f=e.numberOfGuests,p=e.session,E=e.useGetGuestsInventory,m=e.useOnScroll,S=e.useProductInventoryGuestsQuery,g=e.useProductInventoryGuestsConfig,O=(0,s.useState)([]),h=(0,o.Z)(O,2),P=h[0],C=h[1],T=g().filters,b=S({options:{overrideId:I}})[v.O6.OFFSET],_=E(I),D=_.error,R=_.pending,G=_.data,N=(void 0===G?{}:G).data,H=void 0===N?[]:N,M=m(I,(function(){var e=[].concat((0,r.Z)(P),(0,r.Z)(H||[]));C(e)}));return a().createElement("div",{className:"fadein ".concat(D?"blur":"")},R&&0===b&&a().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==T?void 0:T.length)||(null==H?void 0:H[0])&&Object.keys(H[0]).length||1,colWidth:(null==T?void 0:T.length)&&T.map((function(e){return e.cellWidth}))||[],rowCount:f<l?f:l,variant:u.TableVariant.compact}}),(!R&&0===b||b>0)&&(t=[],n=[].concat((0,r.Z)(P),(0,r.Z)(H||[])).map((function(e){var n=Object.assign({},e),r=d.inventoryCardHelpers.parseRowCellsListData({filters:T,cellData:n,session:p}),o=r.columnHeaders,s=r.cells;return t=o,{cells:s}})),i=(i=42*(f+1))<275&&i||275,a().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(i,"px")}},a().createElement("div",{className:"curiosity-table-scroll-list".concat(i<275?"__no-scroll":""),onScroll:M},function(){if(b>0&&R){var e=a().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==T?void 0:T.length)||(null==H?void 0:H[0])&&Object.keys(H[0]).length||1,colWidth:(null==T?void 0:T.length)&&T.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:u.TableVariant.compact}});return a().createElement("div",{className:"curiosity-table-scroll-loader__custom"},e)}return null}(),n.length&&a().createElement(y.Table,{borders:!1,variant:u.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:t,rows:n})||null))))};f.defaultProps={defaultPerPage:5,session:{},useGetGuestsInventory:I.useGetGuestsInventory,useOnScroll:I.useOnScroll,useProductInventoryGuestsConfig:i.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:i.useProductInventoryGuestsQuery};var p=l.R1.user.makeUserSession(),E=(0,l.$j)(p)(f)},32293:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y,context:()=>y,useGetGuestsInventory:()=>d,useOnScroll:()=>v,useSelectorsGuestsInventory:()=>c});var r=n(4942),o=n(1413),s=n(15451),a=n(77823),u=n(186),i=n(51858),l=n(46262),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useSelectorsResponse,r=void 0===n?u.Cr.reactRedux.useSelectorsResponse:n,o=r((function(t){var n,r=t.inventory;return null==r||null===(n=r.hostsGuests)||void 0===n?void 0:n[e]})),s=o.error,a=o.cancelled,i=o.fulfilled,l=o.pending,c=o.data;return{error:s,fulfilled:i,pending:l||a||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getInventory,r=void 0===n?u.Ak.rhsm.getHostsInventoryGuests:n,a=t.useDispatch,l=void 0===a?u.Cr.reactRedux.useDispatch:a,d=t.useProductInventoryQuery,v=void 0===d?i.useProductInventoryGuestsQuery:d,y=t.useSelectorsInventory,I=void 0===y?c:y,f=v({options:{overrideId:e}}),p=l(),E=I(e);return(0,s.Z)((function(){r(e,f)(p)}),[p,e,f]),(0,o.Z)({},E)},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.useDispatch,s=void 0===o?u.Cr.reactRedux.useDispatch:o,d=n.useSelectorsInventory,v=void 0===d?c:d,y=n.useProductInventoryQuery,I=void 0===y?i.useProductInventoryGuestsQuery:y,f=s(),p=v(e),E=p.pending,m=p.data,S=void 0===m?{}:m,g=(null==S?void 0:S.meta)||{},O=g.count,h=I({options:{overrideId:e}}),P=h[l.O6.LIMIT],C=h[l.O6.OFFSET];return(0,a.Z)((function(){f([{type:u.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e}])})),function(n){var o=n.target,s=o.scrollHeight-o.scrollTop===o.clientHeight;O>(C+1)*P&&s&&!E&&("function"==typeof t&&t(n),f([(0,r.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.OFFSET],viewId:e},l.O6.OFFSET,C+1),(0,r.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[l.O6.LIMIT],viewId:e},l.O6.LIMIT,P)]))}},y={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}}}]);
//# sourceMappingURL=../sourcemaps/2195.97c8448df778498e9e271192ed20df5d.js.map