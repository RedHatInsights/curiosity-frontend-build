"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5473,2243],{12243:(t,e,r)=>{r.r(e),r.d(e,{default:()=>S,inventoryCardHelpers:()=>S,applyConfigProperty:()=>m,applyHeaderRowCellFilters:()=>g,applySortFilters:()=>D,applyWrappableFilters:()=>b,parseInventoryFilters:()=>Z,parseRowCellsListData:()=>C});var n=r(70885),a=r(1413),o=r(42982),i=r(96985),s=r.n(i),l=r(67304),u=r(68929),c=r.n(u),p=r(68630),d=r.n(p),v=r(3969),f=r(83109),y=r(30446),h=r(76006),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,n=void 0===r?[]:r,a=t;if("function"==typeof t&&(a=t.apply(void 0,(0,o.Z)(Array.isArray(n)&&n||[n]))),"string"==typeof a||"number"==typeof a||s().isValidElement(a))return a},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[],i=[];return t.forEach((function(t){var u,c,p,y,g=t.id,D=t.cell,b=t.cellWidth,Z=t.header,C=t.onSort,S=t.showEmptyCell,E=void 0===S||S,O=t.sortId,G=t.sortActive,I=t.sortDirection,N=t.transforms,T={title:(0,f.translate)("curiosity-inventory.header",{context:g}),transforms:[]},w={title:""};if(e[g])T.title=null!==(u=null===(c=e[g])||void 0===c?void 0:c.title)&&void 0!==u?u:g,w.title=null!==(p=null===(y=e[g])||void 0===y?void 0:y.value)&&void 0!==p?p:"";else if((h.BM.DEV_MODE||h.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(g,'" not found in "table row" response data.'),e),!1===E)return;if(Z){var A=m(Z,{params:[(0,a.Z)({},e),(0,a.Z)({},r)]});if(A?T.title=A:d()(Z)&&Object.assign(T,(0,a.Z)({},Z)),Z.tooltip&&T.title){var P=m(Z.tooltip,{params:[(0,a.Z)({},e),(0,a.Z)({},r)]});P&&(T.title=s().createElement(v.Tooltip,{content:P},T.title)),delete T.tooltip}}if(Array.isArray(T.transforms)&&(Array.isArray(N)&&(T.transforms=T.transforms.concat((0,o.Z)(N))),"number"==typeof b&&T.transforms.push((0,l.cellWidth)(b))),"function"==typeof C&&(T.onSort=function(t){return C((0,a.Z)({},e),(0,a.Z)((0,a.Z)({},t),{},{id:O||g}))},T.sortActive=G,T.sortDirection=I),D){var k=m(D,{params:[(0,a.Z)({},e),(0,a.Z)({},r)]});if(k?w.title=k:d()(D)&&Object.assign(w,(0,a.Z)({},D)),D.tooltip&&w.title){var R=m(D.tooltip,{params:[(0,a.Z)({},e),(0,a.Z)({},r)]});R&&(w.title=s().createElement(v.Tooltip,{content:R},w.title)),delete w.tooltip}}n.push(T),i.push(w)})),{headerCells:n,bodyCells:i}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=t.onSort,o=t.query,i=void 0===o?{}:o,s=r.id,u=r.sortId,p=u||s,d=(0,a.Z)({},r),v=d.onSort||n;return!d.onSort&&n&&(d.onSort=n),v&&"boolean"!=typeof d.sortActive&&null!=i&&i[y.VN.SORT]&&((null==i?void 0:i[y.VN.SORT])===p||c()(null==i?void 0:i[y.VN.SORT])===p)&&(d.sortActive=!0),v&&!d.sortDirection&&null!=i&&i[y.VN.DIRECTION]&&((null==i?void 0:i[y.VN.DIRECTION])===y.hb.DESCENDING?d.sortDirection=l.SortByDirection.desc:d.sortDirection=l.SortByDirection.asc),!v||d.sortActive||null!=i&&i[y.VN.SORT]||!0!==d.isSortDefault||(d.sortActive=!0,d.sortDefaultInitialDirection&&(d.sortDirection=d.sortDefaultInitialDirection)),d},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=(0,a.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(l.wrappable):n.transforms=[l.wrappable],n},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.onSort,i=t.query,s=void 0===i?{}:i;return(0,o.Z)(r).map((function(t){var e=(0,a.Z)({},t);return e.isSortable&&Object.assign(e,D({filter:e,onSort:n,query:s})),e.isWrappable&&Object.assign(e,b({filter:e})),e}))},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,i=t.cellData,s=void 0===i?{}:i,l=t.session,u=void 0===l?{}:l,c=[],p=[],d={};if(Object.entries(s).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],a=e[1],o=void 0===a?"":a;d[r]={title:(0,f.translate)("curiosity-inventory.header",{context:r}),value:o},c.push(d[r].title),p.push(o||"...")})),null!=r&&r.length&&Object.keys(d).length){c.length=0,p.length=0;var v=g(r,d,u),y=v.headerCells,h=void 0===y?[]:y,m=v.bodyCells,D=void 0===m?[]:m;c.push.apply(c,(0,o.Z)(h)),p.push.apply(p,(0,o.Z)(D))}return{columnHeaders:c,cells:p,data:(0,a.Z)({},d)}},S={applyConfigProperty:m,applyHeaderRowCellFilters:g,applySortFilters:D,applyWrappableFilters:b,parseInventoryFilters:Z,parseRowCellsListData:C}},95473:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Z,ConnectedGuestsList:()=>Z,GuestsList:()=>D});var n=r(42982),a=r(4942),o=r(1413),i=r(15671),s=r(43144),l=r(60136),u=r(54062),c=r(96985),p=r.n(c),d=r(67304),v=r(76006),f=r(61072),y=r(1797),h=r(12243),m=r(30446),g=r(78697),D=function(t){(0,l.Z)(r,t);var e=(0,u.Z)(r);function r(){var t;(0,i.Z)(this,r);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return(t=e.call.apply(e,[this].concat(l))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,r=e.currentPage,n=e.limit,i=t.props,s=i.getHostsInventoryGuests,l=i.query,u=i.id;if(u){var c,p=(0,o.Z)((0,o.Z)({},l),{},(c={},(0,a.Z)(c,m.VN.LIMIT,n),(0,a.Z)(c,m.VN.OFFSET,r*n||0),c));s(u,f.IT.parseRhsmQuery(p).inventoryGuestsQuery)}},t.onScroll=function(e){var r=e.target,a=t.state,o=a.currentPage,i=a.limit,s=a.previousData,l=t.props,u=l.numberOfGuests,c=l.pending,p=l.listData,d=r.scrollHeight-r.scrollTop===r.clientHeight;if(u>(o+1)*i&&d&&!c){var v=o+1,f=[].concat((0,n.Z)(s),(0,n.Z)(p||[]));t.setState({previousData:f,currentPage:v})}},t}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,r=e.filterGuestsData,n=e.listData,a=e.pending;if(t>0&&a){var o=p().createElement(y.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==r?void 0:r.length)||(null==n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null==r?void 0:r.length)&&r.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:d.TableVariant.compact}});return p().createElement("div",{className:"curiosity-table-scroll-loader__custom"},o)}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,r=e.filterGuestsData,a=e.listData,o=e.numberOfGuests,i=e.session,s=[],l=[].concat((0,n.Z)(t),(0,n.Z)(a||[])).map((function(t){var e=Object.assign({},t),n=h.inventoryCardHelpers.parseRowCellsListData({filters:r,cellData:e,session:i}),a=n.columnHeaders,o=n.cells;return s=a,{cells:o}})),u=42*(o+1);return u=u<275&&u||275,p().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(u,"px")}},p().createElement("div",{className:"curiosity-table-scroll-list".concat(u<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),l.length&&p().createElement(g.Table,{borders:!1,variant:d.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:s,rows:l})||null))}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,r=e.error,n=e.filterGuestsData,a=e.listData,o=e.numberOfGuests,i=e.pending,s=e.perPageDefault;return p().createElement("div",{className:"fadein ".concat(r?"blur":"")},i&&0===t&&p().createElement(y.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==n?void 0:n.length)||(null==a?void 0:a[0])&&Object.keys(a[0]).length||1,colWidth:(null==n?void 0:n.length)&&n.map((function(t){return t.cellWidth}))||[],rowCount:o<s?o:s,variant:d.TableVariant.compact}}),(!i&&0===t||t>0)&&this.renderTable())}}]),r}(p().Component);D.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:v.BM.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var b=f.R1.guestsList.makeGuestsList(),Z=(0,f.$j)(b,(function(t){return{getHostsInventoryGuests:function(e,r){return t(f.Ak.rhsm.getHostsInventoryGuests(e,r))}}}))(D)}}]);
//# sourceMappingURL=../sourcemaps/5473.fe4effa332146ed2c8996e201c65f1f1.js.map