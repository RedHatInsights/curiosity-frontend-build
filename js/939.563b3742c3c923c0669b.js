"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[939,5394],{99171:function(t,e,r){r.r(e),r.d(e,{GraphCardChartTitleTooltip:function(){return d},default:function(){return d}});var n=r(28416),s=r.n(n),o=r(45697),u=r.n(o),i=r(39930),a=r(89709),c=r(25394),l=r(83109);const d=t=>{let{t:e,useGraphCardContext:r}=t;const{settings:n={}}=r(),{isCardTitleDescription:o,stringId:u}=n;return o?s().createElement(i.Tooltip,{content:s().createElement("p",null,e("curiosity-graph.cardHeadingDescription",{context:u})),position:i.TooltipPosition.top,enableFlip:!1,entryDelay:100,exitDelay:0},s().createElement("span",{className:"curiosity-icon__question"},s().createElement(a.OutlinedQuestionCircleIcon,null))):null};d.propTypes={t:u().func,useGraphCardContext:u().func},d.defaultProps={t:l.translate,useGraphCardContext:c.useGraphCardContext}},25394:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return C},GraphCardContext:function(){return h},context:function(){return x},default:function(){return x},useGetMetrics:function(){return G},useGraphCardActions:function(){return y},useGraphCardContext:function(){return f},useMetricsSelector:function(){return m},useParseFiltersSettings:function(){return g}});var n=r(87462),s=r(28416),o=r.n(s),u=r(15451),i=r(39930),a=r(87284),c=r(51858),l=r(70136),d=r(62834),p=r(78139);const C=[{settings:{metrics:[]}},d.B.noop],h=o().createContext(C),f=()=>(0,s.useContext)(h),g=function(){let{useProduct:t=c.useProduct,useProductGraphConfig:e=c.useProductGraphConfig}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:r}=t(),{filters:n=[],settings:o={}}=e();return(0,s.useMemo)((()=>p.graphCardHelpers.generateChartSettings({filters:n,settings:o,productId:r})),[n,o,r])},m=function(){let{useGraphCardContext:t=f,useSelectorsResponse:e=a.Cr.reactRedux.useSelectorsResponse}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{settings:r={}}=t(),{metrics:n=[]}=r,{error:s,fulfilled:o,pending:u,data:i=[],...c}=e(n.map((t=>{let{id:e,isCapacity:r}=t;return t=>{var n,s;let{graph:o}=t;return r?null===(n=o.capacity)||void 0===n?void 0:n[e]:null===(s=o.tally)||void 0===s?void 0:s[e]}}))),l={},d=null==i?void 0:i.map(((t,e)=>{const r={...n[e],...t};return l[n[e].id]=r,r}));return{...c,data:l,dataSets:d,error:s,fulfilled:o,pending:u}},G=function(){let{getGraphMetrics:t=a.Ak.rhsm.getGraphMetrics,useDispatch:e=a.Cr.reactRedux.useDispatch,useGraphCardContext:r=f,useMetricsSelector:n=m,useProduct:s=c.useProduct,useProductGraphTallyQuery:o=c.useProductGraphTallyQuery}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:i}=s(),l=o(),d=e(),p=n(),{settings:C={}}=r(),{metrics:h=[]}=C;return(0,u.Z)((()=>{const e=h.map((t=>{let{metric:e,isCapacity:r,query:n}=t;return{id:i,metric:e,isCapacity:r,query:n}}));t(e,l)(d)}),[h,i,l]),p},y=function(){let{categoryOptions:t=l.toolbarFieldOptions,useMetricsSelector:e=m,useGraphCardContext:r=f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{pending:u,dataSets:a}=e(),{settings:c={}}=r(),{actions:p}=c;return(0,s.useMemo)((()=>null==p?void 0:p.map((e=>{let{id:r,content:s,...c}=e;const l=t.find((t=>{let{value:e}=t;return r===e})),{component:p}=l||{};return p&&o().createElement(i.ToolbarItem,{key:"option-".concat(r)},o().createElement(p,(0,n.Z)({isFilter:!1},c)))||s&&!u&&a.length&&o().createElement(i.ToolbarItem,{key:r||d.B.generateId()},"function"==typeof s?s({data:a}):s)||null}))),[p,t,a,u])},x={GraphCardContext:h,DEFAULT_CONTEXT:C,useGetMetrics:G,useGraphCardActions:y,useGraphCardContext:f,useMetricsSelector:m,useParseFiltersSettings:g}}}]);
//# sourceMappingURL=../sourcemaps/939.afb431e41eca77c0307264aa048835f8.js.map