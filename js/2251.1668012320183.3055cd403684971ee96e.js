"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2251,2085],{64418:function(e,t,r){r.r(t),r.d(t,{GraphCardChartLegend:function(){return p},default:function(){return p}});var n=r(92950),a=r.n(n),o=r(21242),l=r(89048),i=r(51858),c=r(61072),u=r(76006),s=r(83109),d=r(1138),p=function(e){var t=e.chart,r=e.datum,n=e.t,i=e.useDispatch,u=e.useSelectors,s=(0,e.useProduct)(),p=s.productLabel,y=s.viewId,v=i(),h=u(r.dataSets.map((function(e){var t=e.id;return function(e){var r;return null===(r=e.graph.legend)||void 0===r?void 0:r["".concat(y,"-").concat(t)]}})));(0,l.Z)((function(){r.dataSets.forEach((function(e,r){var n=e.id;((null==h?void 0:h[r])||t.isToggled(n))&&t.hide(n)}))}));var m=function(e){var r=t.toggle(e);v({type:c.JD.graph.SET_GRAPH_LEGEND,id:"".concat(y,"-").concat(e),value:r})};return a().createElement(a().Fragment,null,r.dataSets.map((function(e,r){var l=e.id,i=e.isThreshold,c=e.stroke,u=e.data,s=!(void 0===u?[]:u).find((function(e){var t=e.y,r=e.hasData;return t>=0&&!0===r||t>=0&&!0===i}))||!1,y=n(["curiosity-graph.label_".concat(i?"threshold":l),"curiosity-graph.label_no"],{product:p,context:p}),v=n("curiosity-graph.legendTooltip".concat(i?"_threshold":"","_").concat(l),{product:p,context:p},[a().createElement("span",{style:{whiteSpace:"nowrap"}})]),f=(null==h?void 0:h[r])||t.isToggled(l),g=a().createElement(o.Button,{onClick:function(){return m(l)},onKeyPress:function(){return m(l)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(l),variant:"link",component:"a",isDisabled:s,icon:(s||f)&&a().createElement(d.ChartIcon,{symbol:"eyeSlash"})||a().createElement(d.ChartIcon,{symbol:i?"dash":"square",style:{visibility:s||f?"hidden":"visible"},fill:c})},y);return v?a().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(l),content:a().createElement("p",null,v),position:o.TooltipPosition.top,enableFlip:!0,distance:5},g):g})))};p.defaultProps={chart:{hide:u.BM.noop,toggle:u.BM.noop,isToggled:u.BM.noop},datum:{dataSets:[]},t:s.translate,useDispatch:c.Cr.reactRedux.useDispatch,useSelectors:c.Cr.reactRedux.useSelectors,useProduct:i.useProduct}},44024:function(e,t,r){r.r(t),r.d(t,{GraphCardChartTooltip:function(){return p},default:function(){return p}});var n=r(92950),a=r.n(n),o=r(51858),l=r(78139),i=r(83109),c=r(60930),u=r(1138),s=r(46262),d=r(76006),p=function(e){var t=e.datum,r=e.t,n=e.useProduct,o=e.useProductGraphTallyQuery,i=n(),p=i.productId,y=i.productLabel,v=o()[s.O6.GRANULARITY],h=null,m=[],f=(t||{}).itemsByKey,g=void 0===f?{}:f;return Object.keys(g).reverse().forEach((function(e,t){var n,o,i,s;0===t&&(h=(0,l.getTooltipDate)({date:null===(s=g[e])||void 0===s?void 0:s.data.date,granularity:v}));var d={color:null===(n=g[e])||void 0===n?void 0:n.color};if((null===(o=g[e])||void 0===o?void 0:o.chartType)===c.ChartTypeVariant.threshold){var f,E,b,T=null!==(f=null===(E=g[e])||void 0===E?void 0:E.data.y)&&void 0!==f?f:r("curiosity-graph.label_noData");null!==(b=g[e])&&void 0!==b&&b.data.hasInfinite&&(T=d.color?a().createElement(u.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),d.label=r("curiosity-graph.label_threshold"),d.value=T}else{var I,P,_=!1===(null===(I=g[e])||void 0===I?void 0:I.data.hasData)&&r("curiosity-graph.label_noData")||(null===(P=g[e])||void 0===P?void 0:P.data.y)||0;d.label=r("curiosity-graph.label_".concat(e),{context:p,product:y}),d.value=_}d.chartType=null===(i=g[e])||void 0===i?void 0:i.chartType,m.push(d)})),a().createElement("div",{className:"curiosity-usage-graph__tooltip"},a().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},m.length&&h&&a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",{colSpan:2},h)))||null,m.length&&a().createElement("tbody",null,m.map((function(e){var t,r,n="number"==typeof e.value&&!Number.isInteger(e.value)&&(null===(t=d.BM.numberDisplay(e.value))||void 0===t||null===(r=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||e.value;return a().createElement("tr",{key:"tooltip-".concat(e.label)},a().createElement("th",null,e.chartType===c.ChartTypeVariant.threshold&&a().createElement(u.ChartIcon,{size:"sm",symbol:"dash",fill:e.color||"transparent"}),e.chartType!==c.ChartTypeVariant.threshold&&a().createElement(u.ChartIcon,{size:"sm",fill:e.color||"transparent"})," ",e.label),a().createElement("td",null,n))})))||null),!m.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};p.defaultProps={datum:{},t:i.translate,useProduct:o.useProduct,useProductGraphTallyQuery:o.useProductGraphTallyQuery}},44059:function(e,t,r){r.r(t),r.d(t,{ProductViewOpenShiftContainer:function(){return P},default:function(){return P}});var n=r(92950),a=r.n(n),o=r(21242),l=r(31369),i=r(3281),c=r(51858),u=r(52422),s=r(30446),d=r(61072),p=r(28341),y=r(49844),v=r(74097),h=r(2738),m=r(65876),f=r(92227),g=r(88191),E=r(16696),b=r(69051),T=r(83109),I=r(76006),P=function(e){var t=e.t,r=(0,e.useRouteDetail)(),n=r.productParameter,i=r.productConfig,T=d.Cr.reactRedux.useSelector((function(e){var t,r;return null===(t=e.view.query)||void 0===t||null===(r=t[i[0].viewId])||void 0===r?void 0:r[s.VN.UOM]}),null);return a().createElement(u.PageLayout,null,a().createElement(u.PageHeader,{productLabel:n},t("curiosity-view.title",{appName:I.BM.UI_DISPLAY_NAME,context:n})),a().createElement(u.PageColumns,null,i.map((function(e){return function(e,r){var n=e.productContextFilterUom,i=e.query,T=void 0===i?{}:i,P=e.graphTallyQuery,_=void 0===P?{}:P,S=e.inventoryHostsQuery,C=void 0===S?{}:S,D=e.inventorySubscriptionsQuery,x=void 0===D?{}:D,w=e.initialGuestsFilters,k=void 0===w?[]:w,F=e.initialInventoryFilters,N=void 0===F?[]:F,R=e.initialInventorySettings,M=void 0===R?{}:R,Q=e.initialSubscriptionsInventoryFilters,B=e.productId,G=e.viewId;if(!B||!G)return null;var H,L=d.IT.parseRhsmQuery(T,{graphTallyQuery:_,inventoryHostsQuery:C,inventorySubscriptionsQuery:x}),O=L.graphTallyQuery,U=L.inventoryHostsQuery,A=N;n&&(H=r||T[s.VN.UOM],A=N.filter((function(e){var t=e.id;return!e.isOptional||new RegExp(H,"i").test(t)})));var V=a().createElement(a().Fragment,null,t("curiosity-graph.cardHeading",{context:B}),a().createElement(o.Tooltip,{content:a().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:B})),position:o.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},a().createElement("sup",{className:"curiosity-icon__info"},a().createElement(l.ZP,null))));return a().createElement(c.ProductViewContext.Provider,{value:e,key:"product_".concat(B,"_").concat(H)},a().createElement(u.PageToolbar,null,a().createElement(f.Toolbar,null)),a().createElement(u.PageSection,null,a().createElement(p.default,{key:"graph_".concat(B),query:O,productId:B,viewId:G,cardTitle:V},B===s.wc.OPENSHIFT&&H&&a().createElement(v.ToolbarFieldUom,{position:y.SelectPosition.right}),B===s.wc.OPENSHIFT&&a().createElement(h.ToolbarFieldGranularity,{position:y.SelectPosition.right}),B===s.wc.OPENSHIFT_METRICS&&a().createElement(m.ToolbarFieldRangedMonthly,{position:y.SelectPosition.right}))),a().createElement(u.PageSection,null,a().createElement(b.default,{key:"inventory_".concat(B),productId:B},a().createElement(b.InventoryTab,{key:"inventory_hosts_".concat(B),title:t("curiosity-inventory.tabHosts",{context:[B]})},a().createElement(g.default,{key:"inv_".concat(B),filterGuestsData:k,filterInventoryData:A,productId:B,settings:M,query:U,viewId:G})),!I.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Q&&a().createElement(b.InventoryTab,{key:"inventory_subs_".concat(B),title:t("curiosity-inventory.tabSubscriptions",{context:B})},a().createElement(E.default,null)))))}(e,T)}))))};P.defaultProps={t:T.translate,useRouteDetail:i.Tu}}}]);
//# sourceMappingURL=../sourcemaps/2251.js.map