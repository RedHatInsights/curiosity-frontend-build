"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5925,1339,353],{10608:function(e,t,n){n.r(t),n.d(t,{GraphCard:function(){return u},default:function(){return u}});var r=n(92950),a=n.n(r),i=n(76006),l=n(29407),o=n(91799),s=n(25394),u=function(e){var t=e.isDisabled,n=(0,e.useParseFiltersSettings)().filtersSettings;return t?null:(null==n?void 0:n.length)&&(null==n?void 0:n.map((function(e){var t,n,r,i;return a().createElement(s.GraphCardContext.Provider,{key:"graphCard-".concat(null==e||null===(t=e.settings)||void 0===t||null===(n=t.metrics)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.id),value:e},(null==e||null===(i=e.settings)||void 0===i?void 0:i.isMetricDisplay)&&a().createElement(l.GraphCardMetricTotals,null,a().createElement(o.GraphCardChart,null))||a().createElement(o.GraphCardChart,null))})))||null};u.defaultProps={isDisabled:i.BM.UI_DISABLED_GRAPH,useParseFiltersSettings:s.useParseFiltersSettings}},29407:function(e,t,n){n.r(t),n.d(t,{GraphCardMetricTotals:function(){return f},default:function(){return f}});var r=n(92950),a=n.n(r),i=n(54653),l=n(30381),o=n.n(l),s=n(68929),u=n.n(s),c=n(51858),d=n(25394),h=n(1797),m=n(76006),p=n(65876),v=n(46262),g=n(83109),f=function(e){var t,n,r,l,s=e.children,c=e.t,d=e.useMetricsSelector,g=(0,e.useProductGraphTallyQuery)()[v.O6.START_DATE],f=d(),y=f.pending,C=f.error,E=f.fulfilled,k=f.dataSets,M=(void 0===k?[]:k)[0]||{},z=M.data,S=void 0===z?[]:z,T=M.id,P=M.metric,R=M.meta,D=void 0===R?{}:R,b=S[S.length-1]||{},H=b.date,_=b.hasData,w=b.y,O=S.find((function(e){return!0===e.isCurrentDate}))||{},L=O.date,F=O.hasData,G=O.y,B=D.totalMonthlyDate,x=D.totalMonthlyHasData,U=D.totalMonthlyValue,N=p.toolbarFieldOptions.find((function(e){return e.title===g||e.value.startDate.toISOString()===g}))||{},A=N.title,W=N.isCurrent,Z=W?L:H,I=W?F:_,Q=W?G:w;return a().createElement("div",{"data-test":"graphMetricTotals-".concat(u()(P)),className:"curiosity-usage-graph__totals"},a().createElement("div",null,a().createElement("div",{className:"curiosity-usage-graph__totals-column"},a().createElement(i.Card,{isPlain:!0,"data-test":"graphDailyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(C?"blur":"")},a().createElement(i.CardHeader,null,a().createElement(i.CardTitle,null,a().createElement(i.Title,{headingLevel:"h2",size:"md"},y&&a().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),E&&c("curiosity-graph.cardHeadingMetric",{context:["dailyTotal",T],month:A})))),a().createElement(i.CardBody,null,a().createElement("div",null,y&&a().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg,height:"60px"}}),E&&c("curiosity-graph.cardBodyMetric",{context:["total",I&&T],total:null===(t=m.BM.numberDisplay(Q))||void 0===t||null===(n=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===n?void 0:n.toUpperCase()},[a().createElement("strong",{title:Q,"aria-label":Q})]))),a().createElement(i.CardFooter,null,a().createElement("div",null,y&&a().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),E&&Z&&c("curiosity-graph.cardFooterMetric",{date:o().utc(Z).format(m.i3.timestampUTCTimeFormats.yearTimeShort)})))),a().createElement(i.Card,{isPlain:!0,"data-test":"graphMonthlyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(C?"blur":"")},a().createElement(i.CardHeader,null,a().createElement(i.CardTitle,null,a().createElement(i.Title,{headingLevel:"h2",size:"md"},y&&a().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),E&&c("curiosity-graph.cardHeadingMetric",{context:["monthlyTotal",T],month:A})))),a().createElement(i.CardBody,null,a().createElement("div",null,y&&a().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg,height:"60px"}}),E&&c("curiosity-graph.cardBodyMetric",{context:["total",x&&T],total:null===(r=m.BM.numberDisplay(U))||void 0===r||null===(l=r.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===l?void 0:l.toUpperCase()},[a().createElement("strong",{title:U,"aria-label":U})]))),a().createElement(i.CardFooter,null,a().createElement("div",null,y&&a().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),E&&B&&c("curiosity-graph.cardFooterMetric",{date:o().utc(B).format(m.i3.timestampUTCTimeFormats.yearTimeShort)})))))),a().createElement("div",null,a().createElement("div",{className:"curiosity-usage-graph__totals-graph-column"},s)))};f.defaultProps={children:null,t:g.translate,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:c.useProductGraphTallyQuery}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return d},default:function(){return d}});var r=n(15671),a=n(43144),i=n(97326),l=n(79340),o=n(54062),s=n(92950),u=n.n(s),c=n(76006),d=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).containerRef=u().createRef(),e.innerContainerRef=u().createRef(),e.updatedContainerWidth=0,e.resizeObserver=c.BM.noop,e.onResizeContainer=function(){var t,n,r=(0,i.Z)(e).updatedContainerWidth,a=e.props.updateOnResize,l=(null===(t=e.containerRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0;a&&l!==r&&(e.updatedContainerWidth=l,e.setMinHeight(!0))},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.minHeight,r=this.containerRef.current,a=void 0===r?{}:r,i=this.innerContainerRef.current,l=void 0===i?{}:i;null!=a&&a.style&&(n>(e=t?(null==l?void 0:l.clientHeight)||0:(null==a?void 0:a.clientHeight)||0)&&(e=n),a.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return u().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},u().createElement("div",{ref:this.innerContainerRef},e))}}]),n}(u().Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}}}]);
//# sourceMappingURL=../sourcemaps/5925.fc4736487b3b5f6d3820d528454e0039.js.map