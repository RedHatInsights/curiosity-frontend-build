"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5242,2243,3385],{12243:function(t,e,r){r.r(e),r.d(e,{applyConfigProperty:function(){return h},applyHeaderRowCellFilters:function(){return g},applySortFilters:function(){return I},applyWrappableFilters:function(){return O},default:function(){return b},inventoryCardHelpers:function(){return b},parseInventoryFilters:function(){return m},parseRowCellsListData:function(){return E}});var n=r(29439),o=r(1413),i=r(93433),s=r(92950),l=r.n(s),u=r(14844),a=r(68929),c=r.n(a),d=r(68630),f=r.n(d),v=r(3969),p=r(83109),y=r(46262),S=r(76006),h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,n=void 0===r?[]:r,o=t;if("function"==typeof t&&(o=t.apply(void 0,(0,i.Z)(Array.isArray(n)&&n||[n]))),"string"==typeof o||"number"==typeof o||l().isValidElement(o))return o},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.cellData,s=void 0===n?{}:n,a=t.meta,c=void 0===a?{}:a,d=t.productId,y=t.session,g=void 0===y?{}:y,I=[],O=[];return r.forEach((function(t){var e,r,n,a,y=t.isStandalone,m=t.id,E=t.cell,b=t.cellWidth,Z=t.header,D=t.onSort,T=t.showEmptyCell,R=void 0===T||T,C=t.sortId,G=t.sortActive,_=t.sortDirection,P=t.transforms,w={title:(0,p.translate)("curiosity-inventory.header",{context:[m,d]}),transforms:[]},A={title:""};if(s[m])w.title=null!==(e=null===(r=s[m])||void 0===r?void 0:r.title)&&void 0!==e?e:m,A.title=null!==(n=null===(a=s[m])||void 0===a?void 0:a.value)&&void 0!==n?n:"";else if(!0===y)w.title="",A.title="";else if((S.BM.DEV_MODE||S.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(m,'" not found in "table row" response data.'),s),!1===R)return;if(Z){var N=h(Z,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});if(N?w.title=N:f()(Z)&&Object.assign(w,(0,o.Z)({},Z)),Z.tooltip&&w.title){var F=h(Z.tooltip,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});F&&(w.title=l().createElement(v.Tooltip,{content:F},w.title)),delete w.tooltip}}if(Array.isArray(w.transforms)&&(Array.isArray(P)&&(w.transforms=w.transforms.concat((0,i.Z)(P))),"number"==typeof b&&w.transforms.push((0,u.cellWidth)(b))),"function"==typeof D&&(w.onSort=function(t){return D((0,o.Z)({},s),(0,o.Z)((0,o.Z)({},t),{},{id:C||m}))},w.sortActive=G,w.sortDirection=_),E){var j=h(E,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});if(j?A.title=j:f()(E)&&Object.assign(A,(0,o.Z)({},E)),E.tooltip&&A.title){var H=h(E.tooltip,{params:[(0,o.Z)({},s),(0,o.Z)({},g),(0,o.Z)({},c)]});H&&(A.title=l().createElement(v.Tooltip,{content:H},A.title)),delete A.tooltip}}I.push(w),O.push(A)})),{headerCells:I,bodyCells:O}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=t.onSort,i=t.query,s=void 0===i?{}:i,l=r.id,a=r.sortId,d=a||l,f=(0,o.Z)({},r),v=f.onSort||n;return!f.onSort&&n&&(f.onSort=n),v&&"boolean"!=typeof f.sortActive&&null!=s&&s[y.O6.SORT]&&((null==s?void 0:s[y.O6.SORT])===d||c()(null==s?void 0:s[y.O6.SORT])===d)&&(f.sortActive=!0),v&&!f.sortDirection&&null!=s&&s[y.O6.DIRECTION]&&((null==s?void 0:s[y.O6.DIRECTION])===y.PQ.DESCENDING?f.sortDirection=u.SortByDirection.desc:f.sortDirection=u.SortByDirection.asc),!v||f.sortActive||null!=s&&s[y.O6.SORT]||!0!==f.isSortDefault||(f.sortActive=!0,f.sortDefaultInitialDirection&&(f.sortDirection=f.sortDefaultInitialDirection)),f},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=(0,o.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(u.wrappable):n.transforms=[u.wrappable],n},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.onSort,s=t.query,l=void 0===s?{}:s;return(0,i.Z)(r).map((function(t){var e=(0,o.Z)({},t);return e.isSortable&&Object.assign(e,I({filter:e,onSort:n,query:l})),e.isWrappable&&Object.assign(e,O({filter:e})),e}))},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,s=t.cellData,l=void 0===s?{}:s,u=t.meta,a=void 0===u?{}:u,c=t.productId,d=t.session,f=void 0===d?{}:d,v=[],y=[],S={};if(Object.entries(l).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],o=e[1],i=void 0===o?"":o;S[r]={title:(0,p.translate)("curiosity-inventory.header",{context:[r,c]}),value:i},v.push(S[r].title),y.push(i||"...")})),null!=r&&r.length&&Object.keys(S).length){v.length=0,y.length=0;var h=g({filters:r,cellData:S,meta:a,productId:c,session:f}),I=h.headerCells,O=void 0===I?[]:I,m=h.bodyCells,E=void 0===m?[]:m;v.push.apply(v,(0,i.Z)(O)),y.push.apply(y,(0,i.Z)(E))}return{columnHeaders:v,cells:y,data:(0,o.Z)({},S)}},b={applyConfigProperty:h,applyHeaderRowCellFilters:g,applySortFilters:I,applyWrappableFilters:O,parseInventoryFilters:m,parseRowCellsListData:E}},15242:function(t,e,r){r.r(e),r.d(e,{InventoryGuests:function(){return v},default:function(){return v}});var n=r(92950),o=r.n(n),i=r(14844),s=r(98944),l=r(51858),u=r(1797),a=r(12243),c=r(46262),d=r(78697),f=r(23385),v=function(t){var e=t.defaultPerPage,r=t.id,n=t.numberOfGuests,s=t.useGetGuestsInventory,l=t.useOnScroll,f=t.useProductInventoryGuestsQuery,v=t.useProductInventoryGuestsConfig,p=(0,t.useSession)(),y=v().filters,S=s(r),h=S.pending,g=S.data,I=void 0===g?[]:g,O=l(r),m=f({options:{overrideId:r}})[c.O6.OFFSET],E=[],b=I.map((function(t){var e=Object.assign({},t),r=a.inventoryCardHelpers.parseRowCellsListData({filters:y,cellData:e,session:p}),n=r.columnHeaders,o=r.cells;return E=n,{cells:o}})),Z=42*(n+1);return Z=Z<275&&Z||275,o().createElement("div",{className:"fadein"},o().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(Z,"px")}},o().createElement("div",{className:"curiosity-table-scroll-list".concat(Z<275?"__no-scroll":""),onScroll:O},function(t){if(h){var r=0;t&&(r=n<e?n:e);var s=o().createElement(u.Loader,{variant:"table",tableProps:{borders:!1,className:t?"curiosity-guests-list":void 0,colCount:(null==y?void 0:y.length)||(null==I?void 0:I[0])&&Object.keys(I[0]).length||1,colWidth:(null==y?void 0:y.length)&&y.map((function(t){return t.cellWidth}))||[],rowCount:r,variant:i.TableVariant.compact}});return o().createElement("div",{className:"curiosity-table-scroll-loader__custom"},s)}return null}(0===m),b.length&&o().createElement(d.Table,{borders:!1,variant:i.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:E,rows:b})||null)))};v.defaultProps={defaultPerPage:5,useGetGuestsInventory:f.useGetGuestsInventory,useOnScroll:f.useOnScroll,useProductInventoryGuestsConfig:l.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:l.useProductInventoryGuestsQuery,useSession:s.useSession}},23385:function(t,e,r){r.r(e),r.d(e,{context:function(){return O},default:function(){return O},useGetGuestsInventory:function(){return g},useOnScroll:function(){return I},useSelectorsGuestsInventory:function(){return h}});var n=r(4942),o=r(1413),i=r(93433),s=r(45987),l=r(29439),u=r(92950),a=r(17297),c=r(62179),d=r(18127),f=function(t){var e=(0,u.useRef)(t);e.current=t,(0,d.Z)((function(){return function(){return e.current()}}))},v=r(82410),p=r(51858),y=r(46262),S=["data","fulfilled"],h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useSelectorsResponse,n=void 0===r?v.Cr.reactRedux.useSelectorsResponse:r,o=n((function(e){var r,n=e.inventory;return null==n||null===(r=n.hostsGuests)||void 0===r?void 0:r[t]})),i=o.error,s=o.cancelled,l=o.fulfilled,u=o.pending,a=o.data;return{error:i,fulfilled:l,pending:u||s||!1,data:1===(null==a?void 0:a.length)&&a[0]||a||{}}},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getInventory,n=void 0===r?v.Ak.rhsm.getHostsInventoryGuests:r,d=e.useDispatch,f=void 0===d?v.Cr.reactRedux.useDispatch:d,y=e.useProductInventoryQuery,g=void 0===y?p.useProductInventoryGuestsQuery:y,I=e.useSelectorsInventory,O=void 0===I?h:I,m=(0,u.useState)([]),E=(0,l.Z)(m,2),b=E[0],Z=E[1],D=g({options:{overrideId:t}}),T=f(),R=O(t),C=R.data,G=void 0===C?{}:C,_=R.fulfilled,P=void 0!==_&&_,w=(0,s.Z)(R,S),A=G.data,N=void 0===A?[]:A;return(0,a.Z)((function(){n(t,D)(T)}),[T,t,D]),(0,c.Z)((function(){P&&Z((function(t){return[].concat((0,i.Z)(t),(0,i.Z)(N))}))}),[P,N]),(0,o.Z)({data:b,fulfilled:P},w)},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useDispatch,o=void 0===r?v.Cr.reactRedux.useDispatch:r,i=e.useSelectorsInventory,s=void 0===i?h:i,l=e.useProductInventoryQuery,u=void 0===l?p.useProductInventoryGuestsQuery:l,a=o(),c=s(t),d=c.pending,S=c.data,g=void 0===S?{}:S,I=(null==g?void 0:g.meta)||{},O=I.count,m=u({options:{overrideId:t}}),E=m[y.O6.LIMIT],b=m[y.O6.OFFSET];return f((function(){a([{type:v.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:t},{type:v.JD.inventory.CLEAR_INVENTORY_GUESTS,id:t}])})),function(e){var r=e.target,o=r.scrollHeight-r.scrollTop===r.clientHeight;O>b+E&&o&&!d&&a([(0,n.Z)({type:v.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[y.O6.OFFSET],viewId:t},y.O6.OFFSET,b+E),(0,n.Z)({type:v.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[y.O6.LIMIT],viewId:t},y.O6.LIMIT,E)])}},O={useGetGuestsInventory:g,useOnScroll:I,useSelectorsGuestsInventory:h}},38252:function(t){t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!("_owner"===s&&e.$$typeof||t(e[s],r[s])))return!1}return!0}return e!=e&&r!=r}},62179:function(t,e,r){r.d(e,{Z:function(){return s}});var n=r(37124),o=r(38252),i=r.n(o)(),s=function(t,e){(0,n.Z)(t,e,i)}}}]);
//# sourceMappingURL=../sourcemaps/5242.3b064b80e655e397e819dde6e4dc99d6.js.map