"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5394,1858,9942],{25394:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p,context:()=>p,GraphCardContext:()=>a,DEFAULT_CONTEXT:()=>d,useGetGraphTally:()=>c,useGraphCardContext:()=>l,useMetricsSelector:()=>v});var i=r(1413),n=r(92950),o=r.n(n),u=r(186),s=r(51858),d=[{settings:{isStandalone:!1,metrics:[],metric:void 0}},r(62834).B.noop],a=o().createContext(d),l=function(){return(0,n.useContext)(a)},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useDispatch,r=void 0===e?u.Cr.reactRedux.useDispatch:e,i=t.useProductGraphTallyQuery,n=void 0===i?s.useProductGraphTallyQuery:i,o=n(),d=r();return function(t){return u.Ak.rhsm.getGraphTally(t,o)(d)}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useGraphCardContext,r=void 0===e?l:e,n=t.useSelectors,o=void 0===n?u.Cr.reactRedux.useSelectors:n,d=t.useProduct,a=void 0===d?s.useProduct:d,c=a(),v=c.productId,p=r(),y=p.settings,f=void 0===y?{}:y,C=f.metrics,h=void 0===C?[]:C,T={},S=o(h.map((function(t){var e=t.id;return function(t){var r;return null===(r=t.graph.tally)||void 0===r?void 0:r["".concat(v,"_").concat(e)]}})),[]),g=!1,P=!1,I=0,x=S.map((function(t,e){var r,n,o=t||{},u=o.pending,s=o.fulfilled,d=o.error,a=o.cancelled;!(!u&&!a)&&(g=!0),s&&(P=!0),d&&(I+=1);var l=(0,i.Z)((0,i.Z)({},h[e]),{},{data:(null==t||null===(r=t.data)||void 0===r?void 0:r.data)||[],meta:(null==t||null===(n=t.data)||void 0===n?void 0:n.meta)||{}});return T[h[e].id]=l,l})),_={data:T,dataSets:x,error:!1,fulfilled:!1,pending:!1};return I===x.length?_.error=!0:g?_.pending=!0:P&&(_.fulfilled=!0),_},p={GraphCardContext:a,DEFAULT_CONTEXT:d,useGetGraphTally:c,useGraphCardContext:l,useMetricsSelector:v}},51858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>E,context:()=>E,ProductViewContext:()=>p,DEFAULT_CONTEXT:()=>v,useProductContext:()=>P,useProductQuery:()=>C,useProductQueryFactory:()=>f,useProductGraphTallyQuery:()=>h,useProductInventoryGuestsQuery:()=>T,useProductInventoryHostsQuery:()=>S,useProductInventorySubscriptionsQuery:()=>g,useProduct:()=>I,useProductGraphConfig:()=>x,useProductInventoryHostsConfig:()=>_,useProductInventorySubscriptionsConfig:()=>G,useProductToolbarConfig:()=>Q});var i=r(45987),n=r(1413),o=r(92950),u=r.n(o),s=r(12723),d=r(1798),a=r(30446),l=r(62834),c=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],v=[{},l.B.noop],p=u().createContext(v),y=function(){return(0,o.useContext)(p)},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useProductViewContext,i=void 0===r?y:r,o=i(),u=o[t],s=o.productId,a=o.viewId,l=d.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[s]}),void 0),c=d.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[a]}),void 0);return(0,n.Z)((0,n.Z)((0,n.Z)({},u),l),c)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,i=t.options;return f(r,i)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,i=t.schemaCheck,o=void 0===i?a.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},C()),f(r,u)),o)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryGuestsQuery":e,i=t.schemaCheck,o=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},C()),f(r,u)),o)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,i=t.schemaCheck,o=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},C()),f(r,u)),o)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,i=t.schemaCheck,o=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return s.VS.setApiQuery((0,n.Z)((0,n.Z)({},C()),f(r,u)),o)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?C:e,u=t.useProductViewContext,s=void 0===u?y:u,d=r(),l=d[a.VN.UOM],v=s(),p=v.initialGraphFilters,f=void 0===p?[]:p,h=v.initialInventoryFilters,T=void 0===h?[]:h,S=v.initialSubscriptionsInventoryFilters,g=void 0===S?[]:S,P=v.productContextFilterUom,I=(0,i.Z)(v,c),x=(0,o.useCallback)((function(){if(!0===P){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,n.Z)((0,n.Z)({},I),{},{initialGraphFilters:f.filter(t),initialInventoryFilters:T.filter(t),initialSubscriptionsInventoryFilters:g.filter(t)})}return(0,n.Z)((0,n.Z)({},I),{},{initialGraphFilters:f,initialInventoryFilters:T,initialSubscriptionsInventoryFilters:g})}),[I,f,T,g,P,l]);return x()},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?y:e,i=r(),n=i.productGroup,o=i.productId,u=i.productLabel,s=i.viewId;return{productGroup:n,productId:o,productLabel:u,viewId:s}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?P:e,i=r(),n=i.initialGraphFilters,o=i.initialGraphSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?P:e,i=r(),n=i.initialInventoryFilters,o=i.initialInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?P:e,i=r(),n=i.initialSubscriptionsInventoryFilters,o=i.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:n,settings:u}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?P:e,i=r(),n=i.initialToolbarFilters,o=i.initialToolbarSettings,u=void 0===o?{}:o;return{filters:n,settings:u}},E={ProductViewContext:p,DEFAULT_CONTEXT:v,useProductContext:P,useQuery:C,useQueryFactory:f,useGraphTallyQuery:h,useInventoryGuestsQuery:T,useInventoryHostsQuery:S,useInventorySubscriptionsQuery:g,useProduct:I,useGraphConfig:x,useInventoryHostsConfig:_,useInventorySubscriptionsConfig:G,useToolbarConfig:Q}}}]);
//# sourceMappingURL=../sourcemaps/5394.af7414092d15a70c73e4fb525351eb71.js.map