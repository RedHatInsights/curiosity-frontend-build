"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[9844],{49844:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z,Select:()=>Z,SelectDirection:()=>y,SelectPosition:()=>O});var i=n(48418),l=n(56949),o=n(90237),a=n(65337),c=n(39576),s=n(80239),r=n(92950),u=n.n(r),d=n(68269),p=n(50361),f=n.n(p),v=n(18446),g=n.n(v),h=n(30998),m=n.n(h),S=n(68630),b=n.n(S),x=n(62834),y=d.DropdownDirection,O=d.DropdownPosition,Z=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isExpanded:!1,options:null,selected:null},e.selectField=u().createRef(),e.onSelect=function(t,n){var i=e.state.options,o=e.props,a=o.id,c=o.name,s=o.onSelect,r=o.variant,u=i,p=u.findIndex((function(e){return e.title===n}));u[p].selected=r===d.SelectVariant.single||!u[p].selected,r===d.SelectVariant.single&&u.forEach((function(e,t){p!==t&&(u[t].selected=!1)}));var v=r===d.SelectVariant.single?n:u.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:u,selected:v},(function(){var t=f()(u),n={id:a,name:c||a,value:t[p].value,selected:r===d.SelectVariant.single&&t[p]||f()(v),selectedIndex:p,type:"select-".concat(r===d.SelectVariant.single?"one":"multiple"),options:t};r===d.SelectVariant.checkbox&&(n.checked=t[p].selected);var i=(0,l.Z)((0,l.Z)({},n),{},{target:(0,l.Z)({},n),currentTarget:(0,l.Z)({},n),persist:x.B.noop});s((0,l.Z)({},i),p,t),r===d.SelectVariant.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,i=t.selectedOptions;g()(e.options,n)&&g()(e.selectedOptions,i)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t,n=this.selectField.current,o=void 0===n?{}:n,a=this.props,c=a.options,s=a.selectedOptions,r=a.variant,u=Object.entries(this.props).filter((function(e){var t=(0,i.Z)(e,1)[0];return/^data-/i.test(t)})),p=b()(c)?Object.entries(c).map((function(e){var t=(0,i.Z)(e,2),n=t[0],o=t[1];return(0,l.Z)((0,l.Z)({},o),{},{title:n,value:o})})):f()(c),v=s&&"string"==typeof s||"number"==typeof s?[s]:s;p.forEach((function(e,t){var n,i=e;("string"==typeof i&&(i={title:e,value:e},p[t]=i),i.text=i.text||i.title,i.textContent=i.textContent||i.title,i.label=i.label||i.title,v)&&(b()(i.value)?(n=m()(v,i.value)>-1)||(n=!!v.find((function(e){return Object.values(i.value).includes(e)}))):n=v.includes(i.value),n||(n=v.includes(i.title)),p[t].selected=n)})),t=r===d.SelectVariant.single?(p.find((function(e){return!0===e.selected}))||{}).title:p.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),(null==o||null===(e=o.parentRef)||void 0===e?void 0:e.current)&&u.forEach((function(e){var t,n=(0,i.Z)(e,2),l=n[0],a=n[1];return null==o||null===(t=o.parentRef)||void 0===t?void 0:t.current.setAttribute(l,a)})),this.setState({options:p,selected:t})}},{key:"render",value:function(){var e=this.state,t=e.options,n=e.selected,i=e.isExpanded,l=this.props,o=l.ariaLabel,a=l.className,c=l.direction,s=l.isDisabled,r=l.isToggleText,p=l.maxHeight,f=l.placeholder,v=l.position,g=l.toggleIcon,h=l.variant,m={direction:c,maxHeight:p};return t&&t.length&&!s||(m.isDisabled=!0),u().createElement("div",{className:"curiosity-select"},u().createElement(d.Select,Object.assign({menuAppendTo:"parent",className:"curiosity-select-pf".concat(r?"":"__no-toggle-text"," ").concat(v===d.DropdownPosition.right?"curiosity-select-pf__position-right":""," ").concat(a),variant:h,"aria-label":o,onToggle:this.onToggle,onSelect:this.onSelect,selections:n,isOpen:i,toggleIcon:g,placeholderText:f,ref:this.selectField},m),t&&t.map((function(e){return u().createElement(d.SelectOption,{key:window.btoa("".concat(e.title,"-").concat(e.value)),id:window.btoa("".concat(e.title,"-").concat(e.value)),value:e.title,"data-value":b()(e.value)&&JSON.stringify([e.value])||e.value,"data-title":e.title})}))||[]))}}]),n}(u().Component);Z.defaultProps={ariaLabel:"Select option",className:"",direction:y.down,id:x.B.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:x.B.noop,options:[],placeholder:"Select option",position:O.left,selectedOptions:null,toggleIcon:null,variant:d.SelectVariant.single}}}]);
//# sourceMappingURL=../sourcemaps/9844.d1adec17e42df273fc75.js.map