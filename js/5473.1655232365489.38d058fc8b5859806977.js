"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5473,2243],{12243:(t,e,r)=>{r.r(e),r.d(e,{default:()=>S,inventoryCardHelpers:()=>S,applyConfigProperty:()=>m,applyHeaderRowCellFilters:()=>g,applySortFilters:()=>D,applyWrappableFilters:()=>b,parseInventoryFilters:()=>Z,parseRowCellsListData:()=>C});var a=r(70885),n=r(1413),o=r(42982),i=r(96985),s=r.n(i),l=r(67304),u=r(68929),c=r.n(u),p=r(68630),d=r.n(p),v=r(3969),f=r(83109),y=r(30446),h=r(76006),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,a=void 0===r?[]:r,n=t;if("function"==typeof t&&(n=t.apply(void 0,(0,o.Z)(Array.isArray(a)&&a||[a]))),"string"==typeof n||"number"==typeof n||s().isValidElement(n))return n},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,a=t.cellData,i=void 0===a?{}:a,u=t.meta,c=void 0===u?{}:u,p=t.session,y=void 0===p?{}:p,g=[],D=[];return r.forEach((function(t){var e,r,a,u,p=t.isStandalone,b=t.id,Z=t.cell,C=t.cellWidth,S=t.header,E=t.onSort,O=t.showEmptyCell,G=void 0===O||O,I=t.sortId,N=t.sortActive,T=t.sortDirection,w=t.transforms,A={title:(0,f.translate)("curiosity-inventory.header",{context:b}),transforms:[]},P={title:""};if(i[b])A.title=null!==(e=null===(r=i[b])||void 0===r?void 0:r.title)&&void 0!==e?e:b,P.title=null!==(a=null===(u=i[b])||void 0===u?void 0:u.value)&&void 0!==a?a:"";else if(!0===p)A.title="",P.title="";else if((h.BM.DEV_MODE||h.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(b,'" not found in "table row" response data.'),i),!1===G)return;if(S){var k=m(S,{params:[(0,n.Z)({},i),(0,n.Z)({},y),(0,n.Z)({},c)]});if(k?A.title=k:d()(S)&&Object.assign(A,(0,n.Z)({},S)),S.tooltip&&A.title){var R=m(S.tooltip,{params:[(0,n.Z)({},i),(0,n.Z)({},y),(0,n.Z)({},c)]});R&&(A.title=s().createElement(v.Tooltip,{content:R},A.title)),delete A.tooltip}}if(Array.isArray(A.transforms)&&(Array.isArray(w)&&(A.transforms=A.transforms.concat((0,o.Z)(w))),"number"==typeof C&&A.transforms.push((0,l.cellWidth)(C))),"function"==typeof E&&(A.onSort=function(t){return E((0,n.Z)({},i),(0,n.Z)((0,n.Z)({},t),{},{id:I||b}))},A.sortActive=N,A.sortDirection=T),Z){var V=m(Z,{params:[(0,n.Z)({},i),(0,n.Z)({},y),(0,n.Z)({},c)]});if(V?P.title=V:d()(Z)&&Object.assign(P,(0,n.Z)({},Z)),Z.tooltip&&P.title){var H=m(Z.tooltip,{params:[(0,n.Z)({},i),(0,n.Z)({},y),(0,n.Z)({},c)]});H&&(P.title=s().createElement(v.Tooltip,{content:H},P.title)),delete P.tooltip}}g.push(A),D.push(P)})),{headerCells:g,bodyCells:D}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,a=t.onSort,o=t.query,i=void 0===o?{}:o,s=r.id,u=r.sortId,p=u||s,d=(0,n.Z)({},r),v=d.onSort||a;return!d.onSort&&a&&(d.onSort=a),v&&"boolean"!=typeof d.sortActive&&null!=i&&i[y.VN.SORT]&&((null==i?void 0:i[y.VN.SORT])===p||c()(null==i?void 0:i[y.VN.SORT])===p)&&(d.sortActive=!0),v&&!d.sortDirection&&null!=i&&i[y.VN.DIRECTION]&&((null==i?void 0:i[y.VN.DIRECTION])===y.hb.DESCENDING?d.sortDirection=l.SortByDirection.desc:d.sortDirection=l.SortByDirection.asc),!v||d.sortActive||null!=i&&i[y.VN.SORT]||!0!==d.isSortDefault||(d.sortActive=!0,d.sortDefaultInitialDirection&&(d.sortDirection=d.sortDefaultInitialDirection)),d},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,a=(0,n.Z)({},r);return Array.isArray(a.transforms)?a.transforms.push(l.wrappable):a.transforms=[l.wrappable],a},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,a=t.onSort,i=t.query,s=void 0===i?{}:i;return(0,o.Z)(r).map((function(t){var e=(0,n.Z)({},t);return e.isSortable&&Object.assign(e,D({filter:e,onSort:a,query:s})),e.isWrappable&&Object.assign(e,b({filter:e})),e}))},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,i=t.cellData,s=void 0===i?{}:i,l=t.meta,u=void 0===l?{}:l,c=t.session,p=void 0===c?{}:c,d=[],v=[],y={};if(Object.entries(s).forEach((function(t){var e=(0,a.Z)(t,2),r=e[0],n=e[1],o=void 0===n?"":n;y[r]={title:(0,f.translate)("curiosity-inventory.header",{context:r}),value:o},d.push(y[r].title),v.push(o||"...")})),null!=r&&r.length&&Object.keys(y).length){d.length=0,v.length=0;var h=g({filters:r,cellData:y,meta:u,session:p}),m=h.headerCells,D=void 0===m?[]:m,b=h.bodyCells,Z=void 0===b?[]:b;d.push.apply(d,(0,o.Z)(D)),v.push.apply(v,(0,o.Z)(Z))}return{columnHeaders:d,cells:v,data:(0,n.Z)({},y)}},S={applyConfigProperty:m,applyHeaderRowCellFilters:g,applySortFilters:D,applyWrappableFilters:b,parseInventoryFilters:Z,parseRowCellsListData:C}},95473:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Z,ConnectedGuestsList:()=>Z,GuestsList:()=>D});var a=r(42982),n=r(4942),o=r(1413),i=r(15671),s=r(43144),l=r(60136),u=r(54062),c=r(96985),p=r.n(c),d=r(67304),v=r(76006),f=r(61072),y=r(1797),h=r(12243),m=r(30446),g=r(78697),D=function(t){(0,l.Z)(r,t);var e=(0,u.Z)(r);function r(){var t;(0,i.Z)(this,r);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return(t=e.call.apply(e,[this].concat(l))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,r=e.currentPage,a=e.limit,i=t.props,s=i.getHostsInventoryGuests,l=i.query,u=i.id;if(u){var c,p=(0,o.Z)((0,o.Z)({},l),{},(c={},(0,n.Z)(c,m.VN.LIMIT,a),(0,n.Z)(c,m.VN.OFFSET,r*a||0),c));s(u,f.IT.parseRhsmQuery(p).inventoryGuestsQuery)}},t.onScroll=function(e){var r=e.target,n=t.state,o=n.currentPage,i=n.limit,s=n.previousData,l=t.props,u=l.numberOfGuests,c=l.pending,p=l.listData,d=r.scrollHeight-r.scrollTop===r.clientHeight;if(u>(o+1)*i&&d&&!c){var v=o+1,f=[].concat((0,a.Z)(s),(0,a.Z)(p||[]));t.setState({previousData:f,currentPage:v})}},t}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,r=e.filterGuestsData,a=e.listData,n=e.pending;if(t>0&&n){var o=p().createElement(y.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==r?void 0:r.length)||(null==a?void 0:a[0])&&Object.keys(a[0]).length||1,colWidth:(null==r?void 0:r.length)&&r.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:d.TableVariant.compact}});return p().createElement("div",{className:"curiosity-table-scroll-loader__custom"},o)}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,r=e.filterGuestsData,n=e.listData,o=e.numberOfGuests,i=e.session,s=[],l=[].concat((0,a.Z)(t),(0,a.Z)(n||[])).map((function(t){var e=Object.assign({},t),a=h.inventoryCardHelpers.parseRowCellsListData({filters:r,cellData:e,session:i}),n=a.columnHeaders,o=a.cells;return s=n,{cells:o}})),u=42*(o+1);return u=u<275&&u||275,p().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(u,"px")}},p().createElement("div",{className:"curiosity-table-scroll-list".concat(u<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),l.length&&p().createElement(g.Table,{borders:!1,variant:d.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:s,rows:l})||null))}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,r=e.error,a=e.filterGuestsData,n=e.listData,o=e.numberOfGuests,i=e.pending,s=e.perPageDefault;return p().createElement("div",{className:"fadein ".concat(r?"blur":"")},i&&0===t&&p().createElement(y.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==a?void 0:a.length)||(null==n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null==a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:o<s?o:s,variant:d.TableVariant.compact}}),(!i&&0===t||t>0)&&this.renderTable())}}]),r}(p().Component);D.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:v.BM.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var b=f.R1.guestsList.makeGuestsList(),Z=(0,f.$j)(b,(function(t){return{getHostsInventoryGuests:function(e,r){return t(f.Ak.rhsm.getHostsInventoryGuests(e,r))}}}))(D)}}]);
//# sourceMappingURL=../sourcemaps/5473.375e983b06ed13d27960d7892e0336c3.js.map