(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[2195,7297],{82195:function(e,t,n){"use strict";n.r(t),n.d(t,{InventoryCard:function(){return C},default:function(){return C}});var r=n(1413),o=n(29439),u=n(92950),s=n.n(u),i=n(62179),a=n(76871),c=n(21242),l=n(65550),d=n(98944),v=n(51858),f=n(76006),y=n(78697),I=n(1797),S=n(91339),p=n(15242),E=n(12243),O=n(68900),g=n(89517),m=n(65020),h=n(46262),P=n(83109),T=n(42896),C=function(e){var t=e.cardActions,n=e.isDisabled,d=e.perPageDefault,v=e.t,f=e.useGetInventory,g=e.useOnPage,P=e.useOnColumnSort,T=e.useProduct,C=e.useProductInventoryConfig,_=e.useProductInventoryQuery,D=e.useSession,b=(0,u.useState)({columnHeaders:[],rows:[]}),R=(0,o.Z)(b,2),N=R[0],H=R[1],G=D(),M=_(),Z=g(),Q=P(),Y=T().productId,w=C(),x=w.filters,F=w.settings,V=f({isDisabled:n}),k=V.error,j=V.fulfilled,L=V.pending,A=V.data,U=void 0===A?{}:A,B=U.data,q=void 0===B?[]:B,J=U.meta,W=void 0===J?{}:J;if((0,i.Z)((function(){if(j&&q.length){var e=[],t=q.map((function(t){var n=Object.assign({},t),o=E.inventoryCardHelpers.parseRowCellsListData({filters:E.inventoryCardHelpers.parseInventoryFilters({filters:x,onSort:Q,query:M}),cellData:n,meta:W,session:G,productId:Y}),u=o.columnHeaders,i=o.cells;e=u;var a=null==n?void 0:n.subscriptionManagerId,c=null==n?void 0:n.numberOfGuests;return{cells:i,expandedContent:("function"==typeof(null==F?void 0:F.hasSubTable)?F.hasSubTable((0,r.Z)({},n),(0,r.Z)({},G)):c>0&&a)&&s().createElement(p.InventoryGuests,{key:"guests-".concat(a),numberOfGuests:c,id:a})||void 0}}));H((function(){return{columnHeaders:e,rows:t}}))}}),[x,j,q]),n)return s().createElement(c.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(c.CardBody,null,s().createElement(c.Bullseye,null,v("curiosity-inventory.tab",{context:"disabled"}))));var z=null==W?void 0:W.count,$=M[h.O6.LIMIT]||d,K=M[h.O6.OFFSET],X=m.paginationHelpers.isLastPage(K,$,z),ee=!0===j&&z<$&&"bodyMinHeight-".concat($,"-resize")||!0===j&&X&&"bodyMinHeight-".concat($,"-resize")||!0===k&&"bodyMinHeight-".concat($,"-resize")||"bodyMinHeight-".concat($);return s().createElement(c.Card,{className:"curiosity-inventory-card"},s().createElement(S.MinHeight,{key:"headerMinHeight",updateOnContent:!0},s().createElement(c.CardHeader,{className:k?"hidden":"","aria-hidden":k||!1},t,s().createElement(c.CardActions,{className:z?"":"transparent","aria-hidden":!z||!1},s().createElement(O.default,{isCompact:!0,isDisabled:L||k,itemCount:z,offset:K,onPage:Z,onPerPage:Z,perPage:$})))),s().createElement(S.MinHeight,{key:ee,updateOnContent:!0},s().createElement(c.CardBody,null,s().createElement("div",{className:(k?"blur":L&&"fadein")||""},L&&s().createElement(I.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==x?void 0:x.length)||(null==q?void 0:q[0])&&Object.keys(q[0]).length||1,colWidth:(null==x?void 0:x.length)&&x.map((function(e){return e.cellWidth}))||[],rowCount:(null==q?void 0:q.length)||$,variant:a.TableVariant.compact}}),!L&&s().createElement(y.default,{borders:!0,variant:a.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:N.columnHeaders,rows:N.rows})))),s().createElement(S.MinHeight,{key:"footerMinHeight",updateOnContent:!0},s().createElement(c.CardFooter,{className:(k?"hidden":!z&&"transparent")||"","aria-hidden":k||!z||!1},s().createElement(l.Z,{isFooter:!0},s().createElement(O.default,{dropDirection:"up",isDisabled:L||k,itemCount:z,offset:K,onPage:Z,onPerPage:Z,perPage:$})))))};C.defaultProps={cardActions:s().createElement(c.CardHeaderMain,null,s().createElement(g.ToolbarFieldDisplayName,null)),isDisabled:f.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:P.translate,useGetInventory:T.useGetInstancesInventory,useOnPage:T.useOnPageInstances,useOnColumnSort:T.useOnColumnSortInstances,useProduct:v.useProduct,useProductInventoryConfig:v.useProductInventoryHostsConfig,useProductInventoryQuery:v.useProductInventoryHostsQuery,useSession:d.useSession}},42896:function(e,t,n){"use strict";n.r(t),n.d(t,{context:function(){return p},default:function(){return p},useGetHostsInventory:function(){return v},useGetInstancesInventory:function(){return f},useOnColumnSortHosts:function(){return I},useOnColumnSortInstances:function(){return S},useOnPageInstances:function(){return y}});var r=n(4942),o=n(17297),u=n(68929),s=n.n(u),i=n(76871),a=n(61072),c=n(51858),l=n(46262),d=n(76006),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,u=void 0===r?a.Ak.rhsm.getHostsInventory:r,s=e.useDispatch,i=void 0===s?a.Cr.reactRedux.useDispatch:s,l=e.useProduct,d=void 0===l?c.useProduct:l,v=e.useProductInventoryQuery,f=void 0===v?c.useProductInventoryHostsQuery:v,y=e.useSelectorsResponse,I=void 0===y?a.Cr.reactRedux.useSelectorsResponse:y,S=d(),p=S.productId,E=f(),O=i(),g=I((function(e){var t,n=e.inventory;return null==n||null===(t=n.hostsInventory)||void 0===t?void 0:t[p]})),m=g.error,h=g.cancelled,P=g.fulfilled,T=g.pending,C=g.data;return(0,o.Z)((function(){n||u(p,E)(O)}),[O,n,p,E]),{error:m,fulfilled:P,pending:T||h||!1,data:1===(null==C?void 0:C.length)&&C[0]||C||{}}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,u=void 0===r?a.Ak.rhsm.getInstancesInventory:r,s=e.useDispatch,i=void 0===s?a.Cr.reactRedux.useDispatch:s,l=e.useProduct,d=void 0===l?c.useProduct:l,v=e.useProductInventoryQuery,f=void 0===v?c.useProductInventoryHostsQuery:v,y=e.useSelectorsResponse,I=void 0===y?a.Cr.reactRedux.useSelectorsResponse:y,S=d(),p=S.productId,E=f(),O=i(),g=I((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[p]})),m=g.error,h=g.cancelled,P=g.fulfilled,T=g.pending,C=g.data;return(0,o.Z)((function(){n||u(p,E)(O)}),[O,n,p,E]),{error:m,fulfilled:P,pending:T||h||!1,data:1===(null==C?void 0:C.length)&&C[0]||C||{}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?a.Cr.reactRedux.useDispatch:t,o=e.useProduct,u=void 0===o?c.useProduct:o,s=u(),i=s.productId,d=n();return function(e){var t=e.offset,n=e.perPage;d([(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.OFFSET],viewId:i},l.O6.OFFSET,t),(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.LIMIT],viewId:i},l.O6.LIMIT,n)])}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?l.$k:t,o=e.useDispatch,u=void 0===o?a.Cr.reactRedux.useDispatch:o,v=e.useProduct,f=void 0===v?c.useProduct:v,y=f(),I=y.productId,S=u();return function(e,t){var o,u=t.direction,c=t.id,v=Object.values(n).find((function(e){return e===c||s()(e)===c}));v?(o=u===i.SortByDirection.desc?l.PQ.DESCENDING:l.PQ.ASCENDING,S([(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.DIRECTION],viewId:I},l.O6.DIRECTION,o),(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.SORT],viewId:I},l.O6.SORT,v)])):(d.BM.DEV_MODE||d.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(c," is allowed."))}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?l.xB:t,o=e.useDispatch,u=void 0===o?a.Cr.reactRedux.useDispatch:o,v=e.useProduct,f=void 0===v?c.useProduct:v,y=f(),I=y.productId,S=u();return function(e,t){var o,u=t.direction,c=t.id,v=Object.values(n).find((function(e){return e===c||s()(e)===c}));v?(o=u===i.SortByDirection.desc?l.PQ.DESCENDING:l.PQ.ASCENDING,S([(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.DIRECTION],viewId:I},l.O6.DIRECTION,o),(0,r.Z)({type:a.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[l.O6.SORT],viewId:I},l.O6.SORT,v)])):(d.BM.DEV_MODE||d.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(c," is allowed."))}},p={useGetHostsInventory:v,useGetInstancesInventory:f,useOnPageInstances:y,useOnColumnSortHosts:I,useOnColumnSortInstances:S}},15242:function(e,t,n){"use strict";n.r(t),n.d(t,{InventoryGuests:function(){return f},default:function(){return f}});var r=n(92950),o=n.n(r),u=n(76871),s=n(98944),i=n(51858),a=n(1797),c=n(12243),l=n(46262),d=n(78697),v=n(32293),f=function(e){var t=e.defaultPerPage,n=e.id,r=e.numberOfGuests,s=e.useGetGuestsInventory,i=e.useOnScroll,v=e.useProductInventoryGuestsQuery,f=e.useProductInventoryGuestsConfig,y=(0,e.useSession)(),I=f().filters,S=s(n),p=S.pending,E=S.data,O=void 0===E?[]:E,g=i(n),m=v({options:{overrideId:n}})[l.O6.OFFSET],h=[],P=O.map((function(e){var t=Object.assign({},e),n=c.inventoryCardHelpers.parseRowCellsListData({filters:I,cellData:t,session:y}),r=n.columnHeaders,o=n.cells;return h=r,{cells:o}})),T=42*(r+1);return T=T<275&&T||275,o().createElement("div",{className:"fadein"},o().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(T,"px")}},o().createElement("div",{className:"curiosity-table-scroll-list".concat(T<275?"__no-scroll":""),onScroll:g},function(e){if(p){var n=0;e&&(n=r<t?r:t);var s=o().createElement(a.Loader,{variant:"table",tableProps:{borders:!1,className:e?"curiosity-guests-list":void 0,colCount:(null==I?void 0:I.length)||(null==O?void 0:O[0])&&Object.keys(O[0]).length||1,colWidth:(null==I?void 0:I.length)&&I.map((function(e){return e.cellWidth}))||[],rowCount:n,variant:u.TableVariant.compact}});return o().createElement("div",{className:"curiosity-table-scroll-loader__custom"},s)}return null}(0===m),P.length&&o().createElement(d.Table,{borders:!1,variant:u.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:h,rows:P})||null)))};f.defaultProps={defaultPerPage:5,useGetGuestsInventory:v.useGetGuestsInventory,useOnScroll:v.useOnScroll,useProductInventoryGuestsConfig:i.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:i.useProductInventoryGuestsQuery,useSession:s.useSession}},32293:function(e,t,n){"use strict";n.r(t),n.d(t,{context:function(){return O},default:function(){return O},useGetGuestsInventory:function(){return p},useOnScroll:function(){return E},useSelectorsGuestsInventory:function(){return S}});var r=n(4942),o=n(1413),u=n(93433),s=n(45987),i=n(29439),a=n(92950),c=n(17297),l=n(62179),d=n(77823),v=n(61072),f=n(51858),y=n(46262),I=["data","fulfilled"],S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useSelectorsResponse,r=void 0===n?v.Cr.reactRedux.useSelectorsResponse:n,o=r((function(t){var n,r=t.inventory;return null==r||null===(n=r.hostsGuests)||void 0===n?void 0:n[e]})),u=o.error,s=o.cancelled,i=o.fulfilled,a=o.pending,c=o.data;return{error:u,fulfilled:i,pending:a||s||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getInventory,r=void 0===n?v.Ak.rhsm.getHostsInventoryGuests:n,d=t.useDispatch,y=void 0===d?v.Cr.reactRedux.useDispatch:d,p=t.useProductInventoryQuery,E=void 0===p?f.useProductInventoryGuestsQuery:p,O=t.useSelectorsInventory,g=void 0===O?S:O,m=(0,a.useState)([]),h=(0,i.Z)(m,2),P=h[0],T=h[1],C=E({options:{overrideId:e}}),_=y(),D=g(e),b=D.data,R=void 0===b?{}:b,N=D.fulfilled,H=void 0!==N&&N,G=(0,s.Z)(D,I),M=R.data,Z=void 0===M?[]:M;return(0,c.Z)((function(){r(e,C)(_)}),[_,e,C]),(0,l.Z)((function(){H&&T((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(Z))}))}),[H,Z]),(0,o.Z)({data:P,fulfilled:H},G)},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useDispatch,o=void 0===n?v.Cr.reactRedux.useDispatch:n,u=t.useSelectorsInventory,s=void 0===u?S:u,i=t.useProductInventoryQuery,a=void 0===i?f.useProductInventoryGuestsQuery:i,c=o(),l=s(e),I=l.pending,p=l.data,E=void 0===p?{}:p,O=(null==E?void 0:E.meta)||{},g=O.count,m=a({options:{overrideId:e}}),h=m[y.O6.LIMIT],P=m[y.O6.OFFSET];return(0,d.Z)((function(){c([{type:v.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e},{type:v.JD.inventory.CLEAR_INVENTORY_GUESTS,id:e}])})),function(t){var n=t.target,o=n.scrollHeight-n.scrollTop===n.clientHeight;g>P+h&&o&&!I&&c([(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[y.O6.OFFSET],viewId:e},y.O6.OFFSET,P+h),(0,r.Z)({type:v.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[y.O6.LIMIT],viewId:e},y.O6.LIMIT,h)])}},O={useGetGuestsInventory:p,useOnScroll:E,useSelectorsGuestsInventory:S}},38252:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,u;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(u=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=r;0!=o--;){var s=u[o];if(!("_owner"===s&&t.$$typeof||e(t[s],n[s])))return!1}return!0}return t!=t&&n!=n}},99376:function(e,t){var n=Object.keys;t.D=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var r=n(e),o=r.length,u=0;u<o;u++)if(!(r[u]in t))return!1;for(u=0;u<o;u++)if(e[r[u]]!==t[r[u]])return!1;return o===n(t).length}},37124:function(e,t,n){"use strict";var r=n(92950);t.Z=function(e,t,n){var o=(0,r.useRef)(void 0);o.current&&n(t,o.current)||(o.current=t),(0,r.useEffect)(e,o.current)}},62179:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(37124),o=n(38252),u=n.n(o)(),s=function(e,t){(0,r.Z)(e,t,u)}},17297:function(e,t,n){"use strict";var r=n(99376),o=n(37124),u=function(e,t){return e.every((function(e,n){return(0,r.D)(e,t[n])}))};t.Z=function(e,t){(0,o.Z)(e,t,u)}}}]);
//# sourceMappingURL=../sourcemaps/2195.js.map