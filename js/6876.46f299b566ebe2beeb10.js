"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[6876],{86876:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R,ConnectedInventoryList:()=>R,InventoryList:()=>P});var a=n(56949),r=n(15274),i=n(90237),o=n(65337),s=n(39576),l=n(33215),d=n(92950),c=n.n(d),u=n(18446),p=n.n(u),y=n(86445),v=n(21012),f=n(32875),m=n(68929),E=n.n(m),I=n(76006),h=n(186),g=n(78697),D=n(1797),O=n(91339),S=n(63056),T=n(44822),b=n(68900),C=n(89517),_=n(65020),M=n(46262),N=n(83109),P=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onColumnSort=function(t,n){var a,i=n.direction,o=n.id,s=e.props.productId,l=Object.values(M.xB).find((function(e){return e===o||E()(e)===o}));if(l){switch(i){case y.SortByDirection.desc:a=M.PQ.DESCENDING;break;default:a=M.PQ.ASCENDING}h.h.dispatch([(0,r.Z)({type:h.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.DIRECTION],viewId:s},M.O6.DIRECTION,a),(0,r.Z)({type:h.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.SORT],viewId:s},M.O6.SORT,l)])}else(I.BM.DEV_MODE||I.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(o," is allowed."))},e.onPage=function(t){var n=t.offset,a=t.perPage,i=e.props.productId;h.h.dispatch([(0,r.Z)({type:h.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.OFFSET],viewId:i},M.O6.OFFSET,n),(0,r.Z)({type:h.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[M.O6.LIMIT],viewId:i},M.O6.LIMIT,a)])},e.onUpdateInventoryData=function(){var t=e.props,n=t.getInstancesInventory,a=t.isDisabled,r=t.productId,i=t.query;!a&&r&&n(r,i)},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.productId,a=t.query;n===e.productId&&p()(a,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,n=t.filterGuestsData,r=t.filterInventoryData,i=t.data,o=t.query,s=t.session,l=t.settings,d=[],u=i.map((function(t){var i=Object.assign({},t),u=T.inventoryListHelpers.parseRowCellsListData({filters:T.inventoryListHelpers.parseInventoryFilters({filters:r,onSort:e.onColumnSort,query:o}),cellData:i,session:s}),p=u.columnHeaders,y=u.cells;d=p;var v=null==i?void 0:i.subscriptionManagerId,f=(null==i?void 0:i.numberOfGuests)>0&&v;return"function"==typeof(null==l?void 0:l.hasGuests)&&(f=l.hasGuests((0,a.Z)({},i),(0,a.Z)({},s))),{cells:y,expandedContent:f&&c().createElement(S.default,{key:v,filterGuestsData:n,numberOfGuests:null==i?void 0:i.numberOfGuests,id:v,query:o})||void 0}}));return c().createElement(g.default,{borders:!0,variant:y.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:d,rows:u})}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.filterInventoryData,a=e.fulfilled,r=e.isDisabled,i=e.data,o=e.meta,s=e.pending,l=e.perPageDefault,d=e.query,u=e.t,p=e.viewId;if(r)return c().createElement(v.Card,{className:"curiosity-inventory-card__disabled"},c().createElement(v.CardBody,null,c().createElement(v.Bullseye,null,u("curiosity-inventory.tab",{context:"disabled"}))));var m=null==o?void 0:o.count,E=d[M.O6.LIMIT]||l,I=d[M.O6.OFFSET],h=_.paginationHelpers.isLastPage(I,E,m),g=!0===a&&m<E&&"bodyMinHeight-".concat(E,"-resize")||!0===a&&h&&"bodyMinHeight-".concat(E,"-resize")||!0===t&&"bodyMinHeight-".concat(E,"-resize")||"bodyMinHeight-".concat(E);return c().createElement(v.Card,{className:"curiosity-inventory-card"},c().createElement(O.MinHeight,{key:"headerMinHeight",updateOnContent:!0},c().createElement(v.CardHeader,{className:t?"hidden":"","aria-hidden":t||!1},c().createElement(v.CardHeaderMain,null,c().createElement(C.ToolbarFieldDisplayName,{viewId:p})),c().createElement(v.CardActions,{className:m?"":"transparent","aria-hidden":!m||!1},c().createElement(b.default,{isCompact:!0,isDisabled:s||t,itemCount:m,offset:I,onPage:this.onPage,onPerPage:this.onPage,perPage:E})))),c().createElement(O.MinHeight,{key:g,updateOnContent:!0},c().createElement(v.CardBody,null,c().createElement("div",{className:(t?"blur":s&&"fadein")||""},s&&c().createElement(D.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==n?void 0:n.length)||(null==i?void 0:i[0])&&Object.keys(i[0]).length||1,colWidth:(null==n?void 0:n.length)&&n.map((function(e){return e.cellWidth}))||[],rowCount:(null==i?void 0:i.length)||E,variant:y.TableVariant.compact}}),!s&&this.renderTable()))),c().createElement(O.MinHeight,{key:"footerMinHeight",updateOnContent:!0},c().createElement(v.CardFooter,{className:(t?"hidden":!m&&"transparent")||"","aria-hidden":t||!m||!1},c().createElement(f.Z,{isFooter:!0},c().createElement(b.default,{dropDirection:"up",isDisabled:s||t,itemCount:m,offset:I,onPage:this.onPage,onPerPage:this.onPage,perPage:E})))))}}]),n}(c().Component);P.defaultProps={data:[],error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getInstancesInventory:I.BM.noop,isDisabled:I.BM.UI_DISABLED_TABLE_INSTANCES,meta:{count:0},pending:!1,perPageDefault:10,session:{},settings:{},t:N.translate,viewId:"inventoryInstancesList"};var H=h.R1.instancesList.makeInstancesList(),R=(0,h.$j)(H,(function(e){return{getInstancesInventory:function(t,n){return e(h.Ak.rhsm.getInstancesInventory(t,n))}}}))(P)}}]);
//# sourceMappingURL=../sourcemaps/6876.05d8e6472d2d95a9d427de3ee6333137.js.map