"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7585,1824],{87585:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A,BannerMessages:()=>A});var a=s(4942),n=s(1413),r=s(70885),i=s(96985),o=s.n(i),u=s(75857),l=s(36100),c=s(15451),d=s(31824),g=s(76006),v=s(83109),A=function(e){var t=e.messages,s=e.useGetAppMessages,l=(0,i.useState)({}),d=(0,r.Z)(l,2),g=d[0],v=d[1],A=(0,i.useState)([]),p=(0,r.Z)(A,2),f=p[0],M=p[1],m=s().data;return(0,c.Z)((function(){var e=[];t.length&&Object.entries(m).forEach((function(s){var a=(0,r.Z)(s,2),i=a[0],o=a[1];if(!0!==g[i]&&!0===o){var u=t.find((function(e){return e.id===i}));u&&e.push((0,n.Z)({key:i},u))}})),M(e.map((function(e){var t=e.key,s=e.message,r=e.title,i=e.variant,l=void 0===i?u.AlertVariant.info:i,c=o().createElement(u.AlertActionCloseButton,{onClose:function(){return v((0,n.Z)((0,n.Z)({},g),{},(0,a.Z)({},t,!0)))}});return o().createElement(u.Alert,{actionClose:c,key:t,title:r,variant:l},s)})))}),[m,g,t]),null!=f&&f.length?o().createElement("div",{className:"curiosity-banner-messages"},f):null};A.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,v.translate)("curiosity-banner.dataMismatchTitle"),message:(0,v.translate)("curiosity-banner.dataMismatchMessage",{context:""!==g.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:g.BM.UI_DISPLAY_NAME},[o().createElement(u.Button,{isInline:!0,component:"a",variant:"link",icon:o().createElement(l.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:g.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useGetAppMessages:d.useGetAppMessages}},31824:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d,context:()=>d,useGetAppMessages:()=>c});var a=s(4942),n=s(1413),r=s(15451),i=s(61072),o=s(51858),u=s(76006),l=s(46262),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getMessageReports,s=void 0===t?i.Ak.rhsm.getMessageReports:t,c=e.useDispatch,d=void 0===c?i.Cr.reactRedux.useDispatch:c,g=e.useProduct,v=void 0===g?o.useProduct:g,A=e.useProductQuery,p=void 0===A?o.useProductQuery:A,f=e.useSelectorsResponse,M=void 0===f?i.Cr.reactRedux.useSelectorsResponse:f,m=v(),E=m.productId,R=p(),_=d(),h=M({id:"messages",selector:function(e){var t,s=e.messages;return null==s||null===(t=s.report)||void 0===t?void 0:t[E]}}),C=h.error,I=h.fulfilled,S=h.pending,T=h.data;(0,r.Z)((function(){if(E){var e,t=u.i3.getRangedDateTime("CURRENT"),r=t.startDate,i=t.endDate,o=(0,n.Z)((0,n.Z)({},R),{},(e={},(0,a.Z)(e,l.O6.GRANULARITY,l.U9.DAILY),(0,a.Z)(e,l.O6.START_DATE,r.toISOString()),(0,a.Z)(e,l.O6.END_DATE,i.toISOString()),e));s(E,o)(_)}}),[E,R]);var Z={cloudigradeMismatch:!1};if(I){var D,O,N=T||{},P=N.messages,k=void 0===P?{}:P;Z.cloudigradeMismatch=void 0!==(null==k||null===(D=k.data)||void 0===D||null===(O=D.reverse())||void 0===O?void 0:O.find((function(e){return!0===e[l.pM.RHSM_API_RESPONSE_TALLY_META_TYPES.HAS_CLOUDIGRADE_MISMATCH]})))}return{error:C,fulfilled:I,pending:S,data:(0,n.Z)({},Z)}},d={useGetAppMessages:c}}}]);
//# sourceMappingURL=../sourcemaps/7585.742b9ba8f6ff6450e4192bcf2ba7fbe3.js.map