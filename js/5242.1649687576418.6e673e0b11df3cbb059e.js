(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5242,1858,2243,2293,9942,3969],{12243:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>b,inventoryCardHelpers:()=>b,applyConfigProperty:()=>I,applyHeaderRowCellFilters:()=>S,applySortFilters:()=>g,applyWrappableFilters:()=>E,parseInventoryFilters:()=>T,parseRowCellsListData:()=>C});var n=r(70885),o=r(1413),i=r(42982),s=r(96985),u=r.n(s),l=r(67304),a=r(68929),c=r.n(a),d=r(68630),v=r.n(d),p=r(3969),y=r(83109),f=r(30446),h=r(76006),I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,n=void 0===r?[]:r,o=t;if("function"==typeof t&&(o=t.apply(void 0,(0,i.Z)(Array.isArray(n)&&n||[n]))),"string"==typeof o||"number"==typeof o||u().isValidElement(o))return o},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[],s=[];return t.forEach((function(t){var a,c,d,f,S=t.id,g=t.cell,E=t.cellWidth,T=t.header,C=t.onSort,b=t.showEmptyCell,m=void 0===b||b,P=t.sortId,Z=t.sortActive,O=t.sortDirection,G=t.transforms,_={title:(0,y.translate)("curiosity-inventory.header",{context:S}),transforms:[]},R={title:""};if(e[S])_.title=null!==(a=null===(c=e[S])||void 0===c?void 0:c.title)&&void 0!==a?a:S,R.title=null!==(d=null===(f=e[S])||void 0===f?void 0:f.value)&&void 0!==d?d:"";else if((h.BM.DEV_MODE||h.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(S,'" not found in "table row" response data.'),e),!1===m)return;if(T){var F=I(T,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});if(F?_.title=F:v()(T)&&Object.assign(_,(0,o.Z)({},T)),T.tooltip&&_.title){var D=I(T.tooltip,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});D&&(_.title=u().createElement(p.Tooltip,{content:D},_.title)),delete _.tooltip}}if(Array.isArray(_.transforms)&&(Array.isArray(G)&&(_.transforms=_.transforms.concat((0,i.Z)(G))),"number"==typeof E&&_.transforms.push((0,l.cellWidth)(E))),"function"==typeof C&&(_.onSort=function(t){return C((0,o.Z)({},e),(0,o.Z)((0,o.Z)({},t),{},{id:P||S}))},_.sortActive=Z,_.sortDirection=O),g){var Q=I(g,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});if(Q?R.title=Q:v()(g)&&Object.assign(R,(0,o.Z)({},g)),g.tooltip&&R.title){var N=I(g.tooltip,{params:[(0,o.Z)({},e),(0,o.Z)({},r)]});N&&(R.title=u().createElement(p.Tooltip,{content:N},R.title)),delete R.tooltip}}n.push(_),s.push(R)})),{headerCells:n,bodyCells:s}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=t.onSort,i=t.query,s=void 0===i?{}:i,u=r.id,a=r.sortId,d=a||u,v=(0,o.Z)({},r),p=v.onSort||n;return!v.onSort&&n&&(v.onSort=n),p&&"boolean"!=typeof v.sortActive&&null!=s&&s[f.VN.SORT]&&((null==s?void 0:s[f.VN.SORT])===d||c()(null==s?void 0:s[f.VN.SORT])===d)&&(v.sortActive=!0),p&&!v.sortDirection&&null!=s&&s[f.VN.DIRECTION]&&((null==s?void 0:s[f.VN.DIRECTION])===f.hb.DESCENDING?v.sortDirection=l.SortByDirection.desc:v.sortDirection=l.SortByDirection.asc),!p||v.sortActive||null!=s&&s[f.VN.SORT]||!0!==v.isSortDefault||(v.sortActive=!0,v.sortDefaultInitialDirection&&(v.sortDirection=v.sortDefaultInitialDirection)),v},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?{}:e,n=(0,o.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(l.wrappable):n.transforms=[l.wrappable],n},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,n=t.onSort,s=t.query,u=void 0===s?{}:s;return(0,i.Z)(r).map((function(t){var e=(0,o.Z)({},t);return e.isSortable&&Object.assign(e,g({filter:e,onSort:n,query:u})),e.isWrappable&&Object.assign(e,E({filter:e})),e}))},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?[]:e,s=t.cellData,u=void 0===s?{}:s,l=t.session,a=void 0===l?{}:l,c=[],d=[],v={};if(Object.entries(u).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],o=e[1],i=void 0===o?"":o;v[r]={title:(0,y.translate)("curiosity-inventory.header",{context:r}),value:i},c.push(v[r].title),d.push(i||"...")})),null!=r&&r.length&&Object.keys(v).length){c.length=0,d.length=0;var p=S(r,v,a),f=p.headerCells,h=void 0===f?[]:f,I=p.bodyCells,g=void 0===I?[]:I;c.push.apply(c,(0,i.Z)(h)),d.push.apply(d,(0,i.Z)(g))}return{columnHeaders:c,cells:d,data:(0,o.Z)({},v)}},b={applyConfigProperty:I,applyHeaderRowCellFilters:S,applySortFilters:g,applyWrappableFilters:E,parseInventoryFilters:T,parseRowCellsListData:C}},15242:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>f,InventoryGuests:()=>f});var n=r(42982),o=r(70885),i=r(96985),s=r.n(i),u=r(67304),l=r(98944),a=r(51858),c=r(1797),d=r(12243),v=r(46262),p=r(78697),y=r(32293),f=function(t){var e,r,l,a=t.defaultPerPage,y=t.id,f=t.numberOfGuests,h=t.useGetGuestsInventory,I=t.useOnScroll,S=t.useProductInventoryGuestsQuery,g=t.useProductInventoryGuestsConfig,E=t.useSession,T=(0,i.useState)([]),C=(0,o.Z)(T,2),b=C[0],m=C[1],P=E(),Z=g().filters,O=S({options:{overrideId:y}})[v.O6.OFFSET],G=h(y),_=G.error,R=G.pending,F=G.data,D=(void 0===F?{}:F).data,Q=void 0===D?[]:D,N=I(y,(function(){var t=[].concat((0,n.Z)(b),(0,n.Z)(Q||[]));m(t)}));return s().createElement("div",{className:"fadein ".concat(_?"blur":"")},R&&0===O&&s().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==Z?void 0:Z.length)||(null==Q?void 0:Q[0])&&Object.keys(Q[0]).length||1,colWidth:(null==Z?void 0:Z.length)&&Z.map((function(t){return t.cellWidth}))||[],rowCount:f<a?f:a,variant:u.TableVariant.compact}}),(!R&&0===O||O>0)&&(e=[],r=[].concat((0,n.Z)(b),(0,n.Z)(Q||[])).map((function(t){var r=Object.assign({},t),n=d.inventoryCardHelpers.parseRowCellsListData({filters:Z,cellData:r,session:P}),o=n.columnHeaders,i=n.cells;return e=o,{cells:i}})),l=(l=42*(f+1))<275&&l||275,s().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(l,"px")}},s().createElement("div",{className:"curiosity-table-scroll-list".concat(l<275?"__no-scroll":""),onScroll:N},function(){if(O>0&&R){var t=s().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==Z?void 0:Z.length)||(null==Q?void 0:Q[0])&&Object.keys(Q[0]).length||1,colWidth:(null==Z?void 0:Z.length)&&Z.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:u.TableVariant.compact}});return s().createElement("div",{className:"curiosity-table-scroll-loader__custom"},t)}return null}(),r.length&&s().createElement(p.Table,{borders:!1,variant:u.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:e,rows:r})||null))))};f.defaultProps={defaultPerPage:5,useGetGuestsInventory:y.useGetGuestsInventory,useOnScroll:y.useOnScroll,useProductInventoryGuestsConfig:a.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:a.useProductInventoryGuestsQuery,useSession:l.useSession}},32293:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>p,context:()=>p,useGetGuestsInventory:()=>d,useOnScroll:()=>v,useSelectorsGuestsInventory:()=>c});var n=r(4942),o=r(1413),i=r(15451),s=r(77823),u=r(20169),l=r(51858),a=r(46262),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useSelectorsResponse,n=void 0===r?u.Cr.reactRedux.useSelectorsResponse:r,o=n((function(e){var r,n=e.inventory;return null==n||null===(r=n.hostsGuests)||void 0===r?void 0:r[t]})),i=o.error,s=o.cancelled,l=o.fulfilled,a=o.pending,c=o.data;return{error:i,fulfilled:l,pending:a||s||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getInventory,n=void 0===r?u.Ak.rhsm.getHostsInventoryGuests:r,s=e.useDispatch,a=void 0===s?u.Cr.reactRedux.useDispatch:s,d=e.useProductInventoryQuery,v=void 0===d?l.useProductInventoryGuestsQuery:d,p=e.useSelectorsInventory,y=void 0===p?c:p,f=v({options:{overrideId:t}}),h=a(),I=y(t);return(0,i.Z)((function(){n(t,f)(h)}),[h,t,f]),(0,o.Z)({},I)},v=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.useDispatch,i=void 0===o?u.Cr.reactRedux.useDispatch:o,d=r.useSelectorsInventory,v=void 0===d?c:d,p=r.useProductInventoryQuery,y=void 0===p?l.useProductInventoryGuestsQuery:p,f=i(),h=v(t),I=h.pending,S=h.data,g=void 0===S?{}:S,E=(null==g?void 0:g.meta)||{},T=E.count,C=y({options:{overrideId:t}}),b=C[a.O6.LIMIT],m=C[a.O6.OFFSET];return(0,s.Z)((function(){f([{type:u.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:t}])})),function(r){var o=r.target,i=o.scrollHeight-o.scrollTop===o.clientHeight;T>(m+1)*b&&i&&!I&&("function"==typeof e&&e(r),f([(0,n.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[a.O6.OFFSET],viewId:t},a.O6.OFFSET,m+1),(0,n.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[a.O6.LIMIT],viewId:t},a.O6.LIMIT,b)]))}},p={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}},51858:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>R,context:()=>R,ProductViewContext:()=>f,DEFAULT_CONTEXT:()=>y,useProductContext:()=>b,useProductQuery:()=>S,useProductQueryFactory:()=>I,useProductGraphTallyQuery:()=>g,useProductInventoryGuestsQuery:()=>E,useProductInventoryHostsQuery:()=>T,useProductInventorySubscriptionsQuery:()=>C,useProduct:()=>m,useProductGraphConfig:()=>P,useProductInventoryGuestsConfig:()=>Z,useProductInventoryHostsConfig:()=>O,useProductInventorySubscriptionsConfig:()=>G,useProductToolbarConfig:()=>_});var n=r(45987),o=r(4942),i=r(1413),s=r(96985),u=r.n(s),l=r(12723),a=r(1798),c=r(30446),d=r(46262),v=r(62834),p=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],y=[{},v.B.noop],f=u().createContext(y),h=function(){return(0,s.useContext)(f)},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,n=e.useProductViewContext,o=void 0===n?h:n,s=o(),u=s[t],l=s.productId,c=s.viewId,d=a.Cr.reactRedux.useSelector((function(e){var n,o=e.view;return null==o||null===(n=o[t])||void 0===n?void 0:n[r]}),void 0),v=a.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[l]}),void 0),p=a.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[c]}),void 0);return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u),d),v),p)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,n=t.options;return I(r,n)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,n=t.schemaCheck,o=void 0===n?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:n,s=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},S()),I(r,s)),o)},E=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,n=void 0===r?100:r,s=e.defaultOffset,u=void 0===s?0:s,a=e.queryType,v=void 0===a?"inventoryGuestsQuery":a,p=e.schemaCheck,y=void 0===p?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:p,f=e.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)((t={},(0,o.Z)(t,d.O6.LIMIT,n),(0,o.Z)(t,d.O6.OFFSET,u),t),S()),I(v,f)),y)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,n=t.schemaCheck,o=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,s=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},S()),I(r,s)),o)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,n=t.schemaCheck,o=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,s=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},S()),I(r,s)),o)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?S:e,o=t.useProductViewContext,u=void 0===o?h:o,l=r(),a=l[c.VN.UOM],d=u(),v=d.initialGraphFilters,y=void 0===v?[]:v,f=d.initialInventoryFilters,I=void 0===f?[]:f,g=d.initialSubscriptionsInventoryFilters,E=void 0===g?[]:g,T=d.productContextFilterUom,C=(0,n.Z)(d,p),b=(0,s.useCallback)((function(){if(!0===T){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(a,"i").test(e)};return(0,i.Z)((0,i.Z)({},C),{},{initialGraphFilters:y.filter(t),initialInventoryFilters:I.filter(t),initialSubscriptionsInventoryFilters:E.filter(t)})}return(0,i.Z)((0,i.Z)({},C),{},{initialGraphFilters:y,initialInventoryFilters:I,initialSubscriptionsInventoryFilters:E})}),[C,y,I,E,T,a]);return b()},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?h:e,n=r(),o=n.productGroup,i=n.productId,s=n.productLabel,u=n.viewId;return{productGroup:o,productId:i,productLabel:s,viewId:u}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialGraphFilters,i=n.initialGraphSettings,s=void 0===i?{}:i;return{filters:o,settings:s}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.inventoryGuestsQuery,i=void 0===o?{}:o,s=n.initialGuestsFilters,u=n.initialGuestsSettings,l=void 0===u?{}:u;return{filters:s,initialQuery:i,settings:l}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialInventoryFilters,i=n.initialInventorySettings,s=void 0===i?{}:i;return{filters:o,settings:s}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialSubscriptionsInventoryFilters,i=n.initialSubscriptionsInventorySettings,s=void 0===i?{}:i;return{filters:o,settings:s}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialToolbarFilters,i=n.initialToolbarSettings,s=void 0===i?{}:i;return{filters:o,settings:s}},R={ProductViewContext:f,DEFAULT_CONTEXT:y,useProductContext:b,useQuery:S,useQueryFactory:I,useGraphTallyQuery:g,useInventoryGuestsQuery:E,useInventoryHostsQuery:T,useInventorySubscriptionsQuery:C,useProduct:m,useGraphConfig:P,useInventoryGuestsConfig:Z,useInventoryHostsConfig:O,useInventorySubscriptionsConfig:G,useToolbarConfig:_}},3969:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l,Tooltip:()=>l});var n=r(45987),o=r(96985),i=r.n(o),s=r(75857),u=["children","content","isNoWrap"],l=function(t){var e=t.children,r=t.content,o=t.isNoWrap,l=(0,n.Z)(t,u);return i().createElement(s.Tooltip,Object.assign({className:"curiosity-tooltip".concat(o?"__nowrap":""),content:i().isValidElement(r)&&r||i().createElement("p",null,r||"")},l),i().isValidElement(e)&&e||i().createElement("span",{className:"curiosity-tooltip-children"},e))};l.defaultProps={content:"...",distance:5,enableFlip:!1,entryDelay:100,exitDelay:0,isNoWrap:!1,position:s.TooltipPosition.top}},99376:(t,e)=>{var r=Object.keys;e.D=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;for(var n=r(t),o=n.length,i=0;i<o;i++)if(!(n[i]in e))return!1;for(i=0;i<o;i++)if(t[n[i]]!==e[n[i]])return!1;return o===r(e).length}},15451:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(99376),o=r(96985);var i=function(t,e){return t.every((function(t,r){return(0,n.D)(t,e[r])}))};const s=function(t,e){!function(t,e,r){var n=(0,o.useRef)(void 0);n.current&&r(e,n.current)||(n.current=e),(0,o.useEffect)(t,n.current)}(t,e,i)}}}]);
//# sourceMappingURL=../sourcemaps/5242.34c2cc72872386d7cab92c3176f0504d.js.map