"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5925,1339,353],{10608:function(e,t,n){n.r(t),n.d(t,{GraphCard:function(){return u},default:function(){return u}});var r=n(92950),a=n.n(r),i=n(76006),l=n(29407),o=n(91799),s=n(25394),u=function(e){var t=e.isDisabled,n=(0,e.useParseFiltersSettings)().filtersSettings;return t||null==n||!n.length?null:null==n?void 0:n.map((function(e){var t,n,r;return a().createElement(s.GraphCardContext.Provider,{key:"graphCard-".concat(null==e||null===(t=e.settings)||void 0===t||null===(n=t.metrics)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.id),value:e},a().createElement(l.GraphCardMetricTotals,null,a().createElement(o.GraphCardChart,null)))}))};u.defaultProps={isDisabled:i.BM.UI_DISABLED_GRAPH,useParseFiltersSettings:s.useParseFiltersSettings}},29407:function(e,t,n){n.r(t),n.d(t,{GraphCardMetricTotals:function(){return f},default:function(){return f}});var r=n(93433),a=n(92950),i=n.n(a),l=n(90154),o=n(68929),s=n.n(o),u=n(51858),d=n(25394),c=n(1797),h=n(65876),p=n(46262),v=n(76006),f=function(e){var t,n=e.children,a=e.useGraphCardContext,o=e.useMetricsSelector,u=e.useProductGraphTallyQuery,d=a().settings,f=void 0===d?{}:d,m=u()[p.O6.START_DATE],g=o(),y=g.pending,C=g.error,E=g.fulfilled,M=g.dataSets,k=(void 0===M?[]:M)[0]||{},D=k.data,z=void 0===D?[]:D,S=k.id,R=k.metric,H=k.meta,P=void 0===H?{}:H,_=z[z.length-1]||{},O=_.date,T=_.hasData,b=_.y,G=z.find((function(e){return!0===e.isCurrentDate}))||{},w=G.date,x=G.hasData,I=G.y,L=P.totalMonthlyDate,N=P.totalMonthlyHasData,B=P.totalMonthlyValue,Z=h.toolbarFieldOptions.find((function(e){return e.title===m||e.value.startDate.toISOString()===m}))||{},A=Z.title,F=Z.isCurrent,W=F?w:O,V=F?x:T,Q=F?I:b;if(null!=f&&f.isMetricDisplay&&null!=f&&null!==(t=f.cards)&&void 0!==t&&t.length){var U,j,J,q=v.BM.setImmutableData({chartId:S,dailyDate:W,dailyHasData:V,dailyValue:Q,metricId:R,groupMetricId:(0,r.Z)(f.groupMetric),monthlyDate:L,monthlyHasData:N,monthlyValue:B,selectedValue:A});return i().createElement("div",{"data-test":"graphMetricTotals-".concat(null==f||null===(U=f.groupMetric)||void 0===U||null===(j=U.map((function(e){return s()(e)})))||void 0===j?void 0:j.join("-")),"data-test-data":JSON.stringify(q),className:"curiosity-usage-graph__totals"},i().createElement("div",null,i().createElement("div",{className:"curiosity-usage-graph__totals-column"},null==f||null===(J=f.cards)||void 0===J?void 0:J.map((function(e,t){var n=e.key,r=e.header,a=e.body,o=e.footer;return i().createElement(l.Card,{key:n||v.BM.generateHash({metricDisplayPassedData:q,index:t}),isPlain:!0,"data-test":"graphMetricTotalsCard-".concat(t),className:"curiosity-usage-graph__totals-column-card ".concat(C?"blur":"")},i().createElement(l.CardHeader,null,i().createElement(l.CardTitle,null,i().createElement(l.Title,{headingLevel:"h2",size:"md"},y&&i().createElement(c.Loader,{variant:"skeleton",skeletonProps:{size:c.SkeletonSize.lg}}),E&&("function"==typeof r&&r(q)||r)))),i().createElement(l.CardBody,null,i().createElement("div",null,y&&i().createElement(c.Loader,{variant:"skeleton",skeletonProps:{size:c.SkeletonSize.lg,height:"60px"}}),E&&("function"==typeof a&&a(q)||a))),i().createElement(l.CardFooter,null,i().createElement("div",null,y&&i().createElement(c.Loader,{variant:"skeleton",skeletonProps:{size:c.SkeletonSize.lg}}),E&&("function"==typeof o&&o(q)||o))))})))),i().createElement("div",null,i().createElement("div",{className:"curiosity-usage-graph__totals-graph-column"},n)))}return i().createElement("div",{"data-test":"graphStandalone",className:"curiosity-usage-graph__standalone"},n)};f.defaultProps={children:null,useGraphCardContext:d.useGraphCardContext,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:u.useProductGraphTallyQuery}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return c},default:function(){return c}});var r=n(15671),a=n(43144),i=n(97326),l=n(79340),o=n(54062),s=n(92950),u=n.n(s),d=n(76006),c=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).containerRef=u().createRef(),e.innerContainerRef=u().createRef(),e.updatedContainerWidth=0,e.resizeObserver=d.BM.noop,e.onResizeContainer=function(){var t,n,r=(0,i.Z)(e).updatedContainerWidth,a=e.props.updateOnResize,l=(null===(t=e.containerRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0;a&&l!==r&&(e.updatedContainerWidth=l,e.setMinHeight(!0))},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.minHeight,r=this.containerRef.current,a=void 0===r?{}:r,i=this.innerContainerRef.current,l=void 0===i?{}:i;null!=a&&a.style&&(n>(e=t?(null==l?void 0:l.clientHeight)||0:(null==a?void 0:a.clientHeight)||0)&&(e=n),a.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return u().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},u().createElement("div",{ref:this.innerContainerRef},e))}}]),n}(u().Component);c.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}}}]);
//# sourceMappingURL=../sourcemaps/5925.c90eae4e62b221adad424510dabc6121.js.map