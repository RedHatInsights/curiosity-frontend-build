"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[4418,1858],{64418:function(t,e,n){n.r(e),n.d(e,{GraphCardChartLegend:function(){return v},default:function(){return v}});var r=n(92950),i=n.n(r),o=n(73666),u=n(89048),s=n(51858),c=n(61072),a=n(76006),l=n(83109),d=n(1138),v=function(t){var e=t.chart,n=t.datum,r=t.t,s=t.useDispatch,a=t.useSelectors,l=(0,t.useProduct)(),v=l.productLabel,y=l.viewId,p=s(),f=a(n.dataSets.map((function(t){var e=t.id;return function(t){var n;return null===(n=t.graph.legend)||void 0===n?void 0:n["".concat(y,"-").concat(e)]}})));(0,u.Z)((function(){n.dataSets.forEach((function(t,n){var r=t.id;((null==f?void 0:f[n])||e.isToggled(r))&&e.hide(r)}))}));var h=function(t){var n=e.toggle(t);p({type:c.JD.graph.SET_GRAPH_LEGEND,id:"".concat(y,"-").concat(t),value:n})};return i().createElement(i().Fragment,null,n.dataSets.map((function(t,n){var u=t.id,s=t.isThreshold,c=t.stroke,a=t.data,l=!(void 0===a?[]:a).find((function(t){var e=t.y,n=t.hasData;return e>=0&&!0===n||e>=0&&!0===s}))||!1,y=r(["curiosity-graph.label_".concat(s?"threshold":u),"curiosity-graph.label_no"],{product:v,context:v}),p=r("curiosity-graph.legendTooltip".concat(s?"_threshold":"","_").concat(u),{product:v,context:v},[i().createElement("span",{style:{whiteSpace:"nowrap"}})]),g=(null==f?void 0:f[n])||e.isToggled(u),S=i().createElement(o.Button,{onClick:function(){return h(u)},onKeyPress:function(){return h(u)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(u),variant:"link",component:"a",isDisabled:l,icon:(l||g)&&i().createElement(d.ChartIcon,{symbol:"eyeSlash"})||i().createElement(d.ChartIcon,{symbol:s?"dash":"square",style:{visibility:l||g?"hidden":"visible"},fill:c})},y);return p?i().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(u),content:i().createElement("p",null,p),position:o.TooltipPosition.top,enableFlip:!0,distance:5},S):S})))};v.defaultProps={chart:{hide:a.BM.noop,toggle:a.BM.noop,isToggled:a.BM.noop},datum:{dataSets:[]},t:l.translate,useDispatch:c.Cr.reactRedux.useDispatch,useSelectors:c.Cr.reactRedux.useSelectors,useProduct:s.useProduct}},51858:function(t,e,n){n.r(e),n.d(e,{DEFAULT_CONTEXT:function(){return p},ProductViewContext:function(){return f},context:function(){return G},default:function(){return G},useProduct:function(){return _},useProductContext:function(){return E},useProductGraphConfig:function(){return b},useProductGraphTallyQuery:function(){return C},useProductInventoryGuestsConfig:function(){return F},useProductInventoryGuestsQuery:function(){return I},useProductInventoryHostsConfig:function(){return Q},useProductInventoryHostsQuery:function(){return P},useProductInventorySubscriptionsConfig:function(){return x},useProductInventorySubscriptionsQuery:function(){return T},useProductQuery:function(){return S},useProductQueryFactory:function(){return g},useProductToolbarConfig:function(){return m}});var r=n(45987),i=n(4942),o=n(1413),u=n(92950),s=n.n(u),c=n(12723),a=n(2606),l=n(30446),d=n(46262),v=n(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],p=[{},v.B.noop],f=s().createContext(p),h=function(){return(0,u.useContext)(f)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.overrideId,r=e.useProductViewContext,i=void 0===r?h:r,u=i(),s=u[t],c=u.productId,l=u.viewId,d=a.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[n]}),void 0),v=a.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[c]}),void 0),y=a.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[l]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),d),v),y)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"query":e,r=t.options;return g(n,r)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"graphTallyQuery":e,r=t.schemaCheck,i=void 0===r?l.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:r,u=t.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(n,u)),i)},I=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultLimit,r=void 0===n?100:n,u=e.defaultOffset,s=void 0===u?0:u,a=e.queryType,v=void 0===a?"inventoryGuestsQuery":a,y=e.schemaCheck,p=void 0===y?l.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,f=e.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,i.Z)(t,d.O6.LIMIT,r),(0,i.Z)(t,d.O6.OFFSET,s),t),S()),g(v,f)),p)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventoryHostsQuery":e,r=t.schemaCheck,i=void 0===r?l.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(n,u)),i)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventorySubscriptionsQuery":e,r=t.schemaCheck,i=void 0===r?l.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return c.VS.setApiQuery((0,o.Z)((0,o.Z)({},S()),g(n,u)),i)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,n=void 0===e?S:e,i=t.useProductViewContext,s=void 0===i?h:i,c=n(),a=c[l.VN.UOM],d=s(),v=d.initialGraphFilters,p=void 0===v?[]:v,f=d.initialInventoryFilters,g=void 0===f?[]:f,C=d.initialSubscriptionsInventoryFilters,I=void 0===C?[]:C,P=d.productContextFilterUom,T=(0,r.Z)(d,y),E=(0,u.useCallback)((function(){if(!0===P){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(a,"i").test(e)};return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:p.filter(t),initialInventoryFilters:g.filter(t),initialSubscriptionsInventoryFilters:I.filter(t)})}return(0,o.Z)((0,o.Z)({},T),{},{initialGraphFilters:p,initialInventoryFilters:g,initialSubscriptionsInventoryFilters:I})}),[T,p,g,I,P,a]);return E()},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,n=void 0===e?h:e,r=n(),i=r.productGroup,o=r.productId,u=r.productLabel,s=r.viewId;return{productGroup:i,productId:o,productLabel:u,viewId:s}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,r=n(),i=r.initialGraphFilters,o=r.initialGraphSettings,u=void 0===o?{}:o;return{filters:i,settings:u}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,r=n(),i=r.inventoryGuestsQuery,o=void 0===i?{}:i,u=r.initialGuestsFilters,s=r.initialGuestsSettings,c=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:c}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,r=n(),i=r.initialInventoryFilters,o=r.initialInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,r=n(),i=r.initialSubscriptionsInventoryFilters,o=r.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,r=n(),i=r.initialToolbarFilters,o=r.initialToolbarSettings,u=void 0===o?{}:o,s=r.initialSecondaryToolbarFilters;return{filters:i,secondaryFilters:s,settings:u}},G={ProductViewContext:f,DEFAULT_CONTEXT:p,useProductContext:E,useQuery:S,useQueryFactory:g,useGraphTallyQuery:C,useInventoryGuestsQuery:I,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:T,useProduct:_,useGraphConfig:b,useInventoryGuestsConfig:F,useInventoryHostsConfig:Q,useInventorySubscriptionsConfig:x,useToolbarConfig:m}}}]);
//# sourceMappingURL=../sourcemaps/4418.4cdf9a1de8ea2c043130147fc4adc8c0.js.map