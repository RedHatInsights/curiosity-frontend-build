(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5242,1858,2243,2293,9942],{12243:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h,inventoryCardHelpers:()=>h,applySortFilters:()=>f,applyWrappableFilters:()=>p,parseInventoryFilters:()=>I,parseRowCellsListData:()=>S});var n=r(29439),o=r(93433),i=r(1413),s=r(92950),u=r.n(s),l=r(57294),a=r(68929),c=r.n(a),d=r(83109),v=r(30446),y=r(76006),f=function(t){var e=t.filter,r=void 0===e?{}:e,n=t.onSort,o=t.query,s=void 0===o?{}:o,u=r.id,a=r.sortId||u,d=(0,i.Z)({},r),y=d.onSort||n;return!d.onSort&&n&&(d.onSort=n),y&&"boolean"!=typeof d.sortActive&&null!=s&&s[v.VN.SORT]&&((null==s?void 0:s[v.VN.SORT])===a||c()(null==s?void 0:s[v.VN.SORT])===a)&&(d.sortActive=!0),y&&!d.sortDirection&&null!=s&&s[v.VN.DIRECTION]&&((null==s?void 0:s[v.VN.DIRECTION])===v.hb.DESCENDING?d.sortDirection=l.SortByDirection.desc:d.sortDirection=l.SortByDirection.asc),!y||d.sortActive||null!=s&&s[v.VN.SORT]||!0!==d.isSortDefault||(d.sortActive=!0,d.sortDefaultInitialDirection&&(d.sortDirection=d.sortDefaultInitialDirection)),d},p=function(t){var e=t.filter,r=void 0===e?{}:e,n=(0,i.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(l.wrappable):n.transforms=[l.wrappable],n},I=function(t){var e=t.filters,r=void 0===e?[]:e,n=t.onSort,s=t.query,u=void 0===s?{}:s;return(0,o.Z)(r).map((function(t){var e=(0,i.Z)({},t);return e.isSortable&&Object.assign(e,f({filter:e,onSort:n,query:u})),e.isWrappable&&Object.assign(e,p({filter:e})),e}))},S=function(t){var e=t.filters,r=void 0===e?[]:e,s=t.cellData,a=void 0===s?{}:s,c=t.session,v=void 0===c?{}:c,f=[],p=[],I={};return Object.entries(a).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],o=e[1];I[r]={title:(0,d.translate)("curiosity-inventory.header",{context:r}),value:o},f.push(I[r].title),p.push(o)})),null!=r&&r.length&&(f.length=0,p.length=0,r.forEach((function(t){var e,r,n,s,a,c,S,h=t.id,g=t.cell,E=t.cellWidth,T=t.header,C=t.onSort,b=t.sortId,P=t.sortActive,m=t.sortDirection,G=t.transforms;I[h]?(r=null!==(s=null===(a=I[h])||void 0===a?void 0:a.title)&&void 0!==s?s:h,n=null!==(c=null===(S=I[h])||void 0===S?void 0:S.value)&&void 0!==c?c:""):h&&(r=(0,d.translate)("curiosity-inventory.header",{context:h}),n=""),T&&(r="function"==typeof T&&T((0,i.Z)({},I))||T),("string"==typeof r||"number"==typeof r||u().isValidElement(r))&&(r={title:r}),r&&(r.transforms=[],Array.isArray(G)&&(r.transforms=r.transforms.concat((0,o.Z)(G))),"number"==typeof E&&r.transforms.push((0,l.cellWidth)(E))),"function"==typeof C&&(r=(0,i.Z)((0,i.Z)({},r),{},{onSort:function(t){return C((0,i.Z)({},I),(0,i.Z)((0,i.Z)({},t),{},{id:b||h}))},sortActive:P,sortDirection:m})),g&&(n="function"==typeof g?g((0,i.Z)({},I),(0,i.Z)({},v)):g),"string"==typeof n||"number"==typeof n||u().isValidElement(n)?n={title:n}:null!==(e=n)&&void 0!==e&&e.title||((y.BM.DEV_MODE||y.BM.REVIEW_MODE)&&console.error("PF table throws an error when cell values don't conform to what it is expecting, or align exactly to column headers.\n            \n\nSee cell ID=".concat(h," with VALUE=").concat(n)),n={title:""}),f.push(r),p.push(n)}))),{columnHeaders:f,cells:p,data:(0,i.Z)({},I)}},h={applySortFilters:f,applyWrappableFilters:p,parseInventoryFilters:I,parseRowCellsListData:S}},15242:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>S,ConnectedInventoryGuests:()=>S,InventoryGuests:()=>p});var n=r(93433),o=r(29439),i=r(92950),s=r.n(i),u=r(57294),l=r(51858),a=r(186),c=r(1797),d=r(12243),v=r(46262),y=r(78697),f=r(32293),p=function(t){var e,r,l,a=t.defaultPerPage,f=t.id,p=t.numberOfGuests,I=t.session,S=t.useGetGuestsInventory,h=t.useOnScroll,g=t.useProductInventoryGuestsQuery,E=t.useProductInventoryGuestsConfig,T=(0,i.useState)([]),C=(0,o.Z)(T,2),b=C[0],P=C[1],m=E().filters,G=g({options:{overrideId:f}})[v.O6.OFFSET],O=S(f),_=O.error,Z=O.pending,R=O.data,F=(void 0===R?{}:R).data,D=void 0===F?[]:F,Q=h(f,(function(){var t=[].concat((0,n.Z)(b),(0,n.Z)(D||[]));P(t)}));return s().createElement("div",{className:"fadein ".concat(_?"blur":"")},Z&&0===G&&s().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==m?void 0:m.length)||(null==D?void 0:D[0])&&Object.keys(D[0]).length||1,colWidth:(null==m?void 0:m.length)&&m.map((function(t){return t.cellWidth}))||[],rowCount:p<a?p:a,variant:u.TableVariant.compact}}),(!Z&&0===G||G>0)&&(e=[],r=[].concat((0,n.Z)(b),(0,n.Z)(D||[])).map((function(t){var r=Object.assign({},t),n=d.inventoryCardHelpers.parseRowCellsListData({filters:m,cellData:r,session:I}),o=n.columnHeaders,i=n.cells;return e=o,{cells:i}})),l=(l=42*(p+1))<275&&l||275,s().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(l,"px")}},s().createElement("div",{className:"curiosity-table-scroll-list".concat(l<275?"__no-scroll":""),onScroll:Q},function(){if(G>0&&Z){var t=s().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==m?void 0:m.length)||(null==D?void 0:D[0])&&Object.keys(D[0]).length||1,colWidth:(null==m?void 0:m.length)&&m.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:u.TableVariant.compact}});return s().createElement("div",{className:"curiosity-table-scroll-loader__custom"},t)}return null}(),r.length&&s().createElement(y.Table,{borders:!1,variant:u.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:e,rows:r})||null))))};p.defaultProps={defaultPerPage:5,session:{},useGetGuestsInventory:f.useGetGuestsInventory,useOnScroll:f.useOnScroll,useProductInventoryGuestsConfig:l.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:l.useProductInventoryGuestsQuery};var I=a.R1.user.makeUserSession(),S=(0,a.$j)(I)(p)},32293:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>y,context:()=>y,useGetGuestsInventory:()=>d,useOnScroll:()=>v,useSelectorsGuestsInventory:()=>c});var n=r(4942),o=r(1413),i=r(15451),s=r(77823),u=r(186),l=r(51858),a=r(46262),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useSelectorsResponse,n=void 0===r?u.Cr.reactRedux.useSelectorsResponse:r,o=n((function(e){var r,n=e.inventory;return null==n||null===(r=n.hostsGuests)||void 0===r?void 0:r[t]})),i=o.error,s=o.cancelled,l=o.fulfilled,a=o.pending,c=o.data;return{error:i,fulfilled:l,pending:a||s||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.getInventory,n=void 0===r?u.Ak.rhsm.getHostsInventoryGuests:r,s=e.useDispatch,a=void 0===s?u.Cr.reactRedux.useDispatch:s,d=e.useProductInventoryQuery,v=void 0===d?l.useProductInventoryGuestsQuery:d,y=e.useSelectorsInventory,f=void 0===y?c:y,p=v({options:{overrideId:t}}),I=a(),S=f(t);return(0,i.Z)((function(){n(t,p)(I)}),[I,t,p]),(0,o.Z)({},S)},v=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.useDispatch,i=void 0===o?u.Cr.reactRedux.useDispatch:o,d=r.useSelectorsInventory,v=void 0===d?c:d,y=r.useProductInventoryQuery,f=void 0===y?l.useProductInventoryGuestsQuery:y,p=i(),I=v(t),S=I.pending,h=I.data,g=void 0===h?{}:h,E=(null==g?void 0:g.meta)||{},T=E.count,C=f({options:{overrideId:t}}),b=C[a.O6.LIMIT],P=C[a.O6.OFFSET];return(0,s.Z)((function(){p([{type:u.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:t}])})),function(r){var o=r.target,i=o.scrollHeight-o.scrollTop===o.clientHeight;T>(P+1)*b&&i&&!S&&("function"==typeof e&&e(r),p([(0,n.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[a.O6.OFFSET],viewId:t},a.O6.OFFSET,P+1),(0,n.Z)({type:u.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[a.O6.LIMIT],viewId:t},a.O6.LIMIT,b)]))}},y={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}},51858:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>R,context:()=>R,ProductViewContext:()=>p,DEFAULT_CONTEXT:()=>f,useProductContext:()=>b,useProductQuery:()=>h,useProductQueryFactory:()=>S,useProductGraphTallyQuery:()=>g,useProductInventoryGuestsQuery:()=>E,useProductInventoryHostsQuery:()=>T,useProductInventorySubscriptionsQuery:()=>C,useProduct:()=>P,useProductGraphConfig:()=>m,useProductInventoryGuestsConfig:()=>G,useProductInventoryHostsConfig:()=>O,useProductInventorySubscriptionsConfig:()=>_,useProductToolbarConfig:()=>Z});var n=r(45987),o=r(4942),i=r(1413),s=r(92950),u=r.n(s),l=r(12723),a=r(1798),c=r(30446),d=r(46262),v=r(62834),y=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],f=[{},v.B.noop],p=u().createContext(f),I=function(){return(0,s.useContext)(p)},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,n=e.useProductViewContext,o=void 0===n?I:n,s=o(),u=s[t],l=s.productId,c=s.viewId,d=a.Cr.reactRedux.useSelector((function(e){var n,o=e.view;return null==o||null===(n=o[t])||void 0===n?void 0:n[r]}),void 0),v=a.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[l]}),void 0),y=a.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[c]}),void 0);return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u),d),v),y)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,n=t.options;return S(r,n)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,n=t.schemaCheck,o=void 0===n?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:n,s=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},h()),S(r,s)),o)},E=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,n=void 0===r?100:r,s=e.defaultOffset,u=void 0===s?0:s,a=e.queryType,v=void 0===a?"inventoryGuestsQuery":a,y=e.schemaCheck,f=void 0===y?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:y,p=e.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)((t={},(0,o.Z)(t,d.O6.LIMIT,n),(0,o.Z)(t,d.O6.OFFSET,u),t),h()),S(v,p)),f)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,n=t.schemaCheck,o=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,s=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},h()),S(r,s)),o)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,n=t.schemaCheck,o=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,s=t.options;return l.VS.setApiQuery((0,i.Z)((0,i.Z)({},h()),S(r,s)),o)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?h:e,o=t.useProductViewContext,u=void 0===o?I:o,l=r(),a=l[c.VN.UOM],d=u(),v=d.initialGraphFilters,f=void 0===v?[]:v,p=d.initialInventoryFilters,S=void 0===p?[]:p,g=d.initialSubscriptionsInventoryFilters,E=void 0===g?[]:g,T=d.productContextFilterUom,C=(0,n.Z)(d,y),b=(0,s.useCallback)((function(){if(!0===T){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(a,"i").test(e)};return(0,i.Z)((0,i.Z)({},C),{},{initialGraphFilters:f.filter(t),initialInventoryFilters:S.filter(t),initialSubscriptionsInventoryFilters:E.filter(t)})}return(0,i.Z)((0,i.Z)({},C),{},{initialGraphFilters:f,initialInventoryFilters:S,initialSubscriptionsInventoryFilters:E})}),[C,f,S,E,T,a]);return b()},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?I:e,n=r(),o=n.productGroup,i=n.productId,s=n.productLabel,u=n.viewId;return{productGroup:o,productId:i,productLabel:s,viewId:u}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialGraphFilters,i=n.initialGraphSettings,s=void 0===i?{}:i;return{filters:o,settings:s}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.inventoryGuestsQuery,i=void 0===o?{}:o,s=n.initialGuestsFilters,u=n.initialGuestsSettings,l=void 0===u?{}:u;return{filters:s,initialQuery:i,settings:l}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialInventoryFilters,i=n.initialInventorySettings,s=void 0===i?{}:i;return{filters:o,settings:s}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialSubscriptionsInventoryFilters,i=n.initialSubscriptionsInventorySettings,s=void 0===i?{}:i;return{filters:o,settings:s}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?b:e,n=r(),o=n.initialToolbarFilters,i=n.initialToolbarSettings,s=void 0===i?{}:i;return{filters:o,settings:s}},R={ProductViewContext:p,DEFAULT_CONTEXT:f,useProductContext:b,useQuery:h,useQueryFactory:S,useGraphTallyQuery:g,useInventoryGuestsQuery:E,useInventoryHostsQuery:T,useInventorySubscriptionsQuery:C,useProduct:P,useGraphConfig:m,useInventoryGuestsConfig:G,useInventoryHostsConfig:O,useInventorySubscriptionsConfig:_,useToolbarConfig:Z}},99376:(t,e)=>{var r=Object.keys;e.D=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;for(var n=r(t),o=n.length,i=0;i<o;i++)if(!(n[i]in e))return!1;for(i=0;i<o;i++)if(t[n[i]]!==e[n[i]])return!1;return o===r(e).length}},15451:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(99376),o=r(92950);var i=function(t,e){return t.every((function(t,r){return(0,n.D)(t,e[r])}))};const s=function(t,e){!function(t,e,r){var n=(0,o.useRef)(void 0);n.current&&r(e,n.current)||(n.current=e),(0,o.useEffect)(t,n.current)}(t,e,i)}}}]);
//# sourceMappingURL=../sourcemaps/5242.5e8a3a3dedf493bd2b564357239aeb48.js.map