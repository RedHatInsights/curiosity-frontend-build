"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[9877],{49877:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d,GraphCardMetric:()=>d});var r=a(1413),l=a(29439),n=a(92950),o=a.n(n),i=a(91799),c=a(51858),s=a(25394),u=(a(46262),a(29407)),d=function(e){var t=e.metricFilter,a=e.useProductGraphConfig,c=(0,n.useState)({}),d=(0,l.Z)(c,2),m=d[0],h=d[1],g=a().settings;return(0,n.useEffect)((function(){h({settings:(0,r.Z)((0,r.Z)({padding:{bottom:75,left:75,right:45,top:45}},g),{},{isStandalone:!0,metric:t,metrics:[t]})})}),[t,g,h]),o().createElement(s.GraphCardContext.Provider,{value:m},o().createElement(u.GraphCardMetricTotals,null,o().createElement(i.GraphCardChart,null)))};d.defaultProps={metricFilter:{},useProductGraphConfig:c.useProductGraphConfig}},29407:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E,GraphCardMetricTotals:()=>E});var r=a(92950),l=a.n(r),n=a(99421),o=a(30381),i=a.n(o),c=a(68929),s=a.n(c),u=a(51858),d=a(25394),m=a(91339),h=a(1797),g=a(76006),p=a(65876),y=a(46262),f=a(83109),E=function(e){var t,a,r,o,c=e.children,u=e.t,d=e.useMetricsSelector,f=(0,e.useProductGraphTallyQuery)()[y.O6.START_DATE],E=d(),C=E.pending,M=E.error,v=E.fulfilled,S=E.dataSets,T=(void 0===S?[]:S)[0]||{},_=T.data,F=void 0===_?[]:_,k=T.id,x=T.meta,P=void 0===x?{}:x,G=F[F.length-1]||{},b=G.date,D=G.hasData,B=G.y,H=F.find((function(e){return!0===e.isCurrentDate}))||{},N=H.date,w=H.hasData,z=H.y,U=P.totalMonthlyDate,I=P.totalMonthlyHasData,O=P.totalMonthlyValue,Q=p.toolbarFieldOptions.find((function(e){return e.title===f||e.value.startDate.toISOString()===f}))||{},Z=Q.title,A=Q.isCurrent,L=A?N:b,R=A?w:D,V=A?z:B;return l().createElement(n.Flex,{"data-test":"graphMetricTotals-".concat(s()(k)),className:"curiosity-usage-graph__totals"},l().createElement(n.Flex,{flex:{default:"flex_1"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},l().createElement(n.FlexItem,{className:"curiosity-usage-graph__totals-column"},l().createElement(n.Card,{"data-test":"graphDailyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(M?"blur":"")},l().createElement(n.CardTitle,null,u("curiosity-graph.cardHeadingMetric_dailyTotal",{context:k,month:Z})),l().createElement(m.MinHeight,{key:"currentBody"},l().createElement(n.CardBody,null,l().createElement("div",null,C&&l().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),v&&u("curiosity-graph.cardBodyMetric_total",{context:R&&k||"",total:null===(t=g.BM.numberDisplay(V))||void 0===t||null===(a=t.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===a?void 0:a.toUpperCase()},[l().createElement("strong",{title:V,"aria-label":V})])))),l().createElement(m.MinHeight,{key:"currentFooter"},l().createElement(n.CardFooter,null,l().createElement("div",{className:R?"":"hidden"},v&&L&&u("curiosity-graph.cardFooterMetric",{date:i().utc(L).format(g.i3.timestampUTCTimeFormats.yearTimeShort)}))))),l().createElement(n.Card,{"data-test":"graphMonthlyTotalCard",className:"curiosity-usage-graph__totals-column-card ".concat(M?"blur":"")},l().createElement(n.CardTitle,null,u("curiosity-graph.cardHeadingMetric_monthlyTotal",{context:k,month:Z})),l().createElement(m.MinHeight,{key:"totalMonthlyBody"},l().createElement(n.CardBody,null,l().createElement("div",null,C&&l().createElement(h.Loader,{variant:"skeleton",skeletonProps:{size:h.SkeletonSize.lg}}),v&&u("curiosity-graph.cardBodyMetric_total",{context:I&&k||"",total:null===(r=g.BM.numberDisplay(O))||void 0===r||null===(o=r.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!1}))||void 0===o?void 0:o.toUpperCase()},[l().createElement("strong",{title:O,"aria-label":O})])))),l().createElement(m.MinHeight,{key:"totalMonthlyFooter"},l().createElement(n.CardFooter,null,l().createElement("div",{className:I?"":"hidden"},v&&U&&u("curiosity-graph.cardFooterMetric",{date:i().utc(U).format(g.i3.timestampUTCTimeFormats.yearTimeShort)}))))))),l().createElement(n.Flex,{flex:{default:"flex_3"},direction:{default:"column"},alignSelf:{default:"alignSelfStretch"}},l().createElement(n.FlexItem,{className:"curiosity-usage-graph__totals-graph-column"},c)))};E.defaultProps={children:null,t:f.translate,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:u.useProductGraphTallyQuery}}}]);
//# sourceMappingURL=../sourcemaps/9877.4444cfa97a76522b4632c0a184193c90.js.map