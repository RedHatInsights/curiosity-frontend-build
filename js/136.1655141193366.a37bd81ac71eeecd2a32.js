"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[136],{49844:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h,Select:()=>h,SelectDirection:()=>O,SelectPosition:()=>_});var i=o(70885),n=o(1413),l=o(15671),r=o(43144),a=o(60136),c=o(54062),s=o(96985),u=o.n(s),d=o(75857),p=o(50361),v=o.n(p),S=o(18446),y=o.n(S),f=o(30998),g=o.n(f),b=o(68630),E=o.n(b),T=o(62834),O=d.DropdownDirection,_=d.DropdownPosition,h=function(e){(0,a.Z)(o,e);var t=(0,c.Z)(o);function o(){var e;(0,l.Z)(this,o);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={isExpanded:!1,options:null,selected:null},e.selectField=u().createRef(),e.onSelect=function(t,o){var i=e.state.options,l=e.props,r=l.id,a=l.name,c=l.onSelect,s=l.variant,u=i,p=u.findIndex((function(e){return e.title===o}));u[p].selected=s===d.SelectVariant.single||!u[p].selected,s===d.SelectVariant.single&&u.forEach((function(e,t){p!==t&&(u[t].selected=!1)}));var S=s===d.SelectVariant.single?o:u.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:u,selected:S},(function(){var t=v()(u),o={id:r,name:a||r,value:t[p].value,selected:s===d.SelectVariant.single&&t[p]||v()(S),selectedIndex:p,type:"select-".concat(s===d.SelectVariant.single?"one":"multiple"),options:t};s===d.SelectVariant.checkbox&&(o.checked=t[p].selected);var i=(0,n.Z)((0,n.Z)({},o),{},{target:(0,n.Z)({},o),currentTarget:(0,n.Z)({},o),persist:T.B.noop});c((0,n.Z)({},i),p,t),s===d.SelectVariant.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return(0,r.Z)(o,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.options,i=t.selectedOptions;y()(e.options,o)&&y()(e.selectedOptions,i)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t,o=this.selectField.current,l=void 0===o?{}:o,r=this.props,a=r.options,c=r.selectedOptions,s=r.variant,u=Object.entries(this.props).filter((function(e){var t=(0,i.Z)(e,1)[0];return/^data-/i.test(t)})),p=E()(a)?Object.entries(a).map((function(e){var t=(0,i.Z)(e,2),o=t[0],l=t[1];return(0,n.Z)((0,n.Z)({},l),{},{title:o,value:l})})):v()(a),S=c&&"string"==typeof c||"number"==typeof c?[c]:c;p.forEach((function(e,t){var o,i=e;("string"==typeof i&&(i={title:e,value:e},p[t]=i),i.text=i.text||i.title,i.textContent=i.textContent||i.title,i.label=i.label||i.title,S)&&(E()(i.value)?(o=g()(S,i.value)>-1)||(o=!!S.find((function(e){return Object.values(i.value).includes(e)}))):o=S.includes(i.value),o||(o=S.includes(i.title)),p[t].selected=o)})),t=s===d.SelectVariant.single?(p.find((function(e){return!0===e.selected}))||{}).title:p.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),null!=l&&null!==(e=l.parentRef)&&void 0!==e&&e.current&&u.forEach((function(e){var t,o=(0,i.Z)(e,2),n=o[0],r=o[1];return null==l||null===(t=l.parentRef)||void 0===t?void 0:t.current.setAttribute(n,r)})),this.setState({options:p,selected:t})}},{key:"render",value:function(){var e=this.state,t=e.options,o=e.selected,i=e.isExpanded,n=this.props,l=n.ariaLabel,r=n.className,a=n.direction,c=n.isDisabled,s=n.isToggleText,p=n.maxHeight,v=n.placeholder,S=n.position,y=n.toggleIcon,f=n.variant,g={direction:a,maxHeight:p};return t&&t.length&&!c||(g.isDisabled=!0),u().createElement("div",{className:"curiosity-select"},u().createElement(d.Select,Object.assign({menuAppendTo:"parent",className:"curiosity-select-pf".concat(s?"":"__no-toggle-text"," ").concat(S===d.DropdownPosition.right?"curiosity-select-pf__position-right":""," ").concat(r),variant:f,"aria-label":l,onToggle:this.onToggle,onSelect:this.onSelect,selections:o,isOpen:i,toggleIcon:y,placeholderText:v,ref:this.selectField},g),t&&t.map((function(e){return u().createElement(d.SelectOption,{key:window.btoa("".concat(e.title,"-").concat(e.value)),id:window.btoa("".concat(e.title,"-").concat(e.value)),value:e.title,"data-value":E()(e.value)&&JSON.stringify([e.value])||e.value,"data-title":e.title})}))||[]))}}]),o}(u().Component);h.defaultProps={ariaLabel:"Select option",className:"",direction:O.down,id:T.B.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:T.B.noop,options:[],placeholder:"Select option",position:_.left,selectedOptions:null,toggleIcon:null,variant:d.SelectVariant.single}},31663:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S,ToolbarFieldBillingProvider:()=>S,toolbarFieldOptions:()=>p,useOnSelect:()=>v});var i=o(1413),n=o(4942),l=o(96985),r=o.n(l),a=o(61072),c=o(51858),s=o(49844),u=o(46262),d=o(83109),p=Object.values(u.Ij).map((function(e){return{title:(0,d.translate)("curiosity-toolbar.billing_provider",{context:""===e?"none":e}),value:e,selected:!1}})),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,o=void 0===t?a.Cr.reactRedux.useDispatch:t,i=e.useProduct,l=void 0===i?c.useProduct:i,r=l(),s=r.viewId,d=o();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,o=void 0===t?null:t;d([{type:a.JD.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:s},(0,n.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.O6.BILLING_PROVIDER],viewId:s},u.O6.BILLING_PROVIDER,o)])}},S=function(e){var t=e.isFilter,o=e.options,n=e.position,l=e.t,a=e.useOnSelect,c=(0,e.useProductQuery)()[u.O6.BILLING_PROVIDER],d=a(),p=o.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:e.value===c})}));return r().createElement(s.Select,{"aria-label":l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"billing_provider"}),onSelect:d,options:p,selectedOptions:c,placeholder:l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"billing_provider"}),position:n,"data-test":"toolbarFieldBillingProvider"})};S.defaultProps={isFilter:!1,options:p,position:s.SelectPosition.left,t:d.translate,useOnSelect:v,useProductQuery:c.useProductQuery}},2738:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y,ToolbarFieldGranularity:()=>y,toolbarFieldOptions:()=>v,useOnSelect:()=>S});var i=o(1413),n=o(4942),l=o(96985),r=o.n(l),a=o(61072),c=o(51858),s=o(49844),u=o(30446),d=o(76006),p=o(83109),v=Object.values(u.U9).map((function(e){return{title:(0,p.translate)("curiosity-toolbar.granularity",{context:e}),value:e,selected:!1}})),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,o=void 0===t?a.Cr.reactRedux.useDispatch:t,i=e.useProduct,l=void 0===i?c.useProduct:i,r=l(),s=r.viewId,p=o();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,o=void 0===t?null:t,i=d.i3.getRangedDateTime(o),l=i.startDate,r=i.endDate;p([{type:a.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:s},(0,n.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.GRANULARITY],viewId:s},u.VN.GRANULARITY,o),(0,n.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.START_DATE],viewId:s},u.VN.START_DATE,l.toISOString()),(0,n.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.END_DATE],viewId:s},u.VN.END_DATE,r.toISOString())])}},y=function(e){var t=e.isFilter,o=e.options,n=e.position,l=e.t,a=e.useOnSelect,c=(0,e.useProductGraphTallyQuery)()[u.VN.GRANULARITY],d=a(),p=o.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:e.value===c})}));return r().createElement(s.Select,{"aria-label":l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"granularity"}),onSelect:d,options:p,selectedOptions:c,placeholder:l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"granularity"}),position:n,"data-test":"toolbarFieldGranularity"})};y.defaultProps={isFilter:!1,options:v,position:s.SelectPosition.left,t:p.translate,useOnSelect:S,useProductGraphTallyQuery:c.useProductGraphTallyQuery}},65876:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y,ToolbarFieldRangedMonthly:()=>y,toolbarFieldOptions:()=>v,useOnSelect:()=>S});var i=o(4942),n=o(1413),l=o(96985),r=o.n(l),a=o(61072),c=o(51858),s=o(49844),u=o(30446),d=o(76006),p=o(83109),v=d.i3.getRangedMonthDateTime().listDateTimeRanges.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{selected:!1})})),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,o=void 0===t?a.Cr.reactRedux.useDispatch:t,n=e.useProduct,l=void 0===n?c.useProduct:n,r=l(),s=r.viewId,d=o();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,o=t.startDate,n=t.endDate;d([{type:a.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:s},(0,i.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.GRANULARITY],viewId:s},u.VN.GRANULARITY,u.U9.DAILY),(0,i.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.START_DATE],viewId:s},u.VN.START_DATE,null==o?void 0:o.toISOString()),(0,i.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.END_DATE],viewId:s},u.VN.END_DATE,null==n?void 0:n.toISOString())])}},y=function(e){var t=e.isFilter,o=e.options,i=e.position,l=e.t,a=e.useOnSelect,c=(0,e.useProductGraphTallyQuery)()[u.VN.START_DATE],d=a(),p=o.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{selected:e.title===c||e.value.startDate.toISOString()===c})}));return r().createElement(s.Select,{"aria-label":l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"rangedMonthly"}),onSelect:d,options:p,placeholder:l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"rangedMonthly"}),position:i,maxHeight:250,"data-test":"toolbarFieldRangeGranularity"})};y.defaultProps={isFilter:!1,options:v,position:s.SelectPosition.left,t:p.translate,useOnSelect:S,useProductGraphTallyQuery:c.useProductGraphTallyQuery}},70136:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_,ToolbarFieldSelectCategory:()=>_,toolbarFieldOptions:()=>E,useOnSelect:()=>T,useSelectCategoryOptions:()=>O});var i=o(1413),n=o(96985),l=o.n(n),r=o(36100),a=o(15451),c=o(61072),s=o(51858),u=o(49844),d=o(46262),p=o(83109),v=o(2738),S=o(65876),y=o(31663),f=o(33267),g=o(74097),b=o(49928),E=[{title:(0,p.translate)("curiosity-toolbar.category",{context:d.O6.GRANULARITY}),value:d.O6.GRANULARITY,component:function(e){return l().createElement(v.ToolbarFieldGranularity,Object.assign({key:"selectCategory_granularity"},e))},options:v.toolbarFieldOptions,isClearable:!1},{title:(0,p.translate)("curiosity-toolbar.category",{context:"rangedMonthly"}),value:"rangedMonthly",component:function(e){return l().createElement(S.ToolbarFieldRangedMonthly,Object.assign({key:"selectCategory_rangedMonthly"},e))},options:S.toolbarFieldOptions,isClearable:!1},{title:(0,p.translate)("curiosity-toolbar.category",{context:d.O6.UOM}),value:d.O6.UOM,component:function(e){return l().createElement(g.ToolbarFieldUom,Object.assign({key:"selectCategory_uom"},e))},options:g.toolbarFieldOptions,isClearable:!1},{title:(0,p.translate)("curiosity-toolbar.category",{context:d.O6.BILLING_PROVIDER}),value:d.O6.BILLING_PROVIDER,component:function(e){return l().createElement(y.ToolbarFieldBillingProvider,Object.assign({key:"selectCategory_billingProvider"},e))},options:y.toolbarFieldOptions,isClearable:!0},{title:(0,p.translate)("curiosity-toolbar.category",{context:d.O6.SLA}),value:d.O6.SLA,component:function(e){return l().createElement(f.ToolbarFieldSla,Object.assign({key:"selectCategory_sla"},e))},options:f.toolbarFieldOptions,isClearable:!0},{title:(0,p.translate)("curiosity-toolbar.category",{context:d.O6.USAGE}),value:d.O6.USAGE,component:function(e){return l().createElement(b.ToolbarFieldUsage,Object.assign({key:"selectCategory_usage"},e))},options:b.toolbarFieldOptions,isClearable:!0}].map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:!1})})),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,o=void 0===t?c.Cr.reactRedux.useDispatch:t,i=e.useProduct,n=void 0===i?s.useProduct:i,l=n(),r=l.viewId,a=o();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,o=void 0===t?null:t;a([{type:c.JD.toolbar.SET_FILTER_TYPE,viewId:r,currentFilter:o}])}},O=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.categoryOptions,n=void 0===o?E:o,l=t.useProduct,r=void 0===l?s.useProduct:l,a=t.useProductToolbarConfig,u=void 0===a?s.useProductToolbarConfig:a,d=t.useSelector,p=void 0===d?c.Cr.reactRedux.useSelector:d,v=r(),S=v.viewId,y=p((function(e){var t;return null===(t=e.toolbar.filters)||void 0===t?void 0:t[S]}),{}),f=y.currentFilter,g=u(),b=g.filters,T=void 0===b?[]:b,O=T.map((function(t){var o=t.id,l=t.selected,r=n.find((function(e){var t=e.value;return o===t}));return void 0===f&&l&&(e=r.value),(0,i.Z)((0,i.Z)({},r),{},{selected:void 0===f&&l||f===r.value})}));return{currentCategory:f,initialCategory:e,options:O}},_=function(e){var t=e.t,o=e.useOnSelect,i=(0,e.useSelectCategoryOptions)(),n=i.currentCategory,c=i.initialCategory,s=i.options,d=o();return(0,a.Z)((function(){c&&d({value:c})}),[c,d]),l().createElement(u.Select,{"aria-label":t("curiosity-toolbar.placeholder_filter"),onSelect:d,options:s,selectedOptions:n,placeholder:t("curiosity-toolbar.placeholder_filter"),toggleIcon:l().createElement(r.FilterIcon,null),"data-test":"toolbarFieldCategory"})};_.defaultProps={t:p.translate,useOnSelect:T,useSelectCategoryOptions:O}},33267:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S,ToolbarFieldSla:()=>S,toolbarFieldOptions:()=>p,useOnSelect:()=>v});var i=o(1413),n=o(4942),l=o(96985),r=o.n(l),a=o(61072),c=o(51858),s=o(49844),u=o(30446),d=o(83109),p=Object.values(u.m_).map((function(e){return{title:(0,d.translate)("curiosity-toolbar.sla",{context:""===e?"none":e}),value:e,selected:!1}})),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,o=void 0===t?a.Cr.reactRedux.useDispatch:t,i=e.useProduct,l=void 0===i?c.useProduct:i,r=l(),s=r.viewId,d=o();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,o=void 0===t?null:t;d([{type:a.JD.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:s},(0,n.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.SLA],viewId:s},u.VN.SLA,o)])}},S=function(e){var t=e.isFilter,o=e.options,n=e.position,l=e.t,a=e.useOnSelect,c=(0,e.useProductQuery)()[u.VN.SLA],d=a(),p=o.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:e.value===c})}));return r().createElement(s.Select,{"aria-label":l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"sla"}),onSelect:d,options:p,selectedOptions:c,placeholder:l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"sla"}),position:n,"data-test":"toolbarFieldSla"})};S.defaultProps={isFilter:!1,options:p,position:s.SelectPosition.left,t:d.translate,useOnSelect:v,useProductQuery:c.useProductQuery}},74097:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S,ToolbarFieldUom:()=>S,toolbarFieldOptions:()=>p,useOnSelect:()=>v});var i=o(1413),n=o(4942),l=o(96985),r=o.n(l),a=o(61072),c=o(51858),s=o(49844),u=o(30446),d=o(83109),p=Object.values(u.lu).map((function(e){return{title:(0,d.translate)("curiosity-toolbar.uom",{context:e}),value:e,selected:!1}})),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,o=void 0===t?a.Cr.reactRedux.useDispatch:t,i=e.useProduct,l=void 0===i?c.useProduct:i,r=l(),s=r.viewId,d=o();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,o=void 0===t?null:t;return d([{type:a.JD.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:s},(0,n.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.UOM],viewId:s},u.VN.UOM,o)])}},S=function(e){var t=e.isFilter,o=e.options,n=e.position,l=e.t,a=e.useOnSelect,c=(0,e.useProductQuery)()[u.VN.UOM],d=a(),p=o.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:e.value===c})}));return r().createElement(s.Select,{"aria-label":l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"uom"}),onSelect:d,options:p,selectedOptions:c,placeholder:l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"uom"}),position:n,"data-test":"toolbarFieldUom"})};S.defaultProps={isFilter:!1,options:p,position:s.SelectPosition.left,t:d.translate,useOnSelect:v,useProductQuery:c.useProductQuery}},49928:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S,ToolbarFieldUsage:()=>S,toolbarFieldOptions:()=>p,useOnSelect:()=>v});var i=o(1413),n=o(4942),l=o(96985),r=o.n(l),a=o(61072),c=o(51858),s=o(49844),u=o(30446),d=o(83109),p=Object.values(u.S1).map((function(e){return{title:(0,d.translate)("curiosity-toolbar.usage",{context:""===e?"unspecified":e}),value:e,selected:!1}})),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,o=void 0===t?a.Cr.reactRedux.useDispatch:t,i=e.useProduct,l=void 0===i?c.useProduct:i,r=l(),s=r.viewId,d=o();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,o=void 0===t?null:t;return d([{type:a.JD.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:s},(0,n.Z)({type:a.JD.query.SET_QUERY_RHSM_TYPES[u.VN.USAGE],viewId:s},u.VN.USAGE,o)])}},S=function(e){var t=e.isFilter,o=e.options,n=e.position,l=e.t,a=e.useOnSelect,c=(0,e.useProductQuery)()[u.VN.USAGE],d=a(),p=o.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:e.value===c})}));return r().createElement(s.Select,{"aria-label":l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"usage"}),onSelect:d,options:p,selectedOptions:c,placeholder:l("curiosity-toolbar.placeholder".concat(t?"_filter":""),{context:"usage"}),position:n,"data-test":"toolbarFieldUsage"})};S.defaultProps={isFilter:!1,options:p,position:s.SelectPosition.left,t:d.translate,useOnSelect:v,useProductQuery:c.useProductQuery}}}]);
//# sourceMappingURL=../sourcemaps/136.d05ea86c329b5f30dceed44e1ffef435.js.map