(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7585,1824,1858,9942,7297],{87585:function(t,e,n){"use strict";n.r(e),n.d(e,{BannerMessages:function(){return p},default:function(){return p}});var r=n(4942),i=n(1413),o=n(29439),u=n(92950),s=n.n(u),c=n(54653),a=n(1915),l=n(17297),d=n(31824),v=n(76006),f=n(83109),p=function(t){var e=t.messages,n=t.useGetAppMessages,a=(0,u.useState)({}),d=(0,o.Z)(a,2),v=d[0],f=d[1],p=(0,u.useState)([]),y=(0,o.Z)(p,2),g=y[0],I=y[1],C=n().data;return(0,l.Z)((function(){var t=[];e.length&&Object.entries(C).forEach((function(n){var r=(0,o.Z)(n,2),u=r[0],s=r[1];if(!0!==v[u]&&!0===s){var c=e.find((function(t){return t.id===u}));c&&t.push((0,i.Z)({key:u},c))}})),I(t.map((function(t){var e=t.key,n=t.message,o=t.title,u=t.variant,a=void 0===u?c.AlertVariant.info:u,l=s().createElement(c.AlertActionCloseButton,{onClose:function(){return f((0,i.Z)((0,i.Z)({},v),{},(0,r.Z)({},e,!0)))}});return s().createElement(c.Alert,{actionClose:l,key:e,title:o,variant:a},n)})))}),[C,v,e]),null!=g&&g.length?s().createElement("div",{className:"curiosity-banner-messages"},g):null};p.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,f.translate)("curiosity-banner.dataMismatchTitle"),message:(0,f.translate)("curiosity-banner.dataMismatchMessage",{context:""!==v.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:v.BM.UI_DISPLAY_NAME},[s().createElement(c.Button,{isInline:!0,component:"a",variant:"link",icon:s().createElement(a.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:v.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useGetAppMessages:d.useGetAppMessages}},31824:function(t,e,n){"use strict";n.r(e),n.d(e,{context:function(){return d},default:function(){return d},useGetAppMessages:function(){return l}});var r=n(4942),i=n(1413),o=n(17297),u=n(87284),s=n(51858),c=n(76006),a=n(46262),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getMessageReports,n=void 0===e?u.Ak.rhsm.getMessageReports:e,l=t.useDispatch,d=void 0===l?u.Cr.reactRedux.useDispatch:l,v=t.useProduct,f=void 0===v?s.useProduct:v,p=t.useProductQuery,y=void 0===p?s.useProductQuery:p,g=t.useSelectorsResponse,I=void 0===g?u.Cr.reactRedux.useSelectorsResponse:g,C=f(),h=C.productId,S=y(),T=d(),P=I({id:"messages",selector:function(t){var e,n=t.messages;return null==n||null===(e=n.report)||void 0===e?void 0:e[h]}}),E=P.error,_=P.fulfilled,A=P.pending,R=P.data;(0,o.Z)((function(){if(h){var t,e=c.i3.getRangedDateTime("CURRENT"),o=e.startDate,u=e.endDate,s=(0,i.Z)((0,i.Z)({},S),{},(t={},(0,r.Z)(t,a.O6.GRANULARITY,a.U9.DAILY),(0,r.Z)(t,a.O6.START_DATE,o.toISOString()),(0,r.Z)(t,a.O6.END_DATE,u.toISOString()),t));n(h,s)(T)}}),[h,S]);var M={cloudigradeMismatch:!1};if(_){var Z,m,b=R||{},O=b.messages,Q=void 0===O?{}:O;M.cloudigradeMismatch=void 0!==(null==Q||null===(Z=Q.data)||void 0===Z||null===(m=Z.reverse())||void 0===m?void 0:m.find((function(t){return!0===t[a.pM.RHSM_API_RESPONSE_TALLY_META_TYPES.HAS_CLOUDIGRADE_MISMATCH]})))}return{error:E,fulfilled:_,pending:A,data:(0,i.Z)({},M)}},d={useGetAppMessages:l}},51858:function(t,e,n){"use strict";n.r(e),n.d(e,{DEFAULT_CONTEXT:function(){return f},ProductViewContext:function(){return p},context:function(){return m},default:function(){return m},useProduct:function(){return E},useProductContext:function(){return P},useProductGraphConfig:function(){return _},useProductGraphTallyQuery:function(){return C},useProductInventoryGuestsConfig:function(){return A},useProductInventoryGuestsQuery:function(){return h},useProductInventoryHostsConfig:function(){return R},useProductInventoryHostsQuery:function(){return S},useProductInventorySubscriptionsConfig:function(){return M},useProductInventorySubscriptionsQuery:function(){return T},useProductQuery:function(){return I},useProductQueryFactory:function(){return g},useProductToolbarConfig:function(){return Z}});var r=n(45987),i=n(4942),o=n(1413),u=n(92950),s=n.n(u),c=n(48253),a=n(2606),l=n(46262),d=n(62834),v=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],f=[{},d.B.noop],p=s().createContext(f),y=function(){return(0,u.useContext)(p)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.overrideId,r=e.useProductViewContext,i=void 0===r?y:r,u=i(),s=u[t],c=u.productId,l=u.viewId,d=a.Cr.reactRedux.useSelector((function(e){var r,i=e.view;return null==i||null===(r=i[t])||void 0===r?void 0:r[n]}),void 0),v=a.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[c]}),void 0),f=a.Cr.reactRedux.useSelector((function(e){var n,r=e.view;return null==r||null===(n=r[t])||void 0===n?void 0:n[l]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),d),v),f)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"query":e,r=t.options;return g(n,r)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"graphTallyQuery":e,r=t.schemaCheck,i=void 0===r?l.pM.RHSM_API_QUERY_SET_TALLY_CAPACITY_TYPES:r,u=t.options;return c.V.setApiQuery((0,o.Z)((0,o.Z)({},I()),g(n,u)),i)},h=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultLimit,r=void 0===n?100:n,u=e.defaultOffset,s=void 0===u?0:u,a=e.queryType,d=void 0===a?"inventoryGuestsQuery":a,v=e.schemaCheck,f=void 0===v?l.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:v,p=e.options;return c.V.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,i.Z)(t,l.O6.LIMIT,r),(0,i.Z)(t,l.O6.OFFSET,s),t),I()),g(d,p)),f)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventoryHostsQuery":e,r=t.schemaCheck,i=void 0===r?l.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return c.V.setApiQuery((0,o.Z)((0,o.Z)({},I()),g(n,u)),i)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventorySubscriptionsQuery":e,r=t.schemaCheck,i=void 0===r?l.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES:r,u=t.options;return c.V.setApiQuery((0,o.Z)((0,o.Z)({},I()),g(n,u)),i)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,n=void 0===e?I:e,i=t.useProductViewContext,s=void 0===i?y:i,c=n(),a=c[l.O6.UOM],d=s(),f=d.initialGraphFilters,p=void 0===f?[]:f,g=d.initialInventoryFilters,C=void 0===g?[]:g,h=d.initialSubscriptionsInventoryFilters,S=void 0===h?[]:h,T=d.productContextFilterUom,P=(0,r.Z)(d,v),E=(0,u.useCallback)((function(){if(!0===T){var t=function(t){var e=t.id,n=t.metric;return!t.isOptional||new RegExp(a,"i").test(n)||new RegExp(a,"i").test(e)};return(0,o.Z)((0,o.Z)({},P),{},{initialGraphFilters:p.filter(t),initialInventoryFilters:C.filter(t),initialSubscriptionsInventoryFilters:S.filter(t)})}return(0,o.Z)((0,o.Z)({},P),{},{initialGraphFilters:p,initialInventoryFilters:C,initialSubscriptionsInventoryFilters:S})}),[P,p,C,S,T,a]);return E()},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,n=void 0===e?y:e,r=n(),i=r.productGroup,o=r.productId,u=r.productLabel,s=r.viewId;return{productGroup:i,productId:o,productLabel:u,viewId:s}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialGraphFilters,o=r.initialGraphSettings,u=void 0===o?{}:o;return{filters:i,settings:u}},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.inventoryGuestsQuery,o=void 0===i?{}:i,u=r.initialGuestsFilters,s=r.initialGuestsSettings,c=void 0===s?{}:s;return{filters:u,initialQuery:o,settings:c}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialInventoryFilters,o=r.initialInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialSubscriptionsInventoryFilters,o=r.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?P:e,r=n(),i=r.initialToolbarFilters,o=r.initialToolbarSettings,u=void 0===o?{}:o,s=r.initialSecondaryToolbarFilters;return{filters:i,secondaryFilters:s,settings:u}},m={ProductViewContext:p,DEFAULT_CONTEXT:f,useProductContext:P,useQuery:I,useQueryFactory:g,useGraphTallyQuery:C,useInventoryGuestsQuery:h,useInventoryHostsQuery:S,useInventorySubscriptionsQuery:T,useProduct:E,useGraphConfig:_,useInventoryGuestsConfig:A,useInventoryHostsConfig:R,useInventorySubscriptionsConfig:M,useToolbarConfig:Z}},99376:function(t,e){var n=Object.keys;e.D=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;for(var r=n(t),i=r.length,o=0;o<i;o++)if(!(r[o]in e))return!1;for(o=0;o<i;o++)if(t[r[o]]!==e[r[o]])return!1;return i===n(e).length}},37124:function(t,e,n){"use strict";var r=n(92950);e.Z=function(t,e,n){var i=(0,r.useRef)(void 0);i.current&&n(e,i.current)||(i.current=e),(0,r.useEffect)(t,i.current)}},17297:function(t,e,n){"use strict";var r=n(99376),i=n(37124),o=function(t,e){return t.every((function(t,n){return(0,r.D)(t,e[n])}))};e.Z=function(t,e){(0,i.Z)(t,e,o)}}}]);
//# sourceMappingURL=../sourcemaps/7585.7edbb076633c255d9a0ac5fea66c7b70.js.map