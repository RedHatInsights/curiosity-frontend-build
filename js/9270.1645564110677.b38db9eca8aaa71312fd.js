"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[9270,1138,1858,4418,4024,8139,9942],{1138:(t,e,r)=>{r.r(e),r.d(e,{default:()=>o,ChartIcon:()=>o});var a=r(92950),i=r.n(a),n=r(6033),o=function(t){var e=t.fill,r=t.symbol,a=t.size,o=t.title,s={},u={size:a,title:o},l=function(t){switch(t){case"md":return"1.5em";case"lg":return"2em";case"xl":return"3em";default:return"1em"}}(a);return o?s["aria-labelledby"]=o:s["aria-hidden"]=!0,e&&(u.color=e),i().createElement("span",{className:"curiosity-chartarea__icon curiosity-chartarea__icon-".concat(r)},function(){switch(r){case"dash":return i().createElement("span",{style:{width:l,height:"".concat(Number.parseFloat(l)/2,"em")}},i().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 38 10",role:"img"},s),i().createElement("rect",{y:"5",width:"10",height:"10",fill:e}),i().createElement("rect",{x:"14",y:"5",width:"10",height:"10",fill:e}),i().createElement("rect",{x:"28",y:"5",width:"10",height:"10",fill:e})));case"threshold":return i().createElement("span",{style:{width:"".concat(2*Number.parseFloat(l),"em"),height:l}},i().createElement("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 18 10",role:"img"},s),i().createElement("line",{x1:0,y1:16*Number.parseFloat(l)/2,x2:16*Number.parseFloat(l)*3,y2:16*Number.parseFloat(l)/2,stroke:e,strokeWidth:3,strokeDasharray:"4,3"})));case"eye":return i().createElement(n.EyeIcon,u);case"eyeSlash":return i().createElement(n.EyeSlashIcon,u);case"infinity":return i().createElement(n.InfinityIcon,u);default:return i().createElement(n.SquareIcon,u)}}())};o.defaultProps={fill:null,size:"sm",symbol:"square",title:null}},89270:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h,GraphCardChart:()=>h});var a=r(92950),i=r.n(a),n=r(58617),o=r(51858),s=r(78139),u=r(60930),l=r(64418),c=r(44024),d=r(30446),h=function(t){var e,r,a=t.graphData,o=t.useProductGraphConfig,h=t.useProductGraphTallyQuery,v=o().filters,p=h(),y=p[d.VN.GRANULARITY],m={xAxisLabelIncrement:s.graphCardHelpers.getChartXAxisLabelIncrement(y),xAxisTickFormat:function(t){var e=t.item,r=t.previousItem,a=t.tick;return s.graphCardHelpers.xAxisTickFormat({tick:a,date:e.date,previousDate:r.date,granularity:y})},yAxisTickFormat:s.graphCardHelpers.yAxisTickFormat};return i().createElement(u.Chart,Object.assign({key:"chart_".concat(JSON.stringify(p))},m,{dataSets:(e=a,r=function(t){var r={data:e[t],id:t,strokeWidth:2,isStacked:!/^threshold/.test(t),isThreshold:/^threshold/.test(t)};return/^threshold/.test(t)&&(r.stroke=n.chart_color_green_300.value,r.strokeDasharray="4,3",r.strokeWidth=3),r},null!=v&&v.length?v.map((function(t){return Object.assign(r(t.id),t)})):Object.keys(e).map((function(t){return r(t)}))),chartLegend:function(t){var e=t.chart,r=t.datum;return i().createElement(l.default,{chart:e,datum:r})},chartTooltip:function(t){var e=t.datum;return i().createElement(c.default,{datum:e})}}))};h.defaultProps={graphData:{},useProductGraphConfig:o.useProductGraphConfig,useProductGraphTallyQuery:o.useProductGraphTallyQuery}},64418:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h,GraphCardChartLegend:()=>h});var a=r(92950),i=r.n(a),n=r(45103),o=r(89048),s=r(51858),u=r(186),l=r(76006),c=r(83109),d=r(1138),h=function(t){var e=t.chart,r=t.datum,a=t.t,s=t.useDispatch,l=t.useSelectors,c=(0,t.useProduct)(),h=c.productLabel,v=c.viewId,p=s(),y=l(r.dataSets.map((function(t){var e=t.id;return function(t){var r;return null===(r=t.graph.legend)||void 0===r?void 0:r["".concat(v,"-").concat(e)]}})));(0,o.Z)((function(){r.dataSets.forEach((function(t,r){var a=t.id;((null==y?void 0:y[r])||e.isToggled(a))&&e.hide(a)}))}));var m=function(t){var r=e.toggle(t);p({type:u.JD.graph.SET_GRAPH_LEGEND,id:"".concat(v,"-").concat(t),value:r})};return i().createElement(i().Fragment,null,r.dataSets.map((function(t,r){var o=t.id,s=t.isThreshold,u=t.stroke,l=t.data,c=!(void 0===l?[]:l).find((function(t){var e=t.y,r=t.hasData;return e>=0&&!0===r||e>=0&&!0===s}))||!1,v=a(["curiosity-graph.label_".concat(s?"threshold":o),"curiosity-graph.label_no"],{product:h,context:h}),p=a("curiosity-graph.legendTooltip".concat(s?"_threshold":"","_").concat(o),{product:h,context:h},[i().createElement("span",{style:{whiteSpace:"nowrap"}})]),f=(null==y?void 0:y[r])||e.isToggled(o),g=i().createElement(n.Button,{onClick:function(){return m(o)},onKeyPress:function(){return m(o)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(o),variant:"link",component:"a",isDisabled:c,icon:(c||f)&&i().createElement(d.ChartIcon,{symbol:"eyeSlash"})||i().createElement(d.ChartIcon,{symbol:s?"dash":"square",style:{visibility:c||f?"hidden":"visible"},fill:u})},v);return p?i().createElement(n.Tooltip,{key:"curiosity-tooltip-".concat(o),content:i().createElement("p",null,p),position:n.TooltipPosition.top,enableFlip:!0,distance:5},g):g})))};h.defaultProps={chart:{hide:l.BM.noop,toggle:l.BM.noop,isToggled:l.BM.noop},datum:{dataSets:[]},t:c.translate,useDispatch:u.Cr.reactRedux.useDispatch,useSelectors:u.Cr.reactRedux.useSelectors,useProduct:s.useProduct}},44024:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d,GraphCardChartTooltip:()=>d});var a=r(92950),i=r.n(a),n=r(51858),o=r(78139),s=r(83109),u=r(1138),l=r(46262),c=r(76006),d=function(t){var e=t.datum,r=t.t,a=t.useProduct,n=t.useProductGraphTallyQuery,s=a().productLabel,d=n()[l.O6.GRANULARITY],h=null,v=[],p=(e||{}).itemsByKey,y=void 0===p?{}:p;return Object.keys(y).reverse().forEach((function(t,e){var a,n,l,c;0===e&&(h=(0,o.getTooltipDate)({date:null===(c=y[t])||void 0===c?void 0:c.data.date,granularity:d}));var p={color:null===(a=y[t])||void 0===a?void 0:a.color};if("threshold"===(null===(n=y[t])||void 0===n?void 0:n.chartType)){var m,f,g,T=null!==(m=null===(f=y[t])||void 0===f?void 0:f.data.y)&&void 0!==m?m:r("curiosity-graph.label_noData");null!==(g=y[t])&&void 0!==g&&g.data.hasInfinite&&(T=p.color?i().createElement(u.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label_threshold",{context:"infinite"})}):r("curiosity-graph.label_threshold",{context:"infinite"})),p.label=r("curiosity-graph.label_threshold"),p.value=T}else{var b,E,C=!1===(null===(b=y[t])||void 0===b?void 0:b.data.hasData)&&r("curiosity-graph.label_noData")||(null===(E=y[t])||void 0===E?void 0:E.data.y)||0;p.label=r("curiosity-graph.label",{context:t,product:s}),p.value=C}p.chartType=null===(l=y[t])||void 0===l?void 0:l.chartType,v.push(p)})),i().createElement("div",{className:"curiosity-usage-graph__tooltip"},i().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},v.length&&h&&i().createElement("thead",null,i().createElement("tr",null,i().createElement("th",{colSpan:2},h)))||null,v.length&&i().createElement("tbody",null,v.map((function(t){var e,r,a="number"==typeof t.value&&!Number.isInteger(t.value)&&(null===(e=c.BM.numberDisplay(t.value))||void 0===e||null===(r=e.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||t.value;return i().createElement("tr",{key:"tooltip-".concat(t.label)},i().createElement("th",null,"threshold"===t.chartType&&i().createElement(u.ChartIcon,{size:"sm",symbol:"dash",fill:t.color||"transparent"}),"threshold"!==t.chartType&&i().createElement(u.ChartIcon,{size:"sm",fill:t.color||"transparent"})," ",t.label),i().createElement("td",null,a))})))||null),!v.length&&r("curiosity-graph.label_noData",{context:"error"})||null)};d.defaultProps={datum:{},t:s.translate,useProduct:n.useProduct,useProductGraphTallyQuery:n.useProductGraphTallyQuery}},78139:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f,graphCardHelpers:()=>f,generateChartSettings:()=>d,generateExtendedChartSettings:()=>m,getChartXAxisLabelIncrement:()=>h,getTooltipDate:()=>v,xAxisTickFormat:()=>p,yAxisTickFormat:()=>y});var a=r(1413),i=r(45987),n=r(30381),o=r.n(n),s=r(58617),u=r(30446),l=r(76006),c=["id","isStandalone","isThreshold"],d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],r=[];return t.forEach((function(t){var n=t.id,o=t.isStandalone,u=void 0!==o&&o,l=t.isThreshold,d=void 0!==l&&l,h=(0,i.Z)(t,c);if(n){var v={id:n,isStacked:!d,isStandalone:u,isThreshold:d,strokeWidth:2};d&&(v.stroke=s.chart_color_green_300.value,v.strokeDasharray="4,3",v.strokeWidth=3),u?e.push((0,a.Z)((0,a.Z)({},v),h)):r.push((0,a.Z)((0,a.Z)({},v),h))}})),{standaloneFilters:e,groupedFilters:r}},h=function(t){switch(t){case u.U9.DAILY:return 5;case u.U9.WEEKLY:case u.U9.MONTHLY:return 2;case u.U9.QUARTERLY:default:return 1}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.date,r=t.granularity,a=o().utc(e);switch(r){case u.U9.QUARTERLY:return"".concat(a.format(l.i3.timestampQuarterFormats.yearShort)," - ").concat(a.add(1,"quarter").format(l.i3.timestampQuarterFormats.yearShort));case u.U9.MONTHLY:return a.format(l.i3.timestampMonthFormats.yearLong);case u.U9.WEEKLY:return"".concat(a.format(l.i3.timestampDayFormats.short)," - ").concat(a.add(1,"week").format(l.i3.timestampDayFormats.yearShort));case u.U9.DAILY:default:return a.format(l.i3.timestampDayFormats.long)}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,r=t.date,a=t.granularity,i=t.tick,n=t.previousDate;if(r&&a){if(e)return e({callback:e,date:r,granularity:a,tick:i,previousDate:n});var s,c=o().utc(r),d=0!==i&&Number.parseInt(c.year(),10)!==Number.parseInt(o().utc(n).year(),10);switch(a){case u.U9.QUARTERLY:s=(s=d?c.format(l.i3.timestampQuarterFormats.yearShort):c.format(l.i3.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case u.U9.MONTHLY:s=(s=d?c.format(l.i3.timestampMonthFormats.yearShort):c.format(l.i3.timestampMonthFormats.short)).replace(/\s/,"\n");break;case u.U9.WEEKLY:case u.U9.DAILY:default:s=(s=d?c.format(l.i3.timestampDayFormats.yearShort):c.format(l.i3.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return s}},y=function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.callback,i=r.tick;return a?a({tick:i}):null===(t=l.BM.numberDisplay(i))||void 0===t||null===(e=t.format({average:!0,mantissa:1,trimMantissa:!0,lowPrecision:!1}))||void 0===e?void 0:e.toUpperCase()},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.settings,r=t.granularity;return(0,a.Z)((0,a.Z)({},e),{},{xAxisLabelIncrement:h(r),xAxisTickFormat:function(t){var a=t.item,i=t.previousItem,n=t.tick;return p({callback:null==e?void 0:e.xAxisTickFormat,tick:n,date:a.date,previousDate:i.date,granularity:r})},yAxisTickFormat:function(t){var r=t.tick;return y({callback:null==e?void 0:e.yAxisTickFormat,tick:r})}})},f={generateChartSettings:d,generateExtendedChartSettings:m,getChartXAxisLabelIncrement:h,getTooltipDate:v,xAxisTickFormat:p,yAxisTickFormat:y}},51858:(t,e,r)=>{r.r(e),r.d(e,{default:()=>A,context:()=>A,ProductViewContext:()=>y,DEFAULT_CONTEXT:()=>p,useProductContext:()=>I,useProductQuery:()=>g,useProductQueryFactory:()=>f,useProductGraphTallyQuery:()=>T,useProductInventoryGuestsQuery:()=>b,useProductInventoryHostsQuery:()=>E,useProductInventorySubscriptionsQuery:()=>C,useProduct:()=>S,useProductGraphConfig:()=>x,useProductInventoryGuestsConfig:()=>k,useProductInventoryHostsConfig:()=>P,useProductInventorySubscriptionsConfig:()=>F,useProductToolbarConfig:()=>_});var a=r(45987),i=r(4942),n=r(1413),o=r(92950),s=r.n(o),u=r(12723),l=r(1798),c=r(30446),d=r(46262),h=r(62834),v=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],p=[{},h.B.noop],y=s().createContext(p),m=function(){return(0,o.useContext)(y)},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,a=e.useProductViewContext,i=void 0===a?m:a,o=i(),s=o[t],u=o.productId,c=o.viewId,d=l.Cr.reactRedux.useSelector((function(e){var a,i=e.view;return null==i||null===(a=i[t])||void 0===a?void 0:a[r]}),void 0),h=l.Cr.reactRedux.useSelector((function(e){var r,a=e.view;return null==a||null===(r=a[t])||void 0===r?void 0:r[u]}),void 0),v=l.Cr.reactRedux.useSelector((function(e){var r,a=e.view;return null==a||null===(r=a[t])||void 0===r?void 0:r[c]}),void 0);return(0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},s),d),h),v)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,a=t.options;return f(r,a)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,a=t.schemaCheck,i=void 0===a?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:a,o=t.options;return u.VS.setApiQuery((0,n.Z)((0,n.Z)({},g()),f(r,o)),i)},b=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,a=void 0===r?100:r,o=e.defaultOffset,s=void 0===o?0:o,l=e.queryType,h=void 0===l?"inventoryGuestsQuery":l,v=e.schemaCheck,p=void 0===v?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:v,y=e.options;return u.VS.setApiQuery((0,n.Z)((0,n.Z)((t={},(0,i.Z)(t,d.O6.LIMIT,a),(0,i.Z)(t,d.O6.OFFSET,s),t),g()),f(h,y)),p)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,a=t.schemaCheck,i=void 0===a?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:a,o=t.options;return u.VS.setApiQuery((0,n.Z)((0,n.Z)({},g()),f(r,o)),i)},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,a=t.schemaCheck,i=void 0===a?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:a,o=t.options;return u.VS.setApiQuery((0,n.Z)((0,n.Z)({},g()),f(r,o)),i)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?g:e,i=t.useProductViewContext,s=void 0===i?m:i,u=r(),l=u[c.VN.UOM],d=s(),h=d.initialGraphFilters,p=void 0===h?[]:h,y=d.initialInventoryFilters,f=void 0===y?[]:y,T=d.initialSubscriptionsInventoryFilters,b=void 0===T?[]:T,E=d.productContextFilterUom,C=(0,a.Z)(d,v),I=(0,o.useCallback)((function(){if(!0===E){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(l,"i").test(e)};return(0,n.Z)((0,n.Z)({},C),{},{initialGraphFilters:p.filter(t),initialInventoryFilters:f.filter(t),initialSubscriptionsInventoryFilters:b.filter(t)})}return(0,n.Z)((0,n.Z)({},C),{},{initialGraphFilters:p,initialInventoryFilters:f,initialSubscriptionsInventoryFilters:b})}),[C,p,f,b,E,l]);return I()},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?m:e,a=r(),i=a.productGroup,n=a.productId,o=a.productLabel,s=a.viewId;return{productGroup:i,productId:n,productLabel:o,viewId:s}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,a=r(),i=a.initialGraphFilters,n=a.initialGraphSettings,o=void 0===n?{}:n;return{filters:i,settings:o}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,a=r(),i=a.inventoryGuestsQuery,n=void 0===i?{}:i,o=a.initialGuestsFilters,s=a.initialGuestsSettings,u=void 0===s?{}:s;return{filters:o,initialQuery:n,settings:u}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,a=r(),i=a.initialInventoryFilters,n=a.initialInventorySettings,o=void 0===n?{}:n;return{filters:i,settings:o}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,a=r(),i=a.initialSubscriptionsInventoryFilters,n=a.initialSubscriptionsInventorySettings,o=void 0===n?{}:n;return{filters:i,settings:o}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,a=r(),i=a.initialToolbarFilters,n=a.initialToolbarSettings,o=void 0===n?{}:n;return{filters:i,settings:o}},A={ProductViewContext:y,DEFAULT_CONTEXT:p,useProductContext:I,useQuery:g,useQueryFactory:f,useGraphTallyQuery:T,useInventoryGuestsQuery:b,useInventoryHostsQuery:E,useInventorySubscriptionsQuery:C,useProduct:S,useGraphConfig:x,useInventoryGuestsConfig:k,useInventoryHostsConfig:P,useInventorySubscriptionsConfig:F,useToolbarConfig:_}}}]);
//# sourceMappingURL=../sourcemaps/9270.b338209a36122cb371f463d5ff7c1389.js.map