"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[608],{10608:function(e,t,a){a.r(t),a.d(t,{GraphCard:function(){return d},default:function(){return d}});var r=a(92950),l=a.n(r),n=a(45697),s=a.n(n),i=a(76006),u=a(29407),o=a(91799),c=a(25394);const d=e=>{let{isDisabled:t,useParseFiltersSettings:a}=e;const{filtersSettings:r}=a();return t||null==r||!r.length?null:null==r?void 0:r.map((e=>{var t,a,r;return l().createElement(c.GraphCardContext.Provider,{key:"graphCard-".concat(null==e||null===(t=e.settings)||void 0===t||null===(a=t.metrics)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.id),value:e},l().createElement(u.GraphCardMetricTotals,null,l().createElement(o.GraphCardChart,null)))}))};d.propTypes={isDisabled:s().bool,useParseFiltersSettings:s().func},d.defaultProps={isDisabled:i.helpers.UI_DISABLED_GRAPH,useParseFiltersSettings:c.useParseFiltersSettings}},29407:function(e,t,a){a.r(t),a.d(t,{GraphCardMetricTotals:function(){return y},default:function(){return y}});var r=a(92950),l=a.n(r),n=a(45697),s=a.n(n),i=a(90154),u=a(68929),o=a.n(u),c=a(51858),d=a(25394),p=a(1797),h=a(65876),g=a(46262),m=a(78139),C=a(76006);const y=e=>{var t;let{children:a,useGraphCardContext:r,useMetricsSelector:n,useProductGraphTallyQuery:s}=e;const{settings:u={}}=r(),c=s(),{pending:d,error:y,fulfilled:v,dataSets:f=[]}=n(),{[g.O6.START_DATE]:S}=c,{isCurrent:E}=h.toolbarFieldOptions.find((e=>e.title===S||e.value.startDate.toISOString()===S))||{};if(null!=u&&u.isMetricDisplay&&null!=u&&null!==(t=u.cards)&&void 0!==t&&t.length){var P,T,k;const e=C.helpers.setImmutableData({dataSets:f.map((e=>{const{id:t,metric:a}=e||{};return{...e,display:{...m.graphCardHelpers.getDailyMonthlyTotals({dataSet:e,isCurrent:E}),...m.graphCardHelpers.getRemainingCapacity({...m.graphCardHelpers.getPrepaidTallyCapacity({data:f}),isCurrent:E}),...m.graphCardHelpers.getRemainingOverage({...m.graphCardHelpers.getPrepaidTallyCapacity({data:f}),isCurrent:E}),chartId:t,metricId:a}}}))},{isClone:!0});return l().createElement("div",{"data-test":"graphMetricTotals-".concat(null==u||null===(P=u.groupMetric)||void 0===P||null===(T=P.map((e=>o()(e))))||void 0===T?void 0:T.join("-")),"data-test-data":JSON.stringify(e),className:"curiosity-usage-graph__totals"},l().createElement("div",null,l().createElement("div",{className:"curiosity-usage-graph__totals-column"},null==u||null===(k=u.cards)||void 0===k?void 0:k.map(((t,a)=>{let{key:r,header:n,body:s,footer:u}=t;return l().createElement(i.Card,{key:r||C.helpers.generateHash({metricDisplayPassedData:e,index:a}),isPlain:!0,"data-test":"graphMetricTotalsCard-".concat(a),className:"curiosity-usage-graph__totals-column-card ".concat(y?"blur":"")},l().createElement(i.CardHeader,null,l().createElement(i.CardTitle,null,l().createElement(i.Title,{headingLevel:"h2",size:"md"},d&&l().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),v&&("function"==typeof n&&n(e)||n)))),l().createElement(i.CardBody,null,l().createElement("div",null,d&&l().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg,height:"60px"}}),v&&("function"==typeof s&&s(e)||s))),l().createElement(i.CardFooter,null,l().createElement("div",null,d&&l().createElement(p.Loader,{variant:"skeleton",skeletonProps:{size:p.SkeletonSize.lg}}),v&&("function"==typeof u&&u(e)||u))))})))),l().createElement("div",null,l().createElement("div",{className:"curiosity-usage-graph__totals-graph-column"},a)))}return l().createElement("div",{"data-test":"graphStandalone",className:"curiosity-usage-graph__standalone"},a)};y.propTypes={children:s().node,useGraphCardContext:s().func,useMetricsSelector:s().func,useProductGraphTallyQuery:s().func},y.defaultProps={children:null,useGraphCardContext:d.useGraphCardContext,useMetricsSelector:d.useMetricsSelector,useProductGraphTallyQuery:c.useProductGraphTallyQuery}}}]);
//# sourceMappingURL=../sourcemaps/608.04ebf40b437169445beb710f83f5efce.js.map