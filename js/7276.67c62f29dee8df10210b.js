"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7276,8710,1339,2896,353,8900,5020,9517],{18710:function(e,t,n){n.r(t),n.d(t,{TextInput:function(){return y},default:function(){return y}});var r=n(45987),o=n(1413),a=n(15671),i=n(43144),s=n(79340),u=n(54062),c=n(92950),l=n.n(c),d=n(90154),p=n(44044),v=n(76006),f=["className","id","isDisabled","name","onChange","onClear","onKeyUp","onMouseUp","isReadOnly","type","value"],y=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={updatedValue:null},e.onKeyUp=function(t){var n=e.props,r=n.onClear,a=n.onKeyUp,i=n.type,s=t.currentTarget,u=t.keyCode,c=(0,o.Z)({},t);a((0,p.createMockEvent)(t,!0)),27===u&&("search"===i&&""===s.value?r((0,p.createMockEvent)(c)):e.setState({updatedValue:""},(function(){r((0,p.createMockEvent)((0,o.Z)((0,o.Z)({},c),{currentTarget:(0,o.Z)((0,o.Z)({},c.currentTarget),{},{value:""})})))})))},e.onMouseUp=function(t){var n=e.props,r=n.onClear,a=n.onMouseUp,i=n.type,s=t.currentTarget,u=(0,o.Z)({},t);a((0,p.createMockEvent)(t,!0)),"search"===i&&""!==s.value&&setTimeout((function(){""===s.value&&r((0,p.createMockEvent)(u))}))},e.onChange=function(t,n){var r=e.props.onChange,a=(0,o.Z)({},n);e.setState({updatedValue:t},(function(){r((0,p.createMockEvent)(a))}))},e}return(0,i.Z)(n,[{key:"render",value:function(){var e,t=this.state.updatedValue,n=this.props,o=n.className,a=n.id,i=n.isDisabled,s=n.name,u=(n.onChange,n.onClear,n.onKeyUp,n.onMouseUp,n.isReadOnly),c=n.type,p=n.value,y=(0,r.Z)(n,f),h=s||v.BM.generateId(),m=a||h;return l().createElement(d.TextInput,Object.assign({id:m,name:h,className:"curiosity-text-input ".concat(o),isDisabled:i||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:u||!1,type:c,value:null!==(e=null!=t?t:p)&&void 0!==e?e:""},y))}}]),n}(l().Component);y.defaultProps={className:"",id:null,isDisabled:!1,isReadOnly:!1,name:null,onChange:v.BM.noop,onClear:v.BM.noop,onKeyUp:v.BM.noop,onMouseUp:v.BM.noop,type:"text",value:""}},57276:function(e,t,n){n.r(t),n.d(t,{InventoryCard:function(){return N},default:function(){return N}});var r=n(1413),o=n(36459),a=n(29439),i=n(92950),s=n.n(i),u=n(62179),c=n(40227),l=n(90154),d=n(48521),p=n(94184),v=n.n(p),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)};function y(e){return"".concat(e,e>1||e<1?" Results":" Result")}var h=function(e){var t,n=e.isFooter,r=void 0!==n&&n,o=e.results,a=e.className,s=e.selected,u=e.children,c=e.ouiaId,p=e.ouiaSafe,h=void 0===p||p,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),g=v()("ins-c-table__toolbar",((t={})["ins-m-footer"]=r,t),a),I="RHI/TableToolbar",O=(0,l.useOUIAId)(I,c,h);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.Toolbar,f({className:g,"data-ouia-component-type":I,"data-ouia-component-id":O,"data-ouia-safe":h},m,{children:u})),(o&&o>=0||s&&s>=0)&&(0,d.jsxs)("div",f({className:"ins-c-table__toolbar-results"},{children:[o&&o>=0&&(0,d.jsxs)("span",f({className:"ins-c-table__toolbar-results-count"},{children:[" ",y(o)," "]})),s&&s>=0&&(0,d.jsxs)("span",f({className:"ins-c-table__toolbar-results-selected"},{children:[" ",s," Selected "]}))]}))]})},m=n(98944),g=n(51858),I=n(76006),O=n(78697),E=n(1797),P=n(91339),S=n(15242),C=n(12243),R=n(68900),b=n(89517),_=n(65020),D=n(46262),T=n(83109),M=n(42896),N=function(e){var t=e.cardActions,n=e.isDisabled,d=e.perPageDefault,p=e.t,v=e.useGetInventory,f=e.useOnPage,y=e.useOnColumnSort,m=e.useProduct,g=e.useProductInventoryConfig,I=e.useProductInventoryQuery,b=e.useSession,T=(0,i.useState)({columnHeaders:[],rows:[]}),M=(0,a.Z)(T,2),N=M[0],H=M[1],w=b(),Z=I(),Y=f(),k=y(),U=m().productId,x=g(),A=x.filters,Q=x.settings,L=v({isDisabled:n}),B=L.error,F=L.fulfilled,V=L.pending,j=L.data,z=void 0===j?{}:j,G=z.data,q=void 0===G?[]:G,J=z.meta,W=void 0===J?{}:J;if((0,u.Z)((function(){var e=[],t=[];F&&q.length&&(t=q.map((function(t){var n=Object.assign({},((0,o.Z)(t),t)),a=C.inventoryCardHelpers.parseRowCellsListData({filters:C.inventoryCardHelpers.parseInventoryFilters({filters:A,onSort:k,query:Z}),cellData:n,meta:W,session:w,productId:U}),i=a.columnHeaders,u=a.cells;e=i;var c=null==n?void 0:n.subscriptionManagerId,l=null==n?void 0:n.numberOfGuests;return{cells:u,expandedContent:("function"==typeof(null==Q?void 0:Q.hasSubTable)?Q.hasSubTable((0,r.Z)({},n),(0,r.Z)({},w)):l>0&&c)&&s().createElement(S.InventoryGuests,{key:"guests-".concat(c),numberOfGuests:l,id:c})||void 0}}))),H((function(){return{columnHeaders:e,rows:t}}))}),[A,F,q]),n)return s().createElement(l.Card,{className:"curiosity-inventory-card__disabled"},s().createElement(l.CardBody,null,s().createElement(l.Bullseye,null,p("curiosity-inventory.tab",{context:"disabled"}))));var K=null==W?void 0:W.count,$=Z[D.O6.LIMIT]||d,X=Z[D.O6.OFFSET],ee=_.paginationHelpers.isLastPage(X,$,K),te=!0===F&&K<$&&"bodyMinHeight-".concat($,"-resize")||!0===F&&ee&&"bodyMinHeight-".concat($,"-resize")||!0===B&&"bodyMinHeight-".concat($,"-resize")||"bodyMinHeight-".concat($);return s().createElement(l.Card,{className:"curiosity-inventory-card"},s().createElement(P.MinHeight,{key:"headerMinHeight",updateOnContent:!0},s().createElement(l.CardHeader,{className:B?"hidden":"","aria-hidden":B||!1},t,s().createElement(l.CardActions,{className:K?"":"transparent","aria-hidden":!K||!1},s().createElement(R.default,{isCompact:!0,isDisabled:V||B,itemCount:K,offset:X,onPage:Y,onPerPage:Y,perPage:$})))),s().createElement(P.MinHeight,{key:te,updateOnContent:!0},s().createElement(l.CardBody,null,s().createElement("div",{className:(B?"blur":V&&"fadein")||""},V&&s().createElement(E.Loader,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null==A?void 0:A.length)||(null==q?void 0:q[0])&&Object.keys(q[0]).length||1,colWidth:(null==A?void 0:A.length)&&A.map((function(e){return e.cellWidth}))||[],rowCount:(null==q?void 0:q.length)||$,variant:c.TableVariant.compact}}),!V&&s().createElement(O.default,{borders:!0,variant:c.TableVariant.compact,className:"curiosity-inventory-list",columnHeaders:N.columnHeaders,rows:N.rows})))),s().createElement(P.MinHeight,{key:"footerMinHeight",updateOnContent:!0},s().createElement(l.CardFooter,{className:(B?"hidden":!K&&"transparent")||"","aria-hidden":B||!K||!1},s().createElement(h,{isFooter:!0},s().createElement(R.default,{dropDirection:"up",isDisabled:V||B,itemCount:K,offset:X,onPage:Y,onPerPage:Y,perPage:$})))))};N.defaultProps={cardActions:s().createElement(l.CardHeaderMain,null,s().createElement(b.ToolbarFieldDisplayName,null)),isDisabled:I.BM.UI_DISABLED_TABLE_INSTANCES,perPageDefault:10,t:T.translate,useGetInventory:M.useGetInstancesInventory,useOnPage:M.useOnPageInstances,useOnColumnSort:M.useOnColumnSortInstances,useProduct:g.useProduct,useProductInventoryConfig:g.useProductInventoryHostsConfig,useProductInventoryQuery:g.useProductInventoryHostsQuery,useSession:m.useSession}},42896:function(e,t,n){n.r(t),n.d(t,{context:function(){return E},default:function(){return E},useGetHostsInventory:function(){return h},useGetInstancesInventory:function(){return m},useOnColumnSortHosts:function(){return I},useOnColumnSortInstances:function(){return O},useOnPageInstances:function(){return g}});var r=n(4942),o=n(1413),a=n(45987),i=n(17297),s=n(68929),u=n.n(s),c=n(40227),l=n(82410),d=n(51858),p=n(46262),v=n(76006),f=["cancelled","pending","data"],y=["cancelled","pending","data"],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?l.Ak.rhsm.getHostsInventory:r,u=e.useDispatch,c=void 0===u?l.Cr.reactRedux.useDispatch:u,p=e.useProduct,v=void 0===p?d.useProduct:p,y=e.useProductInventoryQuery,h=void 0===y?d.useProductInventoryHostsQuery:y,m=e.useSelectorsResponse,g=void 0===m?l.Cr.reactRedux.useSelectorsResponse:m,I=v().productId,O=h(),E=c(),P=g((function(e){var t,n=e.inventory;return null==n||null===(t=n.hostsInventory)||void 0===t?void 0:t[I]})),S=P.cancelled,C=P.pending,R=P.data,b=(0,a.Z)(P,f);return(0,i.Z)((function(){n||s(I,O)(E)}),[E,n,I,O]),(0,o.Z)((0,o.Z)({},b),{},{pending:C||S||!1,data:1===(null==R?void 0:R.length)&&R[0]||R||{}})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled,n=void 0!==t&&t,r=e.getInventory,s=void 0===r?l.Ak.rhsm.getInstancesInventory:r,u=e.useDispatch,c=void 0===u?l.Cr.reactRedux.useDispatch:u,p=e.useProduct,v=void 0===p?d.useProduct:p,f=e.useProductInventoryQuery,h=void 0===f?d.useProductInventoryHostsQuery:f,m=e.useSelectorsResponse,g=void 0===m?l.Cr.reactRedux.useSelectorsResponse:m,I=v().productId,O=h(),E=c(),P=g((function(e){var t,n=e.inventory;return null==n||null===(t=n.instancesInventory)||void 0===t?void 0:t[I]})),S=P.cancelled,C=P.pending,R=P.data,b=(0,a.Z)(P,y);return(0,i.Z)((function(){n||s(I,O)(E)}),[E,n,I,O]),(0,o.Z)((0,o.Z)({},b),{},{pending:C||S||!1,data:1===(null==R?void 0:R.length)&&R[0]||R||{}})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDispatch,n=void 0===t?l.Cr.reactRedux.useDispatch:t,o=e.useProduct,a=(void 0===o?d.useProduct:o)().productId,i=n();return function(e){var t=e.offset,n=e.perPage;i([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.OFFSET],viewId:a},p.O6.OFFSET,t),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.LIMIT],viewId:a},p.O6.LIMIT,n)])}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?p.$k:t,o=e.useDispatch,a=void 0===o?l.Cr.reactRedux.useDispatch:o,i=e.useProduct,s=(void 0===i?d.useProduct:i)().productId,f=a();return function(e,t){var o,a=t.direction,i=t.id,d=Object.values(n).find((function(e){return e===i||u()(e)===i}));d?(o=a===c.SortByDirection.desc?p.PQ.DESCENDING:p.PQ.ASCENDING,f([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DIRECTION],viewId:s},p.O6.DIRECTION,o),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.SORT],viewId:s},p.O6.SORT,d)])):(v.BM.DEV_MODE||v.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(i," is allowed."))}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortColumns,n=void 0===t?p.xB:t,o=e.useDispatch,a=void 0===o?l.Cr.reactRedux.useDispatch:o,i=e.useProduct,s=(void 0===i?d.useProduct:i)().productId,f=a();return function(e,t){var o,a=t.direction,i=t.id,d=Object.values(n).find((function(e){return e===i||u()(e)===i}));d?(o=a===c.SortByDirection.desc?p.PQ.DESCENDING:p.PQ.ASCENDING,f([(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DIRECTION],viewId:s},p.O6.DIRECTION,o),(0,r.Z)({type:l.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.SORT],viewId:s},p.O6.SORT,d)])):(v.BM.DEV_MODE||v.BM.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(i," is allowed."))}},E={useGetHostsInventory:h,useGetInstancesInventory:m,useOnPageInstances:g,useOnColumnSortHosts:I,useOnColumnSortInstances:O}},91339:function(e,t,n){n.r(t),n.d(t,{MinHeight:function(){return d},default:function(){return d}});var r=n(15671),o=n(43144),a=n(97326),i=n(79340),s=n(54062),u=n(92950),c=n.n(u),l=n(76006),d=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).containerRef=c().createRef(),e.innerContainerRef=c().createRef(),e.updatedContainerWidth=0,e.resizeObserver=l.BM.noop,e.onResizeContainer=function(){var t,n,r=(0,a.Z)(e).updatedContainerWidth,o=e.props.updateOnResize,i=(null===(t=e.containerRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0;o&&i!==r&&(e.updatedContainerWidth=i,e.setMinHeight(!0))},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.minHeight,r=this.containerRef.current,o=void 0===r?{}:r,a=this.innerContainerRef.current,i=void 0===a?{}:a;null!=o&&o.style&&(n>(e=t?(null==i?void 0:i.clientHeight)||0:(null==o?void 0:o.clientHeight)||0)&&(e=n),o.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return c().createElement("div",{className:"curiosity-minheight",ref:this.containerRef},c().createElement("div",{ref:this.innerContainerRef},e))}}]),n}(c().Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},68900:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return u},default:function(){return u}});var r=n(92950),o=n.n(r),a=n(90154),i=n(76006),s=n(65020),u=function e(t){var n=t.dropDirection,r=t.isDisabled,i=t.isCompact,u=t.itemCount,c=t.offset,l=t.onPage,d=t.onPerPage,p=t.perPage,v=t.variant;return o().createElement(a.Pagination,{dropDirection:n,isCompact:i,isDisabled:r||!u,itemCount:u,onSetPage:function(e,t,n){return l({event:e,perPage:n,offset:s.paginationHelpers.calculateOffsetFromPage(t,n)})},onPerPageSelect:function(t,n){return d({event:t,perPage:n,offset:e.defaultProps.offset})},page:s.paginationHelpers.calculatePageFromOffset(c||e.defaultProps.offset,p),perPage:p,variant:v})};u.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:i.BM.noop,onPerPage:i.BM.noop,perPage:10,variant:null}},65020:function(e,t,n){n.r(t),n.d(t,{calculateOffsetFromPage:function(){return r},calculatePageFromOffset:function(){return o},default:function(){return i},isLastPage:function(){return a},paginationHelpers:function(){return i}});var r=function(e,t){return t*(e-1)||0},o=function(e,t){return e/t+1||1},a=function(e,t,n){return o(e,t)===Math.ceil(n/t)},i={calculateOffsetFromPage:r,calculatePageFromOffset:o,isLastPage:a}},89517:function(e,t,n){n.r(t),n.d(t,{ToolbarFieldDisplayName:function(){return f},default:function(){return f}});var r=n(4942),o=n(92950),a=n.n(o),i=n(90154),s=n(23279),u=n.n(s),c=n(82410),l=n(51858),d=n(18710),p=n(46262),v=n(83109),f=function(e){var t=e.t,n=e.useDispatch,o=e.useProduct,s=e.useProductInventoryHostsQuery,l=o().viewId,v=s()[p.O6.DISPLAY_NAME],f=n(),y=function(e){return f([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},(0,r.Z)({type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DISPLAY_NAME],viewId:l},p.O6.DISPLAY_NAME,(null==e?void 0:e.trim())||null)])},h=u()(y,700);return a().createElement(i.InputGroup,null,a().createElement(d.TextInput,{"aria-label":t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:function(){""!==v&&v&&f([{type:c.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},(0,r.Z)({type:c.JD.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[p.O6.DISPLAY_NAME],viewId:l},p.O6.DISPLAY_NAME,null)])},onKeyUp:function(e){switch(e.keyCode){case 13:y(e.value);break;case 27:break;default:h(e.value)}},value:v,placeholder:t("curiosity-toolbar.placeholder_filter",{context:"displayName"}),"data-test":"toolbarFieldDisplayName"}))};f.defaultProps={t:v.translate,useDispatch:c.Cr.reactRedux.useDispatch,useProduct:l.useProduct,useProductInventoryHostsQuery:l.useProductInventoryHostsQuery}}}]);
//# sourceMappingURL=../sourcemaps/7276.8b8cad5640d5ac7fe5a2fde4a0834d7e.js.map