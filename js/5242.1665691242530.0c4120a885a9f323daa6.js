"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[5242,2243,2293],{12243:function(e,t,r){r.r(t),r.d(t,{applyConfigProperty:function(){return S},applyHeaderRowCellFilters:function(){return m},applySortFilters:function(){return I},applyWrappableFilters:function(){return g},default:function(){return O},inventoryCardHelpers:function(){return O},parseInventoryFilters:function(){return E},parseRowCellsListData:function(){return b}});var n=r(29439),o=r(1413),i=r(93433),l=r(92950),s=r.n(l),a=r(57472),u=r(68929),c=r.n(u),d=r(68630),v=r.n(d),f=r(3969),p=r(83109),y=r(30446),h=r(76006),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.params,n=void 0===r?[]:r,o=e;if("function"==typeof e&&(o=e.apply(void 0,(0,i.Z)(Array.isArray(n)&&n||[n]))),"string"==typeof o||"number"==typeof o||s().isValidElement(o))return o},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=void 0===t?[]:t,n=e.cellData,l=void 0===n?{}:n,u=e.meta,c=void 0===u?{}:u,d=e.session,y=void 0===d?{}:d,m=[],I=[];return r.forEach((function(e){var t,r,n,u,d=e.isStandalone,g=e.id,E=e.cell,b=e.cellWidth,O=e.header,Z=e.onSort,D=e.showEmptyCell,T=void 0===D||D,C=e.sortId,G=e.sortActive,R=e.sortDirection,_=e.transforms,N={title:(0,p.translate)("curiosity-inventory.header",{context:g}),transforms:[]},P={title:""};if(l[g])N.title=null!==(t=null===(r=l[g])||void 0===r?void 0:r.title)&&void 0!==t?t:g,P.title=null!==(n=null===(u=l[g])||void 0===u?void 0:u.value)&&void 0!==n?n:"";else if(!0===d)N.title="",P.title="";else if((h.BM.DEV_MODE||h.BM.REVIEW_MODE)&&console.warn('Warning: Filter "'.concat(g,'" not found in "table row" response data.'),l),!1===T)return;if(O){var w=S(O,{params:[(0,o.Z)({},l),(0,o.Z)({},y),(0,o.Z)({},c)]});if(w?N.title=w:v()(O)&&Object.assign(N,(0,o.Z)({},O)),O.tooltip&&N.title){var F=S(O.tooltip,{params:[(0,o.Z)({},l),(0,o.Z)({},y),(0,o.Z)({},c)]});F&&(N.title=s().createElement(f.Tooltip,{content:F},N.title)),delete N.tooltip}}if(Array.isArray(N.transforms)&&(Array.isArray(_)&&(N.transforms=N.transforms.concat((0,i.Z)(_))),"number"==typeof b&&N.transforms.push((0,a.cellWidth)(b))),"function"==typeof Z&&(N.onSort=function(e){return Z((0,o.Z)({},l),(0,o.Z)((0,o.Z)({},e),{},{id:C||g}))},N.sortActive=G,N.sortDirection=R),E){var A=S(E,{params:[(0,o.Z)({},l),(0,o.Z)({},y),(0,o.Z)({},c)]});if(A?P.title=A:v()(E)&&Object.assign(P,(0,o.Z)({},E)),E.tooltip&&P.title){var V=S(E.tooltip,{params:[(0,o.Z)({},l),(0,o.Z)({},y),(0,o.Z)({},c)]});V&&(P.title=s().createElement(f.Tooltip,{content:V},P.title)),delete P.tooltip}}m.push(N),I.push(P)})),{headerCells:m,bodyCells:I}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filter,r=void 0===t?{}:t,n=e.onSort,i=e.query,l=void 0===i?{}:i,s=r.id,u=r.sortId,d=u||s,v=(0,o.Z)({},r),f=v.onSort||n;return!v.onSort&&n&&(v.onSort=n),f&&"boolean"!=typeof v.sortActive&&null!=l&&l[y.VN.SORT]&&((null==l?void 0:l[y.VN.SORT])===d||c()(null==l?void 0:l[y.VN.SORT])===d)&&(v.sortActive=!0),f&&!v.sortDirection&&null!=l&&l[y.VN.DIRECTION]&&((null==l?void 0:l[y.VN.DIRECTION])===y.hb.DESCENDING?v.sortDirection=a.SortByDirection.desc:v.sortDirection=a.SortByDirection.asc),!f||v.sortActive||null!=l&&l[y.VN.SORT]||!0!==v.isSortDefault||(v.sortActive=!0,v.sortDefaultInitialDirection&&(v.sortDirection=v.sortDefaultInitialDirection)),v},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filter,r=void 0===t?{}:t,n=(0,o.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(a.wrappable):n.transforms=[a.wrappable],n},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=void 0===t?[]:t,n=e.onSort,l=e.query,s=void 0===l?{}:l;return(0,i.Z)(r).map((function(e){var t=(0,o.Z)({},e);return t.isSortable&&Object.assign(t,I({filter:t,onSort:n,query:s})),t.isWrappable&&Object.assign(t,g({filter:t})),t}))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=void 0===t?[]:t,l=e.cellData,s=void 0===l?{}:l,a=e.meta,u=void 0===a?{}:a,c=e.session,d=void 0===c?{}:c,v=[],f=[],y={};if(Object.entries(s).forEach((function(e){var t=(0,n.Z)(e,2),r=t[0],o=t[1],i=void 0===o?"":o;y[r]={title:(0,p.translate)("curiosity-inventory.header",{context:r}),value:i},v.push(y[r].title),f.push(i||"...")})),null!=r&&r.length&&Object.keys(y).length){v.length=0,f.length=0;var h=m({filters:r,cellData:y,meta:u,session:d}),S=h.headerCells,I=void 0===S?[]:S,g=h.bodyCells,E=void 0===g?[]:g;v.push.apply(v,(0,i.Z)(I)),f.push.apply(f,(0,i.Z)(E))}return{columnHeaders:v,cells:f,data:(0,o.Z)({},y)}},O={applyConfigProperty:S,applyHeaderRowCellFilters:m,applySortFilters:I,applyWrappableFilters:g,parseInventoryFilters:E,parseRowCellsListData:b}},15242:function(e,t,r){r.r(t),r.d(t,{InventoryGuests:function(){return y},default:function(){return y}});var n=r(93433),o=r(29439),i=r(92950),l=r.n(i),s=r(57472),a=r(98944),u=r(51858),c=r(1797),d=r(12243),v=r(46262),f=r(78697),p=r(32293),y=function(e){var t,r,a,u=e.defaultPerPage,p=e.id,y=e.numberOfGuests,h=e.useGetGuestsInventory,S=e.useOnScroll,m=e.useProductInventoryGuestsQuery,I=e.useProductInventoryGuestsConfig,g=e.useSession,E=(0,i.useState)([]),b=(0,o.Z)(E,2),O=b[0],Z=b[1],D=g(),T=I().filters,C=m({options:{overrideId:p}})[v.O6.OFFSET],G=h(p),R=G.error,_=G.pending,N=G.data,P=(void 0===N?{}:N).data,w=void 0===P?[]:P,F=S(p,(function(){var e=[].concat((0,n.Z)(O),(0,n.Z)(w||[]));Z(e)}));return l().createElement("div",{className:"fadein ".concat(R?"blur":"")},_&&0===C&&l().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==T?void 0:T.length)||(null==w?void 0:w[0])&&Object.keys(w[0]).length||1,colWidth:(null==T?void 0:T.length)&&T.map((function(e){return e.cellWidth}))||[],rowCount:y<u?y:u,variant:s.TableVariant.compact}}),(!_&&0===C||C>0)&&(t=[],r=[].concat((0,n.Z)(O),(0,n.Z)(w||[])).map((function(e){var r=Object.assign({},e),n=d.inventoryCardHelpers.parseRowCellsListData({filters:T,cellData:r,session:D}),o=n.columnHeaders,i=n.cells;return t=o,{cells:i}})),a=(a=42*(y+1))<275&&a||275,l().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(a,"px")}},l().createElement("div",{className:"curiosity-table-scroll-list".concat(a<275?"__no-scroll":""),onScroll:F},function(){if(C>0&&_){var e=l().createElement(c.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==T?void 0:T.length)||(null==w?void 0:w[0])&&Object.keys(w[0]).length||1,colWidth:(null==T?void 0:T.length)&&T.map((function(e){return e.cellWidth}))||[],rowCount:0,variant:s.TableVariant.compact}});return l().createElement("div",{className:"curiosity-table-scroll-loader__custom"},e)}return null}(),r.length&&l().createElement(f.Table,{borders:!1,variant:s.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:t,rows:r})||null))))};y.defaultProps={defaultPerPage:5,useGetGuestsInventory:p.useGetGuestsInventory,useOnScroll:p.useOnScroll,useProductInventoryGuestsConfig:u.useProductInventoryGuestsConfig,useProductInventoryGuestsQuery:u.useProductInventoryGuestsQuery,useSession:a.useSession}},32293:function(e,t,r){r.r(t),r.d(t,{context:function(){return f},default:function(){return f},useGetGuestsInventory:function(){return d},useOnScroll:function(){return v},useSelectorsGuestsInventory:function(){return c}});var n=r(4942),o=r(1413),i=r(15451),l=r(77823),s=r(61072),a=r(51858),u=r(46262),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useSelectorsResponse,n=void 0===r?s.Cr.reactRedux.useSelectorsResponse:r,o=n((function(t){var r,n=t.inventory;return null==n||null===(r=n.hostsGuests)||void 0===r?void 0:r[e]})),i=o.error,l=o.cancelled,a=o.fulfilled,u=o.pending,c=o.data;return{error:i,fulfilled:a,pending:u||l||!1,data:1===(null==c?void 0:c.length)&&c[0]||c||{}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getInventory,n=void 0===r?s.Ak.rhsm.getHostsInventoryGuests:r,l=t.useDispatch,u=void 0===l?s.Cr.reactRedux.useDispatch:l,d=t.useProductInventoryQuery,v=void 0===d?a.useProductInventoryGuestsQuery:d,f=t.useSelectorsInventory,p=void 0===f?c:f,y=v({options:{overrideId:e}}),h=u(),S=p(e);return(0,i.Z)((function(){n(e,y)(h)}),[h,e,y]),(0,o.Z)({},S)},v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.useDispatch,i=void 0===o?s.Cr.reactRedux.useDispatch:o,d=r.useSelectorsInventory,v=void 0===d?c:d,f=r.useProductInventoryQuery,p=void 0===f?a.useProductInventoryGuestsQuery:f,y=i(),h=v(e),S=h.pending,m=h.data,I=void 0===m?{}:m,g=(null==I?void 0:I.meta)||{},E=g.count,b=p({options:{overrideId:e}}),O=b[u.O6.LIMIT],Z=b[u.O6.OFFSET];return(0,l.Z)((function(){y([{type:s.JD.query.SET_QUERY_CLEAR_INVENTORY_GUESTS_LIST,viewId:e}])})),function(r){var o=r.target,i=o.scrollHeight-o.scrollTop===o.clientHeight;E>(Z+1)*O&&i&&!S&&("function"==typeof t&&t(r),y([(0,n.Z)({type:s.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[u.O6.OFFSET],viewId:e},u.O6.OFFSET,Z+1),(0,n.Z)({type:s.JD.query.SET_QUERY_RHSM_GUESTS_INVENTORY_TYPES[u.O6.LIMIT],viewId:e},u.O6.LIMIT,O)]))}},f={useGetGuestsInventory:d,useOnScroll:v,useSelectorsGuestsInventory:c}}}]);
//# sourceMappingURL=../sourcemaps/5242.6913bacec7d59c5d15ed9a147c0139bf.js.map