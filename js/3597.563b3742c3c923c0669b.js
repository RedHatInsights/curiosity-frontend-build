"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[3597,1858],{51858:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return a},ProductViewContext:function(){return d},context:function(){return _},default:function(){return _},useProduct:function(){return Q},useProductContext:function(){return C},useProductGraphConfig:function(){return I},useProductGraphTallyQuery:function(){return v},useProductInventoryGuestsConfig:function(){return S},useProductInventoryGuestsQuery:function(){return P},useProductInventoryHostsConfig:function(){return b},useProductInventoryHostsQuery:function(){return h},useProductInventorySubscriptionsConfig:function(){return E},useProductInventorySubscriptionsQuery:function(){return T},useProductQuery:function(){return f},useProductQueryFactory:function(){return p},useProductToolbarConfig:function(){return F},useProductToolbarQuery:function(){return g}});var n=r(28416),o=r.n(n),u=r(50361),i=r.n(u),s=r(48253),l=r(2606),c=r(46262);const a=[{},r(62834).B.noop],d=o().createContext(a),y=()=>(0,n.useContext)(d),p=function(t){let{overrideId:e,useProductViewContext:r=y,useSelectors:n=l.Cr.reactRedux.useSelectors}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{[t]:o,productId:u,viewId:i}=r(),[s,c,a]=n([r=>{var n;let{view:o}=r;return null==o||null===(n=o[t])||void 0===n?void 0:n[e]},e=>{var r;let{view:n}=e;return null==n||null===(r=n[t])||void 0===r?void 0:r[u]},e=>{var r;let{view:n}=e;return null==n||null===(r=n[t])||void 0===r?void 0:r[i]}]);return{...o,...s,...c,...a}},f=function(){let{queryType:t="query",useProductQueryFactory:e=p,options:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(t,r)},v=function(){let{queryType:t="graphTallyQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_TALLY_CAPACITY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},P=function(){let{queryType:t="inventoryGuestsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},h=function(){let{queryType:t="inventoryHostsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},T=function(){let{queryType:t="inventorySubscriptionsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,o)},e)},g=function(){let{useProductQuery:t=f,useProductGraphTallyQuery:e=v,useProductInventoryHostsQuery:r=h,useProductInventorySubscriptionsQuery:n=T,options:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t({options:o}),...e({options:o}),...r({options:o}),...n({options:o})}},C=function(){let{useProductQuery:t=f,useProductViewContext:e=y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{[c.O6.UOM]:r}=t(),{initialGraphFilters:o=[],initialInventoryFilters:u=[],initialSubscriptionsInventoryFilters:s=[],productContextFilterUom:l,...a}=e();return(0,n.useCallback)((()=>{if(!0===l){const t=t=>{let{id:e,metric:n,isOptional:o}=t;return!o||new RegExp(r,"i").test(n)||new RegExp(r,"i").test(e)},e=i()(o).map((e=>{let{filters:r,...n}=e;return{...n,filters:r.filter(t),isOptional:!1}})).filter(t);return{...a,initialGraphFilters:e,initialInventoryFilters:u.filter(t),initialSubscriptionsInventoryFilters:s.filter(t)}}return{...a,initialGraphFilters:o,initialInventoryFilters:u,initialSubscriptionsInventoryFilters:s}}),[a,o,u,s,l,r])()},Q=function(){let{useProductViewContext:t=y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productGroup:e,productId:r,productLabel:n,productVariants:o,viewId:u}=t();return{productGroup:e,productId:r,productLabel:n,productVariants:o,viewId:u}},I=function(){let{useProductContext:t=C}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialGraphFilters:e,initialGraphSettings:r={}}=t();return{filters:e,settings:r}},S=function(){let{useProductContext:t=C}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{inventoryGuestsQuery:e={},initialGuestsFilters:r,initialGuestsSettings:n={}}=t();return{filters:r,initialQuery:e,settings:n}},b=function(){let{useProductContext:t=C}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialInventoryFilters:e,initialInventorySettings:r={}}=t();return{filters:e,settings:r}},E=function(){let{useProductContext:t=C}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialSubscriptionsInventoryFilters:e,initialSubscriptionsInventorySettings:r={}}=t();return{filters:e,settings:r}},F=function(){let{useProductContext:t=C}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialToolbarFilters:e,initialToolbarSettings:r={}}=t();return{filters:e,settings:r}},_={ProductViewContext:d,DEFAULT_CONTEXT:a,useProductContext:C,useQuery:f,useQueryFactory:p,useGraphTallyQuery:v,useInventoryGuestsQuery:P,useInventoryHostsQuery:h,useInventorySubscriptionsQuery:T,useProduct:Q,useGraphConfig:I,useInventoryGuestsConfig:S,useInventoryHostsConfig:b,useInventorySubscriptionsConfig:E,useToolbarConfig:F,useToolbarQuery:g}},93597:function(t,e,r){r.r(e),r.d(e,{ToolbarFieldCategory:function(){return v},default:function(){return v},useOnSelect:function(){return f},useToolbarFieldOptions:function(){return p}});var n=r(28416),o=r.n(n),u=r(45697),i=r.n(u),s=r(51858),l=r(87284),c=r(46262),a=r(49844),d=r(78139),y=r(83109);const p=function(){let{useProductGraphConfig:t=s.useProductGraphConfig}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{filters:e}=t(),r=[];if(Array.isArray(e)){const t=[],n=e=>{let{metric:r,query:n}=e;const o=null==n?void 0:n[c.O6.CATEGORY],u=t.find((t=>{let{value:e}=t;return e===o}));void 0===o||u||t.push({title:(0,y.translate)("curiosity-toolbar.label",{context:["category",""===o?"none":o]}),value:o,metaData:{metric:r,query:n},selected:!1})};null==e||e.forEach((t=>{let{filters:e,...r}=t;Array.isArray(e)?e.forEach((t=>n(t))):n(r)})),null!=t&&t.length&&r.push(...t)}return r},f=function(){let{useDispatch:t=l.Cr.reactRedux.useDispatch,useProduct:e=s.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productId:r,viewId:n}=e(),o=t();return function(){var t;let{value:e=null,selected:u={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e;null!=u&&null!==(t=u.metaData)&&void 0!==t&&t.metric&&(i=d.graphCardHelpers.generateChartIds({metric:u.metaData.metric,productId:r,query:{[c.O6.CATEGORY]:e}})),o([{type:l.JD.graph.SET_GRAPH_LEGEND,id:"".concat(n,"-inverted"),value:i},{type:l.JD.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:n},{type:l.JD.query.SET_QUERY,viewId:n,filter:c.O6.CATEGORY,value:e}])}},v=t=>{let{isFilter:e,position:r,t:n,useOnSelect:u,useProductToolbarQuery:i,useToolbarFieldOptions:s}=t;const{[c.O6.CATEGORY]:l}=i(),d=u(),y=s().map((t=>({...t,selected:t.value===l})));return o().createElement(a.Select,{"aria-label":n("curiosity-toolbar.placeholder",{context:[e&&"filter","category"]}),onSelect:d,options:y,selectedOptions:l,placeholder:n("curiosity-toolbar.placeholder",{context:[e&&"filter","category"]}),position:r,"data-test":"toolbarFieldCategory"})};v.propTypes={isFilter:i().bool,position:i().string,t:i().func,useOnSelect:i().func,useProductToolbarQuery:i().func,useToolbarFieldOptions:i().func},v.defaultProps={isFilter:!1,position:a.SelectPosition.left,t:y.translate,useOnSelect:f,useProductToolbarQuery:s.useProductToolbarQuery,useToolbarFieldOptions:p}}}]);
//# sourceMappingURL=../sourcemaps/3597.4b837f866c2c91a1639c50d18020c948.js.map