"use strict";(self.webpackChunksubscriptions=self.webpackChunksubscriptions||[]).push([[2738,1858],{51858:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return a},ProductViewContext:function(){return y},context:function(){return R},default:function(){return R},useProduct:function(){return h},useProductContext:function(){return Q},useProductGraphConfig:function(){return g},useProductGraphTallyQuery:function(){return v},useProductInventoryGuestsConfig:function(){return _},useProductInventoryGuestsQuery:function(){return T},useProductInventoryHostsConfig:function(){return E},useProductInventoryHostsQuery:function(){return P},useProductInventorySubscriptionsConfig:function(){return C},useProductInventorySubscriptionsQuery:function(){return S},useProductQuery:function(){return f},useProductQueryFactory:function(){return p},useProductToolbarConfig:function(){return b},useProductToolbarQuery:function(){return I}});var n=r(28416),u=r.n(n),o=r(50361),i=r.n(o),s=r(48253),l=r(2606),c=r(46262);const a=[{},r(62834).B.noop],y=u().createContext(a),d=()=>(0,n.useContext)(y),p=function(t){let{overrideId:e,useProductViewContext:r=d,useSelectors:n=l.Cr.reactRedux.useSelectors}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{[t]:u,productId:o,viewId:i}=r(),[s,c,a]=n([r=>{var n;let{view:u}=r;return null==u||null===(n=u[t])||void 0===n?void 0:n[e]},e=>{var r;let{view:n}=e;return null==n||null===(r=n[t])||void 0===r?void 0:r[o]},e=>{var r;let{view:n}=e;return null==n||null===(r=n[t])||void 0===r?void 0:r[i]}]);return{...u,...s,...c,...a}},f=function(){let{queryType:t="query",useProductQueryFactory:e=p,options:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(t,r)},v=function(){let{queryType:t="graphTallyQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_TALLY_CAPACITY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,u)},e)},T=function(){let{queryType:t="inventoryGuestsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,u)},e)},P=function(){let{queryType:t="inventoryHostsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,u)},e)},S=function(){let{queryType:t="inventorySubscriptionsQuery",schemaCheck:e=c.pM.RHSM_API_QUERY_SET_INVENTORY_TYPES,useProductQuery:r=f,useProductQueryFactory:n=p,options:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.V.setApiQuery({...r(),...n(t,u)},e)},I=function(){let{useProductQuery:t=f,useProductGraphTallyQuery:e=v,useProductInventoryHostsQuery:r=P,useProductInventorySubscriptionsQuery:n=S,options:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t({options:u}),...e({options:u}),...r({options:u}),...n({options:u})}},Q=function(){let{useProductQuery:t=f,useProductViewContext:e=d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{[c.O6.UOM]:r}=t(),{initialGraphFilters:u=[],initialInventoryFilters:o=[],initialSubscriptionsInventoryFilters:s=[],productContextFilterUom:l,...a}=e();return(0,n.useCallback)((()=>{if(!0===l){const t=t=>{let{id:e,metric:n,isOptional:u}=t;return!u||new RegExp(r,"i").test(n)||new RegExp(r,"i").test(e)},e=i()(u).map((e=>{let{filters:r,...n}=e;return{...n,filters:r.filter(t),isOptional:!1}})).filter(t);return{...a,initialGraphFilters:e,initialInventoryFilters:o.filter(t),initialSubscriptionsInventoryFilters:s.filter(t)}}return{...a,initialGraphFilters:u,initialInventoryFilters:o,initialSubscriptionsInventoryFilters:s}}),[a,u,o,s,l,r])()},h=function(){let{useProductViewContext:t=d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{productGroup:e,productId:r,productLabel:n,productVariants:u,viewId:o}=t();return{productGroup:e,productId:r,productLabel:n,productVariants:u,viewId:o}},g=function(){let{useProductContext:t=Q}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialGraphFilters:e,initialGraphSettings:r={}}=t();return{filters:e,settings:r}},_=function(){let{useProductContext:t=Q}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{inventoryGuestsQuery:e={},initialGuestsFilters:r,initialGuestsSettings:n={}}=t();return{filters:r,initialQuery:e,settings:n}},E=function(){let{useProductContext:t=Q}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialInventoryFilters:e,initialInventorySettings:r={}}=t();return{filters:e,settings:r}},C=function(){let{useProductContext:t=Q}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialSubscriptionsInventoryFilters:e,initialSubscriptionsInventorySettings:r={}}=t();return{filters:e,settings:r}},b=function(){let{useProductContext:t=Q}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initialToolbarFilters:e,initialToolbarSettings:r={}}=t();return{filters:e,settings:r}},R={ProductViewContext:y,DEFAULT_CONTEXT:a,useProductContext:Q,useQuery:f,useQueryFactory:p,useGraphTallyQuery:v,useInventoryGuestsQuery:T,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:S,useProduct:h,useGraphConfig:g,useInventoryGuestsConfig:_,useInventoryHostsConfig:E,useInventorySubscriptionsConfig:C,useToolbarConfig:b,useToolbarQuery:I}},2738:function(t,e,r){r.r(e),r.d(e,{ToolbarFieldGranularity:function(){return v},default:function(){return v},toolbarFieldOptions:function(){return p},useOnSelect:function(){return f}});var n=r(28416),u=r.n(n),o=r(45697),i=r.n(o),s=r(87284),l=r(51858),c=r(49844),a=r(46262),y=r(76006),d=r(83109);const p=Object.values(a.U9).map((t=>({title:(0,d.translate)("curiosity-toolbar.label",{context:["granularity",t]}),value:t,selected:!1}))),f=function(){let{useDispatch:t=s.Cr.reactRedux.useDispatch,useProduct:e=l.useProduct}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{viewId:r}=e(),n=t();return function(){let{value:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{startDate:e,endDate:u}=y.i3.getRangedDateTime(t);n([{type:s.JD.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:r},{type:s.JD.query.SET_QUERY_RHSM_TYPES[a.O6.GRANULARITY],viewId:r,[a.O6.GRANULARITY]:t},{type:s.JD.query.SET_QUERY_RHSM_TYPES[a.O6.START_DATE],viewId:r,[a.O6.START_DATE]:e.toISOString()},{type:s.JD.query.SET_QUERY_RHSM_TYPES[a.O6.END_DATE],viewId:r,[a.O6.END_DATE]:u.toISOString()}])}},v=t=>{let{isFilter:e,options:r,position:n,t:o,useOnSelect:i,useProductGraphTallyQuery:s}=t;const{[a.O6.GRANULARITY]:l}=s(),y=i(),d=r.map((t=>({...t,selected:t.value===l})));return u().createElement(c.Select,{"aria-label":o("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"granularity"}),onSelect:y,options:d,selectedOptions:l,placeholder:o("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"granularity"}),position:n,"data-test":"toolbarFieldGranularity"})};v.propTypes={isFilter:i().bool,options:i().arrayOf(i().shape({title:i().node,value:i().any,selected:i().bool})),position:i().string,t:i().func,useOnSelect:i().func,useProductGraphTallyQuery:i().func},v.defaultProps={isFilter:!1,options:p,position:c.SelectPosition.left,t:d.translate,useOnSelect:f,useProductGraphTallyQuery:l.useProductGraphTallyQuery}}}]);
//# sourceMappingURL=../sourcemaps/2738.541d970d12e9cc39ed4fdbe6767f91d1.js.map