(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[7585,1824,7297],{87585:function(e,t,n){"use strict";n.r(t),n.d(t,{BannerMessages:function(){return g},default:function(){return g}});var r=n(4942),s=n(1413),i=n(29439),a=n(92950),u=n.n(a),o=n(54653),c=n(1915),l=n(17297),d=n(31824),f=n(76006),v=n(83109),g=function(e){var t=e.messages,n=e.useGetAppMessages,c=(0,a.useState)({}),d=(0,i.Z)(c,2),f=d[0],v=d[1],g=(0,a.useState)([]),A=(0,i.Z)(g,2),p=A[0],M=A[1],m=n().data;return(0,l.Z)((function(){var e=[];t.length&&Object.entries(m).forEach((function(n){var r=(0,i.Z)(n,2),a=r[0],u=r[1];if(!0!==f[a]&&!0===u){var o=t.find((function(e){return e.id===a}));o&&e.push((0,s.Z)({key:a},o))}})),M(e.map((function(e){var t=e.key,n=e.message,i=e.title,a=e.variant,c=void 0===a?o.AlertVariant.info:a,l=u().createElement(o.AlertActionCloseButton,{onClose:function(){return v((0,s.Z)((0,s.Z)({},f),{},(0,r.Z)({},t,!0)))}});return u().createElement(o.Alert,{actionClose:l,key:t,title:i,variant:c},n)})))}),[m,f,t]),null!=p&&p.length?u().createElement("div",{className:"curiosity-banner-messages"},p):null};g.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,v.translate)("curiosity-banner.dataMismatchTitle"),message:(0,v.translate)("curiosity-banner.dataMismatchMessage",{context:""!==f.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:f.BM.UI_DISPLAY_NAME},[u().createElement(o.Button,{isInline:!0,component:"a",variant:"link",icon:u().createElement(c.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:f.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useGetAppMessages:d.useGetAppMessages}},31824:function(e,t,n){"use strict";n.r(t),n.d(t,{context:function(){return d},default:function(){return d},useGetAppMessages:function(){return l}});var r=n(4942),s=n(1413),i=n(17297),a=n(82410),u=n(51858),o=n(76006),c=n(46262),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getMessageReports,n=void 0===t?a.Ak.rhsm.getMessageReports:t,l=e.useDispatch,d=void 0===l?a.Cr.reactRedux.useDispatch:l,f=e.useProduct,v=void 0===f?u.useProduct:f,g=e.useProductQuery,A=void 0===g?u.useProductQuery:g,p=e.useSelectorsResponse,M=void 0===p?a.Cr.reactRedux.useSelectorsResponse:p,m=v(),E=m.productId,R=A(),_=d(),h=M({id:"messages",selector:function(e){var t,n=e.messages;return null==n||null===(t=n.report)||void 0===t?void 0:t[E]}}),C=h.error,I=h.fulfilled,S=h.pending,Z=h.data;(0,i.Z)((function(){if(E){var e,t=o.i3.getRangedDateTime("CURRENT"),i=t.startDate,a=t.endDate,u=(0,s.Z)((0,s.Z)({},R),{},(e={},(0,r.Z)(e,c.O6.GRANULARITY,c.U9.DAILY),(0,r.Z)(e,c.O6.START_DATE,i.toISOString()),(0,r.Z)(e,c.O6.END_DATE,a.toISOString()),e));n(E,u)(_)}}),[E,R]);var O={cloudigradeMismatch:!1};if(I){var T,D,N=Z||{},P=N.messages,k=void 0===P?{}:P;O.cloudigradeMismatch=void 0!==(null==k||null===(T=k.data)||void 0===T||null===(D=T.reverse())||void 0===D?void 0:D.find((function(e){return!0===e[c.pM.RHSM_API_RESPONSE_TALLY_CAPACITY_META_TYPES.HAS_CLOUDIGRADE_MISMATCH]})))}return{error:C,fulfilled:I,pending:S,data:(0,s.Z)({},O)}},d={useGetAppMessages:l}},99376:function(e,t){var n=Object.keys;t.D=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var r=n(e),s=r.length,i=0;i<s;i++)if(!(r[i]in t))return!1;for(i=0;i<s;i++)if(e[r[i]]!==t[r[i]])return!1;return s===n(t).length}},37124:function(e,t,n){"use strict";var r=n(92950);t.Z=function(e,t,n){var s=(0,r.useRef)(void 0);s.current&&n(t,s.current)||(s.current=t),(0,r.useEffect)(e,s.current)}},17297:function(e,t,n){"use strict";var r=n(99376),s=n(37124),i=function(e,t){return e.every((function(e,n){return(0,r.D)(e,t[n])}))};t.Z=function(e,t){(0,s.Z)(e,t,i)}}}]);
//# sourceMappingURL=../sourcemaps/7585.a889bd270c08bd9a4ba391eebd87fe0d.js.map