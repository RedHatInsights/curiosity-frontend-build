"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[9928,9844,1858,9942],{49844:function(t,e,n){n.r(e),n.d(e,{Select:function(){return E},SelectDirection:function(){return P},SelectPosition:function(){return b},default:function(){return E}});var i=n(29439),o=n(1413),r=n(15671),u=n(43144),s=n(60136),l=n(54062),c=n(92950),a=n.n(c),d=n(65834),v=n(50361),p=n.n(v),f=n(18446),y=n.n(f),g=n(30998),S=n.n(g),h=n(68630),I=n.n(h),T=n(62834),P=d.DropdownDirection,b=d.DropdownPosition,E=function(t){(0,s.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;(0,r.Z)(this,n);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return(t=e.call.apply(e,[this].concat(u))).state={isExpanded:!1,options:null,selected:null},t.selectField=a().createRef(),t.onSelect=function(e,n){var i=t.state.options,r=t.props,u=r.id,s=r.name,l=r.onSelect,c=r.variant,a=i,v=a.findIndex((function(t){return t.title===n}));a[v].selected=c===d.SelectVariant.single||!a[v].selected,c===d.SelectVariant.single&&a.forEach((function(t,e){v!==e&&(a[e].selected=!1)}));var f=c===d.SelectVariant.single?n:a.filter((function(t){return!0===t.selected})).map((function(t){return t.title}));t.setState({options:a,selected:f},(function(){var e=p()(a),n={id:u,name:s||u,value:e[v].value,selected:c===d.SelectVariant.single&&e[v]||p()(f),selectedIndex:v,type:"select-".concat(c===d.SelectVariant.single?"one":"multiple"),options:e};c===d.SelectVariant.checkbox&&(n.checked=e[v].selected);var i=(0,o.Z)((0,o.Z)({},n),{},{target:(0,o.Z)({},n),currentTarget:(0,o.Z)({},n),persist:T.B.noop});l((0,o.Z)({},i),v,e),c===d.SelectVariant.single&&t.setState({isExpanded:!1})}))},t.onToggle=function(e){t.setState({isExpanded:e})},t}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.options,i=e.selectedOptions;y()(t.options,n)&&y()(t.selectedOptions,i)||this.formatOptions()}},{key:"formatOptions",value:function(){var t,e,n=this.selectField.current,r=void 0===n?{}:n,u=this.props,s=u.options,l=u.selectedOptions,c=u.variant,a=Object.entries(this.props).filter((function(t){var e=(0,i.Z)(t,1)[0];return/^data-/i.test(e)})),v=I()(s)?Object.entries(s).map((function(t){var e=(0,i.Z)(t,2),n=e[0],r=e[1];return(0,o.Z)((0,o.Z)({},r),{},{title:n,value:r})})):p()(s),f=l&&"string"==typeof l||"number"==typeof l?[l]:l;v.forEach((function(t,e){var n,i=t;("string"==typeof i&&(i={title:t,value:t},v[e]=i),i.text=i.text||i.title,i.textContent=i.textContent||i.title,i.label=i.label||i.title,f)&&(I()(i.value)?(n=S()(f,i.value)>-1)||(n=!!f.find((function(t){return Object.values(i.value).includes(t)}))):n=f.includes(i.value),n||(n=f.includes(i.title)),v[e].selected=n)})),e=c===d.SelectVariant.single?(v.find((function(t){return!0===t.selected}))||{}).title:v.filter((function(t){return!0===t.selected})).map((function(t){return t.title})),null!=r&&null!==(t=r.parentRef)&&void 0!==t&&t.current&&a.forEach((function(t){var e,n=(0,i.Z)(t,2),o=n[0],u=n[1];return null==r||null===(e=r.parentRef)||void 0===e?void 0:e.current.setAttribute(o,u)})),this.setState({options:v,selected:e})}},{key:"render",value:function(){var t=this.state,e=t.options,n=t.selected,i=t.isExpanded,o=this.props,r=o.ariaLabel,u=o.className,s=o.direction,l=o.isDisabled,c=o.isToggleText,v=o.maxHeight,p=o.placeholder,f=o.position,y=o.toggleIcon,g=o.variant,S={direction:s,maxHeight:v};return e&&e.length&&!l||(S.isDisabled=!0),a().createElement("div",{className:"curiosity-select"},a().createElement(d.Select,Object.assign({menuAppendTo:"parent",className:"curiosity-select-pf".concat(c?"":"__no-toggle-text"," ").concat(f===d.DropdownPosition.right?"curiosity-select-pf__position-right":""," ").concat(u),variant:g,"aria-label":r,onToggle:this.onToggle,onSelect:this.onSelect,selections:n,isOpen:i,toggleIcon:y,placeholderText:p,ref:this.selectField},S),e&&e.map((function(t){return a().createElement(d.SelectOption,{key:window.btoa("".concat(t.title,"-").concat(t.value)),id:window.btoa("".concat(t.title,"-").concat(t.value)),value:t.title,"data-value":I()(t.value)&&JSON.stringify([t.value])||t.value,"data-title":t.title})}))||[]))}}]),n}(a().Component);E.defaultProps={ariaLabel:"Select option",className:"",direction:P.down,id:T.B.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:T.B.noop,options:[],placeholder:"Select option",position:b.left,selectedOptions:null,toggleIcon:null,variant:d.SelectVariant.single}},51858:function(t,e,n){n.r(e),n.d(e,{DEFAULT_CONTEXT:function(){return f},ProductViewContext:function(){return y},context:function(){return O},default:function(){return O},useProduct:function(){return C},useProductContext:function(){return E},useProductGraphConfig:function(){return x},useProductGraphTallyQuery:function(){return I},useProductInventoryGuestsConfig:function(){return _},useProductInventoryGuestsQuery:function(){return T},useProductInventoryHostsConfig:function(){return m},useProductInventoryHostsQuery:function(){return P},useProductInventorySubscriptionsConfig:function(){return Z},useProductInventorySubscriptionsQuery:function(){return b},useProductQuery:function(){return h},useProductQueryFactory:function(){return S},useProductToolbarConfig:function(){return F}});var i=n(45987),o=n(4942),r=n(1413),u=n(92950),s=n.n(u),l=n(12723),c=n(2606),a=n(30446),d=n(46262),v=n(62834),p=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],f=[{},v.B.noop],y=s().createContext(f),g=function(){return(0,u.useContext)(y)},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.overrideId,i=e.useProductViewContext,o=void 0===i?g:i,u=o(),s=u[t],l=u.productId,a=u.viewId,d=c.Cr.reactRedux.useSelector((function(e){var i,o=e.view;return null==o||null===(i=o[t])||void 0===i?void 0:i[n]}),void 0),v=c.Cr.reactRedux.useSelector((function(e){var n,i=e.view;return null==i||null===(n=i[t])||void 0===n?void 0:n[l]}),void 0),p=c.Cr.reactRedux.useSelector((function(e){var n,i=e.view;return null==i||null===(n=i[t])||void 0===n?void 0:n[a]}),void 0);return(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},s),d),v),p)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"query":e,i=t.options;return S(n,i)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"graphTallyQuery":e,i=t.schemaCheck,o=void 0===i?a.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:i,u=t.options;return l.VS.setApiQuery((0,r.Z)((0,r.Z)({},h()),S(n,u)),o)},T=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultLimit,i=void 0===n?100:n,u=e.defaultOffset,s=void 0===u?0:u,c=e.queryType,v=void 0===c?"inventoryGuestsQuery":c,p=e.schemaCheck,f=void 0===p?a.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:p,y=e.options;return l.VS.setApiQuery((0,r.Z)((0,r.Z)((t={},(0,o.Z)(t,d.O6.LIMIT,i),(0,o.Z)(t,d.O6.OFFSET,s),t),h()),S(v,y)),f)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventoryHostsQuery":e,i=t.schemaCheck,o=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return l.VS.setApiQuery((0,r.Z)((0,r.Z)({},h()),S(n,u)),o)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,n=void 0===e?"inventorySubscriptionsQuery":e,i=t.schemaCheck,o=void 0===i?a.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:i,u=t.options;return l.VS.setApiQuery((0,r.Z)((0,r.Z)({},h()),S(n,u)),o)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,n=void 0===e?h:e,o=t.useProductViewContext,s=void 0===o?g:o,l=n(),c=l[a.VN.UOM],d=s(),v=d.initialGraphFilters,f=void 0===v?[]:v,y=d.initialInventoryFilters,S=void 0===y?[]:y,I=d.initialSubscriptionsInventoryFilters,T=void 0===I?[]:I,P=d.productContextFilterUom,b=(0,i.Z)(d,p),E=(0,u.useCallback)((function(){if(!0===P){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(c,"i").test(e)};return(0,r.Z)((0,r.Z)({},b),{},{initialGraphFilters:f.filter(t),initialInventoryFilters:S.filter(t),initialSubscriptionsInventoryFilters:T.filter(t)})}return(0,r.Z)((0,r.Z)({},b),{},{initialGraphFilters:f,initialInventoryFilters:S,initialSubscriptionsInventoryFilters:T})}),[b,f,S,T,P,c]);return E()},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,n=void 0===e?g:e,i=n(),o=i.productGroup,r=i.productId,u=i.productLabel,s=i.viewId;return{productGroup:o,productId:r,productLabel:u,viewId:s}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,i=n(),o=i.initialGraphFilters,r=i.initialGraphSettings,u=void 0===r?{}:r;return{filters:o,settings:u}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,i=n(),o=i.inventoryGuestsQuery,r=void 0===o?{}:o,u=i.initialGuestsFilters,s=i.initialGuestsSettings,l=void 0===s?{}:s;return{filters:u,initialQuery:r,settings:l}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,i=n(),o=i.initialInventoryFilters,r=i.initialInventorySettings,u=void 0===r?{}:r;return{filters:o,settings:u}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,i=n(),o=i.initialSubscriptionsInventoryFilters,r=i.initialSubscriptionsInventorySettings,u=void 0===r?{}:r;return{filters:o,settings:u}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,n=void 0===e?E:e,i=n(),o=i.initialToolbarFilters,r=i.initialToolbarSettings,u=void 0===r?{}:r,s=i.initialSecondaryToolbarFilters;return{filters:o,secondaryFilters:s,settings:u}},O={ProductViewContext:y,DEFAULT_CONTEXT:f,useProductContext:E,useQuery:h,useQueryFactory:S,useGraphTallyQuery:I,useInventoryGuestsQuery:T,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:b,useProduct:C,useGraphConfig:x,useInventoryGuestsConfig:_,useInventoryHostsConfig:m,useInventorySubscriptionsConfig:Z,useToolbarConfig:F}},49928:function(t,e,n){n.r(e),n.d(e,{ToolbarFieldUsage:function(){return f},default:function(){return f},toolbarFieldOptions:function(){return v},useOnSelect:function(){return p}});var i=n(1413),o=n(4942),r=n(92950),u=n.n(r),s=n(61072),l=n(51858),c=n(49844),a=n(30446),d=n(83109),v=Object.values(a.S1).map((function(t){return{title:(0,d.translate)("curiosity-toolbar.usage",{context:""===t?"unspecified":t}),value:t,selected:!1}})),p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useDispatch,n=void 0===e?s.Cr.reactRedux.useDispatch:e,i=t.useProduct,r=void 0===i?l.useProduct:i,u=r(),c=u.viewId,d=n();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.value,n=void 0===e?null:e;return d([{type:s.JD.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:c},(0,o.Z)({type:s.JD.query.SET_QUERY_RHSM_TYPES[a.VN.USAGE],viewId:c},a.VN.USAGE,n)])}},f=function(t){var e=t.isFilter,n=t.options,o=t.position,r=t.t,s=t.useOnSelect,l=(0,t.useProductQuery)()[a.VN.USAGE],d=s(),v=n.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{selected:t.value===l})}));return u().createElement(c.Select,{"aria-label":r("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"usage"}),onSelect:d,options:v,selectedOptions:l,placeholder:r("curiosity-toolbar.placeholder".concat(e?"_filter":""),{context:"usage"}),position:o,"data-test":"toolbarFieldUsage"})};f.defaultProps={isFilter:!1,options:v,position:c.SelectPosition.left,t:d.translate,useOnSelect:p,useProductQuery:l.useProductQuery}}}]);
//# sourceMappingURL=../sourcemaps/9928.fefb39cbd20d459376ca32ec97b1f542.js.map