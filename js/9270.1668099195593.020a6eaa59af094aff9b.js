"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[9270,4418,4024,1858],{89270:function(t,e,r){r.r(e),r.d(e,{GraphCardChart:function(){return v},default:function(){return v}});var n=r(92950),i=r.n(n),o=r(18604),u=r(51858),a=r(78139),l=r(60930),s=r(64418),c=r(44024),d=r(30446),v=function(t){var e,r,n=t.graphData,u=t.useProductGraphConfig,v=t.useProductGraphTallyQuery,h=u().filters,p=v(),y=p[d.VN.GRANULARITY],f={xAxisLabelIncrement:a.graphCardHelpers.getChartXAxisLabelIncrement(y),xAxisTickFormat:function(t){var e=t.item,r=t.previousItem,n=t.tick;return a.graphCardHelpers.xAxisTickFormat({tick:n,date:e.date,previousDate:r.date,granularity:y})},yAxisTickFormat:a.graphCardHelpers.yAxisTickFormat};return i().createElement(l.Chart,Object.assign({key:"chart_".concat(JSON.stringify(p))},f,{dataSets:(e=n,r=function(t){var r={data:e[t],id:t,strokeWidth:2,isStacked:!/^threshold/.test(t),isThreshold:/^threshold/.test(t)};return/^threshold/.test(t)&&(r.stroke=o.chart_color_green_300.value,r.strokeDasharray="4,3",r.strokeWidth=3),r},null!=h&&h.length?h.map((function(t){return Object.assign(r(t.id),t)})):Object.keys(e).map((function(t){return r(t)}))),chartLegend:function(t){var e=t.chart,r=t.datum;return i().createElement(s.default,{chart:e,datum:r})},chartTooltip:function(t){var e=t.datum;return i().createElement(c.default,{datum:e})}}))};v.defaultProps={graphData:{},useProductGraphConfig:u.useProductGraphConfig,useProductGraphTallyQuery:u.useProductGraphTallyQuery}},64418:function(t,e,r){r.r(e),r.d(e,{GraphCardChartLegend:function(){return v},default:function(){return v}});var n=r(92950),i=r.n(n),o=r(21242),u=r(89048),a=r(51858),l=r(61072),s=r(76006),c=r(83109),d=r(1138),v=function(t){var e=t.chart,r=t.datum,n=t.t,a=t.useDispatch,s=t.useSelectors,c=(0,t.useProduct)(),v=c.productLabel,h=c.viewId,p=a(),y=s(r.dataSets.map((function(t){var e=t.id;return function(t){var r;return null===(r=t.graph.legend)||void 0===r?void 0:r["".concat(h,"-").concat(e)]}})));(0,u.Z)((function(){r.dataSets.forEach((function(t,r){var n=t.id;((null==y?void 0:y[r])||e.isToggled(n))&&e.hide(n)}))}));var f=function(t){var r=e.toggle(t);p({type:l.JD.graph.SET_GRAPH_LEGEND,id:"".concat(h,"-").concat(t),value:r})};return i().createElement(i().Fragment,null,r.dataSets.map((function(t,r){var u=t.id,a=t.isThreshold,l=t.stroke,s=t.data,c=!(void 0===s?[]:s).find((function(t){var e=t.y,r=t.hasData;return e>=0&&!0===r||e>=0&&!0===a}))||!1,h=n(["curiosity-graph.label","curiosity-graph.label_no"],{product:v,context:a?"threshold":u}),p=n("curiosity-graph.legendTooltip",{product:v,context:[a&&"threshold",u]},[i().createElement("span",{style:{whiteSpace:"nowrap"}})]),g=(null==y?void 0:y[r])||e.isToggled(u),m=i().createElement(o.Button,{onClick:function(){return f(u)},onKeyPress:function(){return f(u)},className:"curiosity-usage-graph__legend-item",tabIndex:0,key:"curiosity-button-".concat(u),variant:"link",component:"a",isDisabled:c,icon:(c||g)&&i().createElement(d.ChartIcon,{symbol:"eyeSlash"})||i().createElement(d.ChartIcon,{symbol:a?"dash":"square",style:{visibility:c||g?"hidden":"visible"},fill:l})},h);return p?i().createElement(o.Tooltip,{key:"curiosity-tooltip-".concat(u),content:i().createElement("p",null,p),position:o.TooltipPosition.top,enableFlip:!0,distance:5},m):m})))};v.defaultProps={chart:{hide:s.BM.noop,toggle:s.BM.noop,isToggled:s.BM.noop},datum:{dataSets:[]},t:c.translate,useDispatch:l.Cr.reactRedux.useDispatch,useSelectors:l.Cr.reactRedux.useSelectors,useProduct:a.useProduct}},44024:function(t,e,r){r.r(e),r.d(e,{GraphCardChartTooltip:function(){return v},default:function(){return v}});var n=r(92950),i=r.n(n),o=r(51858),u=r(78139),a=r(83109),l=r(60930),s=r(1138),c=r(46262),d=r(76006),v=function(t){var e=t.datum,r=t.t,n=t.useProduct,o=t.useProductGraphTallyQuery,a=n().productLabel,v=o()[c.O6.GRANULARITY],h=null,p=[],y=(e||{}).itemsByKey,f=void 0===y?{}:y;return Object.keys(f).reverse().forEach((function(t,e){var n,o,c,d;0===e&&(h=(0,u.getTooltipDate)({date:null===(d=f[t])||void 0===d?void 0:d.data.date,granularity:v}));var y={color:null===(n=f[t])||void 0===n?void 0:n.color};if((null===(o=f[t])||void 0===o?void 0:o.chartType)===l.ChartTypeVariant.threshold){var g,m,T,C,P=null!==(g=null===(m=f[t])||void 0===m?void 0:m.data.y)&&void 0!==g?g:r("curiosity-graph.label",{context:"noData"});(null!==(T=f[t])&&void 0!==T&&T.data.hasInfinite||null!==(C=f[t])&&void 0!==C&&C.data.hasInfiniteQuantity)&&(P=r("curiosity-graph.label",{context:["threshold","infinite"]},[y.color&&i().createElement(s.ChartIcon,{symbol:"infinity",fill:"#ffffff",title:r("curiosity-graph.label",{context:["threshold","infinite"]})})])),y.label=r("curiosity-graph.label",{context:["threshold"]}),y.value=P}else{var b,I,S=!1===(null===(b=f[t])||void 0===b?void 0:b.data.hasData)&&r("curiosity-graph.label",{context:"noData"})||(null===(I=f[t])||void 0===I?void 0:I.data.y)||0;y.label=r("curiosity-graph.label",{context:t,product:a}),y.value=S}y.chartType=null===(c=f[t])||void 0===c?void 0:c.chartType,p.push(y)})),i().createElement("div",{className:"curiosity-usage-graph__tooltip"},i().createElement("table",{summary:r("curiosity-graph.tooltipSummary")},p.length&&h&&i().createElement("thead",null,i().createElement("tr",null,i().createElement("th",{colSpan:2},h)))||null,p.length&&i().createElement("tbody",null,p.map((function(t){var e,r,n="number"==typeof t.value&&!Number.isInteger(t.value)&&(null===(e=d.BM.numberDisplay(t.value))||void 0===e||null===(r=e.format({average:!0,mantissa:5,trimMantissa:!0,lowPrecision:!0}))||void 0===r?void 0:r.toUpperCase())||t.value;return i().createElement("tr",{key:"tooltip-".concat(t.label)},i().createElement("th",null,t.chartType===l.ChartTypeVariant.threshold&&i().createElement(s.ChartIcon,{size:"sm",symbol:"dash",fill:t.color||"transparent"}),t.chartType!==l.ChartTypeVariant.threshold&&i().createElement(s.ChartIcon,{size:"sm",fill:t.color||"transparent"})," ",t.label),i().createElement("td",null,n))})))||null),!p.length&&r("curiosity-graph.label",{context:["noData","error"]})||null)};v.defaultProps={datum:{},t:a.translate,useProduct:o.useProduct,useProductGraphTallyQuery:o.useProductGraphTallyQuery}},51858:function(t,e,r){r.r(e),r.d(e,{DEFAULT_CONTEXT:function(){return p},ProductViewContext:function(){return y},context:function(){return F},default:function(){return F},useProduct:function(){return S},useProductContext:function(){return I},useProductGraphConfig:function(){return E},useProductGraphTallyQuery:function(){return T},useProductInventoryGuestsConfig:function(){return x},useProductInventoryGuestsQuery:function(){return C},useProductInventoryHostsConfig:function(){return G},useProductInventoryHostsQuery:function(){return P},useProductInventorySubscriptionsConfig:function(){return _},useProductInventorySubscriptionsQuery:function(){return b},useProductQuery:function(){return m},useProductQueryFactory:function(){return g},useProductToolbarConfig:function(){return Q}});var n=r(45987),i=r(4942),o=r(1413),u=r(92950),a=r.n(u),l=r(12723),s=r(2606),c=r(30446),d=r(46262),v=r(62834),h=["initialGraphFilters","initialInventoryFilters","initialSubscriptionsInventoryFilters","productContextFilterUom"],p=[{},v.B.noop],y=a().createContext(p),f=function(){return(0,u.useContext)(y)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.overrideId,n=e.useProductViewContext,i=void 0===n?f:n,u=i(),a=u[t],l=u.productId,c=u.viewId,d=s.Cr.reactRedux.useSelector((function(e){var n,i=e.view;return null==i||null===(n=i[t])||void 0===n?void 0:n[r]}),void 0),v=s.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[l]}),void 0),h=s.Cr.reactRedux.useSelector((function(e){var r,n=e.view;return null==n||null===(r=n[t])||void 0===r?void 0:r[c]}),void 0);return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},a),d),v),h)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"query":e,n=t.options;return g(r,n)},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"graphTallyQuery":e,n=t.schemaCheck,i=void 0===n?c.VX.RHSM_API_QUERY_SET_REPORT_CAPACITY_TYPES:n,u=t.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)({},m()),g(r,u)),i)},C=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultLimit,n=void 0===r?100:r,u=e.defaultOffset,a=void 0===u?0:u,s=e.queryType,v=void 0===s?"inventoryGuestsQuery":s,h=e.schemaCheck,p=void 0===h?c.VX.RHSM_API_QUERY_SET_INVENTORY_GUESTS_TYPES:h,y=e.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)((t={},(0,i.Z)(t,d.O6.LIMIT,n),(0,i.Z)(t,d.O6.OFFSET,a),t),m()),g(v,y)),p)},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventoryHostsQuery":e,n=t.schemaCheck,i=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,u=t.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)({},m()),g(r,u)),i)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queryType,r=void 0===e?"inventorySubscriptionsQuery":e,n=t.schemaCheck,i=void 0===n?c.VX.RHSM_API_QUERY_SET_INVENTORY_TYPES:n,u=t.options;return l.VS.setApiQuery((0,o.Z)((0,o.Z)({},m()),g(r,u)),i)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductQuery,r=void 0===e?m:e,i=t.useProductViewContext,a=void 0===i?f:i,l=r(),s=l[c.VN.UOM],d=a(),v=d.initialGraphFilters,p=void 0===v?[]:v,y=d.initialInventoryFilters,g=void 0===y?[]:y,T=d.initialSubscriptionsInventoryFilters,C=void 0===T?[]:T,P=d.productContextFilterUom,b=(0,n.Z)(d,h),I=(0,u.useCallback)((function(){if(!0===P){var t=function(t){var e=t.id;return!t.isOptional||new RegExp(s,"i").test(e)};return(0,o.Z)((0,o.Z)({},b),{},{initialGraphFilters:p.filter(t),initialInventoryFilters:g.filter(t),initialSubscriptionsInventoryFilters:C.filter(t)})}return(0,o.Z)((0,o.Z)({},b),{},{initialGraphFilters:p,initialInventoryFilters:g,initialSubscriptionsInventoryFilters:C})}),[b,p,g,C,P,s]);return I()},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductViewContext,r=void 0===e?f:e,n=r(),i=n.productGroup,o=n.productId,u=n.productLabel,a=n.viewId;return{productGroup:i,productId:o,productLabel:u,viewId:a}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,n=r(),i=n.initialGraphFilters,o=n.initialGraphSettings,u=void 0===o?{}:o;return{filters:i,settings:u}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,n=r(),i=n.inventoryGuestsQuery,o=void 0===i?{}:i,u=n.initialGuestsFilters,a=n.initialGuestsSettings,l=void 0===a?{}:a;return{filters:u,initialQuery:o,settings:l}},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,n=r(),i=n.initialInventoryFilters,o=n.initialInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,n=r(),i=n.initialSubscriptionsInventoryFilters,o=n.initialSubscriptionsInventorySettings,u=void 0===o?{}:o;return{filters:i,settings:u}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useProductContext,r=void 0===e?I:e,n=r(),i=n.initialToolbarFilters,o=n.initialToolbarSettings,u=void 0===o?{}:o,a=n.initialSecondaryToolbarFilters;return{filters:i,secondaryFilters:a,settings:u}},F={ProductViewContext:y,DEFAULT_CONTEXT:p,useProductContext:I,useQuery:m,useQueryFactory:g,useGraphTallyQuery:T,useInventoryGuestsQuery:C,useInventoryHostsQuery:P,useInventorySubscriptionsQuery:b,useProduct:S,useGraphConfig:E,useInventoryGuestsConfig:x,useInventoryHostsConfig:G,useInventorySubscriptionsConfig:_,useToolbarConfig:Q}}}]);
//# sourceMappingURL=../sourcemaps/9270.js.map