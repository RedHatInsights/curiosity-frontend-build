"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[3056,4822],{63056:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Z,ConnectedGuestsList:()=>Z,GuestsList:()=>g});var n=r(35531),o=r(36222),s=r(18489),a=r(27853),i=r(84531),l=r(78932),u=r(82625),c=r(92950),d=r.n(c),v=r(78545),p=r(76006),f=r(186),h=r(1797),y=r(44822),m=r(30446),D=r(78697),g=function(t){(0,l.Z)(r,t);var e=(0,u.Z)(r);function r(){var t;(0,a.Z)(this,r);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return(t=e.call.apply(e,[this].concat(l))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,r=e.currentPage,n=e.limit,a=t.props,i=a.getHostsInventoryGuests,l=a.query,u=a.id;if(u){var c,d=(0,s.Z)((0,s.Z)({},l),{},(c={},(0,o.Z)(c,m.VN.LIMIT,n),(0,o.Z)(c,m.VN.OFFSET,r*n||0),c));i(u,f.IT.parseRhsmQuery(d).inventoryGuestsQuery)}},t.onScroll=function(e){var r=e.target,o=t.state,s=o.currentPage,a=o.limit,i=o.previousData,l=t.props,u=l.numberOfGuests,c=l.pending,d=l.listData,v=r.scrollHeight-r.scrollTop===r.clientHeight;if(u>(s+1)*a&&v&&!c){var p=s+1,f=[].concat((0,n.Z)(i),(0,n.Z)(d||[]));t.setState({previousData:f,currentPage:p})}},t}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,r=e.filterGuestsData,n=e.listData,o=e.pending;if(t>0&&o){var s=d().createElement(h.Loader,{variant:"table",tableProps:{borders:!1,colCount:(null==r?void 0:r.length)||(null==n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null==r?void 0:r.length)&&r.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:v.TableVariant.compact}});return d().createElement("div",{className:"curiosity-table-scroll-loader__custom"},s)}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,r=e.filterGuestsData,o=e.listData,s=e.numberOfGuests,a=e.session,i=[],l=[].concat((0,n.Z)(t),(0,n.Z)(o||[])).map((function(t){var e=Object.assign({},t),n=y.inventoryListHelpers.parseRowCellsListData({filters:r,cellData:e,session:a}),o=n.columnHeaders,s=n.cells;return i=o,{cells:s}})),u=42*(s+1);return u=u<275&&u||275,d().createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(u,"px")}},d().createElement("div",{className:"curiosity-table-scroll-list".concat(u<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),l.length&&d().createElement(D.Table,{borders:!1,variant:v.TableVariant.compact,className:"curiosity-guests-list",columnHeaders:i,rows:l})||null))}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,r=e.error,n=e.filterGuestsData,o=e.listData,s=e.numberOfGuests,a=e.pending,i=e.perPageDefault;return d().createElement("div",{className:"fadein ".concat(r?"blur":"")},a&&0===t&&d().createElement(h.Loader,{variant:"table",tableProps:{borders:!1,className:"curiosity-guests-list",colCount:(null==n?void 0:n.length)||(null==o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null==n?void 0:n.length)&&n.map((function(t){return t.cellWidth}))||[],rowCount:s<i?s:i,variant:v.TableVariant.compact}}),(!a&&0===t||t>0)&&this.renderTable())}}]),r}(d().Component);g.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:p.BM.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var b=f.R1.guestsList.makeGuestsList(),Z=(0,f.$j)(b,(function(t){return{getHostsInventoryGuests:function(e,r){return t(f.Ak.rhsm.getHostsInventoryGuests(e,r))}}}))(g)},44822:(t,e,r)=>{r.r(e),r.d(e,{default:()=>D,inventoryListHelpers:()=>D,applySortFilters:()=>f,applyWrappableFilters:()=>h,parseInventoryFilters:()=>y,parseRowCellsListData:()=>m});var n=r(23430),o=r(35531),s=r(18489),a=r(92950),i=r.n(a),l=r(78545),u=r(68929),c=r.n(u),d=r(83109),v=r(30446),p=r(76006),f=function(t){var e=t.filter,r=void 0===e?{}:e,n=t.onSort,o=t.query,a=void 0===o?{}:o,i=r.id,u=r.sortId||i,d=(0,s.Z)({},r),p=d.onSort||n;return!d.onSort&&n&&(d.onSort=n),p&&"boolean"!=typeof d.sortActive&&(null==a?void 0:a[v.VN.SORT])&&((null==a?void 0:a[v.VN.SORT])===u||c()(null==a?void 0:a[v.VN.SORT])===u)&&(d.sortActive=!0),p&&!d.sortDirection&&(null==a?void 0:a[v.VN.DIRECTION])&&((null==a?void 0:a[v.VN.DIRECTION])===v.hb.DESCENDING?d.sortDirection=l.SortByDirection.desc:d.sortDirection=l.SortByDirection.asc),!p||d.sortActive||(null==a?void 0:a[v.VN.SORT])||!0!==d.isSortDefault||(d.sortActive=!0,d.sortDefaultInitialDirection&&(d.sortDirection=d.sortDefaultInitialDirection)),d},h=function(t){var e=t.filter,r=void 0===e?{}:e,n=(0,s.Z)({},r);return Array.isArray(n.transforms)?n.transforms.push(l.wrappable):n.transforms=[l.wrappable],n},y=function(t){var e=t.filters,r=void 0===e?[]:e,n=t.onSort,a=t.query,i=void 0===a?{}:a;return(0,o.Z)(r).map((function(t){var e=(0,s.Z)({},t);return e.isSortable&&Object.assign(e,f({filter:e,onSort:n,query:i})),e.isWrappable&&Object.assign(e,h({filter:e})),e}))},m=function(t){var e=t.filters,r=void 0===e?[]:e,a=t.cellData,u=void 0===a?{}:a,c=t.session,v=void 0===c?{}:c,f=[],h=[],y={};return Object.entries(u).forEach((function(t){var e=(0,n.Z)(t,2),r=e[0],o=e[1];y[r]={title:(0,d.translate)("curiosity-inventory.header",{context:r}),value:o},f.push(y[r].title),h.push(o)})),(null==r?void 0:r.length)&&(f.length=0,h.length=0,r.forEach((function(t){var e,r,n,a,u,c,m,D=t.id,g=t.cell,b=t.cellWidth,Z=t.header,S=t.onSort,E=t.sortId,I=t.sortActive,G=t.sortDirection,N=t.transforms;y[D]?(r=null!==(a=null===(u=y[D])||void 0===u?void 0:u.title)&&void 0!==a?a:D,n=null!==(c=null===(m=y[D])||void 0===m?void 0:m.value)&&void 0!==c?c:""):D&&(r=(0,d.translate)("curiosity-inventory.header",{context:D}),n=""),Z&&(r="function"==typeof Z&&Z((0,s.Z)({},y))||Z),("string"==typeof r||"number"==typeof r||i().isValidElement(r))&&(r={title:r}),r&&(r.transforms=[],Array.isArray(N)&&(r.transforms=r.transforms.concat((0,o.Z)(N))),"number"==typeof b&&r.transforms.push((0,l.cellWidth)(b))),"function"==typeof S&&(r=(0,s.Z)((0,s.Z)({},r),{},{onSort:function(t){return S((0,s.Z)({},y),(0,s.Z)((0,s.Z)({},t),{},{id:E||D}))},sortActive:I,sortDirection:G})),g&&(n="function"==typeof g?g((0,s.Z)({},y),(0,s.Z)({},v)):g),"string"==typeof n||"number"==typeof n||i().isValidElement(n)?n={title:n}:(null===(e=n)||void 0===e?void 0:e.title)||((p.BM.DEV_MODE||p.BM.REVIEW_MODE)&&console.error("PF table throws an error when cell values don't conform to what it is expecting, or align exactly to column headers.\n            \n\nSee cell ID=".concat(D," with VALUE=").concat(n)),n={title:""}),f.push(r),h.push(n)}))),{columnHeaders:f,cells:h,data:(0,s.Z)({},y)}},D={applySortFilters:f,applyWrappableFilters:h,parseInventoryFilters:y,parseRowCellsListData:m}}}]);
//# sourceMappingURL=../sourcemaps/3056.c24fe2c5aeaed5a293b0abcfbd936161.js.map