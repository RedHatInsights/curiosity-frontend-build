"use strict";(self.webpackChunkcuriosity_frontend=self.webpackChunkcuriosity_frontend||[]).push([[3557,7585,1824,2085],{87585:function(e,t,n){n.r(t),n.d(t,{BannerMessages:function(){return v},default:function(){return v}});var r=n(4942),a=n(1413),i=n(29439),o=n(92950),s=n.n(o),l=n(65834),u=n(82197),c=n(15451),d=n(31824),p=n(76006),y=n(83109),v=function(e){var t=e.messages,n=e.useGetAppMessages,u=(0,o.useState)({}),d=(0,i.Z)(u,2),p=d[0],y=d[1],v=(0,o.useState)([]),m=(0,i.Z)(v,2),E=m[0],g=m[1],I=n().data;return(0,c.Z)((function(){var e=[];t.length&&Object.entries(I).forEach((function(n){var r=(0,i.Z)(n,2),o=r[0],s=r[1];if(!0!==p[o]&&!0===s){var l=t.find((function(e){return e.id===o}));l&&e.push((0,a.Z)({key:o},l))}})),g(e.map((function(e){var t=e.key,n=e.message,i=e.title,o=e.variant,u=void 0===o?l.AlertVariant.info:o,c=s().createElement(l.AlertActionCloseButton,{onClose:function(){return y((0,a.Z)((0,a.Z)({},p),{},(0,r.Z)({},t,!0)))}});return s().createElement(l.Alert,{actionClose:c,key:t,title:i,variant:u},n)})))}),[I,p,t]),null!=E&&E.length?s().createElement("div",{className:"curiosity-banner-messages"},E):null};v.defaultProps={messages:[{id:"cloudigradeMismatch",title:(0,y.translate)("curiosity-banner.dataMismatchTitle"),message:(0,y.translate)("curiosity-banner.dataMismatchMessage",{context:""!==p.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:p.BM.UI_DISPLAY_NAME},[s().createElement(l.Button,{isInline:!0,component:"a",variant:"link",icon:s().createElement(u.ExternalLinkAltIcon,null),iconPosition:"right",target:"_blank",href:p.BM.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}],useGetAppMessages:d.useGetAppMessages}},31824:function(e,t,n){n.r(t),n.d(t,{context:function(){return d},default:function(){return d},useGetAppMessages:function(){return c}});var r=n(4942),a=n(1413),i=n(15451),o=n(61072),s=n(51858),l=n(76006),u=n(46262),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getMessageReports,n=void 0===t?o.Ak.rhsm.getMessageReports:t,c=e.useDispatch,d=void 0===c?o.Cr.reactRedux.useDispatch:c,p=e.useProduct,y=void 0===p?s.useProduct:p,v=e.useProductQuery,m=void 0===v?s.useProductQuery:v,E=e.useSelectorsResponse,g=void 0===E?o.Cr.reactRedux.useSelectorsResponse:E,I=y(),f=I.productId,_=m(),A=d(),S=g({id:"messages",selector:function(e){var t,n=e.messages;return null==n||null===(t=n.report)||void 0===t?void 0:t[f]}}),T=S.error,M=S.fulfilled,h=S.pending,D=S.data;(0,i.Z)((function(){if(f){var e,t=l.i3.getRangedDateTime("CURRENT"),i=t.startDate,o=t.endDate,s=(0,a.Z)((0,a.Z)({},_),{},(e={},(0,r.Z)(e,u.O6.GRANULARITY,u.U9.DAILY),(0,r.Z)(e,u.O6.START_DATE,i.toISOString()),(0,r.Z)(e,u.O6.END_DATE,o.toISOString()),e));n(f,s)(A)}}),[f,_]);var R={cloudigradeMismatch:!1};if(M){var b,C,P=D||{},L=P.messages,O=void 0===L?{}:L;R.cloudigradeMismatch=void 0!==(null==O||null===(b=O.data)||void 0===b||null===(C=b.reverse())||void 0===C?void 0:C.find((function(e){return!0===e[u.pM.RHSM_API_RESPONSE_TALLY_META_TYPES.HAS_CLOUDIGRADE_MISMATCH]})))}return{error:T,fulfilled:M,pending:h,data:(0,a.Z)({},R)}},d={useGetAppMessages:c}},29175:function(e,t,n){n.r(t),n.d(t,{ProductView:function(){return M},default:function(){return M}});var r=n(92950),a=n.n(r),i=n(65834),o=n(31369),s=n(3281),l=n(51858),u=n(52422),c=n(61072),d=n(28341),p=n(10608),y=n(92227),v=n(88191),m=n(82195),E=n(76006),g=n(87585),I=n(49844),f=n(2738),_=n(69051),A=n(16696),S=n(46262),T=n(83109),M=function(e){var t=e.t,n=e.toolbarGraph,r=e.toolbarGraphDescription,s=(0,e.useRouteDetail)(),T=s.productParameter,M=s.productConfig;return a().createElement(u.PageLayout,null,a().createElement(u.PageHeader,{productLabel:T},t("curiosity-view.title",{appName:E.BM.UI_DISPLAY_NAME,context:T})),a().createElement(u.PageColumns,null,M.map((function(e){return function(e){var s=e.graphTallyQuery,T=e.inventoryHostsQuery,M=e.inventorySubscriptionsQuery,h=e.query,D=e.initialGuestsFilters,R=e.initialInventoryFilters,b=e.initialInventorySettings,C=e.initialSubscriptionsInventoryFilters,P=e.productDisplay,L=e.productId,O=e.viewId;if(!L||!O)return null;var U=c.IT.parseRhsmQuery(h,{graphTallyQuery:s,inventoryHostsQuery:T,inventorySubscriptionsQuery:M}),B=U.graphTallyQuery,N=U.inventoryHostsQuery,x=null;r&&(x=a().createElement(i.Tooltip,{content:a().createElement("p",null,t("curiosity-graph.cardHeadingDescription",{context:L})),position:i.TooltipPosition.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},a().createElement("sup",{className:"curiosity-icon__info"},a().createElement(o.ZP,null))));var k=a().createElement(a().Fragment,null,t("curiosity-graph.cardHeading",{context:L}),x);return a().createElement(l.ProductViewContext.Provider,{value:e,key:"product_".concat(L)},a().createElement(u.PageMessages,null,P!==S.ax.HOURLY&&a().createElement(g.default,null)),a().createElement(u.PageToolbar,null,a().createElement(y.Toolbar,null)),a().createElement(u.PageSection,null,P!==S.ax.HOURLY&&a().createElement(d.ConnectedGraphCard,{key:"graph_".concat(L),query:B,productId:L,viewId:O,cardTitle:k},a().isValidElement(n)&&n||!1!==n&&a().createElement(f.ToolbarFieldGranularity,{position:I.SelectPosition.right})),P===S.ax.HOURLY&&a().createElement(p.GraphCard,null)),a().createElement(u.PageSection,{className:P===S.ax.HOURLY?"curiosity-page-section__tabs":""},a().createElement(_.default,{key:"inventory_".concat(L),productId:L,isDisabled:!R&&!C||E.BM.UI_DISABLED_TABLE},!E.BM.UI_DISABLED_TABLE_HOSTS&&P!==S.ax.HOURLY&&R&&a().createElement(_.InventoryTab,{key:"inventory_hosts_".concat(L),title:t("curiosity-inventory.tabHosts",{context:["noInstances",L]})},a().createElement(v.ConnectedInventoryList,{key:"inv_".concat(L),filterGuestsData:D,filterInventoryData:R,productId:L,settings:b,query:N,viewId:O})),!E.BM.UI_DISABLED_TABLE_INSTANCES&&P===S.ax.HOURLY&&R&&a().createElement(_.InventoryTab,{key:"inventory_instances_".concat(L),title:t("curiosity-inventory.tabInstances",{context:["noInstances",L]})},a().createElement(m.InventoryCard,null)),!E.BM.UI_DISABLED_TABLE_SUBSCRIPTIONS&&C&&a().createElement(_.InventoryTab,{key:"inventory_subs_".concat(L),title:t("curiosity-inventory.tabSubscriptions",{context:L})},a().createElement(A.InventoryCardSubscriptions,null)))))}(e)}))))};M.defaultProps={t:T.translate,toolbarGraph:null,toolbarGraphDescription:!1,useRouteDetail:s.Tu}}}]);
//# sourceMappingURL=../sourcemaps/3557.c731dbd39c85d9759dee69a32675ac90.js.map