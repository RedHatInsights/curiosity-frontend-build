(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[9],{1316:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i(11),r=i(4),n=(i(1),i(90)),o=i(1024),l=i(5),c=i(27),u=i(61),s=i(10),d=c.a.getRangedMonthDateTime().listDateTimeRanges.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{selected:!1})})),v=function(e){var t=e.options,i=e.t,c=e.value,u=e.viewId,d=Object(n.h)((function(e){var t,i;return null===(t=e.view.query)||void 0===t||null===(i=t[u])||void 0===i?void 0:i[l.g.START_DATE]}),c),v=t.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{selected:e.title===d||e.value.startDate.toISOString()===d})}));return Object(s.jsx)(o.a,{"aria-label":i("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(e){var t=e.value,i=t.startDate,r=t.endDate;n.g.dispatch([{type:n.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:u},Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[l.g.GRANULARITY],viewId:u},l.g.GRANULARITY,l.b.DAILY),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[l.g.START_DATE],viewId:u},l.g.START_DATE,i.toISOString()),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[l.g.END_DATE],viewId:u},l.g.END_DATE,r.toISOString())])},options:v,placeholder:i("curiosity-toolbar.placeholder",{context:"granularity"}),position:o.b.right,maxHeight:250})};v.defaultProps={options:d,t:u.b,value:Object(u.b)("curiosity-toolbar.granularityRange",{context:"current"}),viewId:"toolbarFieldRangeGranularity"}},868:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return G})),i.d(t,"ProductViewOpenShiftContainer",(function(){return G}));var a=i(11),r=i(1),n=i.n(r),o=i(3016),l=i(3017),c=i(85),u=i(54),s=i(430),d=i(1147),v=i.n(d),b=i(1148),p=i(108),O=i.n(p),y=i(1687),j=i.n(y),S=i(163),I=i(5),h=i(90),g=i(1149),f=i(4),T=i(1024),E=i(61),D=i(10),_=Object.values(I.h).map((function(e){return{title:Object(E.b)("curiosity-toolbar.uom",{context:e}),value:e,selected:!1}})),x=function(e){var t=e.options,i=e.t,r=e.value,n=e.viewId,o=Object(h.h)((function(e){var t,i;return null===(t=e.view.query)||void 0===t||null===(i=t[n])||void 0===i?void 0:i[I.g.UOM]}),r),l=t.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{selected:e.value===o})}));return Object(D.jsx)(T.a,{"aria-label":i("curiosity-toolbar.placeholder",{context:"uom"}),onSelect:function(e){return h.g.dispatch([{type:h.f.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:n},Object(a.a)({type:h.f.query.SET_QUERY_RHSM_TYPES[I.g.UOM],viewId:n},I.g.UOM,e.value)])},options:l,selectedOptions:o,placeholder:i("curiosity-toolbar.placeholder",{context:"uom"})})};x.defaultProps={options:_,t:E.b,value:I.h.CORES,viewId:"toolbarFieldUom"};var m,R,N,A,F,w=i(1145),L=i(1316),Y=i(1152),U=i(1150),H=i(1146),M=i(1151),P=i(27),G=function(e){var t=e.productConfig,i=e.routeDetail,a=e.t,r=Object(h.h)((function(e){var i,a;return null===(i=e.view.query)||void 0===i||null===(a=i[t[0].viewId])||void 0===a?void 0:a[I.g.UOM]}),null),o=i.productParameter;return Object(D.jsxs)(S.c,{children:[Object(D.jsx)(S.b,{productLabel:o,includeTour:!0,children:a("curiosity-view.title",{appName:P.b.UI_DISPLAY_NAME,context:o})}),Object(D.jsx)(S.a,{children:t.map((function(e){return function(e,t){var i=e.productContextFilterUom,r=e.query,o=void 0===r?{}:r,l=e.graphTallyQuery,u=void 0===l?{}:l,s=e.inventoryHostsQuery,d=void 0===s?{}:s,b=e.inventorySubscriptionsQuery,p=void 0===b?{}:b,O=e.initialGraphFilters,y=void 0===O?[]:O,j=e.initialGraphSettings,f=void 0===j?{}:j,T=e.initialGuestsFilters,E=void 0===T?[]:T,_=e.initialInventoryFilters,m=void 0===_?[]:_,R=e.initialInventorySettings,N=void 0===R?{}:R,A=e.initialSubscriptionsInventoryFilters,F=e.initialToolbarFilters,G=e.productLabel,C=e.productId,Q=e.viewId;if(!C||!Q)return null;var q,W=h.a.parseRhsmQuery(o,{graphTallyQuery:u,inventoryHostsQuery:d,inventorySubscriptionsQuery:p}),k=W.graphTallyQuery,V=W.inventoryHostsQuery,B=W.inventorySubscriptionsQuery,z=W.toolbarQuery,J=y,X=m,K=A;if(i){q=t||o[I.g.UOM];var Z=function(e){var t=e.id;return!e.isOptional||new RegExp(q,"i").test(t)};J=y.filter(Z),X=m.filter(Z),K=A.filter(Z)}var $=Object(D.jsxs)(n.a.Fragment,{children:[a("curiosity-graph.cardHeading",{context:C}),Object(D.jsx)(c.a,{content:Object(D.jsx)("p",{children:a("curiosity-graph.cardHeadingDescription",{context:C})}),position:c.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:Object(D.jsx)("sup",{className:"curiosity-icon__info",children:Object(D.jsx)(v.a,{})})})]});return Object(D.jsxs)(n.a.Fragment,{children:[F&&Object(D.jsx)(S.f,{children:Object(D.jsx)(Y.b,{filterOptions:F,productId:C,query:z,viewId:Q})}),Object(D.jsx)(S.e,{children:Object(D.jsxs)(g.b,{filterGraphData:J,settings:f,query:k,productId:C,viewId:Q,cardTitle:$,productLabel:G,children:[C===I.a.OPENSHIFT&&q&&Object(D.jsx)(x,{value:q,viewId:Q}),C===I.a.OPENSHIFT&&Object(D.jsx)(w.a,{value:u[I.g.GRANULARITY],viewId:Q}),C===I.a.OPENSHIFT_METRICS&&Object(D.jsx)(L.a,{viewId:Q})]},"graph_".concat(C))}),Object(D.jsx)(S.e,{children:Object(D.jsxs)(M.b,{productId:C,children:[Object(D.jsx)(M.a,{title:a("curiosity-inventory.tab",{context:"hosts"}),children:Object(D.jsx)(U.b,{filterGuestsData:E,filterInventoryData:X,productId:C,settings:N,query:V,viewId:Q},"inv_".concat(C))},"inventory_hosts_".concat(C)),!P.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&A&&Object(D.jsx)(M.a,{title:a("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(D.jsx)(H.b,{filterInventoryData:K,productId:C,query:B,viewId:Q},"subs_".concat(C))},"inventory_subs_".concat(C))]},"inventory_".concat(C))})]},"product_".concat(C,"_").concat(q))}(e,r)}))})]})};G.defaultProps={productConfig:[{productContextFilterUom:!0,query:(m={},Object(a.a)(m,I.g.UOM,I.h.CORES),Object(a.a)(m,I.g.START_DATE,P.a.getRangedDateTime(I.b.DAILY).startDate.toISOString()),Object(a.a)(m,I.g.END_DATE,P.a.getRangedDateTime(I.b.DAILY).endDate.toISOString()),m),graphTallyQuery:Object(a.a)({},I.g.GRANULARITY,I.b.DAILY),inventoryHostsQuery:(R={},Object(a.a)(R,I.g.SORT,I.e.LAST_SEEN),Object(a.a)(R,I.g.DIRECTION,I.d.DESCENDING),Object(a.a)(R,I.g.LIMIT,100),Object(a.a)(R,I.g.OFFSET,0),R),inventorySubscriptionsQuery:(N={},Object(a.a)(N,I.g.SORT,I.f.UPCOMING_EVENT_DATE),Object(a.a)(N,I.g.DIRECTION,I.d.DESCENDING),Object(a.a)(N,I.g.LIMIT,100),Object(a.a)(N,I.g.OFFSET,0),N),initialOption:I.h.CORES,initialGraphFilters:[{id:"cores",isOptional:!0,fill:o.a.value,stroke:l.a.value,color:l.a.value},{id:"sockets",isOptional:!0,fill:o.a.value,stroke:l.a.value,color:l.a.value},{id:"thresholdSockets",isOptional:!0},{id:"thresholdCores",isOptional:!0}],initialGraphSettings:{},initialGuestsFilters:[{id:"displayName",header:Object(E.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var i=e.displayName,a=e.inventoryId,r=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===a||void 0===a?void 0:a.value)?r?Object(D.jsx)(u.a,{isInline:!0,component:"a",variant:"link",href:"".concat(P.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(a.value,"/"),children:i.value||a.value}):(null===i||void 0===i?void 0:i.value)||(null===a||void 0===a?void 0:a.value):null===i||void 0===i?void 0:i.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(D.jsx)(b.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var i=e.displayName,a=void 0===i?{}:i,r=e.inventoryId,o=void 0===r?{}:r,l=e.numberOfGuests,c=void 0===l?{}:l,d=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!o.value)return a.value;var v=a.value||o.value;return d&&(v=Object(D.jsx)(u.a,{isInline:!0,component:"a",variant:"link",href:"".concat(P.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(o.value,"/"),children:a.value||o.value})),Object(D.jsxs)(n.a.Fragment,{children:[v," ",c.value&&Object(E.b)("curiosity-inventory.label",{context:"numberOfGuests",count:c.value},[Object(D.jsx)(s.a,{color:"blue"})])||""]})},isSortable:!0},{id:"sockets",header:Object(E.b)("curiosity-inventory.header",{context:"sockets_OpenShift Container Platform"}),isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"cores",header:Object(E.b)("curiosity-inventory.header",{context:"cores_OpenShift Container Platform"}),isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(D.jsx)(b.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:25}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&O.a.utc(null===e||void 0===e||null===(i=e.upcomingEventDate)||void 0===i?void 0:i.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:I.g.SLA}],productLabel:"OpenShift",productId:I.a.OPENSHIFT,viewId:"viewOpenShift"},{query:(A={},Object(a.a)(A,I.g.START_DATE,P.a.getRangedMonthDateTime("current").value.startDate.toISOString()),Object(a.a)(A,I.g.END_DATE,P.a.getRangedMonthDateTime("current").value.endDate.toISOString()),A),graphTallyQuery:Object(a.a)({},I.g.GRANULARITY,I.b.DAILY),inventoryHostsQuery:(F={},Object(a.a)(F,I.g.SORT,I.e.LAST_SEEN),Object(a.a)(F,I.g.DIRECTION,I.d.DESCENDING),Object(a.a)(F,I.g.LIMIT,100),Object(a.a)(F,I.g.OFFSET,0),F),initialGraphFilters:[{id:"coreHours",fill:o.a.value,stroke:l.a.value,color:l.a.value}],initialGraphSettings:{actionDisplay:function(e){var t;if(e.coreHours){var i=0;e.coreHours.forEach((function(e){var t=e.y;i+=null!==t&&void 0!==t?t:0})),t=Object(E.b)("curiosity-graph.card-action-total",{context:"coreHours",total:i>=1e3&&j()(i).format({average:!0,mantissa:2,trimMantissa:!0}).toUpperCase()||i})}return Object(D.jsx)("div",{className:"curiosity-usage-graph__total",children:t||null})}},initialInventoryFilters:[{id:"displayName",cell:function(e){var t=e.displayName,i=void 0===t?{}:t,a=e.inventoryId,r=void 0===a?{}:a,o=e.numberOfGuests,l=void 0===o?{}:o;if(!r.value)return i.value;var c=i.value||r.value;return Object(D.jsxs)(n.a.Fragment,{children:[c," ",l.value&&Object(E.b)("curiosity-inventory.label",{context:"numberOfGuests",count:l.value},[Object(D.jsx)(s.a,{color:"blue"})])||""]})},isSortable:!0},{id:"coreHours",cell:function(e){var t,i;return"number"===typeof(null===e||void 0===e||null===(t=e.coreHours)||void 0===t?void 0:t.value)&&Number.parseFloat(null===e||void 0===e||null===(i=e.coreHours)||void 0===i?void 0:i.value).toFixed(2)||"0.00"},isSortable:!0,isWrappable:!0,cellWidth:20},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(D.jsx)(b.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:25}],initialToolbarFilters:void 0,productLabel:"OpenShift Metric",productId:I.a.OPENSHIFT_METRICS,viewId:"viewOpenShiftMetric"}],t:E.b}}}]);
//# sourceMappingURL=9.61672dd8.chunk.js.map