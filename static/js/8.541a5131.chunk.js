(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[8],{1025:function(t,e,r){"use strict";r.d(e,"a",(function(){return P}));var a=r(1),i=r.n(a),n=r(85),o=r(1147),c=r.n(o),s=r(163),l=r(90),u=r(1149),d=r(1152),b=r(1150),p=r(27),v=r(13),y=r(11),j=r(4),g=r(6),O=r(7),h=r(9),f=r(8),I=r(289),T=r(261),S=r(54),D=r(183),_=r(117),R=r.n(_),m=r(61),E=r(5),x=r(10),A=function(t){Object(h.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(g.a)(this,r);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))).state={},t.onUpdateData=function(){var e=t.props,r=e.getMessageReports,a=e.productId,i=e.query,n=l.a.parseRhsmQuery(i).graphTallyQuery;if(a){var o,c=p.a.getRangedDateTime("CURRENT"),s=c.startDate,u=c.endDate;r(a,Object(j.a)(Object(j.a)({},n),{},(o={},Object(y.a)(o,E.g.GRANULARITY,E.b.DAILY),Object(y.a)(o,E.g.START_DATE,s.toISOString()),Object(y.a)(o,E.g.END_DATE,u.toISOString()),o)))}},t}return Object(O.a)(r,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,r=e.query;e.productId===t.productId&&R()(r,t.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var t=this,e=this.state,r=this.props,a=r.appMessages,i=r.messages,n=[];return i.length&&Object.entries(a).forEach((function(t){var r=Object(v.a)(t,2),a=r[0],o=r[1];if(!0!==e[a]&&!0===o){var c=i.find((function(t){return t.id===a}));c&&n.push(Object(j.a)({key:a},c))}})),n.map((function(e){var r=e.key,a=e.message,i=e.title,n=e.variant,o=void 0===n?I.b.info:n,c=Object(x.jsx)(T.a,{onClose:function(){return t.setState(Object(y.a)({},r,!0))}});return Object(x.jsx)(I.a,{actionClose:c,title:i,variant:o,children:a},r)}))}},{key:"render",value:function(){var t=this.renderAlerts();return t.length?Object(x.jsx)("div",{className:"curiosity-banner-messages",children:t}):null}}]),r}(i.a.Component);A.defaultProps={getMessageReports:p.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(m.b)("curiosity-banner.dataMismatchTitle"),message:Object(m.b)("curiosity-banner.dataMismatchMessage",{context:""!==p.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:p.b.UI_DISPLAY_NAME},[Object(x.jsx)(S.a,{isInline:!0,component:"a",variant:"link",icon:Object(x.jsx)(D.a,{}),iconPosition:"right",target:"_blank",href:p.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var N=l.e.appMessages.makeAppMessages(),M=Object(l.b)(N,(function(t){return{getMessageReports:function(e,r){return t(l.d.rhsm.getMessageReports(e,r))}}}))(A),U=r(1145),w=r(1151),G=r(1146),P=(r(1144),function(t){var e=t.productConfig,r=t.routeDetail,a=t.t,o=t.toolbarGraph,v=t.toolbarGraphDescription,y=t.toolbarProduct,j=e.graphTallyQuery,g=e.inventoryHostsQuery,O=e.inventorySubscriptionsQuery,h=e.query,f=e.initialToolbarFilters,I=e.initialGraphFilters,T=e.initialGraphSettings,S=e.initialGuestsFilters,D=e.initialInventoryFilters,_=e.initialInventorySettings,R=e.initialSubscriptionsInventoryFilters,m=l.a.parseRhsmQuery(h,{graphTallyQuery:j,inventoryHostsQuery:g,inventorySubscriptionsQuery:O}),A=m.query,N=m.graphTallyQuery,P=m.inventoryHostsQuery,C=m.inventorySubscriptionsQuery,L=m.toolbarQuery,Q=r.pathParameter,Y=r.productParameter,q=r.viewParameter;if(!Q||!q)return null;var F=null;v&&(F=Object(x.jsx)(n.a,{content:Object(x.jsx)("p",{children:a("curiosity-graph.cardHeadingDescription",{context:Q})}),position:n.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:Object(x.jsx)("sup",{className:"curiosity-icon__info",children:Object(x.jsx)(c.a,{})})}));var H=Object(x.jsxs)(i.a.Fragment,{children:[a("curiosity-graph.cardHeading",{context:Q}),F]});return Object(x.jsxs)(s.c,{children:[Object(x.jsx)(s.b,{productLabel:Y,includeTour:!0,children:a("curiosity-view.title",{appName:p.b.UI_DISPLAY_NAME,context:Y})}),Object(x.jsx)(s.d,{children:Object(x.jsx)(M,{productId:Q,viewId:q,query:A})}),Object(x.jsx)(s.f,{children:i.a.isValidElement(y)&&y||!1!==y&&Object(x.jsx)(d.a,{filterOptions:f,productId:Q,query:L,viewId:q})}),Object(x.jsx)(s.e,{children:Object(x.jsx)(u.a,{filterGraphData:I,settings:T,query:N,productId:Q,viewId:q,cardTitle:H,productLabel:Y,children:i.a.isValidElement(o)&&o||!1!==o&&Object(x.jsx)(U.a,{viewId:q,value:N[E.g.GRANULARITY]})},"graph_".concat(Q))}),Object(x.jsx)(s.e,{children:Object(x.jsxs)(w.b,{productId:Q,children:[Object(x.jsx)(w.a,{title:a("curiosity-inventory.tab",{context:"hosts"}),children:Object(x.jsx)(b.a,{filterGuestsData:S,filterInventoryData:D,productId:Q,settings:_,query:P,viewId:q},"inv_".concat(Q))},"inventory_hosts_".concat(Q)),!p.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(x.jsx)(w.a,{title:a("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(x.jsx)(G.a,{filterInventoryData:R,productId:Q,query:C,viewId:q},"subs_".concat(Q))},"inventory_subs_".concat(Q))]},"inventory_".concat(Q))})]})});P.defaultProps={t:m.b,toolbarGraph:null,toolbarGraphDescription:!1,toolbarProduct:null}},1316:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var a=r(11),i=r(4),n=(r(1),r(90)),o=r(1024),c=r(5),s=r(27),l=r(61),u=r(10),d=s.a.getRangedMonthDateTime().listDateTimeRanges.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{selected:!1})})),b=function(t){var e=t.options,r=t.t,s=t.value,l=t.viewId,d=Object(n.h)((function(t){var e,r;return null===(e=t.view.query)||void 0===e||null===(r=e[l])||void 0===r?void 0:r[c.g.START_DATE]}),s),b=e.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{selected:t.title===d||t.value.startDate.toISOString()===d})}));return Object(u.jsx)(o.a,{"aria-label":r("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(t){var e=t.value,r=e.startDate,i=e.endDate;n.g.dispatch([{type:n.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.GRANULARITY],viewId:l},c.g.GRANULARITY,c.b.DAILY),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.START_DATE],viewId:l},c.g.START_DATE,r.toISOString()),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.END_DATE],viewId:l},c.g.END_DATE,i.toISOString())])},options:b,placeholder:r("curiosity-toolbar.placeholder",{context:"granularity"}),position:o.b.right,maxHeight:250})};b.defaultProps={options:d,t:l.b,value:Object(l.b)("curiosity-toolbar.granularityRange",{context:"current"}),viewId:"toolbarFieldRangeGranularity"}},865:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return f})),r.d(e,"ProductViewOpenShiftDedicated",(function(){return f}));var a,i,n=r(11),o=r(1),c=r.n(o),s=r(3016),l=r(3017),u=r(430),d=r(1148),b=r(1687),p=r.n(b),v=r(5),y=r(1025),j=r(61),g=r(27),O=r(1316),h=r(10),f=function(t){var e=t.productConfig,r=t.routeDetail,a=r.viewParameter,i=e.graphTallyQuery[v.g.START_DATE];return Object(h.jsx)(y.a,{routeDetail:r,productConfig:e,toolbarProduct:!1,toolbarGraph:Object(h.jsx)(O.a,{value:i,viewId:a}),toolbarGraphDescription:!0})};f.defaultProps={productConfig:{query:(a={},Object(n.a)(a,v.g.START_DATE,g.a.getRangedMonthDateTime("current").value.startDate.toISOString()),Object(n.a)(a,v.g.END_DATE,g.a.getRangedMonthDateTime("current").value.endDate.toISOString()),a),graphTallyQuery:Object(n.a)({},v.g.GRANULARITY,v.b.DAILY),inventoryHostsQuery:(i={},Object(n.a)(i,v.g.SORT,v.e.LAST_SEEN),Object(n.a)(i,v.g.DIRECTION,v.d.DESCENDING),Object(n.a)(i,v.g.LIMIT,100),Object(n.a)(i,v.g.OFFSET,0),i),initialGraphFilters:[{id:"coreHours",fill:s.a.value,stroke:l.a.value,color:l.a.value}],initialGraphSettings:{actionDisplay:function(t){var e;if(t.coreHours){var r=0;t.coreHours.forEach((function(t){var e=t.y;r+=null!==e&&void 0!==e?e:0})),e=Object(j.b)("curiosity-graph.card-action-total",{context:"coreHours",total:p()(r).format({average:!0,mantissa:2,trimMantissa:!0,lowPrecision:!1}).toUpperCase()})}return Object(h.jsx)("div",{className:"curiosity-usage-graph__total",children:e||null})}},initialInventoryFilters:[{id:"displayName",cell:function(t){var e=t.displayName,r=void 0===e?{}:e,a=t.inventoryId,i=void 0===a?{}:a,n=t.numberOfGuests,o=void 0===n?{}:n;if(!i.value)return r.value;var s=r.value||i.value;return Object(h.jsxs)(c.a.Fragment,{children:[s," ",o.value&&Object(j.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[Object(h.jsx)(u.a,{color:"blue"})])||""]})},isSortable:!0},{id:"coreHours",cell:function(t){var e,r;return"number"===typeof(null===t||void 0===t||null===(e=t.coreHours)||void 0===e?void 0:e.value)&&Number.parseFloat(null===t||void 0===t||null===(r=t.coreHours)||void 0===r?void 0:r.value).toFixed(2)||"0.00"},isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",header:Object(j.b)("curiosity-inventory.header",{context:"lastSeen_OpenShift-dedicated-metrics"}),cell:function(t){var e,r;return(null===t||void 0===t||null===(e=t.lastSeen)||void 0===e?void 0:e.value)&&Object(h.jsx)(d.DateFormat,{date:null===t||void 0===t||null===(r=t.lastSeen)||void 0===r?void 0:r.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:void 0}}}}]);
//# sourceMappingURL=8.541a5131.chunk.js.map