{"version":3,"sources":["../node_modules/d3-color/src/lab.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/c3/c3.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3/dist/package.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/active.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-chord/src/math.js","../node_modules/d3-chord/src/chord.js","../node_modules/d3-chord/src/array.js","../node_modules/d3-chord/src/constant.js","../node_modules/d3-chord/src/ribbon.js","../node_modules/d3-contour/src/array.js","../node_modules/d3-contour/src/ascending.js","../node_modules/d3-contour/src/constant.js","../node_modules/d3-contour/src/contains.js","../node_modules/d3-contour/src/noop.js","../node_modules/d3-contour/src/contours.js","../node_modules/d3-contour/src/area.js","../node_modules/d3-contour/src/blur.js","../node_modules/d3-contour/src/density.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/d3-dsv/src/dsv.js","../node_modules/d3-dsv/src/csv.js","../node_modules/d3-dsv/src/tsv.js","../node_modules/d3-dsv/src/autoType.js","../node_modules/d3-fetch/src/blob.js","../node_modules/d3-fetch/src/buffer.js","../node_modules/d3-fetch/src/text.js","../node_modules/d3-fetch/src/dsv.js","../node_modules/d3-fetch/src/image.js","../node_modules/d3-fetch/src/json.js","../node_modules/d3-fetch/src/xml.js","../node_modules/d3-force/src/center.js","../node_modules/d3-force/src/constant.js","../node_modules/d3-force/src/jiggle.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/collide.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-force/src/link.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-force/src/manyBody.js","../node_modules/d3-force/src/radial.js","../node_modules/d3-force/src/x.js","../node_modules/d3-force/src/y.js","../node_modules/d3-geo/src/adder.js","../node_modules/d3-geo/src/math.js","../node_modules/d3-geo/src/noop.js","../node_modules/d3-geo/src/stream.js","../node_modules/d3-geo/src/area.js","../node_modules/d3-geo/src/cartesian.js","../node_modules/d3-geo/src/bounds.js","../node_modules/d3-geo/src/centroid.js","../node_modules/d3-geo/src/constant.js","../node_modules/d3-geo/src/compose.js","../node_modules/d3-geo/src/rotation.js","../node_modules/d3-geo/src/circle.js","../node_modules/d3-geo/src/clip/buffer.js","../node_modules/d3-geo/src/pointEqual.js","../node_modules/d3-geo/src/clip/rejoin.js","../node_modules/d3-geo/src/polygonContains.js","../node_modules/d3-geo/src/clip/index.js","../node_modules/d3-geo/src/clip/antimeridian.js","../node_modules/d3-geo/src/clip/circle.js","../node_modules/d3-geo/src/clip/rectangle.js","../node_modules/d3-geo/src/clip/line.js","../node_modules/d3-geo/src/clip/extent.js","../node_modules/d3-geo/src/length.js","../node_modules/d3-geo/src/distance.js","../node_modules/d3-geo/src/contains.js","../node_modules/d3-geo/src/graticule.js","../node_modules/d3-geo/src/interpolate.js","../node_modules/d3-geo/src/path/area.js","../node_modules/d3-geo/src/identity.js","../node_modules/d3-geo/src/path/bounds.js","../node_modules/d3-geo/src/path/centroid.js","../node_modules/d3-geo/src/path/context.js","../node_modules/d3-geo/src/path/measure.js","../node_modules/d3-geo/src/path/string.js","../node_modules/d3-geo/src/path/index.js","../node_modules/d3-geo/src/transform.js","../node_modules/d3-geo/src/projection/fit.js","../node_modules/d3-geo/src/projection/resample.js","../node_modules/d3-geo/src/projection/index.js","../node_modules/d3-geo/src/projection/conic.js","../node_modules/d3-geo/src/projection/conicEqualArea.js","../node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../node_modules/d3-geo/src/projection/albers.js","../node_modules/d3-geo/src/projection/albersUsa.js","../node_modules/d3-geo/src/projection/azimuthal.js","../node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../node_modules/d3-geo/src/projection/mercator.js","../node_modules/d3-geo/src/projection/conicConformal.js","../node_modules/d3-geo/src/projection/equirectangular.js","../node_modules/d3-geo/src/projection/conicEquidistant.js","../node_modules/d3-geo/src/projection/equalEarth.js","../node_modules/d3-geo/src/projection/gnomonic.js","../node_modules/d3-geo/src/projection/identity.js","../node_modules/d3-geo/src/projection/naturalEarth1.js","../node_modules/d3-geo/src/projection/orthographic.js","../node_modules/d3-geo/src/projection/stereographic.js","../node_modules/d3-geo/src/projection/transverseMercator.js","../node_modules/d3-hierarchy/src/cluster.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/partition.js","../node_modules/d3-hierarchy/src/stratify.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/d3-hierarchy/src/treemap/resquarify.js","../node_modules/d3-polygon/src/area.js","../node_modules/d3-polygon/src/centroid.js","../node_modules/d3-polygon/src/hull.js","../node_modules/d3-polygon/src/cross.js","../node_modules/d3-polygon/src/contains.js","../node_modules/d3-polygon/src/length.js","../node_modules/d3-random/src/defaultSource.js","../node_modules/d3-random/src/uniform.js","../node_modules/d3-random/src/normal.js","../node_modules/d3-random/src/logNormal.js","../node_modules/d3-random/src/irwinHall.js","../node_modules/d3-random/src/bates.js","../node_modules/d3-random/src/exponential.js","../node_modules/d3/node_modules/d3-scale/src/init.js","../node_modules/d3/node_modules/d3-scale/src/array.js","../node_modules/d3/node_modules/d3-scale/src/ordinal.js","../node_modules/d3/node_modules/d3-scale/src/band.js","../node_modules/d3/node_modules/d3-scale/src/number.js","../node_modules/d3/node_modules/d3-scale/src/continuous.js","../node_modules/d3/node_modules/d3-scale/src/constant.js","../node_modules/d3/node_modules/d3-scale/src/tickFormat.js","../node_modules/d3/node_modules/d3-scale/src/linear.js","../node_modules/d3/node_modules/d3-scale/src/identity.js","../node_modules/d3/node_modules/d3-scale/src/nice.js","../node_modules/d3/node_modules/d3-scale/src/log.js","../node_modules/d3/node_modules/d3-scale/src/symlog.js","../node_modules/d3/node_modules/d3-scale/src/pow.js","../node_modules/d3/node_modules/d3-scale/src/quantile.js","../node_modules/d3/node_modules/d3-scale/src/quantize.js","../node_modules/d3/node_modules/d3-scale/src/threshold.js","../node_modules/d3/node_modules/d3-scale/src/time.js","../node_modules/d3/node_modules/d3-scale/src/utcTime.js","../node_modules/d3/node_modules/d3-scale/src/sequential.js","../node_modules/d3/node_modules/d3-scale/src/sequentialQuantile.js","../node_modules/d3/node_modules/d3-scale/src/diverging.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/categorical/category10.js","../node_modules/d3-scale-chromatic/src/categorical/Accent.js","../node_modules/d3-scale-chromatic/src/categorical/Dark2.js","../node_modules/d3-scale-chromatic/src/categorical/Paired.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","../node_modules/d3-scale-chromatic/src/categorical/Set1.js","../node_modules/d3-scale-chromatic/src/categorical/Set2.js","../node_modules/d3-scale-chromatic/src/categorical/Set3.js","../node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","../node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/d3-scale-chromatic/src/diverging/BrBG.js","../node_modules/d3-scale-chromatic/src/diverging/PRGn.js","../node_modules/d3-scale-chromatic/src/diverging/PiYG.js","../node_modules/d3-scale-chromatic/src/diverging/PuOr.js","../node_modules/d3-scale-chromatic/src/diverging/RdBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdGy.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","../node_modules/d3-scale-chromatic/src/diverging/Spectral.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","../node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","../node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","../node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touches.js","../node_modules/d3-voronoi/src/constant.js","../node_modules/d3-voronoi/src/point.js","../node_modules/d3-voronoi/src/RedBlackTree.js","../node_modules/d3-voronoi/src/Edge.js","../node_modules/d3-voronoi/src/Cell.js","../node_modules/d3-voronoi/src/Circle.js","../node_modules/d3-voronoi/src/Beach.js","../node_modules/d3-voronoi/src/Diagram.js","../node_modules/d3-voronoi/src/voronoi.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../node_modules/d3-interpolate/src/discrete.js","../node_modules/d3-interpolate/src/hue.js","../node_modules/d3-interpolate/src/hsl.js","../node_modules/d3-interpolate/src/lab.js","../node_modules/d3-interpolate/src/hcl.js","../node_modules/d3-interpolate/src/piecewise.js","../node_modules/d3-interpolate/src/quantize.js","../node_modules/d3-color/src/index.js","../node_modules/d3-timer/src/interval.js","../node_modules/d3-path/src/index.js","../node_modules/d3-time/src/index.js","../node_modules/d3-format/src/index.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js"],"names":["t1","t2","labConvert","o","Lab","l","a","b","opacity","Hcl","hcl2lab","Rgb","rgbConvert","x","z","r","rgb2lrgb","g","y","xyz2lab","gray","lab","arguments","length","this","t","Math","pow","lab2xyz","lrgb2rgb","hclConvert","h","c","NaN","atan2","rad2deg","sqrt","lch","hcl","isNaN","deg2rad","cos","sin","define","extend","Color","brighter","k","darker","rgb","cssNode","cssRoot","cssView","svgNode","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","d","e","f","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","s","q","xa","ya","xb","yb","i","push","number","translate","scale","n","join","interpolateTransformCss","value","document","createElement","documentElement","defaultView","style","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","slice","split","decompose","interpolateTransformSvg","createElementNS","setAttribute","baseVal","consolidate","matrix","module","exports","ChartInternal","api","$$","d3","window","require","config","getDefaultConfig","data","cache","axes","Chart","internal","loadConfig","beforeInit","init","afterInit","bindThis","fn","target","argThis","Object","keys","forEach","key","bind","prototype","asHalfPixel","ceil","ceil10","v","diffDomain","getOption","options","defaultValue","isDefined","getPathBox","path","box","getBBox","items","pathSegList","getItem","min","width","height","element","ignore","isArray","Array","isEmpty","isString","isFunction","isNumber","isUndefined","isValue","notEmpty","sanitise","str","replace","isIE","version","ver","agent","navigator","userAgent","pos","indexOf","parseInt","substring","getIEVersion","AxisInternal","component","params","scaleLinear","range","orient","innerTickSize","outerTickSize","withOuterTick","tickPadding","tickValues","tickFormat","tickArguments","tickOffset","tickCulling","tickCentered","tickTextCharSize","tickTextRotate","tickLength","axis","generateAxis","axisX","selection","attr","axisY","scaleExtent","domain","start","stop","generateTicks","ticks","apply","unshift","copyScale","newScale","copy","isCategory","textFormatted","formatted","updateRange","rangeExtent","updateTickTextCharSize","tick","size","w","select","text","each","undefined","isVertical","tspanData","splitted","tickMultiline","splitTickText","concat","tickMultilineMax","ellipsify","map","index","subtext","spaceIndex","textWidth","tickText","maxWidth","tickWidth","toString","call","charAt","substr","max","ellipsified","remaining","available","padEnd","updateTickLength","lineY2","tickPosition","textY","textTransform","textTextAnchor","tspanDx","tspanDy","dy","transition","self","tickTransform","tickX","tickY","scale0","__chart__","scale1","ticksValues","selectAll","tickEnter","enter","insert","tickExit","exit","remove","tickUpdate","merge","lineUpdate","append","textUpdate","tspans","tspanUpdate","pathUpdate","rangeBand","dx","top","right","bottom","left","format","isCentered","tickInterval","interval","node","getTotalLength","Infinity","culling","CLASS","chart","chartLine","chartLines","chartBar","chartBars","chartText","chartTexts","chartArc","chartArcs","chartArcsTitle","chartArcsBackground","chartArcsGaugeUnit","chartArcsGaugeMax","chartArcsGaugeMin","selectedCircle","selectedCircles","eventRect","eventRects","eventRectsSingle","eventRectsMultiple","zoomRect","brush","dragZoom","focused","defocused","region","regions","title","tooltipContainer","tooltip","tooltipName","shape","shapes","line","lines","bar","bars","circle","circles","arc","arcLabelLine","arcs","area","areas","empty","texts","gaugeValue","grid","gridLines","xgrid","xgrids","xgridLine","xgridLines","xgridFocus","ygrid","ygrids","ygridLine","ygridLines","colorScale","stanfordElements","stanfordLine","stanfordLines","stanfordRegion","stanfordRegions","stanfordText","stanfordTexts","axisXLabel","axisYLabel","axisY2","axisY2Label","legendBackground","legendItem","legendItemEvent","legendItemTile","legendItemHidden","legendItemFocused","dragarea","EXPANDED","SELECTED","INCLUDED","AxisClass","owner","Axis","main","axis_x_inner","clipPathForXAxis","getTranslate","axis_x_show","axis_rotated","textAnchorForXAxisLabel","axis_y_inner","clipPathForYAxis","axis_y_show","textAnchorForYAxisLabel","y2","axis_y2_show","textAnchorForY2AxisLabel","getXAxis","withoutTransition","withoutRotateTickText","axisParams","isCategorized","axis_x_tick_multiline","Number","axis_x_tick_multilineMax","axis_x_tick_width","axis_x_tick_rotate","isTimeSeries","parseDate","axis_x_tick_centered","axis_x_tick_culling","updateXAxisTickValues","targets","axis_x_tick_fit","axis_x_tick_count","generateTickValues","mapTargetsToUniqueXs","xAxis","subXAxis","getYAxis","axisId","isAxisNormalized","axis_y_tick_rotate","isTimeSeriesY","axis_y_tick_time_type","axis_y_tick_time_interval","getId","id","data_axes","getXAxisTickFormat","defaultAxisTimeFormat","categoryName","axis_x_tick_format","date","axisTimeFormat","getTickValues","getXAxisTickValues","axis_x_tick_values","getYAxisTickValues","axis_y_tick_values","yAxis","getY2AxisTickValues","axis_y2_tick_values","y2Axis","getLabelOptionByAxisId","option","axis_y_label","axis_y2_label","axis_x_label","getLabelText","setLabelText","getLabelPosition","defaultPosition","position","isInner","isOuter","isLeft","isCenter","isRight","isTop","isMiddle","isBottom","getXAxisLabelPosition","getYAxisLabelPosition","getY2AxisLabelPosition","getLabelPositionById","textForXAxisLabel","textForYAxisLabel","textForY2AxisLabel","xForAxisLabel","forHorizontal","dxForAxisLabel","textAnchorForAxisLabel","xForXAxisLabel","xForYAxisLabel","xForY2AxisLabel","dxForXAxisLabel","dxForYAxisLabel","dxForY2AxisLabel","dyForXAxisLabel","getMaxTickWidth","getHorizontalAxisHeight","dyForYAxisLabel","dyForY2AxisLabel","axis_y2_inner","withoutRecompute","targetsToShow","dummy","currentMaxTickWidths","svg","filterTargetsToShow","getYDomain","yOrient","yAxisTickValues","y2Orient","y2AxisTickValues","getXDomain","xOrient","xAxisTickFormat","xAxisTickValues","classed","updateLabels","withTransition","getPadding","padding","domainLength","p","unit","convertPixelsToAxisPadding","pixels","values","tickCount","forTimeSeries","targetCount","end","count","tickValue","Date","sort","generateTransitions","duration","axisSubX","subx","redraw","isHidden","c3","generate","c3LogScale","linearScale","logScale","PROJECTION","scaleLog","nice","m","len","arr","tmp","logspace","invert","powerOfTen","log","LN10","initParams","data_url","convertUrlToData","data_mimeType","data_headers","data_keys","initWithData","data_json","convertJsonToData","data_rows","convertRowsToData","data_columns","Error","convertColumnsToData","clipId","valueOf","clipIdForXAxis","clipIdForYAxis","clipIdForGrid","clipIdForSubchart","clipPath","getClipPath","clipPathForGrid","clipPathForSubchart","dragStart","dragging","flowing","cancelClick","mouseover","transiting","color","generateColor","levelColor","generateLevelColor","dataTimeParse","data_xLocaltime","timeParse","utcParse","data_xFormat","axis_x_localtime","timeFormat","utcFormat","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","hiddenTargetIds","hiddenLegendIds","focusedTargetIds","defocusedTargetIds","subXOrient","isLegendRight","legend_position","isLegendInset","isLegendTop","legend_inset_anchor","isLegendLeft","legendStep","legendItemWidth","legendItemHeight","rotated_padding_left","rotated_padding_right","rotated_padding_top","withoutFadeIn","intervalForObserveInserted","initChartElements","initBar","initLine","initArc","initGauge","initText","defs","binding","bindto","selectChart","observeInserted","html","xs","convertDataToTargets","data_filter","filter","data_hide","addHiddenTargetIds","mapToIds","legend_hide","addHiddenLegendIds","isStanfordGraphType","initStanfordData","updateSizes","updateScales","extent","subX","subY","subY2","orgXDomain","on","onmouseover","onmouseout","svg_classname","clipChart","appendClip","clipXAxis","clipYAxis","clipGrid","clipSubchart","updateSvgSize","initPie","initDragZoom","subchart_show","initSubchart","initTooltip","initLegend","initTitle","initZoom","drawColorScale","initSubchartBrush","initRegion","initGrid","grid_lines_front","initGridLines","initStanfordElements","initEventRect","updateTargets","axis_x_selection","selectionAsValue","getDefaultSelection","updateDimension","oninit","withTransform","withUpdateXDomain","withUpdateOrgXDomain","withTransitionForAxis","bindResize","bindWindowFocus","smoothLines","el","type","x1","x2","y1","legendHeight","legend","getLegendHeight","legendWidth","getLegendWidth","legendHeightForBottom","hasArc","hasArcType","xAxisHeight","subchartXAxisHeight","subchartHeight","subchart_size_height","currentWidth","getCurrentWidth","currentHeight","getCurrentHeight","margin","getCurrentPaddingTop","getCurrentPaddingRight","getCurrentPaddingBottom","getCurrentPaddingLeft","margin2","margin3","updateSizeForLegend","width2","height2","arcWidth","arcHeight","hasType","gauge_fullCircle","getGaugeLabelHeight","updateRadius","radiusExpanded","updateTargetsForText","updateTargetsForBar","updateTargetsForLine","updateTargetsForArc","updateTargetsForSubchart","showTargets","isTargetToShow","transition_duration","transitions","withY","withSubchart","withTransitionForExit","withTrimXDomain","withLegend","withEventRect","withDimension","withUpdateXAxis","drawArea","drawBar","drawLine","xForText","yForText","durationForExit","durationForAxis","transitionsToWait","waitForDraw","flow","intervalForCulling","xDomainForZoom","cx","cy","areaIndices","getShapeIndices","isAreaType","barIndices","isBarType","lineIndices","isLineType","hideAxis","xv","legend_show","updateLegend","updateXDomain","zoom_rescale","orgDomain","axis_y_tick_count","axis_y2_tick_count","axis_x_tick_culling_max","generateDrawArea","generateDrawBar","generateDrawLine","generateXYForText","updateCircleY","circleY","circleX","updateXgridFocus","data_empty_label_text","redrawEventRect","updateGrid","updateStanfordElements","updateRegion","updateBar","updateLine","updateArea","updateCircle","hasDataLabel","updateText","redrawTitle","redrawArc","redrawSubchart","generateFlow","isTabVisible","redrawBar","redrawLine","redrawArea","redrawCircle","redrawText","redrawRegion","redrawGrid","generateWait","add","onrendered","updateAndRedraw","withTransitionForTransform","transformAll","redrawWithoutRescale","axis_x_type","isCustomX","data_x","data_xs","axis_y_type","initialOpacity","initialOpacityForCircle","opacityForCircle","point_show","isStanfordType","isScatterType","opacityForText","xx","xvCustom","xyValue","axis_x_categories","yvCustom","yScale","yv","subxx","transformMain","transformContext","transformLegend","getXAxisClipX","getXAxisClipY","getXAxisClipWidth","getXAxisClipHeight","getYAxisClipX","getYAxisClipY","getYAxisClipWidth","getYAxisClipHeight","withoutAxis","observer","MutationObserver","mutations","mutation","previousSibling","disconnect","setInterval","parentNode","clearInterval","update","observe","attributes","childList","characterData","console","error","resizeFunction","generateResize","onresize","resize_auto","resizeTimeout","clearTimeout","setTimeout","onresized","resizeIfElementDisplayed","offsetParent","addEventListener","_this","windowFocusHandler","unbindWindowFocus","removeEventListener","resizeFunctions","callResizeFunctions","splice","endall","callback","timer","done","parsedDate","hidden","SVGPathSeg","typeAsLetter","owningPathSegList","pathSegType","pathSegTypeAsLetter","_owningPathSegList","classname","PATHSEG_UNKNOWN","PATHSEG_CLOSEPATH","PATHSEG_MOVETO_ABS","PATHSEG_MOVETO_REL","PATHSEG_LINETO_ABS","PATHSEG_LINETO_REL","PATHSEG_CURVETO_CUBIC_ABS","PATHSEG_CURVETO_CUBIC_REL","PATHSEG_CURVETO_QUADRATIC_ABS","PATHSEG_CURVETO_QUADRATIC_REL","PATHSEG_ARC_ABS","PATHSEG_ARC_REL","PATHSEG_LINETO_HORIZONTAL_ABS","PATHSEG_LINETO_HORIZONTAL_REL","PATHSEG_LINETO_VERTICAL_ABS","PATHSEG_LINETO_VERTICAL_REL","PATHSEG_CURVETO_CUBIC_SMOOTH_ABS","PATHSEG_CURVETO_CUBIC_SMOOTH_REL","PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS","PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL","_segmentChanged","segmentChanged","SVGPathSegClosePath","create","_asPathString","clone","SVGPathSegMovetoAbs","_x","_y","defineProperty","get","set","enumerable","SVGPathSegMovetoRel","SVGPathSegLinetoAbs","SVGPathSegLinetoRel","SVGPathSegCurvetoCubicAbs","_x1","_y1","_x2","_y2","SVGPathSegCurvetoCubicRel","SVGPathSegCurvetoQuadraticAbs","SVGPathSegCurvetoQuadraticRel","SVGPathSegArcAbs","r1","r2","angle","largeArcFlag","sweepFlag","_r1","_r2","_angle","_largeArcFlag","_sweepFlag","SVGPathSegArcRel","SVGPathSegLinetoHorizontalAbs","SVGPathSegLinetoHorizontalRel","SVGPathSegLinetoVerticalAbs","SVGPathSegLinetoVerticalRel","SVGPathSegCurvetoCubicSmoothAbs","SVGPathSegCurvetoCubicSmoothRel","SVGPathSegCurvetoQuadraticSmoothAbs","SVGPathSegCurvetoQuadraticSmoothRel","SVGPathElement","createSVGPathSegClosePath","createSVGPathSegMovetoAbs","createSVGPathSegMovetoRel","createSVGPathSegLinetoAbs","createSVGPathSegLinetoRel","createSVGPathSegCurvetoCubicAbs","createSVGPathSegCurvetoCubicRel","createSVGPathSegCurvetoQuadraticAbs","createSVGPathSegCurvetoQuadraticRel","createSVGPathSegArcAbs","createSVGPathSegArcRel","createSVGPathSegLinetoHorizontalAbs","createSVGPathSegLinetoHorizontalRel","createSVGPathSegLinetoVerticalAbs","createSVGPathSegLinetoVerticalRel","createSVGPathSegCurvetoCubicSmoothAbs","createSVGPathSegCurvetoCubicSmoothRel","createSVGPathSegCurvetoQuadraticSmoothAbs","createSVGPathSegCurvetoQuadraticSmoothRel","getPathSegAtLength","distance","isFinite","measurementElement","getAttribute","lastPathSegment","numberOfItems","removeItem","SVGPathSegList","pathElement","_pathElement","_list","_parsePath","_mutationObserverConfig","attributeFilter","_pathElementMutationObserver","_updateListFromPathMutations","_checkPathSynchronizedToList","_pathSegList","takeRecords","mutationRecords","hasPathMutations","record","attributeName","_writeListToPath","_pathSegArrayAsString","pathSeg","clear","initialize","newItem","_checkValidIndex","insertItemBefore","replaceItem","item","appendItem","pathSegArray","string","first","Builder","appendSegment","Source","_string","_currentIndex","_endIndex","_previousCommand","_skipOptionalSpaces","_isCurrentSpace","character","_skipOptionalSpacesOrDelimiter","hasMoreData","peekSegmentType","lookahead","_pathSegTypeFromChar","_nextCommandHelper","previousCommand","initialCommandIsMoveTo","command","_parseNumber","exponent","integer","frac","decimal","sign","expsign","startIndex","startIntPartIndex","scanIntPartIndex","multiplier","_parseArcFlag","flag","flagChar","parseSegment","points","arcAngle","arcLarge","arcSweep","builder","source","String","targetLength","padString","repeat","assign","varArgs","TypeError","to","nextSource","nextKey","hasOwnProperty","writable","configurable","labels","axis_x_max","axis_y_max","axis_y2_max","axis_x_min","axis_y_min","axis_y2_min","types","axis_y2_type","category","categories","resize","size_width","size_height","flush","destroy","targetIds","shown","targetId","flat","reduce","ret","dataValue","names","clearLegendItemTextBoxCache","updateDataAttributes","colors","stackNormalized","normalized","isStackNormalized","data_stack_normalize","donut","padAngle","donut_padAngle","args","baseTarget","baseValue","diff","notfoundIds","orgDataCount","getMaxDataCount","tail","json","rows","columns","j","found","getOtherTargetX","missing","mainRegion","mainText","mainBar","mainLine","mainArea","mainCircle","flowIndex","flowLength","flowStart","getValueOnIndex","flowEnd","durationForFlow","wait","updateXGrid","hideXGridFocus","flowTransition","ease","easeLinear","isRegionOnX","xgridAttr","regionX","regionWidth","focus","candidates","mapToTargetIds","selectorTargets","revert","defocus","expandArc","toggleFocusLegend","unexpandArc","showLegend","isLegendToShow","selectorLegends","grids","grid_x_lines","removeGridLines","grid_y_lines","groups","data_groups","show","hide","hideLegend","load","addXs","classes","data_classes","data_colors","hasCaches","cacheIds","getCaches","unload","loadFromArgs","ids","pie","pie_padAngle","selected","getTargetSelectorSuffix","nodes","__data__","indices","resetOther","data_selection_enabled","toggle","getToggle","isTargetId","data_selection_grouped","isTargetIndex","isSelected","data_selection_isselectable","unselect","removeHiddenTargetIds","that","subchart","isShown","getTargets","removeSubchart","mouse","filterByX","getMousePosition","dispatchEvent","tooltip_onshow","tooltip_onhide","transformTo","optionsForRedraw","setTargetType","updateTargetX","updateTargetXs","zoom","zoom_onzoom","enable","enabled","zoom_enabled","unzoom","zoom_x_max","zoom_x_min","getPadAngle","orderFct","getOrderFunction","isOrderAsc","isOrderDesc","defaultSort_1","gauge_width","donut_width","gaugeArcWidth","gauge_arcs_minWidth","radius","innerRadiusRatio","innerRadius","updateArc","svgArc","getSvgArc","svgArcExpanded","getSvgArcExpanded","svgArcExpandedSub","updateAngle","gMin","gMax","gTic","gValue","startAngle","endAngle","isGaugeType","gauge_min","gauge_max","gauge_startingAngle","hasGaugeType","singleArcWidth","outerRadius","newArc","withoutUpdate","updated","centroid","rate","expandWidth","getArc","force","isArcType","transformForArcLabel","ratio","hasGauge","donut_label_ratio","pie_label_ratio","abs","getArcRatio","getRatio","convertToArcData","addName","textForArcLabel","shouldShowArcLabel","meetsArcLabelThreshold","getArcLabelFormat","defaultArcValueFormat","textForGaugeMinMax","isMax","getGaugeLabelExtents","shouldExpand","expandDuration","isDonutType","donut_expand_duration","gauge_expand_duration","isPieType","pie_expand_duration","donut_expand","gauge_expand","pie_expand","shouldShow","donut_label_show","pie_label_show","donut_label_threshold","pie_label_threshold","pie_label_format","gauge_label_format","donut_label_format","gauge_label_extents","getArcTitle","donut_title","mainPieEnter","classChartArc","classArcs","classFocus","mainArc","arcLabelLines","mainArcLabelLine","arcData","classArc","interaction_enabled","_current","total","gauge_labelLine_show","lineLength","innerLineLength","lineAngle","arcInnerRadius","linePositioningAngle","data_onmouseover","selectedData","showTooltip","revertLegend","hideTooltip","data_onmouseout","toggleShape","data_onclick","attrTween","interpolate","interpolated","round","index_1","backgroundArc","d1","gauge_label_show","gauge_units","addToCache","getFromCache","resetCache","test","addCache","cloneTarget","generateTargetClass","generateClass","prefix","classText","classTexts","classShape","classShapes","classLine","classLines","classCircle","classCircles","classBar","classBars","classArea","classAreas","classRegion","classEvent","classTarget","additionalClassSuffix","additionalClass","classFocused","classDefocused","classChartText","classChartLine","classChartBar","targetClass","CSS","escape","selectorTarget","selectorLegend","URL","parent","getAxisClipX","getAxisClipY","getAxisClipWidth","getAxisClipHeight","pattern","color_pattern","schemeCategory10","data_color","Function","threshold","color_threshold","asValue","padding_left","padding_right","padding_top","padding_bottom","zoom_initialRange","zoom_type","zoom_disableDefaultBehavior","zoom_privileged","zoom_onzoomstart","zoom_onzoomend","interaction_brighten","data_epochs","data_xSort","data_idConverter","data_names","data_type","data_types","data_labels","data_order","data_regions","data_selection_multiple","data_selection_draggable","data_onselected","data_onunselected","subchart_axis_x_show","subchart_onbrush","legend_inset_x","legend_inset_y","legend_inset_step","legend_item_onclick","legend_item_onmouseover","legend_item_onmouseout","legend_equally","legend_padding","legend_item_tile_width","legend_item_tile_height","axis_x_tick_outer","axis_x_padding","axis_x_height","axis_y_inverted","axis_y_center","axis_y_tick_format","axis_y_tick_outer","axis_y_padding","axis_y_default","axis_y2_inverted","axis_y2_center","axis_y2_tick_format","axis_y2_tick_outer","axis_y2_padding","axis_y2_default","grid_x_show","grid_x_type","grid_y_show","grid_y_ticks","grid_focus_show","point_r","point_sensitivity","point_focus_expand_enabled","point_focus_expand_r","point_select_r","line_connectNull","line_step_type","bar_width","bar_width_ratio","bar_width_max","bar_zerobased","bar_space","area_zerobased","area_above","spline_interpolation_type","stanford_lines","stanford_regions","stanford_texts","stanford_scaleMin","stanford_scaleMax","stanford_scaleWidth","stanford_scaleFormat","stanford_scaleValues","stanford_colors","stanford_padding","tooltip_show","tooltip_grouped","tooltip_order","tooltip_format_title","tooltip_format_name","tooltip_format_value","tooltip_horizontal","tooltip_position","tooltip_contents","defaultTitleFormat","defaultValueFormat","getTooltipContent","tooltip_init_show","tooltip_init_x","tooltip_init_position","title_text","title_padding","title_position","additionalConfig","read","this_config","find","shift","url","mimeType","headers","converter","tsv","convertXsvToData","csv","then","xsv","row","_a","targetKeys","new_rows","new_row","findValueInJson","object","pathArray","newRows","newRow","appendXs","epochs","isX","isEpochs","isNotXAndNotEpochs","isNotX","xKey","getXKey","rawX","generateTargetX","getOtherTargetXs","getXValuesOfXKey","convertedId","id_org","returnData","v1","v2","hasNegativeValue","hasNegativeValueInTargets","hasPositiveValue","hasPositiveValueInTargets","dict","hasValue","some","isTargetNormalized","group","includes","getTotalPerIndex","cached","sum","sumByAxis","getTotalDataSum","totalDataSum","xValues","getXValue","idsForX","name","valueOnIndex","hasTarget","getTargetsToShow","removeHiddenLegendIds","getValuesAsIdKeyed","ys","checkValueInTargets","checker","toLowerCase","orderAsc","orderDesc","reducer","t1Sum","t2Sum","order","orderTargets","fct","filterByIndex","filterRemoveNull","filterByXDomain","xDomain","getDataLabelLength","lengths","dataLabelFormat","isNoneArc","isArc","findClosestFromTargets","findClosest","horizontalDistance","dist","findClosestFromTargetsByX","closest","newDiff","dataPoints","computeDist","minDist","isWithinBar","xIndex","yIndex","convertValuesToStep","converted","asPercent","attrs","current","getYDomainMin","baseId","idsInGroup","getYDomainMax","yDomainAbs","isAllPositive","isAllNegative","targetsByAxisId","yTargets","yMin","yMax","yDomainMin","yDomainMax","center","isZeroBased","isInverted","showHorizontalDataLabel","showVerticalDataLabel","pixelsToAxisPadding","getY","reverse","getXDomainMin","getXDomainMax","getXDomainPadding","maxDataCount","paddingLeft","paddingRight","firstX","lastX","getTime","withTrim","updateScale","trimXDomain","zoomDomain","getZoomDomain","drag","sx","sy","mx","my","minX","maxX","minY","maxY","_w","_h","isIncluded","isWithin","togglePoint","togglePath","dragstart","dragend","getYFormat","forArc","formatForY","yFormat","formatForY2","y2Format","toFixed","defaultFormat","xgridData","generateGridData","xgridEnter","updateYGrid","gridValues","ygridEnter","gridTextAnchor","gridTextDx","xGridTextX","yGridTextX","xgridLineEnter","ygridLineEnter","showXGridFocus","dataToShow","focusEl","firstYear","lastYear","gridData","tickNum","getFullYear","getGridFilterToRemove","param","forX","toRemove","toShow","zoomTransform","mouseout","unexpandCircles","unexpandBars","isHoveringDataPoint","withName","isMouseCloseToDataPoint","closestByX","mouseX","expandCircles","expandBars","isWithinShape","getYScale","selector","getBoundingClientRect","event","createEvent","initMouseEvent","legendItemTextBox","legendHasRendered","updateLegendWithDefaults","insetLegendPosition","updateLegendStep","step","updateLegendItemWidth","updateLegendItemHeight","opacityForLegend","opacityForUnfocusedLegend","xForLegend","xForLegendText","xForLegendRect","yForLegend","yForLegendText","yForLegendRect","x1ForLegendTile","x2ForLegendTile","yForLegendTile","rects","tiles","background","maxHeight","tileWidth","totalLength","offsets","widths","heights","margins","steps","updatePositions","textElement","maxLength","reset","isLast","getTextRect","textContent","getTextBox","itemWidth","itemHeight","itemLength","areaLength","updateValues","withoutStep","altKey","regionY","regionHeight","labelRegion","regionLabels","labelOffsetX","labelOffsetY","labelTransform","label","vertical","paddingX","paddingY","getScale","forTimeseries","scaleTime","getX","offset","_scale","raw","getSubYScale","forInit","xMin","xMax","subXMin","subXMax","subYMin","subYMax","selectPoint","pointSelectR","unselectPoint","selectPath","unselectPath","nodeName","isStepType","barData","mainBarEnter","getBarW","barTargetsNum","getBars","isSub","getPoints","generateGetBarPoints","indexX","indexY","__max__","barW","barX","getShapeX","barY","getShapeY","barOffset","getShapeOffset","barSpaceOffset","y0","posX","posY","barShape","point","sensitivity","xStart","xEnd","yStart","yEnd","isWithinBox","typeFilter","targetsNum","rowValues","constructor","isWithinStep","isWithinCircle","getInterpolate","linear","curveLinear","curveLinearClosed","basis","curveBasis","curveBasisOpen","curveBasisClosed","bundle","curveBundle","cardinal","curveCardinal","curveCardinalOpen","curveCardinalClosed","monotone","curveMonotoneX","curveStep","curveStepBefore","curveStepAfter","isSplineType","mainLineEnter","lineData","generateGetLinePoints","yScaleGetter","xValue","yValue","defined","x0","lineWithRegions","curve","lineTargetsNum","lineOffset","_regions","sWithRegion","xp","yp","diffx2","xOffset","isWithinRegions","generateM","d0","x_diff","xv0","xv1","mainAreaEnter","orgAreaOpacity","generateGetAreaPoints","value0","getAreaBaseValue","value1","areaTargetsNum","areaOffset","lineOrScatterOrStanfordData","mainCircleEnter","pointR","getStanfordPointColor","getCircles","pointExpandedR","d3_this","getParentWidth","getParentHeight","getTitlePadding","getAxisWidthByAxisId","legendWidthOnRight","getColorScalePadding","getParentRectValue","tagName","offsetWidth","getSvgLeft","hasLeftAxisRect","leftAxisClass","leftAxis","svgRect","chartRect","svgLeft","isSubchart","initBrush","brushY","brushX","sourceEvent","redrawForBrush","updateExtent","context","move","brushSelection","contextLineEnter","contextLine","contextBarEnter","contextBar","updateBarForSubchart","redrawBarForSubchart","drawBarOnSub","random","updateLineForSubchart","redrawLineForSubchart","drawLineOnSub","updateAreaForSubchart","contextArea","contextAreaEnter","redrawAreaForSubchart","drawAreaOnSub","zoomIdentity","mainTextEnter","barOrLineData","forFlow","cls","rect","font","getAreaPoints","getBarPoints","getLinePoints","getter","getXForText","getYForText","xPos","yPos","isSafari","isChrome","xForTitle","yForTitle","barWidth","legendAxis","axisScale","inverseScale","scaleSequential","minEpochs","maxEpochs","axisRight","xForColorScale","compareEpochs","interpolateHslLong","hsl","colorscale","scaleSequentialLog","getCentroid","point1","point2","getRegionArea","getStanfordTooltipTitle","labelX","labelY","countEpochsInRegion","accumulator","currentValue","pointInRegion","percentage","xi","yi","yj","xj","inside","stanfordLineEnter","stanfordRegionEnter","stanfordTextEnter","countPointsInRegion","content","temp","getTooltipSortFunction","obj","sortFunction","bgcolor","titleFormat","nameFormat","valueFormat","tooltipSortFunction","tooltipPosition","tWidth","tHeight","tooltipLeft","tooltipRight","tooltipTop","chartRight","positionFunction","property","has","ua","startEvent","redrawForZoom","clientX","clientY","updateDomain","rescaleY","rescaleX","translateExtent","brushXPos","brushYPos","getZoomedDomain","dragZoomBrush","zoomedDomain","factory","delay","time","Timer","restart","elapsed","rho","SQRT2","cosh","exp","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","d2","b0","b1","r0","coshr0","u","sinh","bandwidth","entering","__axis","tickSizeInner","tickSizeOuter","spacing","range0","range1","_","tickSize","axisTop","axisBottom","axisLeft","noop","dispatch","Dispatch","parseTypenames","typenames","trim","typename","T","none","querySelector","querySelectorAll","matches","EnterNode","datum","ownerDocument","namespaceURI","_next","_parent","child","insertBefore","next","bindIndex","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","xhtml","xlink","xml","xmlns","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","firstChild","creatorInherit","uri","creatorFixed","namespace","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","capture","onAdd","wrap","customEvent","CustomEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","Selection","parents","_groups","_parents","subgroups","subnode","subgroup","selectorAll","match","matcher","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compare","compareNode","sortgroups","sortgroup","getAttributeNS","creator","before","deep","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","touches","identifier","changedTouches","touch","emptyOn","emptyTween","timing","schedules","__transition","tween","state","timeout","schedule","active","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","interpolateNumber","interpolateRgb","interpolateString","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","t0","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","children","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","Promise","resolve","reject","cancel","interrupt","defaultTiming","easeCubicInOut","now","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","toucher","X","handles","input","output","xy","Y","XY","cursors","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","defaultTouchable","maxTouchPoints","__brush","dim","touchending","touchable","listeners","handleSize","handle","started","touchmoved","touchended","emitter","clean","Emitter","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","mode","metaKey","signX","signY","W","N","E","shifting","shiftKey","pointer","point0","emit","beforestart","moved","ended","keydowned","keyupped","dragDisable","dragEnable","keyCode","selection0","selection1","starting","BrushEvent","constant","keyModifiers","pi","halfPi","tau","compareValue","sortGroups","sortSubgroups","sortChords","chord","groupSums","groupIndex","subgroupIndex","chords","di","dj","a0","a1","subindex","defaultSource","defaultTarget","defaultRadius","defaultStartAngle","defaultEndAngle","ribbon","buffer","argv","sr","sa0","sa1","sx0","sy0","tr","ta0","ta1","moveTo","quadraticCurveTo","closePath","ring","hole","ringContains","pj","segmentContains","collinear","cases","thresholdSturges","smooth","smoothLinear","contours","tz","tickStep","floor","contour","polygons","holes","t3","fragmentByStart","fragmentByEnd","stitch","endIndex","isorings","polygon","coordinates","v0","xt","yt","_0","_1","thresholds","blurX","blurY","defaultX","defaultY","defaultWeight","weight","density","values0","Float32Array","values1","wi","geometry","transformPolygon","transformRing","transformPoint","cellSize","LN2","DragEvent","subject","defaultContainer","defaultSubject","mousedownx","mousedowny","mousemoving","container","gestures","clickDistance2","mousedowned","touchstarted","gesture","mousemoved","mouseupped","nodrag","sublisteners","clickDistance","EOL","EOF","objectConverter","JSON","stringify","inferColumns","columnSet","column","pad","formatDate","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","parseRows","I","eof","eol","token","preformatBody","formatValue","formatRow","convert","customConverter","formatBody","formatRows","dsv","csvParse","csvParseRows","csvFormat","csvFormatBody","csvFormatRows","csvFormatRow","csvFormatValue","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","tsvFormatRow","tsvFormatValue","autoType","fixtz","responseBlob","response","ok","status","statusText","blob","fetch","responseArrayBuffer","arrayBuffer","responseText","dsvParse","dsvFormat","image","Image","onerror","onload","src","responseJson","parser","DOMParser","parseFromString","tree","xm","ym","_root","leaf","_x0","_y0","quadtree","Quadtree","addAll","leaf_copy","treeProto","vx","vy","cover","xz","yz","visit","x3","y3","quads","Quad","retainer","removeAll","visitAfter","radii","strength","iterations","ri","ri2","prepare","quad","rj","jiggle","nodeById","nodeId","links","strengths","distances","bias","link","alpha","initializeStrength","initializeDistance","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","fx","fy","initializeNodes","initializeForce","distanceMin2","distanceMax2","theta2","accumulate","distanceMin","distanceMax","theta","radiuses","Adder","adder","bv","av","quarterPi","radians","tan","acos","asin","haversin","streamGeometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","phi0","lambda1","phi1","lambda2","ranges","deltaSum","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","inflection","phii","delta","lambdai","antimeridian","rangeCompare","rangeContains","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","feature","merged","deltaMax","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","precision","rejoin","result","Intersection","other","entry","segments","compareIntersection","startInside","clip","segment","pointEqual","isSubject","array","longitude","winding","sinPhi1","cosPhi1","absDelta","intersection","phiArc","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","clipRejoin","pointLine","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","from","cr","smallRadius","notHemisphere","visible","intersect","two","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","A","uu","polar","q1","code","c0","v00","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","polygonInside","cleanInside","ax","ay","cacheStream","lengthSum","lengthStream","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ao","bo","ab","ringRadians","pointRadians","graticuleX","graticuleY","graticule","DX","DY","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","x00","y00","cy0","cy1","sy1","kx0","ky0","kx1","ky1","B","bounds","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_context","_radius","pointRadius","_line","_point","lineTo","lengthRing","PathString","_circle","projection","projectionStream","contextStream","pathArea","measure","pathMeasure","pathBounds","pathCentroid","methods","transformer","TransformStream","fit","fitBounds","clipExtent","geoStream","fitExtent","fitSize","fitWidth","fitHeight","cosMinDistance","project","delta2","resampleLineTo","depth","phi2","dx2","dy2","dz","a00","b00","c00","resampleStream","ringPoint","resample","resampleNone","transformRadians","scaleTranslate","scaleTranslateRotate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","preclip","clipAntimeridian","postclip","recenter","transformRotate","clipAngle","clipCircle","reflectX","reflectY","conicProjection","parallels","conicEqualAreaRaw","cylindricalEqualAreaRaw","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","multiplex","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","equirectangularRaw","conicEquidistantRaw","gy","nx","A1","A2","A3","A4","M","equalEarthRaw","l2","l6","gnomonicRaw","sa","tx","ty","kx","ky","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","eachAfter","meanX","leafLeft","leafRight","hierarchy","childs","Node","valued","defaultChildren","eachBefore","computeHeight","copyData","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","shuffle","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","r3","a2","a3","b2","b3","C","place","intersects","score","packEnclose","aa","sj","sk","pack","enclose","optional","required","constantZero","radiusLeaf","packChildren","translateChild","partition","treemapDice","positionNode","roundNode","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","change","nextAncestor","vim","TreeNode","treeRoot","firstWalk","secondWalk","sizeNode","siblings","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","squarifyRatio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","beta","dice","treemapSlice","custom","squarify","tile","paddingStack","paddingInner","paddingTop","paddingBottom","treemap","paddingOuter","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","resquarify","_squarify","lexicographicOrder","computeUpperHullIndexes","indexes","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","hull","perimeter","sourceRandomUniform","randomUniform","sourceRandomNormal","randomNormal","mu","sigma","sourceRandomLogNormal","randomLogNormal","sourceRandomIrwinHall","randomIrwinHall","sourceRandomBates","randomBates","irwinHall","sourceRandomExponential","randomExponential","initRange","initInterpolator","interpolator","implicit","ordinal","unknown","band","ordinalRange","align","rescale","sequence","rangeRound","pointish","normalize","clamper","bimap","polymap","bisect","clamp","untransform","piecewise","interpolateValue","interpolateRound","continuous","specifier","formatSpecifier","precisionPrefix","formatPrefix","precisionRound","precisionFixed","linearish","tickIncrement","transformLog","transformExp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","log10","log2","logp","powp","transformSymlog","log1p","transformSymexp","expm1","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","quantile","invertExtent","quantiles","quantize","calendar","month","week","day","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickIntervals","durationSecond","durationMinute","durationHour","durationDay","bisector","timeYear","timeMonth","timeWeek","timeDay","timeHour","timeMinute","timeSecond","timeMillisecond","utcYear","utcMonth","utcWeek","utcDay","utcHour","utcMinute","utcSecond","utcMillisecond","UTC","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","k21","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","scheme","interpolateRgbBasis","ramp","interpolateCubehelixLong","cubehelix","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","nextId","Local","RedBlackTree","RedBlackNode","U","L","R","P","RedBlackRotateLeft","RedBlackRotateRight","RedBlackFirst","after","grandpa","uncle","sibling","red","createEdge","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","connectEdge","fm","fb","lx","ly","rx","ry","cellHalfedgeAngle","cell","site","va","vb","cellHalfedgeStart","cellHalfedgeEnd","firstCircle","circlePool","Circle","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","epsilon2","ha","hc","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","disappearing","epsilon","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","lexicographic","Diagram","sites","sortCellHalfedges","clipEdges","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","dc","v01","v11","v10","clipCells","triangles","_found","pointX","pointY","voronoi","ZoomEvent","Transform","applyX","applyY","location","invertX","invertY","__zoom","SVGElement","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","dx0","dx1","dy0","dy1","touchstarting","constrain","wheelDelta","interpolateZoom","wheeled","dblclicked","__zooming","Gesture","taps","wheel","wheelidled","k1","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","k0","translateBy","translateTo","hue","colorHsl","hslLong","colorLab","colorHcl","hclLong","samples","formatIso","toISOString","parseIso"],"mappings":"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","file":"static/js/2.bccfb4d2.chunk.js","sourcesContent":["import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.c3 = factory());\n}(this, (function () { 'use strict';\n\n  function ChartInternal(api) {\r\n      var $$ = this;\r\n      // Note: This part will be replaced by rollup-plugin-modify\r\n      // When bundling esm output. Beware of changing this line.\r\n      // TODO: Maybe we should check that the modification by rollup-plugin-modify\r\n      // is valid during unit tests.\r\n      $$.d3 = window.d3\r\n          ? window.d3\r\n          : typeof require !== 'undefined'\r\n              ? require('d3')\r\n              : undefined;\r\n      $$.api = api;\r\n      $$.config = $$.getDefaultConfig();\r\n      $$.data = {};\r\n      $$.cache = {};\r\n      $$.axes = {};\r\n  }\n\n  /**\r\n   * The Chart class\r\n   *\r\n   * The methods of this class is the public APIs of the chart object.\r\n   */\r\n  function Chart(config) {\r\n      this.internal = new ChartInternal(this);\r\n      this.internal.loadConfig(config);\r\n      this.internal.beforeInit(config);\r\n      this.internal.init();\r\n      this.internal.afterInit(config);\r\n      (function bindThis(fn, target, argThis) {\r\n          Object.keys(fn).forEach(function (key) {\r\n              target[key] = fn[key].bind(argThis);\r\n              if (Object.keys(fn[key]).length > 0) {\r\n                  bindThis(fn[key], target[key], argThis);\r\n              }\r\n          });\r\n      })(Chart.prototype, this, this);\r\n  }\n\n  var asHalfPixel = function (n) {\r\n      return Math.ceil(n) + 0.5;\r\n  };\r\n  var ceil10 = function (v) {\r\n      return Math.ceil(v / 10) * 10;\r\n  };\r\n  var diffDomain = function (d) {\r\n      return d[1] - d[0];\r\n  };\r\n  var getOption = function (options, key, defaultValue) {\r\n      return isDefined(options[key]) ? options[key] : defaultValue;\r\n  };\r\n  var getPathBox = function (path) {\r\n      var box = getBBox(path), items = [path.pathSegList.getItem(0), path.pathSegList.getItem(1)], minX = items[0].x, minY = Math.min(items[0].y, items[1].y);\r\n      return { x: minX, y: minY, width: box.width, height: box.height };\r\n  };\r\n  var getBBox = function (element) {\r\n      try {\r\n          return element.getBBox();\r\n      }\r\n      catch (ignore) {\r\n          // Firefox will throw an exception if getBBox() is called whereas the\r\n          // element is rendered with display:none\r\n          // See https://github.com/c3js/c3/issues/2692\r\n          // The previous code was using `getBoundingClientRect` which was returning\r\n          // everything at 0 in this case so let's reproduce this behavior here.\r\n          return { x: 0, y: 0, width: 0, height: 0 };\r\n      }\r\n  };\r\n  var hasValue = function (dict, value) {\r\n      var found = false;\r\n      Object.keys(dict).forEach(function (key) {\r\n          if (dict[key] === value) {\r\n              found = true;\r\n          }\r\n      });\r\n      return found;\r\n  };\r\n  var isArray = function (o) {\r\n      return Array.isArray(o);\r\n  };\r\n  var isDefined = function (v) {\r\n      return typeof v !== 'undefined';\r\n  };\r\n  var isEmpty = function (o) {\r\n      return (typeof o === 'undefined' ||\r\n          o === null ||\r\n          (isString(o) && o.length === 0) ||\r\n          (typeof o === 'object' && Object.keys(o).length === 0));\r\n  };\r\n  var isFunction = function (o) {\r\n      return typeof o === 'function';\r\n  };\r\n  var isNumber = function (o) {\r\n      return typeof o === 'number';\r\n  };\r\n  var isString = function (o) {\r\n      return typeof o === 'string';\r\n  };\r\n  var isUndefined = function (v) {\r\n      return typeof v === 'undefined';\r\n  };\r\n  var isValue = function (v) {\r\n      return v || v === 0;\r\n  };\r\n  var notEmpty = function (o) {\r\n      return !isEmpty(o);\r\n  };\r\n  var sanitise = function (str) {\r\n      return typeof str === 'string'\r\n          ? str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\r\n          : str;\r\n  };\r\n  var flattenArray = function (arr) {\r\n      return Array.isArray(arr) ? [].concat.apply([], arr) : [];\r\n  };\r\n  /**\r\n   * Returns whether the point is within the given box.\r\n   *\r\n   * @param {Array} point An [x,y] coordinate\r\n   * @param {Object} box An object with {x, y, width, height} keys\r\n   * @param {Number} sensitivity An offset to ease check on very small boxes\r\n   */\r\n  var isWithinBox = function (point, box, sensitivity) {\r\n      if (sensitivity === void 0) { sensitivity = 0; }\r\n      var xStart = box.x - sensitivity;\r\n      var xEnd = box.x + box.width + sensitivity;\r\n      var yStart = box.y + box.height + sensitivity;\r\n      var yEnd = box.y - sensitivity;\r\n      return (xStart < point[0] && point[0] < xEnd && yEnd < point[1] && point[1] < yStart);\r\n  };\r\n  /**\r\n   * Returns Internet Explorer version number (or false if no Internet Explorer used).\r\n   *\r\n   * @param string agent Optional parameter to specify user agent\r\n   */\r\n  var getIEVersion = function (agent) {\r\n      // https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie\r\n      if (typeof agent === 'undefined') {\r\n          agent = window.navigator.userAgent;\r\n      }\r\n      var pos = agent.indexOf('MSIE '); // up to IE10\r\n      if (pos > 0) {\r\n          return parseInt(agent.substring(pos + 5, agent.indexOf('.', pos)), 10);\r\n      }\r\n      pos = agent.indexOf('Trident/'); // IE11\r\n      if (pos > 0) {\r\n          pos = agent.indexOf('rv:');\r\n          return parseInt(agent.substring(pos + 3, agent.indexOf('.', pos)), 10);\r\n      }\r\n      return false;\r\n  };\r\n  /**\r\n   * Returns whether the used browser is Internet Explorer.\r\n   *\r\n   * @param version Optional parameter to specify IE version\r\n   */\r\n  var isIE = function (version) {\r\n      var ver = getIEVersion();\r\n      if (typeof version === 'undefined') {\r\n          return !!ver;\r\n      }\r\n      return version === ver;\r\n  };\n\n  function AxisInternal(component, params) {\r\n      var internal = this;\r\n      internal.component = component;\r\n      internal.params = params || {};\r\n      internal.d3 = component.d3;\r\n      internal.scale = internal.d3.scaleLinear();\r\n      internal.range;\r\n      internal.orient = 'bottom';\r\n      internal.innerTickSize = 6;\r\n      internal.outerTickSize = this.params.withOuterTick ? 6 : 0;\r\n      internal.tickPadding = 3;\r\n      internal.tickValues = null;\r\n      internal.tickFormat;\r\n      internal.tickArguments;\r\n      internal.tickOffset = 0;\r\n      internal.tickCulling = true;\r\n      internal.tickCentered;\r\n      internal.tickTextCharSize;\r\n      internal.tickTextRotate = internal.params.tickTextRotate;\r\n      internal.tickLength;\r\n      internal.axis = internal.generateAxis();\r\n  }\r\n  AxisInternal.prototype.axisX = function (selection, x, tickOffset) {\r\n      selection.attr('transform', function (d) {\r\n          return 'translate(' + Math.ceil(x(d) + tickOffset) + ', 0)';\r\n      });\r\n  };\r\n  AxisInternal.prototype.axisY = function (selection, y) {\r\n      selection.attr('transform', function (d) {\r\n          return 'translate(0,' + Math.ceil(y(d)) + ')';\r\n      });\r\n  };\r\n  AxisInternal.prototype.scaleExtent = function (domain) {\r\n      var start = domain[0], stop = domain[domain.length - 1];\r\n      return start < stop ? [start, stop] : [stop, start];\r\n  };\r\n  AxisInternal.prototype.generateTicks = function (scale) {\r\n      var internal = this;\r\n      var i, domain, ticks = [];\r\n      if (scale.ticks) {\r\n          return scale.ticks.apply(scale, internal.tickArguments);\r\n      }\r\n      domain = scale.domain();\r\n      for (i = Math.ceil(domain[0]); i < domain[1]; i++) {\r\n          ticks.push(i);\r\n      }\r\n      if (ticks.length > 0 && ticks[0] > 0) {\r\n          ticks.unshift(ticks[0] - (ticks[1] - ticks[0]));\r\n      }\r\n      return ticks;\r\n  };\r\n  AxisInternal.prototype.copyScale = function () {\r\n      var internal = this;\r\n      var newScale = internal.scale.copy(), domain;\r\n      if (internal.params.isCategory) {\r\n          domain = internal.scale.domain();\r\n          newScale.domain([domain[0], domain[1] - 1]);\r\n      }\r\n      return newScale;\r\n  };\r\n  AxisInternal.prototype.textFormatted = function (v) {\r\n      var internal = this, formatted = internal.tickFormat ? internal.tickFormat(v) : v;\r\n      return typeof formatted !== 'undefined' ? formatted : '';\r\n  };\r\n  AxisInternal.prototype.updateRange = function () {\r\n      var internal = this;\r\n      internal.range = internal.scale.rangeExtent\r\n          ? internal.scale.rangeExtent()\r\n          : internal.scaleExtent(internal.scale.range());\r\n      return internal.range;\r\n  };\r\n  AxisInternal.prototype.updateTickTextCharSize = function (tick) {\r\n      var internal = this;\r\n      if (internal.tickTextCharSize) {\r\n          return internal.tickTextCharSize;\r\n      }\r\n      var size = {\r\n          h: 11.5,\r\n          w: 5.5\r\n      };\r\n      tick\r\n          .select('text')\r\n          .text(function (d) {\r\n          return internal.textFormatted(d);\r\n      })\r\n          .each(function (d) {\r\n          var box = getBBox(this), text = internal.textFormatted(d), h = box.height, w = text ? box.width / text.length : undefined;\r\n          if (h && w) {\r\n              size.h = h;\r\n              size.w = w;\r\n          }\r\n      })\r\n          .text('');\r\n      internal.tickTextCharSize = size;\r\n      return size;\r\n  };\r\n  AxisInternal.prototype.isVertical = function () {\r\n      return this.orient === 'left' || this.orient === 'right';\r\n  };\r\n  AxisInternal.prototype.tspanData = function (d, i, scale) {\r\n      var internal = this;\r\n      var splitted = internal.params.tickMultiline\r\n          ? internal.splitTickText(d, scale)\r\n          : [].concat(internal.textFormatted(d));\r\n      if (internal.params.tickMultiline && internal.params.tickMultilineMax > 0) {\r\n          splitted = internal.ellipsify(splitted, internal.params.tickMultilineMax);\r\n      }\r\n      return splitted.map(function (s) {\r\n          return { index: i, splitted: s, length: splitted.length };\r\n      });\r\n  };\r\n  AxisInternal.prototype.splitTickText = function (d, scale) {\r\n      var internal = this, tickText = internal.textFormatted(d), maxWidth = internal.params.tickWidth, subtext, spaceIndex, textWidth, splitted = [];\r\n      if (Object.prototype.toString.call(tickText) === '[object Array]') {\r\n          return tickText;\r\n      }\r\n      if (!maxWidth || maxWidth <= 0) {\r\n          maxWidth = internal.isVertical()\r\n              ? 95\r\n              : internal.params.isCategory\r\n                  ? Math.ceil(scale(1) - scale(0)) - 12\r\n                  : 110;\r\n      }\r\n      function split(splitted, text) {\r\n          spaceIndex = undefined;\r\n          for (var i = 1; i < text.length; i++) {\r\n              if (text.charAt(i) === ' ') {\r\n                  spaceIndex = i;\r\n              }\r\n              subtext = text.substr(0, i + 1);\r\n              textWidth = internal.tickTextCharSize.w * subtext.length;\r\n              // if text width gets over tick width, split by space index or crrent index\r\n              if (maxWidth < textWidth) {\r\n                  return split(splitted.concat(text.substr(0, spaceIndex ? spaceIndex : i)), text.slice(spaceIndex ? spaceIndex + 1 : i));\r\n              }\r\n          }\r\n          return splitted.concat(text);\r\n      }\r\n      return split(splitted, tickText + '');\r\n  };\r\n  AxisInternal.prototype.ellipsify = function (splitted, max) {\r\n      if (splitted.length <= max) {\r\n          return splitted;\r\n      }\r\n      var ellipsified = splitted.slice(0, max);\r\n      var remaining = 3;\r\n      for (var i = max - 1; i >= 0; i--) {\r\n          var available = ellipsified[i].length;\r\n          ellipsified[i] = ellipsified[i]\r\n              .substr(0, available - remaining)\r\n              .padEnd(available, '.');\r\n          remaining -= available;\r\n          if (remaining <= 0) {\r\n              break;\r\n          }\r\n      }\r\n      return ellipsified;\r\n  };\r\n  AxisInternal.prototype.updateTickLength = function () {\r\n      var internal = this;\r\n      internal.tickLength =\r\n          Math.max(internal.innerTickSize, 0) + internal.tickPadding;\r\n  };\r\n  AxisInternal.prototype.lineY2 = function (d) {\r\n      var internal = this, tickPosition = internal.scale(d) + (internal.tickCentered ? 0 : internal.tickOffset);\r\n      return internal.range[0] < tickPosition && tickPosition < internal.range[1]\r\n          ? internal.innerTickSize\r\n          : 0;\r\n  };\r\n  AxisInternal.prototype.textY = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate\r\n          ? 11.5 - 2.5 * (rotate / 15) * (rotate > 0 ? 1 : -1)\r\n          : internal.tickLength;\r\n  };\r\n  AxisInternal.prototype.textTransform = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? 'rotate(' + rotate + ')' : '';\r\n  };\r\n  AxisInternal.prototype.textTextAnchor = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? (rotate > 0 ? 'start' : 'end') : 'middle';\r\n  };\r\n  AxisInternal.prototype.tspanDx = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? 8 * Math.sin(Math.PI * (rotate / 180)) : 0;\r\n  };\r\n  AxisInternal.prototype.tspanDy = function (d, i) {\r\n      var internal = this, dy = internal.tickTextCharSize.h;\r\n      if (i === 0) {\r\n          if (internal.isVertical()) {\r\n              dy = -((d.length - 1) * (internal.tickTextCharSize.h / 2) - 3);\r\n          }\r\n          else {\r\n              dy = '.71em';\r\n          }\r\n      }\r\n      return dy;\r\n  };\r\n  AxisInternal.prototype.generateAxis = function () {\r\n      var internal = this, d3 = internal.d3, params = internal.params;\r\n      function axis(g, transition) {\r\n          var self;\r\n          g.each(function () {\r\n              var g = (axis.g = d3.select(this));\r\n              var scale0 = this.__chart__ || internal.scale, scale1 = (this.__chart__ = internal.copyScale());\r\n              var ticksValues = internal.tickValues\r\n                  ? internal.tickValues\r\n                  : internal.generateTicks(scale1), ticks = g.selectAll('.tick').data(ticksValues, scale1), tickEnter = ticks\r\n                  .enter()\r\n                  .insert('g', '.domain')\r\n                  .attr('class', 'tick')\r\n                  .style('opacity', 1e-6), \r\n              // MEMO: No exit transition. The reason is this transition affects max tick width calculation because old tick will be included in the ticks.\r\n              tickExit = ticks.exit().remove(), tickUpdate = ticks.merge(tickEnter), tickTransform, tickX, tickY;\r\n              if (params.isCategory) {\r\n                  internal.tickOffset = Math.ceil((scale1(1) - scale1(0)) / 2);\r\n                  tickX = internal.tickCentered ? 0 : internal.tickOffset;\r\n                  tickY = internal.tickCentered ? internal.tickOffset : 0;\r\n              }\r\n              else {\r\n                  internal.tickOffset = tickX = 0;\r\n              }\r\n              internal.updateRange();\r\n              internal.updateTickLength();\r\n              internal.updateTickTextCharSize(g.select('.tick'));\r\n              var lineUpdate = tickUpdate\r\n                  .select('line')\r\n                  .merge(tickEnter.append('line')), textUpdate = tickUpdate.select('text').merge(tickEnter.append('text'));\r\n              var tspans = tickUpdate\r\n                  .selectAll('text')\r\n                  .selectAll('tspan')\r\n                  .data(function (d, i) {\r\n                  return internal.tspanData(d, i, scale1);\r\n              }), tspanEnter = tspans.enter().append('tspan'), tspanUpdate = tspanEnter.merge(tspans).text(function (d) {\r\n                  return d.splitted;\r\n              });\r\n              tspans.exit().remove();\r\n              var path = g.selectAll('.domain').data([0]), pathUpdate = path\r\n                  .enter()\r\n                  .append('path')\r\n                  .merge(path)\r\n                  .attr('class', 'domain');\r\n              // TODO: each attr should be one function and change its behavior by internal.orient, probably\r\n              switch (internal.orient) {\r\n                  case 'bottom': {\r\n                      tickTransform = internal.axisX;\r\n                      lineUpdate\r\n                          .attr('x1', tickX)\r\n                          .attr('x2', tickX)\r\n                          .attr('y2', function (d, i) {\r\n                          return internal.lineY2(d, i);\r\n                      });\r\n                      textUpdate\r\n                          .attr('x', 0)\r\n                          .attr('y', function (d, i) {\r\n                          return internal.textY(d, i);\r\n                      })\r\n                          .attr('transform', function (d, i) {\r\n                          return internal.textTransform(d, i);\r\n                      })\r\n                          .style('text-anchor', function (d, i) {\r\n                          return internal.textTextAnchor(d, i);\r\n                      });\r\n                      tspanUpdate\r\n                          .attr('x', 0)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      })\r\n                          .attr('dx', function (d, i) {\r\n                          return internal.tspanDx(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.range[0] +\r\n                          ',' +\r\n                          internal.outerTickSize +\r\n                          'V0H' +\r\n                          internal.range[1] +\r\n                          'V' +\r\n                          internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'top': {\r\n                      // TODO: rotated tick text\r\n                      tickTransform = internal.axisX;\r\n                      lineUpdate\r\n                          .attr('x1', tickX)\r\n                          .attr('x2', tickX)\r\n                          .attr('y2', function (d, i) {\r\n                          return -1 * internal.lineY2(d, i);\r\n                      });\r\n                      textUpdate\r\n                          .attr('x', 0)\r\n                          .attr('y', function (d, i) {\r\n                          return (-1 * internal.textY(d, i) -\r\n                              (params.isCategory ? 2 : internal.tickLength - 2));\r\n                      })\r\n                          .attr('transform', function (d, i) {\r\n                          return internal.textTransform(d, i);\r\n                      })\r\n                          .style('text-anchor', function (d, i) {\r\n                          return internal.textTextAnchor(d, i);\r\n                      });\r\n                      tspanUpdate\r\n                          .attr('x', 0)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      })\r\n                          .attr('dx', function (d, i) {\r\n                          return internal.tspanDx(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.range[0] +\r\n                          ',' +\r\n                          -internal.outerTickSize +\r\n                          'V0H' +\r\n                          internal.range[1] +\r\n                          'V' +\r\n                          -internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'left': {\r\n                      tickTransform = internal.axisY;\r\n                      lineUpdate\r\n                          .attr('x2', -internal.innerTickSize)\r\n                          .attr('y1', tickY)\r\n                          .attr('y2', tickY);\r\n                      textUpdate\r\n                          .attr('x', -internal.tickLength)\r\n                          .attr('y', internal.tickOffset)\r\n                          .style('text-anchor', 'end');\r\n                      tspanUpdate\r\n                          .attr('x', -internal.tickLength)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          -internal.outerTickSize +\r\n                          ',' +\r\n                          internal.range[0] +\r\n                          'H0V' +\r\n                          internal.range[1] +\r\n                          'H' +\r\n                          -internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'right': {\r\n                      tickTransform = internal.axisY;\r\n                      lineUpdate\r\n                          .attr('x2', internal.innerTickSize)\r\n                          .attr('y1', tickY)\r\n                          .attr('y2', tickY);\r\n                      textUpdate\r\n                          .attr('x', internal.tickLength)\r\n                          .attr('y', internal.tickOffset)\r\n                          .style('text-anchor', 'start');\r\n                      tspanUpdate.attr('x', internal.tickLength).attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.outerTickSize +\r\n                          ',' +\r\n                          internal.range[0] +\r\n                          'H0V' +\r\n                          internal.range[1] +\r\n                          'H' +\r\n                          internal.outerTickSize);\r\n                      break;\r\n                  }\r\n              }\r\n              if (scale1.rangeBand) {\r\n                  var x = scale1, dx = x.rangeBand() / 2;\r\n                  scale0 = scale1 = function (d) {\r\n                      return x(d) + dx;\r\n                  };\r\n              }\r\n              else if (scale0.rangeBand) {\r\n                  scale0 = scale1;\r\n              }\r\n              else {\r\n                  tickExit.call(tickTransform, scale1, internal.tickOffset);\r\n              }\r\n              tickEnter.call(tickTransform, scale0, internal.tickOffset);\r\n              self = (transition ? tickUpdate.transition(transition) : tickUpdate)\r\n                  .style('opacity', 1)\r\n                  .call(tickTransform, scale1, internal.tickOffset);\r\n          });\r\n          return self;\r\n      }\r\n      axis.scale = function (x) {\r\n          if (!arguments.length) {\r\n              return internal.scale;\r\n          }\r\n          internal.scale = x;\r\n          return axis;\r\n      };\r\n      axis.orient = function (x) {\r\n          if (!arguments.length) {\r\n              return internal.orient;\r\n          }\r\n          internal.orient =\r\n              x in { top: 1, right: 1, bottom: 1, left: 1 } ? x + '' : 'bottom';\r\n          return axis;\r\n      };\r\n      axis.tickFormat = function (format) {\r\n          if (!arguments.length) {\r\n              return internal.tickFormat;\r\n          }\r\n          internal.tickFormat = format;\r\n          return axis;\r\n      };\r\n      axis.tickCentered = function (isCentered) {\r\n          if (!arguments.length) {\r\n              return internal.tickCentered;\r\n          }\r\n          internal.tickCentered = isCentered;\r\n          return axis;\r\n      };\r\n      axis.tickOffset = function () {\r\n          return internal.tickOffset;\r\n      };\r\n      axis.tickInterval = function () {\r\n          var interval, length;\r\n          if (params.isCategory) {\r\n              interval = internal.tickOffset * 2;\r\n          }\r\n          else {\r\n              length =\r\n                  axis.g\r\n                      .select('path.domain')\r\n                      .node()\r\n                      .getTotalLength() -\r\n                      internal.outerTickSize * 2;\r\n              interval = length / axis.g.selectAll('line').size();\r\n          }\r\n          return interval === Infinity ? 0 : interval;\r\n      };\r\n      axis.ticks = function () {\r\n          if (!arguments.length) {\r\n              return internal.tickArguments;\r\n          }\r\n          internal.tickArguments = arguments;\r\n          return axis;\r\n      };\r\n      axis.tickCulling = function (culling) {\r\n          if (!arguments.length) {\r\n              return internal.tickCulling;\r\n          }\r\n          internal.tickCulling = culling;\r\n          return axis;\r\n      };\r\n      axis.tickValues = function (x) {\r\n          if (typeof x === 'function') {\r\n              internal.tickValues = function () {\r\n                  return x(internal.scale.domain());\r\n              };\r\n          }\r\n          else {\r\n              if (!arguments.length) {\r\n                  return internal.tickValues;\r\n              }\r\n              internal.tickValues = x;\r\n          }\r\n          return axis;\r\n      };\r\n      return axis;\r\n  };\n\n  var CLASS = {\r\n      target: 'c3-target',\r\n      chart: 'c3-chart',\r\n      chartLine: 'c3-chart-line',\r\n      chartLines: 'c3-chart-lines',\r\n      chartBar: 'c3-chart-bar',\r\n      chartBars: 'c3-chart-bars',\r\n      chartText: 'c3-chart-text',\r\n      chartTexts: 'c3-chart-texts',\r\n      chartArc: 'c3-chart-arc',\r\n      chartArcs: 'c3-chart-arcs',\r\n      chartArcsTitle: 'c3-chart-arcs-title',\r\n      chartArcsBackground: 'c3-chart-arcs-background',\r\n      chartArcsGaugeUnit: 'c3-chart-arcs-gauge-unit',\r\n      chartArcsGaugeMax: 'c3-chart-arcs-gauge-max',\r\n      chartArcsGaugeMin: 'c3-chart-arcs-gauge-min',\r\n      selectedCircle: 'c3-selected-circle',\r\n      selectedCircles: 'c3-selected-circles',\r\n      eventRect: 'c3-event-rect',\r\n      eventRects: 'c3-event-rects',\r\n      eventRectsSingle: 'c3-event-rects-single',\r\n      eventRectsMultiple: 'c3-event-rects-multiple',\r\n      zoomRect: 'c3-zoom-rect',\r\n      brush: 'c3-brush',\r\n      dragZoom: 'c3-drag-zoom',\r\n      focused: 'c3-focused',\r\n      defocused: 'c3-defocused',\r\n      region: 'c3-region',\r\n      regions: 'c3-regions',\r\n      title: 'c3-title',\r\n      tooltipContainer: 'c3-tooltip-container',\r\n      tooltip: 'c3-tooltip',\r\n      tooltipName: 'c3-tooltip-name',\r\n      shape: 'c3-shape',\r\n      shapes: 'c3-shapes',\r\n      line: 'c3-line',\r\n      lines: 'c3-lines',\r\n      bar: 'c3-bar',\r\n      bars: 'c3-bars',\r\n      circle: 'c3-circle',\r\n      circles: 'c3-circles',\r\n      arc: 'c3-arc',\r\n      arcLabelLine: 'c3-arc-label-line',\r\n      arcs: 'c3-arcs',\r\n      area: 'c3-area',\r\n      areas: 'c3-areas',\r\n      empty: 'c3-empty',\r\n      text: 'c3-text',\r\n      texts: 'c3-texts',\r\n      gaugeValue: 'c3-gauge-value',\r\n      grid: 'c3-grid',\r\n      gridLines: 'c3-grid-lines',\r\n      xgrid: 'c3-xgrid',\r\n      xgrids: 'c3-xgrids',\r\n      xgridLine: 'c3-xgrid-line',\r\n      xgridLines: 'c3-xgrid-lines',\r\n      xgridFocus: 'c3-xgrid-focus',\r\n      ygrid: 'c3-ygrid',\r\n      ygrids: 'c3-ygrids',\r\n      ygridLine: 'c3-ygrid-line',\r\n      ygridLines: 'c3-ygrid-lines',\r\n      colorScale: 'c3-colorscale',\r\n      stanfordElements: 'c3-stanford-elements',\r\n      stanfordLine: 'c3-stanford-line',\r\n      stanfordLines: 'c3-stanford-lines',\r\n      stanfordRegion: 'c3-stanford-region',\r\n      stanfordRegions: 'c3-stanford-regions',\r\n      stanfordText: 'c3-stanford-text',\r\n      stanfordTexts: 'c3-stanford-texts',\r\n      axis: 'c3-axis',\r\n      axisX: 'c3-axis-x',\r\n      axisXLabel: 'c3-axis-x-label',\r\n      axisY: 'c3-axis-y',\r\n      axisYLabel: 'c3-axis-y-label',\r\n      axisY2: 'c3-axis-y2',\r\n      axisY2Label: 'c3-axis-y2-label',\r\n      legendBackground: 'c3-legend-background',\r\n      legendItem: 'c3-legend-item',\r\n      legendItemEvent: 'c3-legend-item-event',\r\n      legendItemTile: 'c3-legend-item-tile',\r\n      legendItemHidden: 'c3-legend-item-hidden',\r\n      legendItemFocused: 'c3-legend-item-focused',\r\n      dragarea: 'c3-dragarea',\r\n      EXPANDED: '_expanded_',\r\n      SELECTED: '_selected_',\r\n      INCLUDED: '_included_'\r\n  };\n\n  var AxisClass = /** @class */ (function () {\r\n      function AxisClass(owner) {\r\n          this.owner = owner;\r\n          this.d3 = owner.d3;\r\n          this.internal = AxisInternal;\r\n      }\r\n      return AxisClass;\r\n  }());\r\n  var Axis = AxisClass;\r\n  Axis.prototype.init = function init() {\r\n      var $$ = this.owner, config = $$.config, main = $$.main;\r\n      $$.axes.x = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisX)\r\n          .attr('clip-path', config.axis_x_inner ? '' : $$.clipPathForXAxis)\r\n          .attr('transform', $$.getTranslate('x'))\r\n          .style('visibility', config.axis_x_show ? 'visible' : 'hidden');\r\n      $$.axes.x\r\n          .append('text')\r\n          .attr('class', CLASS.axisXLabel)\r\n          .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\r\n          .style('text-anchor', this.textAnchorForXAxisLabel.bind(this));\r\n      $$.axes.y = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisY)\r\n          .attr('clip-path', config.axis_y_inner ? '' : $$.clipPathForYAxis)\r\n          .attr('transform', $$.getTranslate('y'))\r\n          .style('visibility', config.axis_y_show ? 'visible' : 'hidden');\r\n      $$.axes.y\r\n          .append('text')\r\n          .attr('class', CLASS.axisYLabel)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .style('text-anchor', this.textAnchorForYAxisLabel.bind(this));\r\n      $$.axes.y2 = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisY2)\r\n          // clip-path?\r\n          .attr('transform', $$.getTranslate('y2'))\r\n          .style('visibility', config.axis_y2_show ? 'visible' : 'hidden');\r\n      $$.axes.y2\r\n          .append('text')\r\n          .attr('class', CLASS.axisY2Label)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .style('text-anchor', this.textAnchorForY2AxisLabel.bind(this));\r\n  };\r\n  Axis.prototype.getXAxis = function getXAxis(scale, orient, tickFormat, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\r\n      var $$ = this.owner, config = $$.config, axisParams = {\r\n          isCategory: $$.isCategorized(),\r\n          withOuterTick: withOuterTick,\r\n          tickMultiline: config.axis_x_tick_multiline,\r\n          tickMultilineMax: config.axis_x_tick_multiline\r\n              ? Number(config.axis_x_tick_multilineMax)\r\n              : 0,\r\n          tickWidth: config.axis_x_tick_width,\r\n          tickTextRotate: withoutRotateTickText ? 0 : config.axis_x_tick_rotate,\r\n          withoutTransition: withoutTransition\r\n      }, axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient);\r\n      if ($$.isTimeSeries() && tickValues && typeof tickValues !== 'function') {\r\n          tickValues = tickValues.map(function (v) {\r\n              return $$.parseDate(v);\r\n          });\r\n      }\r\n      // Set tick\r\n      axis.tickFormat(tickFormat).tickValues(tickValues);\r\n      if ($$.isCategorized()) {\r\n          axis.tickCentered(config.axis_x_tick_centered);\r\n          if (isEmpty(config.axis_x_tick_culling)) {\r\n              config.axis_x_tick_culling = false;\r\n          }\r\n      }\r\n      return axis;\r\n  };\r\n  Axis.prototype.updateXAxisTickValues = function updateXAxisTickValues(targets, axis) {\r\n      var $$ = this.owner, config = $$.config, tickValues;\r\n      if (config.axis_x_tick_fit || config.axis_x_tick_count) {\r\n          tickValues = this.generateTickValues($$.mapTargetsToUniqueXs(targets), config.axis_x_tick_count, $$.isTimeSeries());\r\n      }\r\n      if (axis) {\r\n          axis.tickValues(tickValues);\r\n      }\r\n      else {\r\n          $$.xAxis.tickValues(tickValues);\r\n          $$.subXAxis.tickValues(tickValues);\r\n      }\r\n      return tickValues;\r\n  };\r\n  Axis.prototype.getYAxis = function getYAxis(axisId, scale, orient, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\r\n      var $$ = this.owner;\r\n      var config = $$.config;\r\n      var tickFormat = config[\"axis_\" + axisId + \"_tick_format\"];\r\n      if (!tickFormat && $$.isAxisNormalized(axisId)) {\r\n          tickFormat = function (x) { return x + \"%\"; };\r\n      }\r\n      var axis = new this.internal(this, {\r\n          withOuterTick: withOuterTick,\r\n          withoutTransition: withoutTransition,\r\n          tickTextRotate: withoutRotateTickText ? 0 : config.axis_y_tick_rotate\r\n      }).axis\r\n          .scale(scale)\r\n          .orient(orient);\r\n      if (tickFormat) {\r\n          axis.tickFormat(tickFormat);\r\n      }\r\n      if ($$.isTimeSeriesY()) {\r\n          axis.ticks(config.axis_y_tick_time_type, config.axis_y_tick_time_interval);\r\n      }\r\n      else {\r\n          axis.tickValues(tickValues);\r\n      }\r\n      return axis;\r\n  };\r\n  Axis.prototype.getId = function getId(id) {\r\n      var config = this.owner.config;\r\n      return id in config.data_axes ? config.data_axes[id] : 'y';\r\n  };\r\n  Axis.prototype.getXAxisTickFormat = function getXAxisTickFormat() {\r\n      // #2251 previously set any negative values to a whole number,\r\n      // however both should be truncated according to the users format specification\r\n      var $$ = this.owner, config = $$.config;\r\n      var format = $$.isTimeSeries()\r\n          ? $$.defaultAxisTimeFormat\r\n          : $$.isCategorized()\r\n              ? $$.categoryName\r\n              : function (v) {\r\n                  return v;\r\n              };\r\n      if (config.axis_x_tick_format) {\r\n          if (isFunction(config.axis_x_tick_format)) {\r\n              format = config.axis_x_tick_format;\r\n          }\r\n          else if ($$.isTimeSeries()) {\r\n              format = function (date) {\r\n                  return date ? $$.axisTimeFormat(config.axis_x_tick_format)(date) : '';\r\n              };\r\n          }\r\n      }\r\n      return isFunction(format)\r\n          ? function (v) {\r\n              return format.call($$, v);\r\n          }\r\n          : format;\r\n  };\r\n  Axis.prototype.getTickValues = function getTickValues(tickValues, axis) {\r\n      return tickValues ? tickValues : axis ? axis.tickValues() : undefined;\r\n  };\r\n  Axis.prototype.getXAxisTickValues = function getXAxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);\r\n  };\r\n  Axis.prototype.getYAxisTickValues = function getYAxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);\r\n  };\r\n  Axis.prototype.getY2AxisTickValues = function getY2AxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);\r\n  };\r\n  Axis.prototype.getLabelOptionByAxisId = function getLabelOptionByAxisId(axisId) {\r\n      var $$ = this.owner, config = $$.config, option;\r\n      if (axisId === 'y') {\r\n          option = config.axis_y_label;\r\n      }\r\n      else if (axisId === 'y2') {\r\n          option = config.axis_y2_label;\r\n      }\r\n      else if (axisId === 'x') {\r\n          option = config.axis_x_label;\r\n      }\r\n      return option;\r\n  };\r\n  Axis.prototype.getLabelText = function getLabelText(axisId) {\r\n      var option = this.getLabelOptionByAxisId(axisId);\r\n      return isString(option) ? option : option ? option.text : null;\r\n  };\r\n  Axis.prototype.setLabelText = function setLabelText(axisId, text) {\r\n      var $$ = this.owner, config = $$.config, option = this.getLabelOptionByAxisId(axisId);\r\n      if (isString(option)) {\r\n          if (axisId === 'y') {\r\n              config.axis_y_label = text;\r\n          }\r\n          else if (axisId === 'y2') {\r\n              config.axis_y2_label = text;\r\n          }\r\n          else if (axisId === 'x') {\r\n              config.axis_x_label = text;\r\n          }\r\n      }\r\n      else if (option) {\r\n          option.text = text;\r\n      }\r\n  };\r\n  Axis.prototype.getLabelPosition = function getLabelPosition(axisId, defaultPosition) {\r\n      var option = this.getLabelOptionByAxisId(axisId), position = option && typeof option === 'object' && option.position\r\n          ? option.position\r\n          : defaultPosition;\r\n      return {\r\n          isInner: position.indexOf('inner') >= 0,\r\n          isOuter: position.indexOf('outer') >= 0,\r\n          isLeft: position.indexOf('left') >= 0,\r\n          isCenter: position.indexOf('center') >= 0,\r\n          isRight: position.indexOf('right') >= 0,\r\n          isTop: position.indexOf('top') >= 0,\r\n          isMiddle: position.indexOf('middle') >= 0,\r\n          isBottom: position.indexOf('bottom') >= 0\r\n      };\r\n  };\r\n  Axis.prototype.getXAxisLabelPosition = function getXAxisLabelPosition() {\r\n      return this.getLabelPosition('x', this.owner.config.axis_rotated ? 'inner-top' : 'inner-right');\r\n  };\r\n  Axis.prototype.getYAxisLabelPosition = function getYAxisLabelPosition() {\r\n      return this.getLabelPosition('y', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\r\n  };\r\n  Axis.prototype.getY2AxisLabelPosition = function getY2AxisLabelPosition() {\r\n      return this.getLabelPosition('y2', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\r\n  };\r\n  Axis.prototype.getLabelPositionById = function getLabelPositionById(id) {\r\n      return id === 'y2'\r\n          ? this.getY2AxisLabelPosition()\r\n          : id === 'y'\r\n              ? this.getYAxisLabelPosition()\r\n              : this.getXAxisLabelPosition();\r\n  };\r\n  Axis.prototype.textForXAxisLabel = function textForXAxisLabel() {\r\n      return this.getLabelText('x');\r\n  };\r\n  Axis.prototype.textForYAxisLabel = function textForYAxisLabel() {\r\n      return this.getLabelText('y');\r\n  };\r\n  Axis.prototype.textForY2AxisLabel = function textForY2AxisLabel() {\r\n      return this.getLabelText('y2');\r\n  };\r\n  Axis.prototype.xForAxisLabel = function xForAxisLabel(forHorizontal, position) {\r\n      var $$ = this.owner;\r\n      if (forHorizontal) {\r\n          return position.isLeft ? 0 : position.isCenter ? $$.width / 2 : $$.width;\r\n      }\r\n      else {\r\n          return position.isBottom\r\n              ? -$$.height\r\n              : position.isMiddle\r\n                  ? -$$.height / 2\r\n                  : 0;\r\n      }\r\n  };\r\n  Axis.prototype.dxForAxisLabel = function dxForAxisLabel(forHorizontal, position) {\r\n      if (forHorizontal) {\r\n          return position.isLeft ? '0.5em' : position.isRight ? '-0.5em' : '0';\r\n      }\r\n      else {\r\n          return position.isTop ? '-0.5em' : position.isBottom ? '0.5em' : '0';\r\n      }\r\n  };\r\n  Axis.prototype.textAnchorForAxisLabel = function textAnchorForAxisLabel(forHorizontal, position) {\r\n      if (forHorizontal) {\r\n          return position.isLeft ? 'start' : position.isCenter ? 'middle' : 'end';\r\n      }\r\n      else {\r\n          return position.isBottom ? 'start' : position.isMiddle ? 'middle' : 'end';\r\n      }\r\n  };\r\n  Axis.prototype.xForXAxisLabel = function xForXAxisLabel() {\r\n      return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.xForYAxisLabel = function xForYAxisLabel() {\r\n      return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.xForY2AxisLabel = function xForY2AxisLabel() {\r\n      return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForXAxisLabel = function dxForXAxisLabel() {\r\n      return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForYAxisLabel = function dxForYAxisLabel() {\r\n      return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForY2AxisLabel = function dxForY2AxisLabel() {\r\n      return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.dyForXAxisLabel = function dyForXAxisLabel() {\r\n      var $$ = this.owner, config = $$.config, position = this.getXAxisLabelPosition();\r\n      if (config.axis_rotated) {\r\n          return position.isInner\r\n              ? '1.2em'\r\n              : -25 - ($$.config.axis_x_inner ? 0 : this.getMaxTickWidth('x'));\r\n      }\r\n      else {\r\n          return position.isInner ? '-0.5em' : $$.getHorizontalAxisHeight('x') - 10;\r\n      }\r\n  };\r\n  Axis.prototype.dyForYAxisLabel = function dyForYAxisLabel() {\r\n      var $$ = this.owner, position = this.getYAxisLabelPosition();\r\n      if ($$.config.axis_rotated) {\r\n          return position.isInner ? '-0.5em' : '3em';\r\n      }\r\n      else {\r\n          return position.isInner\r\n              ? '1.2em'\r\n              : -10 - ($$.config.axis_y_inner ? 0 : this.getMaxTickWidth('y') + 10);\r\n      }\r\n  };\r\n  Axis.prototype.dyForY2AxisLabel = function dyForY2AxisLabel() {\r\n      var $$ = this.owner, position = this.getY2AxisLabelPosition();\r\n      if ($$.config.axis_rotated) {\r\n          return position.isInner ? '1.2em' : '-2.2em';\r\n      }\r\n      else {\r\n          return position.isInner\r\n              ? '-0.5em'\r\n              : 15 + ($$.config.axis_y2_inner ? 0 : this.getMaxTickWidth('y2') + 15);\r\n      }\r\n  };\r\n  Axis.prototype.textAnchorForXAxisLabel = function textAnchorForXAxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel(!$$.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.textAnchorForYAxisLabel = function textAnchorForYAxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.textAnchorForY2AxisLabel = function textAnchorForY2AxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.getMaxTickWidth = function getMaxTickWidth(id, withoutRecompute) {\r\n      var $$ = this.owner, maxWidth = 0, targetsToShow, scale, axis, dummy, svg;\r\n      if (withoutRecompute && $$.currentMaxTickWidths[id]) {\r\n          return $$.currentMaxTickWidths[id];\r\n      }\r\n      if ($$.svg) {\r\n          targetsToShow = $$.filterTargetsToShow($$.data.targets);\r\n          if (id === 'y') {\r\n              scale = $$.y.copy().domain($$.getYDomain(targetsToShow, 'y'));\r\n              axis = this.getYAxis(id, scale, $$.yOrient, $$.yAxisTickValues, false, true, true);\r\n          }\r\n          else if (id === 'y2') {\r\n              scale = $$.y2.copy().domain($$.getYDomain(targetsToShow, 'y2'));\r\n              axis = this.getYAxis(id, scale, $$.y2Orient, $$.y2AxisTickValues, false, true, true);\r\n          }\r\n          else {\r\n              scale = $$.x.copy().domain($$.getXDomain(targetsToShow));\r\n              axis = this.getXAxis(scale, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, false, true, true);\r\n              this.updateXAxisTickValues(targetsToShow, axis);\r\n          }\r\n          dummy = $$.d3\r\n              .select('body')\r\n              .append('div')\r\n              .classed('c3', true);\r\n          (svg = dummy\r\n              .append('svg')\r\n              .style('visibility', 'hidden')\r\n              .style('position', 'fixed')\r\n              .style('top', 0)\r\n              .style('left', 0)),\r\n              svg\r\n                  .append('g')\r\n                  .call(axis)\r\n                  .each(function () {\r\n                  $$.d3\r\n                      .select(this)\r\n                      .selectAll('text')\r\n                      .each(function () {\r\n                      var box = getBBox(this);\r\n                      if (maxWidth < box.width) {\r\n                          maxWidth = box.width;\r\n                      }\r\n                  });\r\n                  dummy.remove();\r\n              });\r\n      }\r\n      $$.currentMaxTickWidths[id] =\r\n          maxWidth <= 0 ? $$.currentMaxTickWidths[id] : maxWidth;\r\n      return $$.currentMaxTickWidths[id];\r\n  };\r\n  Axis.prototype.updateLabels = function updateLabels(withTransition) {\r\n      var $$ = this.owner;\r\n      var axisXLabel = $$.main.select('.' + CLASS.axisX + ' .' + CLASS.axisXLabel), axisYLabel = $$.main.select('.' + CLASS.axisY + ' .' + CLASS.axisYLabel), axisY2Label = $$.main.select('.' + CLASS.axisY2 + ' .' + CLASS.axisY2Label);\r\n      (withTransition ? axisXLabel.transition() : axisXLabel)\r\n          .attr('x', this.xForXAxisLabel.bind(this))\r\n          .attr('dx', this.dxForXAxisLabel.bind(this))\r\n          .attr('dy', this.dyForXAxisLabel.bind(this))\r\n          .text(this.textForXAxisLabel.bind(this));\r\n      (withTransition ? axisYLabel.transition() : axisYLabel)\r\n          .attr('x', this.xForYAxisLabel.bind(this))\r\n          .attr('dx', this.dxForYAxisLabel.bind(this))\r\n          .attr('dy', this.dyForYAxisLabel.bind(this))\r\n          .text(this.textForYAxisLabel.bind(this));\r\n      (withTransition ? axisY2Label.transition() : axisY2Label)\r\n          .attr('x', this.xForY2AxisLabel.bind(this))\r\n          .attr('dx', this.dxForY2AxisLabel.bind(this))\r\n          .attr('dy', this.dyForY2AxisLabel.bind(this))\r\n          .text(this.textForY2AxisLabel.bind(this));\r\n  };\r\n  Axis.prototype.getPadding = function getPadding(padding, key, defaultValue, domainLength) {\r\n      var p = typeof padding === 'number' ? padding : padding[key];\r\n      if (!isValue(p)) {\r\n          return defaultValue;\r\n      }\r\n      if (padding.unit === 'ratio') {\r\n          return padding[key] * domainLength;\r\n      }\r\n      // assume padding is pixels if unit is not specified\r\n      return this.convertPixelsToAxisPadding(p, domainLength);\r\n  };\r\n  Axis.prototype.convertPixelsToAxisPadding = function convertPixelsToAxisPadding(pixels, domainLength) {\r\n      var $$ = this.owner, length = $$.config.axis_rotated ? $$.width : $$.height;\r\n      return domainLength * (pixels / length);\r\n  };\r\n  Axis.prototype.generateTickValues = function generateTickValues(values, tickCount, forTimeSeries) {\r\n      var tickValues = values, targetCount, start, end, count, interval, i, tickValue;\r\n      if (tickCount) {\r\n          targetCount = isFunction(tickCount) ? tickCount() : tickCount;\r\n          // compute ticks according to tickCount\r\n          if (targetCount === 1) {\r\n              tickValues = [values[0]];\r\n          }\r\n          else if (targetCount === 2) {\r\n              tickValues = [values[0], values[values.length - 1]];\r\n          }\r\n          else if (targetCount > 2) {\r\n              count = targetCount - 2;\r\n              start = values[0];\r\n              end = values[values.length - 1];\r\n              interval = (end - start) / (count + 1);\r\n              // re-construct unique values\r\n              tickValues = [start];\r\n              for (i = 0; i < count; i++) {\r\n                  tickValue = +start + interval * (i + 1);\r\n                  tickValues.push(forTimeSeries ? new Date(tickValue) : tickValue);\r\n              }\r\n              tickValues.push(end);\r\n          }\r\n      }\r\n      if (!forTimeSeries) {\r\n          tickValues = tickValues.sort(function (a, b) {\r\n              return a - b;\r\n          });\r\n      }\r\n      return tickValues;\r\n  };\r\n  Axis.prototype.generateTransitions = function generateTransitions(duration) {\r\n      var $$ = this.owner, axes = $$.axes;\r\n      return {\r\n          axisX: duration ? axes.x.transition().duration(duration) : axes.x,\r\n          axisY: duration ? axes.y.transition().duration(duration) : axes.y,\r\n          axisY2: duration ? axes.y2.transition().duration(duration) : axes.y2,\r\n          axisSubX: duration ? axes.subx.transition().duration(duration) : axes.subx\r\n      };\r\n  };\r\n  Axis.prototype.redraw = function redraw(duration, isHidden) {\r\n      var $$ = this.owner, transition = duration ? $$.d3.transition().duration(duration) : null;\r\n      $$.axes.x.style('opacity', isHidden ? 0 : 1).call($$.xAxis, transition);\r\n      $$.axes.y.style('opacity', isHidden ? 0 : 1).call($$.yAxis, transition);\r\n      $$.axes.y2.style('opacity', isHidden ? 0 : 1).call($$.y2Axis, transition);\r\n      $$.axes.subx.style('opacity', isHidden ? 0 : 1).call($$.subXAxis, transition);\r\n  };\n\n  var c3 = {\r\n      version: '0.7.20',\r\n      chart: {\r\n          fn: Chart.prototype,\r\n          internal: {\r\n              fn: ChartInternal.prototype,\r\n              axis: {\r\n                  fn: AxisClass.prototype,\r\n                  internal: {\r\n                      fn: AxisInternal.prototype\r\n                  }\r\n              }\r\n          }\r\n      },\r\n      generate: function (config) {\r\n          return new Chart(config);\r\n      }\r\n  };\r\n  ChartInternal.prototype.beforeInit = function () {\r\n      // can do something\r\n  };\r\n  ChartInternal.prototype.afterInit = function () {\r\n      // can do something\r\n  };\r\n  ChartInternal.prototype.init = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.initParams();\r\n      if (config.data_url) {\r\n          $$.convertUrlToData(config.data_url, config.data_mimeType, config.data_headers, config.data_keys, $$.initWithData);\r\n      }\r\n      else if (config.data_json) {\r\n          $$.initWithData($$.convertJsonToData(config.data_json, config.data_keys));\r\n      }\r\n      else if (config.data_rows) {\r\n          $$.initWithData($$.convertRowsToData(config.data_rows));\r\n      }\r\n      else if (config.data_columns) {\r\n          $$.initWithData($$.convertColumnsToData(config.data_columns));\r\n      }\r\n      else {\r\n          throw Error('url or json or rows or columns is required.');\r\n      }\r\n  };\r\n  ChartInternal.prototype.initParams = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      // MEMO: clipId needs to be unique because it conflicts when multiple charts exist\r\n      $$.clipId = 'c3-' + new Date().valueOf() + '-clip';\r\n      $$.clipIdForXAxis = $$.clipId + '-xaxis';\r\n      $$.clipIdForYAxis = $$.clipId + '-yaxis';\r\n      $$.clipIdForGrid = $$.clipId + '-grid';\r\n      $$.clipIdForSubchart = $$.clipId + '-subchart';\r\n      $$.clipPath = $$.getClipPath($$.clipId);\r\n      $$.clipPathForXAxis = $$.getClipPath($$.clipIdForXAxis);\r\n      $$.clipPathForYAxis = $$.getClipPath($$.clipIdForYAxis);\r\n      $$.clipPathForGrid = $$.getClipPath($$.clipIdForGrid);\r\n      $$.clipPathForSubchart = $$.getClipPath($$.clipIdForSubchart);\r\n      $$.dragStart = null;\r\n      $$.dragging = false;\r\n      $$.flowing = false;\r\n      $$.cancelClick = false;\r\n      $$.mouseover = undefined;\r\n      $$.transiting = false;\r\n      $$.color = $$.generateColor();\r\n      $$.levelColor = $$.generateLevelColor();\r\n      $$.dataTimeParse = (config.data_xLocaltime ? d3.timeParse : d3.utcParse)($$.config.data_xFormat);\r\n      $$.axisTimeFormat = config.axis_x_localtime ? d3.timeFormat : d3.utcFormat;\r\n      $$.defaultAxisTimeFormat = function (date) {\r\n          if (date.getMilliseconds()) {\r\n              return d3.timeFormat('.%L')(date);\r\n          }\r\n          if (date.getSeconds()) {\r\n              return d3.timeFormat(':%S')(date);\r\n          }\r\n          if (date.getMinutes()) {\r\n              return d3.timeFormat('%I:%M')(date);\r\n          }\r\n          if (date.getHours()) {\r\n              return d3.timeFormat('%I %p')(date);\r\n          }\r\n          if (date.getDay() && date.getDate() !== 1) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          if (date.getDate() !== 1) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          if (date.getMonth()) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          return d3.timeFormat('%Y/%-m/%-d')(date);\r\n      };\r\n      $$.hiddenTargetIds = [];\r\n      $$.hiddenLegendIds = [];\r\n      $$.focusedTargetIds = [];\r\n      $$.defocusedTargetIds = [];\r\n      $$.xOrient = config.axis_rotated\r\n          ? config.axis_x_inner\r\n              ? 'right'\r\n              : 'left'\r\n          : config.axis_x_inner\r\n              ? 'top'\r\n              : 'bottom';\r\n      $$.yOrient = config.axis_rotated\r\n          ? config.axis_y_inner\r\n              ? 'top'\r\n              : 'bottom'\r\n          : config.axis_y_inner\r\n              ? 'right'\r\n              : 'left';\r\n      $$.y2Orient = config.axis_rotated\r\n          ? config.axis_y2_inner\r\n              ? 'bottom'\r\n              : 'top'\r\n          : config.axis_y2_inner\r\n              ? 'left'\r\n              : 'right';\r\n      $$.subXOrient = config.axis_rotated ? 'left' : 'bottom';\r\n      $$.isLegendRight = config.legend_position === 'right';\r\n      $$.isLegendInset = config.legend_position === 'inset';\r\n      $$.isLegendTop =\r\n          config.legend_inset_anchor === 'top-left' ||\r\n              config.legend_inset_anchor === 'top-right';\r\n      $$.isLegendLeft =\r\n          config.legend_inset_anchor === 'top-left' ||\r\n              config.legend_inset_anchor === 'bottom-left';\r\n      $$.legendStep = 0;\r\n      $$.legendItemWidth = 0;\r\n      $$.legendItemHeight = 0;\r\n      $$.currentMaxTickWidths = {\r\n          x: 0,\r\n          y: 0,\r\n          y2: 0\r\n      };\r\n      $$.rotated_padding_left = 30;\r\n      $$.rotated_padding_right = config.axis_rotated && !config.axis_x_show ? 0 : 30;\r\n      $$.rotated_padding_top = 5;\r\n      $$.withoutFadeIn = {};\r\n      $$.intervalForObserveInserted = undefined;\r\n      $$.axes.subx = d3.selectAll([]); // needs when excluding subchart.js\r\n  };\r\n  ChartInternal.prototype.initChartElements = function () {\r\n      if (this.initBar) {\r\n          this.initBar();\r\n      }\r\n      if (this.initLine) {\r\n          this.initLine();\r\n      }\r\n      if (this.initArc) {\r\n          this.initArc();\r\n      }\r\n      if (this.initGauge) {\r\n          this.initGauge();\r\n      }\r\n      if (this.initText) {\r\n          this.initText();\r\n      }\r\n  };\r\n  ChartInternal.prototype.initWithData = function (data) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      var defs, main, binding = true;\r\n      $$.axis = new AxisClass($$);\r\n      if (!config.bindto) {\r\n          $$.selectChart = d3.selectAll([]);\r\n      }\r\n      else if (typeof config.bindto.node === 'function') {\r\n          $$.selectChart = config.bindto;\r\n      }\r\n      else {\r\n          $$.selectChart = d3.select(config.bindto);\r\n      }\r\n      if ($$.selectChart.empty()) {\r\n          $$.selectChart = d3\r\n              .select(document.createElement('div'))\r\n              .style('opacity', 0);\r\n          $$.observeInserted($$.selectChart);\r\n          binding = false;\r\n      }\r\n      $$.selectChart.html('').classed('c3', true);\r\n      // Init data as targets\r\n      $$.data.xs = {};\r\n      $$.data.targets = $$.convertDataToTargets(data);\r\n      if (config.data_filter) {\r\n          $$.data.targets = $$.data.targets.filter(config.data_filter);\r\n      }\r\n      // Set targets to hide if needed\r\n      if (config.data_hide) {\r\n          $$.addHiddenTargetIds(config.data_hide === true\r\n              ? $$.mapToIds($$.data.targets)\r\n              : config.data_hide);\r\n      }\r\n      if (config.legend_hide) {\r\n          $$.addHiddenLegendIds(config.legend_hide === true\r\n              ? $$.mapToIds($$.data.targets)\r\n              : config.legend_hide);\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.initStanfordData();\r\n      }\r\n      // Init sizes and scales\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      // Set domains for each scale\r\n      $$.x.domain(d3.extent($$.getXDomain($$.data.targets)));\r\n      $$.y.domain($$.getYDomain($$.data.targets, 'y'));\r\n      $$.y2.domain($$.getYDomain($$.data.targets, 'y2'));\r\n      $$.subX.domain($$.x.domain());\r\n      $$.subY.domain($$.y.domain());\r\n      $$.subY2.domain($$.y2.domain());\r\n      // Save original x domain for zoom update\r\n      $$.orgXDomain = $$.x.domain();\r\n      /*-- Basic Elements --*/\r\n      // Define svgs\r\n      $$.svg = $$.selectChart\r\n          .append('svg')\r\n          .style('overflow', 'hidden')\r\n          .on('mouseenter', function () {\r\n          return config.onmouseover.call($$);\r\n      })\r\n          .on('mouseleave', function () {\r\n          return config.onmouseout.call($$);\r\n      });\r\n      if ($$.config.svg_classname) {\r\n          $$.svg.attr('class', $$.config.svg_classname);\r\n      }\r\n      // Define defs\r\n      defs = $$.svg.append('defs');\r\n      $$.clipChart = $$.appendClip(defs, $$.clipId);\r\n      $$.clipXAxis = $$.appendClip(defs, $$.clipIdForXAxis);\r\n      $$.clipYAxis = $$.appendClip(defs, $$.clipIdForYAxis);\r\n      $$.clipGrid = $$.appendClip(defs, $$.clipIdForGrid);\r\n      $$.clipSubchart = $$.appendClip(defs, $$.clipIdForSubchart);\r\n      $$.updateSvgSize();\r\n      // Define regions\r\n      main = $$.main = $$.svg.append('g').attr('transform', $$.getTranslate('main'));\r\n      if ($$.initPie) {\r\n          $$.initPie();\r\n      }\r\n      if ($$.initDragZoom) {\r\n          $$.initDragZoom();\r\n      }\r\n      if (config.subchart_show && $$.initSubchart) {\r\n          $$.initSubchart();\r\n      }\r\n      if ($$.initTooltip) {\r\n          $$.initTooltip();\r\n      }\r\n      if ($$.initLegend) {\r\n          $$.initLegend();\r\n      }\r\n      if ($$.initTitle) {\r\n          $$.initTitle();\r\n      }\r\n      if ($$.initZoom) {\r\n          $$.initZoom();\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.drawColorScale();\r\n      }\r\n      // Update selection based on size and scale\r\n      // TODO: currently this must be called after initLegend because of update of sizes, but it should be done in initSubchart.\r\n      if (config.subchart_show && $$.initSubchartBrush) {\r\n          $$.initSubchartBrush();\r\n      }\r\n      /*-- Main Region --*/\r\n      // text when empty\r\n      main\r\n          .append('text')\r\n          .attr('class', CLASS.text + ' ' + CLASS.empty)\r\n          .attr('text-anchor', 'middle') // horizontal centering of text at x position in all browsers.\r\n          .attr('dominant-baseline', 'middle'); // vertical centering of text at y position in all browsers, except IE.\r\n      // Regions\r\n      $$.initRegion();\r\n      // Grids\r\n      $$.initGrid();\r\n      // Define g for chart area\r\n      main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.chart);\r\n      // Grid lines\r\n      if (config.grid_lines_front) {\r\n          $$.initGridLines();\r\n      }\r\n      $$.initStanfordElements();\r\n      // Cover whole with rects for events\r\n      $$.initEventRect();\r\n      // Define g for chart\r\n      $$.initChartElements();\r\n      // Add Axis\r\n      $$.axis.init();\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Set default extent if defined\r\n      if (config.axis_x_selection) {\r\n          $$.brush.selectionAsValue($$.getDefaultSelection());\r\n      }\r\n      // Draw with targets\r\n      if (binding) {\r\n          $$.updateDimension();\r\n          $$.config.oninit.call($$);\r\n          $$.redraw({\r\n              withTransition: false,\r\n              withTransform: true,\r\n              withUpdateXDomain: true,\r\n              withUpdateOrgXDomain: true,\r\n              withTransitionForAxis: false\r\n          });\r\n      }\r\n      // Bind to resize event\r\n      $$.bindResize();\r\n      // Bind to window focus event\r\n      $$.bindWindowFocus();\r\n      // export element of the chart\r\n      $$.api.element = $$.selectChart.node();\r\n  };\r\n  ChartInternal.prototype.smoothLines = function (el, type) {\r\n      var $$ = this;\r\n      if (type === 'grid') {\r\n          el.each(function () {\r\n              var g = $$.d3.select(this), x1 = g.attr('x1'), x2 = g.attr('x2'), y1 = g.attr('y1'), y2 = g.attr('y2');\r\n              g.attr({\r\n                  x1: Math.ceil(x1),\r\n                  x2: Math.ceil(x2),\r\n                  y1: Math.ceil(y1),\r\n                  y2: Math.ceil(y2)\r\n              });\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateSizes = function () {\r\n      var $$ = this, config = $$.config;\r\n      var legendHeight = $$.legend ? $$.getLegendHeight() : 0, legendWidth = $$.legend ? $$.getLegendWidth() : 0, legendHeightForBottom = $$.isLegendRight || $$.isLegendInset ? 0 : legendHeight, hasArc = $$.hasArcType(), xAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x'), subchartXAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x', true), subchartHeight = config.subchart_show && !hasArc\r\n          ? config.subchart_size_height + subchartXAxisHeight\r\n          : 0;\r\n      $$.currentWidth = $$.getCurrentWidth();\r\n      $$.currentHeight = $$.getCurrentHeight();\r\n      // for main\r\n      $$.margin = config.axis_rotated\r\n          ? {\r\n              top: $$.getHorizontalAxisHeight('y2') + $$.getCurrentPaddingTop(),\r\n              right: hasArc ? 0 : $$.getCurrentPaddingRight(),\r\n              bottom: $$.getHorizontalAxisHeight('y') +\r\n                  legendHeightForBottom +\r\n                  $$.getCurrentPaddingBottom(),\r\n              left: subchartHeight + (hasArc ? 0 : $$.getCurrentPaddingLeft())\r\n          }\r\n          : {\r\n              top: 4 + $$.getCurrentPaddingTop(),\r\n              right: hasArc ? 0 : $$.getCurrentPaddingRight(),\r\n              bottom: xAxisHeight +\r\n                  subchartHeight +\r\n                  legendHeightForBottom +\r\n                  $$.getCurrentPaddingBottom(),\r\n              left: hasArc ? 0 : $$.getCurrentPaddingLeft()\r\n          };\r\n      // for subchart\r\n      $$.margin2 = config.axis_rotated\r\n          ? {\r\n              top: $$.margin.top,\r\n              right: NaN,\r\n              bottom: 20 + legendHeightForBottom,\r\n              left: $$.rotated_padding_left\r\n          }\r\n          : {\r\n              top: $$.currentHeight - subchartHeight - legendHeightForBottom,\r\n              right: NaN,\r\n              bottom: subchartXAxisHeight + legendHeightForBottom,\r\n              left: $$.margin.left\r\n          };\r\n      // for legend\r\n      $$.margin3 = {\r\n          top: 0,\r\n          right: NaN,\r\n          bottom: 0,\r\n          left: 0\r\n      };\r\n      if ($$.updateSizeForLegend) {\r\n          $$.updateSizeForLegend(legendHeight, legendWidth);\r\n      }\r\n      $$.width = $$.currentWidth - $$.margin.left - $$.margin.right;\r\n      $$.height = $$.currentHeight - $$.margin.top - $$.margin.bottom;\r\n      if ($$.width < 0) {\r\n          $$.width = 0;\r\n      }\r\n      if ($$.height < 0) {\r\n          $$.height = 0;\r\n      }\r\n      $$.width2 = config.axis_rotated\r\n          ? $$.margin.left - $$.rotated_padding_left - $$.rotated_padding_right\r\n          : $$.width;\r\n      $$.height2 = config.axis_rotated\r\n          ? $$.height\r\n          : $$.currentHeight - $$.margin2.top - $$.margin2.bottom;\r\n      if ($$.width2 < 0) {\r\n          $$.width2 = 0;\r\n      }\r\n      if ($$.height2 < 0) {\r\n          $$.height2 = 0;\r\n      }\r\n      // for arc\r\n      $$.arcWidth = $$.width - ($$.isLegendRight ? legendWidth + 10 : 0);\r\n      $$.arcHeight = $$.height - ($$.isLegendRight ? 0 : 10);\r\n      if ($$.hasType('gauge') && !config.gauge_fullCircle) {\r\n          $$.arcHeight += $$.height - $$.getGaugeLabelHeight();\r\n      }\r\n      if ($$.updateRadius) {\r\n          $$.updateRadius();\r\n      }\r\n      if ($$.isLegendRight && hasArc) {\r\n          $$.margin3.left = $$.arcWidth / 2 + $$.radiusExpanded * 1.1;\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateTargets = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      /*-- Main --*/\r\n      //-- Text --//\r\n      $$.updateTargetsForText(targets);\r\n      //-- Bar --//\r\n      $$.updateTargetsForBar(targets);\r\n      //-- Line --//\r\n      $$.updateTargetsForLine(targets);\r\n      //-- Arc --//\r\n      if ($$.hasArcType() && $$.updateTargetsForArc) {\r\n          $$.updateTargetsForArc(targets);\r\n      }\r\n      /*-- Sub --*/\r\n      if (config.subchart_show && $$.updateTargetsForSubchart) {\r\n          $$.updateTargetsForSubchart(targets);\r\n      }\r\n      // Fade-in each chart\r\n      $$.showTargets();\r\n  };\r\n  ChartInternal.prototype.showTargets = function () {\r\n      var $$ = this;\r\n      $$.svg\r\n          .selectAll('.' + CLASS.target)\r\n          .filter(function (d) {\r\n          return $$.isTargetToShow(d.id);\r\n      })\r\n          .transition()\r\n          .duration($$.config.transition_duration)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.redraw = function (options, transitions) {\r\n      var $$ = this, main = $$.main, d3 = $$.d3, config = $$.config;\r\n      var areaIndices = $$.getShapeIndices($$.isAreaType), barIndices = $$.getShapeIndices($$.isBarType), lineIndices = $$.getShapeIndices($$.isLineType);\r\n      var withY, withSubchart, withTransition, withTransitionForExit, withTransitionForAxis, withTransform, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain, withLegend, withEventRect, withDimension, withUpdateXAxis;\r\n      var hideAxis = $$.hasArcType();\r\n      var drawArea, drawBar, drawLine, xForText, yForText;\r\n      var duration, durationForExit, durationForAxis;\r\n      var transitionsToWait, waitForDraw, flow, transition;\r\n      var targetsToShow = $$.filterTargetsToShow($$.data.targets), tickValues, i, intervalForCulling, xDomainForZoom;\r\n      var xv = $$.xv.bind($$), cx, cy;\r\n      options = options || {};\r\n      withY = getOption(options, 'withY', true);\r\n      withSubchart = getOption(options, 'withSubchart', true);\r\n      withTransition = getOption(options, 'withTransition', true);\r\n      withTransform = getOption(options, 'withTransform', false);\r\n      withUpdateXDomain = getOption(options, 'withUpdateXDomain', false);\r\n      withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', false);\r\n      withTrimXDomain = getOption(options, 'withTrimXDomain', true);\r\n      withUpdateXAxis = getOption(options, 'withUpdateXAxis', withUpdateXDomain);\r\n      withLegend = getOption(options, 'withLegend', false);\r\n      withEventRect = getOption(options, 'withEventRect', true);\r\n      withDimension = getOption(options, 'withDimension', true);\r\n      withTransitionForExit = getOption(options, 'withTransitionForExit', withTransition);\r\n      withTransitionForAxis = getOption(options, 'withTransitionForAxis', withTransition);\r\n      duration = withTransition ? config.transition_duration : 0;\r\n      durationForExit = withTransitionForExit ? duration : 0;\r\n      durationForAxis = withTransitionForAxis ? duration : 0;\r\n      transitions = transitions || $$.axis.generateTransitions(durationForAxis);\r\n      // update legend and transform each g\r\n      if (withLegend && config.legend_show) {\r\n          $$.updateLegend($$.mapToIds($$.data.targets), options, transitions);\r\n      }\r\n      else if (withDimension) {\r\n          // need to update dimension (e.g. axis.y.tick.values) because y tick values should change\r\n          // no need to update axis in it because they will be updated in redraw()\r\n          $$.updateDimension(true);\r\n      }\r\n      // MEMO: needed for grids calculation\r\n      if ($$.isCategorized() && targetsToShow.length === 0) {\r\n          $$.x.domain([0, $$.axes.x.selectAll('.tick').size()]);\r\n      }\r\n      if (targetsToShow.length) {\r\n          $$.updateXDomain(targetsToShow, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain);\r\n          if (!config.axis_x_tick_values) {\r\n              tickValues = $$.axis.updateXAxisTickValues(targetsToShow);\r\n          }\r\n      }\r\n      else {\r\n          $$.xAxis.tickValues([]);\r\n          $$.subXAxis.tickValues([]);\r\n      }\r\n      if (config.zoom_rescale && !options.flow) {\r\n          xDomainForZoom = $$.x.orgDomain();\r\n      }\r\n      $$.y.domain($$.getYDomain(targetsToShow, 'y', xDomainForZoom));\r\n      $$.y2.domain($$.getYDomain(targetsToShow, 'y2', xDomainForZoom));\r\n      if (!config.axis_y_tick_values && config.axis_y_tick_count) {\r\n          $$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(), config.axis_y_tick_count));\r\n      }\r\n      if (!config.axis_y2_tick_values && config.axis_y2_tick_count) {\r\n          $$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(), config.axis_y2_tick_count));\r\n      }\r\n      // axes\r\n      $$.axis.redraw(durationForAxis, hideAxis);\r\n      // Update axis label\r\n      $$.axis.updateLabels(withTransition);\r\n      // show/hide if manual culling needed\r\n      if ((withUpdateXDomain || withUpdateXAxis) && targetsToShow.length) {\r\n          if (config.axis_x_tick_culling && tickValues) {\r\n              for (i = 1; i < tickValues.length; i++) {\r\n                  if (tickValues.length / i < config.axis_x_tick_culling_max) {\r\n                      intervalForCulling = i;\r\n                      break;\r\n                  }\r\n              }\r\n              $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').each(function (e) {\r\n                  var index = tickValues.indexOf(e);\r\n                  if (index >= 0) {\r\n                      d3.select(this).style('display', index % intervalForCulling ? 'none' : 'block');\r\n                  }\r\n              });\r\n          }\r\n          else {\r\n              $$.svg\r\n                  .selectAll('.' + CLASS.axisX + ' .tick text')\r\n                  .style('display', 'block');\r\n          }\r\n      }\r\n      // setup drawer - MEMO: these must be called after axis updated\r\n      drawArea = $$.generateDrawArea\r\n          ? $$.generateDrawArea(areaIndices, false)\r\n          : undefined;\r\n      drawBar = $$.generateDrawBar ? $$.generateDrawBar(barIndices) : undefined;\r\n      drawLine = $$.generateDrawLine\r\n          ? $$.generateDrawLine(lineIndices, false)\r\n          : undefined;\r\n      xForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, true);\r\n      yForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, false);\r\n      // update circleY based on updated parameters\r\n      $$.updateCircleY();\r\n      // generate circle x/y functions depending on updated params\r\n      cx = ($$.config.axis_rotated ? $$.circleY : $$.circleX).bind($$);\r\n      cy = ($$.config.axis_rotated ? $$.circleX : $$.circleY).bind($$);\r\n      // Update sub domain\r\n      if (withY) {\r\n          $$.subY.domain($$.getYDomain(targetsToShow, 'y'));\r\n          $$.subY2.domain($$.getYDomain(targetsToShow, 'y2'));\r\n      }\r\n      // xgrid focus\r\n      $$.updateXgridFocus();\r\n      // Data empty label positioning and text.\r\n      main\r\n          .select('text.' + CLASS.text + '.' + CLASS.empty)\r\n          .attr('x', $$.width / 2)\r\n          .attr('y', $$.height / 2)\r\n          .text(config.data_empty_label_text)\r\n          .transition()\r\n          .style('opacity', targetsToShow.length ? 0 : 1);\r\n      // event rect\r\n      if (withEventRect) {\r\n          $$.redrawEventRect();\r\n      }\r\n      // grid\r\n      $$.updateGrid(duration);\r\n      $$.updateStanfordElements(duration);\r\n      // rect for regions\r\n      $$.updateRegion(duration);\r\n      // bars\r\n      $$.updateBar(durationForExit);\r\n      // lines, areas and circles\r\n      $$.updateLine(durationForExit);\r\n      $$.updateArea(durationForExit);\r\n      $$.updateCircle(cx, cy);\r\n      // text\r\n      if ($$.hasDataLabel()) {\r\n          $$.updateText(xForText, yForText, durationForExit);\r\n      }\r\n      // title\r\n      if ($$.redrawTitle) {\r\n          $$.redrawTitle();\r\n      }\r\n      // arc\r\n      if ($$.redrawArc) {\r\n          $$.redrawArc(duration, durationForExit, withTransform);\r\n      }\r\n      // subchart\r\n      if (config.subchart_show && $$.redrawSubchart) {\r\n          $$.redrawSubchart(withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices);\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.drawColorScale();\r\n      }\r\n      // circles for select\r\n      main\r\n          .selectAll('.' + CLASS.selectedCircles)\r\n          .filter($$.isBarType.bind($$))\r\n          .selectAll('circle')\r\n          .remove();\r\n      if (options.flow) {\r\n          flow = $$.generateFlow({\r\n              targets: targetsToShow,\r\n              flow: options.flow,\r\n              duration: options.flow.duration,\r\n              drawBar: drawBar,\r\n              drawLine: drawLine,\r\n              drawArea: drawArea,\r\n              cx: cx,\r\n              cy: cy,\r\n              xv: xv,\r\n              xForText: xForText,\r\n              yForText: yForText\r\n          });\r\n      }\r\n      if (duration && $$.isTabVisible()) {\r\n          // Only use transition if tab visible. See #938.\r\n          // transition should be derived from one transition\r\n          transition = d3.transition().duration(duration);\r\n          transitionsToWait = [];\r\n          [\r\n              $$.redrawBar(drawBar, true, transition),\r\n              $$.redrawLine(drawLine, true, transition),\r\n              $$.redrawArea(drawArea, true, transition),\r\n              $$.redrawCircle(cx, cy, true, transition),\r\n              $$.redrawText(xForText, yForText, options.flow, true, transition),\r\n              $$.redrawRegion(true, transition),\r\n              $$.redrawGrid(true, transition)\r\n          ].forEach(function (transitions) {\r\n              transitions.forEach(function (transition) {\r\n                  transitionsToWait.push(transition);\r\n              });\r\n          });\r\n          // Wait for end of transitions to call flow and onrendered callback\r\n          waitForDraw = $$.generateWait();\r\n          transitionsToWait.forEach(function (t) {\r\n              waitForDraw.add(t);\r\n          });\r\n          waitForDraw(function () {\r\n              if (flow) {\r\n                  flow();\r\n              }\r\n              if (config.onrendered) {\r\n                  config.onrendered.call($$);\r\n              }\r\n          });\r\n      }\r\n      else {\r\n          $$.redrawBar(drawBar);\r\n          $$.redrawLine(drawLine);\r\n          $$.redrawArea(drawArea);\r\n          $$.redrawCircle(cx, cy);\r\n          $$.redrawText(xForText, yForText, options.flow);\r\n          $$.redrawRegion();\r\n          $$.redrawGrid();\r\n          if (flow) {\r\n              flow();\r\n          }\r\n          if (config.onrendered) {\r\n              config.onrendered.call($$);\r\n          }\r\n      }\r\n      // update fadein condition\r\n      $$.mapToIds($$.data.targets).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = true;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateAndRedraw = function (options) {\r\n      var $$ = this, config = $$.config, transitions;\r\n      options = options || {};\r\n      // same with redraw\r\n      options.withTransition = getOption(options, 'withTransition', true);\r\n      options.withTransform = getOption(options, 'withTransform', false);\r\n      options.withLegend = getOption(options, 'withLegend', false);\r\n      // NOT same with redraw\r\n      options.withUpdateXDomain = getOption(options, 'withUpdateXDomain', true);\r\n      options.withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', true);\r\n      options.withTransitionForExit = false;\r\n      options.withTransitionForTransform = getOption(options, 'withTransitionForTransform', options.withTransition);\r\n      // MEMO: this needs to be called before updateLegend and it means this ALWAYS needs to be called)\r\n      $$.updateSizes();\r\n      // MEMO: called in updateLegend in redraw if withLegend\r\n      if (!(options.withLegend && config.legend_show)) {\r\n          transitions = $$.axis.generateTransitions(options.withTransitionForAxis ? config.transition_duration : 0);\r\n          // Update scales\r\n          $$.updateScales();\r\n          $$.updateSvgSize();\r\n          // Update g positions\r\n          $$.transformAll(options.withTransitionForTransform, transitions);\r\n      }\r\n      // Draw with new sizes & scales\r\n      $$.redraw(options, transitions);\r\n  };\r\n  ChartInternal.prototype.redrawWithoutRescale = function () {\r\n      this.redraw({\r\n          withY: false,\r\n          withSubchart: false,\r\n          withEventRect: false,\r\n          withTransitionForAxis: false\r\n      });\r\n  };\r\n  ChartInternal.prototype.isTimeSeries = function () {\r\n      return this.config.axis_x_type === 'timeseries';\r\n  };\r\n  ChartInternal.prototype.isCategorized = function () {\r\n      return this.config.axis_x_type.indexOf('categor') >= 0;\r\n  };\r\n  ChartInternal.prototype.isCustomX = function () {\r\n      var $$ = this, config = $$.config;\r\n      return !$$.isTimeSeries() && (config.data_x || notEmpty(config.data_xs));\r\n  };\r\n  ChartInternal.prototype.isTimeSeriesY = function () {\r\n      return this.config.axis_y_type === 'timeseries';\r\n  };\r\n  ChartInternal.prototype.getTranslate = function (target) {\r\n      var $$ = this, config = $$.config, x, y;\r\n      if (target === 'main') {\r\n          x = asHalfPixel($$.margin.left);\r\n          y = asHalfPixel($$.margin.top);\r\n      }\r\n      else if (target === 'context') {\r\n          x = asHalfPixel($$.margin2.left);\r\n          y = asHalfPixel($$.margin2.top);\r\n      }\r\n      else if (target === 'legend') {\r\n          x = $$.margin3.left;\r\n          y = $$.margin3.top;\r\n      }\r\n      else if (target === 'x') {\r\n          x = 0;\r\n          y = config.axis_rotated ? 0 : $$.height;\r\n      }\r\n      else if (target === 'y') {\r\n          x = 0;\r\n          y = config.axis_rotated ? $$.height : 0;\r\n      }\r\n      else if (target === 'y2') {\r\n          x = config.axis_rotated ? 0 : $$.width;\r\n          y = config.axis_rotated ? 1 : 0;\r\n      }\r\n      else if (target === 'subx') {\r\n          x = 0;\r\n          y = config.axis_rotated ? 0 : $$.height2;\r\n      }\r\n      else if (target === 'arc') {\r\n          x = $$.arcWidth / 2;\r\n          y = $$.arcHeight / 2 - ($$.hasType('gauge') ? 6 : 0); // to prevent wrong display of min and max label\r\n      }\r\n      return 'translate(' + x + ',' + y + ')';\r\n  };\r\n  ChartInternal.prototype.initialOpacity = function (d) {\r\n      return d.value !== null && this.withoutFadeIn[d.id] ? 1 : 0;\r\n  };\r\n  ChartInternal.prototype.initialOpacityForCircle = function (d) {\r\n      return d.value !== null && this.withoutFadeIn[d.id]\r\n          ? this.opacityForCircle(d)\r\n          : 0;\r\n  };\r\n  ChartInternal.prototype.opacityForCircle = function (d) {\r\n      var isPointShouldBeShown = isFunction(this.config.point_show)\r\n          ? this.config.point_show(d)\r\n          : this.config.point_show;\r\n      var opacity = isPointShouldBeShown || this.isStanfordType(d) ? 1 : 0;\r\n      return isValue(d.value) ? (this.isScatterType(d) ? 0.5 : opacity) : 0;\r\n  };\r\n  ChartInternal.prototype.opacityForText = function () {\r\n      return this.hasDataLabel() ? 1 : 0;\r\n  };\r\n  ChartInternal.prototype.xx = function (d) {\r\n      return d ? this.x(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.xvCustom = function (d, xyValue) {\r\n      var $$ = this, value = xyValue ? d[xyValue] : d.value;\r\n      if ($$.isTimeSeries()) {\r\n          value = $$.parseDate(d.value);\r\n      }\r\n      else if ($$.isCategorized() && typeof d.value === 'string') {\r\n          value = $$.config.axis_x_categories.indexOf(d.value);\r\n      }\r\n      return Math.ceil($$.x(value));\r\n  };\r\n  ChartInternal.prototype.yvCustom = function (d, xyValue) {\r\n      var $$ = this, yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y, value = xyValue ? d[xyValue] : d.value;\r\n      return Math.ceil(yScale(value));\r\n  };\r\n  ChartInternal.prototype.xv = function (d) {\r\n      var $$ = this, value = d.value;\r\n      if ($$.isTimeSeries()) {\r\n          value = $$.parseDate(d.value);\r\n      }\r\n      else if ($$.isCategorized() && typeof d.value === 'string') {\r\n          value = $$.config.axis_x_categories.indexOf(d.value);\r\n      }\r\n      return Math.ceil($$.x(value));\r\n  };\r\n  ChartInternal.prototype.yv = function (d) {\r\n      var $$ = this, yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y;\r\n      return Math.ceil(yScale(d.value));\r\n  };\r\n  ChartInternal.prototype.subxx = function (d) {\r\n      return d ? this.subX(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.transformMain = function (withTransition, transitions) {\r\n      var $$ = this, xAxis, yAxis, y2Axis;\r\n      if (transitions && transitions.axisX) {\r\n          xAxis = transitions.axisX;\r\n      }\r\n      else {\r\n          xAxis = $$.main.select('.' + CLASS.axisX);\r\n          if (withTransition) {\r\n              xAxis = xAxis.transition();\r\n          }\r\n      }\r\n      if (transitions && transitions.axisY) {\r\n          yAxis = transitions.axisY;\r\n      }\r\n      else {\r\n          yAxis = $$.main.select('.' + CLASS.axisY);\r\n          if (withTransition) {\r\n              yAxis = yAxis.transition();\r\n          }\r\n      }\r\n      if (transitions && transitions.axisY2) {\r\n          y2Axis = transitions.axisY2;\r\n      }\r\n      else {\r\n          y2Axis = $$.main.select('.' + CLASS.axisY2);\r\n          if (withTransition) {\r\n              y2Axis = y2Axis.transition();\r\n          }\r\n      }\r\n      (withTransition ? $$.main.transition() : $$.main).attr('transform', $$.getTranslate('main'));\r\n      xAxis.attr('transform', $$.getTranslate('x'));\r\n      yAxis.attr('transform', $$.getTranslate('y'));\r\n      y2Axis.attr('transform', $$.getTranslate('y2'));\r\n      $$.main\r\n          .select('.' + CLASS.chartArcs)\r\n          .attr('transform', $$.getTranslate('arc'));\r\n  };\r\n  ChartInternal.prototype.transformAll = function (withTransition, transitions) {\r\n      var $$ = this;\r\n      $$.transformMain(withTransition, transitions);\r\n      if ($$.config.subchart_show) {\r\n          $$.transformContext(withTransition, transitions);\r\n      }\r\n      if ($$.legend) {\r\n          $$.transformLegend(withTransition);\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateSvgSize = function () {\r\n      var $$ = this, brush = $$.svg.select(\".\" + CLASS.brush + \" .overlay\");\r\n      $$.svg.attr('width', $$.currentWidth).attr('height', $$.currentHeight);\r\n      $$.svg\r\n          .selectAll(['#' + $$.clipId, '#' + $$.clipIdForGrid])\r\n          .select('rect')\r\n          .attr('width', $$.width)\r\n          .attr('height', $$.height);\r\n      $$.svg\r\n          .select('#' + $$.clipIdForXAxis)\r\n          .select('rect')\r\n          .attr('x', $$.getXAxisClipX.bind($$))\r\n          .attr('y', $$.getXAxisClipY.bind($$))\r\n          .attr('width', $$.getXAxisClipWidth.bind($$))\r\n          .attr('height', $$.getXAxisClipHeight.bind($$));\r\n      $$.svg\r\n          .select('#' + $$.clipIdForYAxis)\r\n          .select('rect')\r\n          .attr('x', $$.getYAxisClipX.bind($$))\r\n          .attr('y', $$.getYAxisClipY.bind($$))\r\n          .attr('width', $$.getYAxisClipWidth.bind($$))\r\n          .attr('height', $$.getYAxisClipHeight.bind($$));\r\n      $$.svg\r\n          .select('#' + $$.clipIdForSubchart)\r\n          .select('rect')\r\n          .attr('width', $$.width)\r\n          .attr('height', (brush.size() && brush.attr('height')) || 0);\r\n      // MEMO: parent div's height will be bigger than svg when <!DOCTYPE html>\r\n      $$.selectChart.style('max-height', $$.currentHeight + 'px');\r\n  };\r\n  ChartInternal.prototype.updateDimension = function (withoutAxis) {\r\n      var $$ = this;\r\n      if (!withoutAxis) {\r\n          if ($$.config.axis_rotated) {\r\n              $$.axes.x.call($$.xAxis);\r\n              $$.axes.subx.call($$.subXAxis);\r\n          }\r\n          else {\r\n              $$.axes.y.call($$.yAxis);\r\n              $$.axes.y2.call($$.y2Axis);\r\n          }\r\n      }\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      $$.updateSvgSize();\r\n      $$.transformAll(false);\r\n  };\r\n  ChartInternal.prototype.observeInserted = function (selection) {\r\n      var $$ = this, observer;\r\n      if (typeof MutationObserver === 'undefined') {\r\n          window.console.error('MutationObserver not defined.');\r\n          return;\r\n      }\r\n      observer = new MutationObserver(function (mutations) {\r\n          mutations.forEach(function (mutation) {\r\n              if (mutation.type === 'childList' && mutation.previousSibling) {\r\n                  observer.disconnect();\r\n                  // need to wait for completion of load because size calculation requires the actual sizes determined after that completion\r\n                  $$.intervalForObserveInserted = window.setInterval(function () {\r\n                      // parentNode will NOT be null when completed\r\n                      if (selection.node().parentNode) {\r\n                          window.clearInterval($$.intervalForObserveInserted);\r\n                          $$.updateDimension();\r\n                          if ($$.brush) {\r\n                              $$.brush.update();\r\n                          }\r\n                          $$.config.oninit.call($$);\r\n                          $$.redraw({\r\n                              withTransform: true,\r\n                              withUpdateXDomain: true,\r\n                              withUpdateOrgXDomain: true,\r\n                              withTransition: false,\r\n                              withTransitionForTransform: false,\r\n                              withLegend: true\r\n                          });\r\n                          selection.transition().style('opacity', 1);\r\n                      }\r\n                  }, 10);\r\n              }\r\n          });\r\n      });\r\n      observer.observe(selection.node(), {\r\n          attributes: true,\r\n          childList: true,\r\n          characterData: true\r\n      });\r\n  };\r\n  /**\r\n   * Binds handlers to the window resize event.\r\n   */\r\n  ChartInternal.prototype.bindResize = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.resizeFunction = $$.generateResize(); // need to call .remove\r\n      $$.resizeFunction.add(function () {\r\n          config.onresize.call($$);\r\n      });\r\n      if (config.resize_auto) {\r\n          $$.resizeFunction.add(function () {\r\n              if ($$.resizeTimeout !== undefined) {\r\n                  window.clearTimeout($$.resizeTimeout);\r\n              }\r\n              $$.resizeTimeout = window.setTimeout(function () {\r\n                  delete $$.resizeTimeout;\r\n                  $$.updateAndRedraw({\r\n                      withUpdateXDomain: false,\r\n                      withUpdateOrgXDomain: false,\r\n                      withTransition: false,\r\n                      withTransitionForTransform: false,\r\n                      withLegend: true\r\n                  });\r\n                  if ($$.brush) {\r\n                      $$.brush.update();\r\n                  }\r\n              }, 100);\r\n          });\r\n      }\r\n      $$.resizeFunction.add(function () {\r\n          config.onresized.call($$);\r\n      });\r\n      $$.resizeIfElementDisplayed = function () {\r\n          // if element not displayed skip it\r\n          if ($$.api == null || !$$.api.element.offsetParent) {\r\n              return;\r\n          }\r\n          $$.resizeFunction();\r\n      };\r\n      window.addEventListener('resize', $$.resizeIfElementDisplayed, false);\r\n  };\r\n  /**\r\n   * Binds handlers to the window focus event.\r\n   */\r\n  ChartInternal.prototype.bindWindowFocus = function () {\r\n      var _this = this;\r\n      if (this.windowFocusHandler) {\r\n          // The handler is already set\r\n          return;\r\n      }\r\n      this.windowFocusHandler = function () {\r\n          _this.redraw();\r\n      };\r\n      window.addEventListener('focus', this.windowFocusHandler);\r\n  };\r\n  /**\r\n   * Unbinds from the window focus event.\r\n   */\r\n  ChartInternal.prototype.unbindWindowFocus = function () {\r\n      window.removeEventListener('focus', this.windowFocusHandler);\r\n      delete this.windowFocusHandler;\r\n  };\r\n  ChartInternal.prototype.generateResize = function () {\r\n      var resizeFunctions = [];\r\n      function callResizeFunctions() {\r\n          resizeFunctions.forEach(function (f) {\r\n              f();\r\n          });\r\n      }\r\n      callResizeFunctions.add = function (f) {\r\n          resizeFunctions.push(f);\r\n      };\r\n      callResizeFunctions.remove = function (f) {\r\n          for (var i = 0; i < resizeFunctions.length; i++) {\r\n              if (resizeFunctions[i] === f) {\r\n                  resizeFunctions.splice(i, 1);\r\n                  break;\r\n              }\r\n          }\r\n      };\r\n      return callResizeFunctions;\r\n  };\r\n  ChartInternal.prototype.endall = function (transition, callback) {\r\n      var n = 0;\r\n      transition\r\n          .each(function () {\r\n          ++n;\r\n      })\r\n          .on('end', function () {\r\n          if (!--n) {\r\n              callback.apply(this, arguments);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateWait = function () {\r\n      var $$ = this;\r\n      var transitionsToWait = [], f = function (callback) {\r\n          var timer = setInterval(function () {\r\n              if (!$$.isTabVisible()) {\r\n                  return;\r\n              }\r\n              var done = 0;\r\n              transitionsToWait.forEach(function (t) {\r\n                  if (t.empty()) {\r\n                      done += 1;\r\n                      return;\r\n                  }\r\n                  try {\r\n                      t.transition();\r\n                  }\r\n                  catch (e) {\r\n                      done += 1;\r\n                  }\r\n              });\r\n              if (done === transitionsToWait.length) {\r\n                  clearInterval(timer);\r\n                  if (callback) {\r\n                      callback();\r\n                  }\r\n              }\r\n          }, 50);\r\n      };\r\n      f.add = function (transition) {\r\n          transitionsToWait.push(transition);\r\n      };\r\n      return f;\r\n  };\r\n  ChartInternal.prototype.parseDate = function (date) {\r\n      var $$ = this, parsedDate;\r\n      if (date instanceof Date) {\r\n          parsedDate = date;\r\n      }\r\n      else if (typeof date === 'string') {\r\n          parsedDate = $$.dataTimeParse(date);\r\n      }\r\n      else if (typeof date === 'object') {\r\n          parsedDate = new Date(+date);\r\n      }\r\n      else if (typeof date === 'number' && !isNaN(date)) {\r\n          parsedDate = new Date(+date);\r\n      }\r\n      if (!parsedDate || isNaN(+parsedDate)) {\r\n          window.console.error(\"Failed to parse x '\" + date + \"' to Date object\");\r\n      }\r\n      return parsedDate;\r\n  };\r\n  ChartInternal.prototype.isTabVisible = function () {\r\n      return !document.hidden;\r\n  };\r\n  ChartInternal.prototype.getPathBox = getPathBox;\r\n  ChartInternal.prototype.CLASS = CLASS;\n\n  /* jshint ignore:start */\r\n  (function () {\r\n      if (!('SVGPathSeg' in window)) {\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\r\n          window.SVGPathSeg = function (type, typeAsLetter, owningPathSegList) {\r\n              this.pathSegType = type;\r\n              this.pathSegTypeAsLetter = typeAsLetter;\r\n              this._owningPathSegList = owningPathSegList;\r\n          };\r\n          window.SVGPathSeg.prototype.classname = 'SVGPathSeg';\r\n          window.SVGPathSeg.PATHSEG_UNKNOWN = 0;\r\n          window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;\r\n          window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\r\n          window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;\r\n          window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;\r\n          window.SVGPathSeg.PATHSEG_LINETO_REL = 5;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\r\n          window.SVGPathSeg.PATHSEG_ARC_ABS = 10;\r\n          window.SVGPathSeg.PATHSEG_ARC_REL = 11;\r\n          window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\r\n          window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\r\n          window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\r\n          window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\r\n          // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\r\n          window.SVGPathSeg.prototype._segmentChanged = function () {\r\n              if (this._owningPathSegList)\r\n                  this._owningPathSegList.segmentChanged(this);\r\n          };\r\n          window.SVGPathSegClosePath = function (owningPathSegList) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CLOSEPATH, 'z', owningPathSegList);\r\n          };\r\n          window.SVGPathSegClosePath.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegClosePath.prototype.toString = function () {\r\n              return '[object SVGPathSegClosePath]';\r\n          };\r\n          window.SVGPathSegClosePath.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter;\r\n          };\r\n          window.SVGPathSegClosePath.prototype.clone = function () {\r\n              return new window.SVGPathSegClosePath(undefined);\r\n          };\r\n          window.SVGPathSegMovetoAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_ABS, 'M', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegMovetoAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegMovetoAbs]';\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegMovetoRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_REL, 'm', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegMovetoRel.prototype.toString = function () {\r\n              return '[object SVGPathSegMovetoRel]';\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype.clone = function () {\r\n              return new window.SVGPathSegMovetoRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_ABS, 'L', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoAbs]';\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_REL, 'l', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoRel]';\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicAbs = function (owningPathSegList, x, y, x1, y1, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, 'C', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicRel = function (owningPathSegList, x, y, x1, y1, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, 'c', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicRel]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticAbs = function (owningPathSegList, x, y, x1, y1) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, 'Q', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticRel = function (owningPathSegList, x, y, x1, y1) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, 'q', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticRel]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegArcAbs = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_ABS, 'A', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._r1 = r1;\r\n              this._r2 = r2;\r\n              this._angle = angle;\r\n              this._largeArcFlag = largeArcFlag;\r\n              this._sweepFlag = sweepFlag;\r\n          };\r\n          window.SVGPathSegArcAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegArcAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegArcAbs]';\r\n          };\r\n          window.SVGPathSegArcAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._r1 +\r\n                  ' ' +\r\n                  this._r2 +\r\n                  ' ' +\r\n                  this._angle +\r\n                  ' ' +\r\n                  (this._largeArcFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  (this._sweepFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegArcAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r1', {\r\n              get: function () {\r\n                  return this._r1;\r\n              },\r\n              set: function (r1) {\r\n                  this._r1 = r1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r2', {\r\n              get: function () {\r\n                  return this._r2;\r\n              },\r\n              set: function (r2) {\r\n                  this._r2 = r2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'angle', {\r\n              get: function () {\r\n                  return this._angle;\r\n              },\r\n              set: function (angle) {\r\n                  this._angle = angle;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'largeArcFlag', {\r\n              get: function () {\r\n                  return this._largeArcFlag;\r\n              },\r\n              set: function (largeArcFlag) {\r\n                  this._largeArcFlag = largeArcFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'sweepFlag', {\r\n              get: function () {\r\n                  return this._sweepFlag;\r\n              },\r\n              set: function (sweepFlag) {\r\n                  this._sweepFlag = sweepFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegArcRel = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_REL, 'a', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._r1 = r1;\r\n              this._r2 = r2;\r\n              this._angle = angle;\r\n              this._largeArcFlag = largeArcFlag;\r\n              this._sweepFlag = sweepFlag;\r\n          };\r\n          window.SVGPathSegArcRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegArcRel.prototype.toString = function () {\r\n              return '[object SVGPathSegArcRel]';\r\n          };\r\n          window.SVGPathSegArcRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._r1 +\r\n                  ' ' +\r\n                  this._r2 +\r\n                  ' ' +\r\n                  this._angle +\r\n                  ' ' +\r\n                  (this._largeArcFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  (this._sweepFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegArcRel.prototype.clone = function () {\r\n              return new window.SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r1', {\r\n              get: function () {\r\n                  return this._r1;\r\n              },\r\n              set: function (r1) {\r\n                  this._r1 = r1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r2', {\r\n              get: function () {\r\n                  return this._r2;\r\n              },\r\n              set: function (r2) {\r\n                  this._r2 = r2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'angle', {\r\n              get: function () {\r\n                  return this._angle;\r\n              },\r\n              set: function (angle) {\r\n                  this._angle = angle;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'largeArcFlag', {\r\n              get: function () {\r\n                  return this._largeArcFlag;\r\n              },\r\n              set: function (largeArcFlag) {\r\n                  this._largeArcFlag = largeArcFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'sweepFlag', {\r\n              get: function () {\r\n                  return this._sweepFlag;\r\n              },\r\n              set: function (sweepFlag) {\r\n                  this._sweepFlag = sweepFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoHorizontalAbs = function (owningPathSegList, x) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, 'H', owningPathSegList);\r\n              this._x = x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoHorizontalAbs]';\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoHorizontalRel = function (owningPathSegList, x) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, 'h', owningPathSegList);\r\n              this._x = x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoHorizontalRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoHorizontalRel]';\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoVerticalAbs = function (owningPathSegList, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, 'V', owningPathSegList);\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoVerticalAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoVerticalAbs]';\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoVerticalRel = function (owningPathSegList, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, 'v', owningPathSegList);\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoVerticalRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoVerticalRel]';\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoVerticalRel(undefined, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicSmoothAbs = function (owningPathSegList, x, y, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, 'S', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicSmoothAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicSmoothRel = function (owningPathSegList, x, y, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, 's', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicSmoothRel]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, 'T', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticSmoothAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, 't', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticSmoothRel]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Add createSVGPathSeg* functions to window.SVGPathElement.\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-Interfacewindow.SVGPathElement.\r\n          window.SVGPathElement.prototype.createSVGPathSegClosePath = function () {\r\n              return new window.SVGPathSegClosePath(undefined);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) {\r\n              return new window.SVGPathSegMovetoAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) {\r\n              return new window.SVGPathSegMovetoRel(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) {\r\n              return new window.SVGPathSegLinetoAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) {\r\n              return new window.SVGPathSegLinetoRel(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) {\r\n              return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) {\r\n              return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              return new window.SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              return new window.SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) {\r\n              return new window.SVGPathSegLinetoHorizontalAbs(undefined, x);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) {\r\n              return new window.SVGPathSegLinetoHorizontalRel(undefined, x);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) {\r\n              return new window.SVGPathSegLinetoVerticalAbs(undefined, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) {\r\n              return new window.SVGPathSegLinetoVerticalRel(undefined, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y);\r\n          };\r\n          if (!('getPathSegAtLength' in window.SVGPathElement.prototype)) {\r\n              // Add getPathSegAtLength to SVGPathElement.\r\n              // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\r\n              // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\r\n              window.SVGPathElement.prototype.getPathSegAtLength = function (distance) {\r\n                  if (distance === undefined || !isFinite(distance))\r\n                      throw 'Invalid arguments.';\r\n                  var measurementElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n                  measurementElement.setAttribute('d', this.getAttribute('d'));\r\n                  var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\r\n                  // If the path is empty, return 0.\r\n                  if (lastPathSegment <= 0)\r\n                      return 0;\r\n                  do {\r\n                      measurementElement.pathSegList.removeItem(lastPathSegment);\r\n                      if (distance > measurementElement.getTotalLength())\r\n                          break;\r\n                      lastPathSegment--;\r\n                  } while (lastPathSegment > 0);\r\n                  return lastPathSegment;\r\n              };\r\n          }\r\n      }\r\n      if (!('SVGPathSegList' in window)) {\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\r\n          window.SVGPathSegList = function (pathElement) {\r\n              this._pathElement = pathElement;\r\n              this._list = this._parsePath(this._pathElement.getAttribute('d'));\r\n              // Use a MutationObserver to catch changes to the path's \"d\" attribute.\r\n              this._mutationObserverConfig = {\r\n                  attributes: true,\r\n                  attributeFilter: ['d']\r\n              };\r\n              this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));\r\n              this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\r\n          };\r\n          window.SVGPathSegList.prototype.classname = 'SVGPathSegList';\r\n          Object.defineProperty(window.SVGPathSegList.prototype, 'numberOfItems', {\r\n              get: function () {\r\n                  this._checkPathSynchronizedToList();\r\n                  return this._list.length;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Add the pathSegList accessors to window.SVGPathElement.\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'pathSegList', {\r\n              get: function () {\r\n                  if (!this._pathSegList)\r\n                      this._pathSegList = new window.SVGPathSegList(this);\r\n                  return this._pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // FIXME: The following are not implemented and simply return window.SVGPathElement.pathSegList.\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'normalizedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'animatedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'animatedNormalizedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Process any pending mutations to the path element and update the list as needed.\r\n          // This should be the first call of all public functions and is needed because\r\n          // MutationObservers are not synchronous so we can have pending asynchronous mutations.\r\n          window.SVGPathSegList.prototype._checkPathSynchronizedToList = function () {\r\n              this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());\r\n          };\r\n          window.SVGPathSegList.prototype._updateListFromPathMutations = function (mutationRecords) {\r\n              if (!this._pathElement)\r\n                  return;\r\n              var hasPathMutations = false;\r\n              mutationRecords.forEach(function (record) {\r\n                  if (record.attributeName == 'd')\r\n                      hasPathMutations = true;\r\n              });\r\n              if (hasPathMutations)\r\n                  this._list = this._parsePath(this._pathElement.getAttribute('d'));\r\n          };\r\n          // Serialize the list and update the path's 'd' attribute.\r\n          window.SVGPathSegList.prototype._writeListToPath = function () {\r\n              this._pathElementMutationObserver.disconnect();\r\n              this._pathElement.setAttribute('d', window.SVGPathSegList._pathSegArrayAsString(this._list));\r\n              this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\r\n          };\r\n          // When a path segment changes the list needs to be synchronized back to the path element.\r\n          window.SVGPathSegList.prototype.segmentChanged = function (pathSeg) {\r\n              this._writeListToPath();\r\n          };\r\n          window.SVGPathSegList.prototype.clear = function () {\r\n              this._checkPathSynchronizedToList();\r\n              this._list.forEach(function (pathSeg) {\r\n                  pathSeg._owningPathSegList = null;\r\n              });\r\n              this._list = [];\r\n              this._writeListToPath();\r\n          };\r\n          window.SVGPathSegList.prototype.initialize = function (newItem) {\r\n              this._checkPathSynchronizedToList();\r\n              this._list = [newItem];\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype._checkValidIndex = function (index) {\r\n              if (isNaN(index) || index < 0 || index >= this.numberOfItems)\r\n                  throw 'INDEX_SIZE_ERR';\r\n          };\r\n          window.SVGPathSegList.prototype.getItem = function (index) {\r\n              this._checkPathSynchronizedToList();\r\n              this._checkValidIndex(index);\r\n              return this._list[index];\r\n          };\r\n          window.SVGPathSegList.prototype.insertItemBefore = function (newItem, index) {\r\n              this._checkPathSynchronizedToList();\r\n              // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\r\n              if (index > this.numberOfItems)\r\n                  index = this.numberOfItems;\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._list.splice(index, 0, newItem);\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype.replaceItem = function (newItem, index) {\r\n              this._checkPathSynchronizedToList();\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._checkValidIndex(index);\r\n              this._list[index] = newItem;\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype.removeItem = function (index) {\r\n              this._checkPathSynchronizedToList();\r\n              this._checkValidIndex(index);\r\n              var item = this._list[index];\r\n              this._list.splice(index, 1);\r\n              this._writeListToPath();\r\n              return item;\r\n          };\r\n          window.SVGPathSegList.prototype.appendItem = function (newItem) {\r\n              this._checkPathSynchronizedToList();\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._list.push(newItem);\r\n              newItem._owningPathSegList = this;\r\n              // TODO: Optimize this to just append to the existing attribute.\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList._pathSegArrayAsString = function (pathSegArray) {\r\n              var string = '';\r\n              var first = true;\r\n              pathSegArray.forEach(function (pathSeg) {\r\n                  if (first) {\r\n                      first = false;\r\n                      string += pathSeg._asPathString();\r\n                  }\r\n                  else {\r\n                      string += ' ' + pathSeg._asPathString();\r\n                  }\r\n              });\r\n              return string;\r\n          };\r\n          // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\r\n          window.SVGPathSegList.prototype._parsePath = function (string) {\r\n              if (!string || string.length == 0)\r\n                  return [];\r\n              var owningPathSegList = this;\r\n              var Builder = function () {\r\n                  this.pathSegList = [];\r\n              };\r\n              Builder.prototype.appendSegment = function (pathSeg) {\r\n                  this.pathSegList.push(pathSeg);\r\n              };\r\n              var Source = function (string) {\r\n                  this._string = string;\r\n                  this._currentIndex = 0;\r\n                  this._endIndex = this._string.length;\r\n                  this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n                  this._skipOptionalSpaces();\r\n              };\r\n              Source.prototype._isCurrentSpace = function () {\r\n                  var character = this._string[this._currentIndex];\r\n                  return (character <= ' ' &&\r\n                      (character == ' ' ||\r\n                          character == '\\n' ||\r\n                          character == '\\t' ||\r\n                          character == '\\r' ||\r\n                          character == '\\f'));\r\n              };\r\n              Source.prototype._skipOptionalSpaces = function () {\r\n                  while (this._currentIndex < this._endIndex && this._isCurrentSpace())\r\n                      this._currentIndex++;\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype._skipOptionalSpacesOrDelimiter = function () {\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      !this._isCurrentSpace() &&\r\n                      this._string.charAt(this._currentIndex) != ',')\r\n                      return false;\r\n                  if (this._skipOptionalSpaces()) {\r\n                      if (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) == ',') {\r\n                          this._currentIndex++;\r\n                          this._skipOptionalSpaces();\r\n                      }\r\n                  }\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype.hasMoreData = function () {\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype.peekSegmentType = function () {\r\n                  var lookahead = this._string[this._currentIndex];\r\n                  return this._pathSegTypeFromChar(lookahead);\r\n              };\r\n              Source.prototype._pathSegTypeFromChar = function (lookahead) {\r\n                  switch (lookahead) {\r\n                      case 'Z':\r\n                      case 'z':\r\n                          return window.SVGPathSeg.PATHSEG_CLOSEPATH;\r\n                      case 'M':\r\n                          return window.SVGPathSeg.PATHSEG_MOVETO_ABS;\r\n                      case 'm':\r\n                          return window.SVGPathSeg.PATHSEG_MOVETO_REL;\r\n                      case 'L':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_ABS;\r\n                      case 'l':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_REL;\r\n                      case 'C':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;\r\n                      case 'c':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;\r\n                      case 'Q':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;\r\n                      case 'q':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;\r\n                      case 'A':\r\n                          return window.SVGPathSeg.PATHSEG_ARC_ABS;\r\n                      case 'a':\r\n                          return window.SVGPathSeg.PATHSEG_ARC_REL;\r\n                      case 'H':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;\r\n                      case 'h':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;\r\n                      case 'V':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;\r\n                      case 'v':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;\r\n                      case 'S':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;\r\n                      case 's':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;\r\n                      case 'T':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;\r\n                      case 't':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;\r\n                      default:\r\n                          return window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n                  }\r\n              };\r\n              Source.prototype._nextCommandHelper = function (lookahead, previousCommand) {\r\n                  // Check for remaining coordinates in the current command.\r\n                  if ((lookahead == '+' ||\r\n                      lookahead == '-' ||\r\n                      lookahead == '.' ||\r\n                      (lookahead >= '0' && lookahead <= '9')) &&\r\n                      previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH) {\r\n                      if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS)\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_ABS;\r\n                      if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL)\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_REL;\r\n                      return previousCommand;\r\n                  }\r\n                  return window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n              };\r\n              Source.prototype.initialCommandIsMoveTo = function () {\r\n                  // If the path is empty it is still valid, so return true.\r\n                  if (!this.hasMoreData())\r\n                      return true;\r\n                  var command = this.peekSegmentType();\r\n                  // Path must start with moveTo.\r\n                  return (command == window.SVGPathSeg.PATHSEG_MOVETO_ABS ||\r\n                      command == window.SVGPathSeg.PATHSEG_MOVETO_REL);\r\n              };\r\n              // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\r\n              // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\r\n              Source.prototype._parseNumber = function () {\r\n                  var exponent = 0;\r\n                  var integer = 0;\r\n                  var frac = 1;\r\n                  var decimal = 0;\r\n                  var sign = 1;\r\n                  var expsign = 1;\r\n                  var startIndex = this._currentIndex;\r\n                  this._skipOptionalSpaces();\r\n                  // Read the sign.\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '+')\r\n                      this._currentIndex++;\r\n                  else if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '-') {\r\n                      this._currentIndex++;\r\n                      sign = -1;\r\n                  }\r\n                  if (this._currentIndex == this._endIndex ||\r\n                      ((this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9') &&\r\n                          this._string.charAt(this._currentIndex) != '.'))\r\n                      // The first character of a number must be one of [0-9+-.].\r\n                      return undefined;\r\n                  // Read the integer part, build right-to-left.\r\n                  var startIntPartIndex = this._currentIndex;\r\n                  while (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) >= '0' &&\r\n                      this._string.charAt(this._currentIndex) <= '9')\r\n                      this._currentIndex++; // Advance to first non-digit.\r\n                  if (this._currentIndex != startIntPartIndex) {\r\n                      var scanIntPartIndex = this._currentIndex - 1;\r\n                      var multiplier = 1;\r\n                      while (scanIntPartIndex >= startIntPartIndex) {\r\n                          integer +=\r\n                              multiplier * (this._string.charAt(scanIntPartIndex--) - '0');\r\n                          multiplier *= 10;\r\n                      }\r\n                  }\r\n                  // Read the decimals.\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '.') {\r\n                      this._currentIndex++;\r\n                      // There must be a least one digit following the .\r\n                      if (this._currentIndex >= this._endIndex ||\r\n                          this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9')\r\n                          return undefined;\r\n                      while (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) >= '0' &&\r\n                          this._string.charAt(this._currentIndex) <= '9') {\r\n                          frac *= 10;\r\n                          decimal += (this._string.charAt(this._currentIndex) - '0') / frac;\r\n                          this._currentIndex += 1;\r\n                      }\r\n                  }\r\n                  // Read the exponent part.\r\n                  if (this._currentIndex != startIndex &&\r\n                      this._currentIndex + 1 < this._endIndex &&\r\n                      (this._string.charAt(this._currentIndex) == 'e' ||\r\n                          this._string.charAt(this._currentIndex) == 'E') &&\r\n                      this._string.charAt(this._currentIndex + 1) != 'x' &&\r\n                      this._string.charAt(this._currentIndex + 1) != 'm') {\r\n                      this._currentIndex++;\r\n                      // Read the sign of the exponent.\r\n                      if (this._string.charAt(this._currentIndex) == '+') {\r\n                          this._currentIndex++;\r\n                      }\r\n                      else if (this._string.charAt(this._currentIndex) == '-') {\r\n                          this._currentIndex++;\r\n                          expsign = -1;\r\n                      }\r\n                      // There must be an exponent.\r\n                      if (this._currentIndex >= this._endIndex ||\r\n                          this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9')\r\n                          return undefined;\r\n                      while (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) >= '0' &&\r\n                          this._string.charAt(this._currentIndex) <= '9') {\r\n                          exponent *= 10;\r\n                          exponent += this._string.charAt(this._currentIndex) - '0';\r\n                          this._currentIndex++;\r\n                      }\r\n                  }\r\n                  var number = integer + decimal;\r\n                  number *= sign;\r\n                  if (exponent)\r\n                      number *= Math.pow(10, expsign * exponent);\r\n                  if (startIndex == this._currentIndex)\r\n                      return undefined;\r\n                  this._skipOptionalSpacesOrDelimiter();\r\n                  return number;\r\n              };\r\n              Source.prototype._parseArcFlag = function () {\r\n                  if (this._currentIndex >= this._endIndex)\r\n                      return undefined;\r\n                  var flag = false;\r\n                  var flagChar = this._string.charAt(this._currentIndex++);\r\n                  if (flagChar == '0')\r\n                      flag = false;\r\n                  else if (flagChar == '1')\r\n                      flag = true;\r\n                  else\r\n                      return undefined;\r\n                  this._skipOptionalSpacesOrDelimiter();\r\n                  return flag;\r\n              };\r\n              Source.prototype.parseSegment = function () {\r\n                  var lookahead = this._string[this._currentIndex];\r\n                  var command = this._pathSegTypeFromChar(lookahead);\r\n                  if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {\r\n                      // Possibly an implicit command. Not allowed if this is the first command.\r\n                      if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN)\r\n                          return null;\r\n                      command = this._nextCommandHelper(lookahead, this._previousCommand);\r\n                      if (command == window.SVGPathSeg.PATHSEG_UNKNOWN)\r\n                          return null;\r\n                  }\r\n                  else {\r\n                      this._currentIndex++;\r\n                  }\r\n                  this._previousCommand = command;\r\n                  switch (command) {\r\n                      case window.SVGPathSeg.PATHSEG_MOVETO_REL:\r\n                          return new window.SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_MOVETO_ABS:\r\n                          return new window.SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_REL:\r\n                          return new window.SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_ABS:\r\n                          return new window.SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\r\n                          return new window.SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\r\n                          return new window.SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\r\n                          return new window.SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\r\n                          return new window.SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_CLOSEPATH:\r\n                          this._skipOptionalSpaces();\r\n                          return new window.SVGPathSegClosePath(owningPathSegList);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:\r\n                          var points = {\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:\r\n                          var points = {\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\r\n                          return new window.SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\r\n                          return new window.SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_ARC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              arcAngle: this._parseNumber(),\r\n                              arcLarge: this._parseArcFlag(),\r\n                              arcSweep: this._parseArcFlag(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\r\n                      case window.SVGPathSeg.PATHSEG_ARC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              arcAngle: this._parseNumber(),\r\n                              arcLarge: this._parseArcFlag(),\r\n                              arcSweep: this._parseArcFlag(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\r\n                      default:\r\n                          throw 'Unknown path seg type.';\r\n                  }\r\n              };\r\n              var builder = new Builder();\r\n              var source = new Source(string);\r\n              if (!source.initialCommandIsMoveTo())\r\n                  return [];\r\n              while (source.hasMoreData()) {\r\n                  var pathSeg = source.parseSegment();\r\n                  if (!pathSeg)\r\n                      return [];\r\n                  builder.appendSegment(pathSeg);\r\n              }\r\n              return builder.pathSegList;\r\n          };\r\n      }\r\n  })();\r\n  // String.padEnd polyfill for IE11\r\n  //\r\n  // https://github.com/uxitten/polyfill/blob/master/string.polyfill.js\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd\r\n  if (!String.prototype.padEnd) {\r\n      String.prototype.padEnd = function padEnd(targetLength, padString) {\r\n          targetLength = targetLength >> 0; //floor if number or convert non-number to 0;\r\n          padString = String(typeof padString !== 'undefined' ? padString : ' ');\r\n          if (this.length > targetLength) {\r\n              return String(this);\r\n          }\r\n          else {\r\n              targetLength = targetLength - this.length;\r\n              if (targetLength > padString.length) {\r\n                  padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\r\n              }\r\n              return String(this) + padString.slice(0, targetLength);\r\n          }\r\n      };\r\n  }\r\n  // Object.assign polyfill for IE11\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\r\n  if (typeof Object.assign !== 'function') {\r\n      // Must be writable: true, enumerable: false, configurable: true\r\n      Object.defineProperty(Object, 'assign', {\r\n          value: function assign(target, varArgs) {\r\n              if (target === null || target === undefined) {\r\n                  throw new TypeError('Cannot convert undefined or null to object');\r\n              }\r\n              var to = Object(target);\r\n              for (var index = 1; index < arguments.length; index++) {\r\n                  var nextSource = arguments[index];\r\n                  if (nextSource !== null && nextSource !== undefined) {\r\n                      for (var nextKey in nextSource) {\r\n                          // Avoid bugs when hasOwnProperty is shadowed\r\n                          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                              to[nextKey] = nextSource[nextKey];\r\n                          }\r\n                      }\r\n                  }\r\n              }\r\n              return to;\r\n          },\r\n          writable: true,\r\n          configurable: true\r\n      });\r\n  }\r\n  /* jshint ignore:end */\n\n  Chart.prototype.axis = function () { };\r\n  Chart.prototype.axis.labels = function (labels) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          Object.keys(labels).forEach(function (axisId) {\r\n              $$.axis.setLabelText(axisId, labels[axisId]);\r\n          });\r\n          $$.axis.updateLabels();\r\n      }\r\n      // TODO: return some values?\r\n  };\r\n  Chart.prototype.axis.max = function (max) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length) {\r\n          if (typeof max === 'object') {\r\n              if (isValue(max.x)) {\r\n                  config.axis_x_max = max.x;\r\n              }\r\n              if (isValue(max.y)) {\r\n                  config.axis_y_max = max.y;\r\n              }\r\n              if (isValue(max.y2)) {\r\n                  config.axis_y2_max = max.y2;\r\n              }\r\n          }\r\n          else {\r\n              config.axis_y_max = config.axis_y2_max = max;\r\n          }\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      else {\r\n          return {\r\n              x: config.axis_x_max,\r\n              y: config.axis_y_max,\r\n              y2: config.axis_y2_max\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.min = function (min) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length) {\r\n          if (typeof min === 'object') {\r\n              if (isValue(min.x)) {\r\n                  config.axis_x_min = min.x;\r\n              }\r\n              if (isValue(min.y)) {\r\n                  config.axis_y_min = min.y;\r\n              }\r\n              if (isValue(min.y2)) {\r\n                  config.axis_y2_min = min.y2;\r\n              }\r\n          }\r\n          else {\r\n              config.axis_y_min = config.axis_y2_min = min;\r\n          }\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      else {\r\n          return {\r\n              x: config.axis_x_min,\r\n              y: config.axis_y_min,\r\n              y2: config.axis_y2_min\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.range = function (range) {\r\n      if (arguments.length) {\r\n          if (isDefined(range.max)) {\r\n              this.axis.max(range.max);\r\n          }\r\n          if (isDefined(range.min)) {\r\n              this.axis.min(range.min);\r\n          }\r\n      }\r\n      else {\r\n          return {\r\n              max: this.axis.max(),\r\n              min: this.axis.min()\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.types = function (types) {\r\n      var $$ = this.internal;\r\n      if (types === undefined) {\r\n          return {\r\n              y: $$.config.axis_y_type,\r\n              y2: $$.config.axis_y2_type\r\n          };\r\n      }\r\n      else {\r\n          if (isDefined(types.y)) {\r\n              $$.config.axis_y_type = types.y;\r\n          }\r\n          if (isDefined(types.y2)) {\r\n              $$.config.axis_y2_type = types.y2;\r\n          }\r\n          $$.updateScales();\r\n          $$.redraw();\r\n      }\r\n  };\n\n  Chart.prototype.category = function (i, category) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length > 1) {\r\n          config.axis_x_categories[i] = category;\r\n          $$.redraw();\r\n      }\r\n      return config.axis_x_categories[i];\r\n  };\r\n  Chart.prototype.categories = function (categories) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!arguments.length) {\r\n          return config.axis_x_categories;\r\n      }\r\n      config.axis_x_categories = categories;\r\n      $$.redraw();\r\n      return config.axis_x_categories;\r\n  };\n\n  Chart.prototype.resize = function (size) {\r\n      var $$ = this.internal, config = $$.config;\r\n      config.size_width = size ? size.width : null;\r\n      config.size_height = size ? size.height : null;\r\n      this.flush();\r\n  };\r\n  Chart.prototype.flush = function () {\r\n      var $$ = this.internal;\r\n      $$.updateAndRedraw({\r\n          withLegend: true,\r\n          withTransition: false,\r\n          withTransitionForTransform: false\r\n      });\r\n  };\r\n  Chart.prototype.destroy = function () {\r\n      var $$ = this.internal;\r\n      window.clearInterval($$.intervalForObserveInserted);\r\n      if ($$.resizeTimeout !== undefined) {\r\n          window.clearTimeout($$.resizeTimeout);\r\n      }\r\n      window.removeEventListener('resize', $$.resizeIfElementDisplayed);\r\n      // Removes the inner resize functions\r\n      $$.resizeFunction.remove();\r\n      // Unbinds from the window focus event\r\n      $$.unbindWindowFocus();\r\n      $$.selectChart.classed('c3', false).html('');\r\n      // MEMO: this is needed because the reference of some elements will not be released, then memory leak will happen.\r\n      Object.keys($$).forEach(function (key) {\r\n          $$[key] = null;\r\n      });\r\n      return null;\r\n  };\n\n  // TODO: fix\r\n  Chart.prototype.color = function (id) {\r\n      var $$ = this.internal;\r\n      return $$.color(id); // more patterns\r\n  };\n\n  Chart.prototype.data = function (targetIds) {\r\n      var targets = this.internal.data.targets;\r\n      return typeof targetIds === 'undefined'\r\n          ? targets\r\n          : targets.filter(function (t) {\r\n              return [].concat(targetIds).indexOf(t.id) >= 0;\r\n          });\r\n  };\r\n  Chart.prototype.data.shown = function (targetIds) {\r\n      return this.internal.filterTargetsToShow(this.data(targetIds));\r\n  };\r\n  /**\r\n   * Get values of the data loaded in the chart.\r\n   *\r\n   * @param {String|Array} targetId This API returns the value of specified target.\r\n   * @param flat\r\n   * @return {Array} Data values\r\n   */\r\n  Chart.prototype.data.values = function (targetId, flat) {\r\n      if (flat === void 0) { flat = true; }\r\n      var values = null;\r\n      if (targetId) {\r\n          var targets = this.data(targetId);\r\n          if (targets && isArray(targets)) {\r\n              values = targets.reduce(function (ret, v) {\r\n                  var dataValue = v.values.map(function (d) { return d.value; });\r\n                  if (flat) {\r\n                      ret = ret.concat(dataValue);\r\n                  }\r\n                  else {\r\n                      ret.push(dataValue);\r\n                  }\r\n                  return ret;\r\n              }, []);\r\n          }\r\n      }\r\n      return values;\r\n  };\r\n  Chart.prototype.data.names = function (names) {\r\n      this.internal.clearLegendItemTextBoxCache();\r\n      return this.internal.updateDataAttributes('names', names);\r\n  };\r\n  Chart.prototype.data.colors = function (colors) {\r\n      return this.internal.updateDataAttributes('colors', colors);\r\n  };\r\n  Chart.prototype.data.axes = function (axes) {\r\n      return this.internal.updateDataAttributes('axes', axes);\r\n  };\r\n  Chart.prototype.data.stackNormalized = function (normalized) {\r\n      if (normalized === undefined) {\r\n          return this.internal.isStackNormalized();\r\n      }\r\n      this.internal.config.data_stack_normalize = !!normalized;\r\n      this.internal.redraw();\r\n  };\n\n  Chart.prototype.donut = function () { };\r\n  Chart.prototype.donut.padAngle = function (padAngle) {\r\n      if (padAngle === undefined) {\r\n          return this.internal.config.donut_padAngle;\r\n      }\r\n      this.internal.config.donut_padAngle = padAngle;\r\n      this.flush();\r\n  };\n\n  Chart.prototype.flow = function (args) {\r\n      var $$ = this.internal, targets, data, notfoundIds = [], orgDataCount = $$.getMaxDataCount(), dataCount, domain, baseTarget, baseValue, length = 0, tail = 0, diff, to;\r\n      if (args.json) {\r\n          data = $$.convertJsonToData(args.json, args.keys);\r\n      }\r\n      else if (args.rows) {\r\n          data = $$.convertRowsToData(args.rows);\r\n      }\r\n      else if (args.columns) {\r\n          data = $$.convertColumnsToData(args.columns);\r\n      }\r\n      else {\r\n          return;\r\n      }\r\n      targets = $$.convertDataToTargets(data, true);\r\n      // Update/Add data\r\n      $$.data.targets.forEach(function (t) {\r\n          var found = false, i, j;\r\n          for (i = 0; i < targets.length; i++) {\r\n              if (t.id === targets[i].id) {\r\n                  found = true;\r\n                  if (t.values[t.values.length - 1]) {\r\n                      tail = t.values[t.values.length - 1].index + 1;\r\n                  }\r\n                  length = targets[i].values.length;\r\n                  for (j = 0; j < length; j++) {\r\n                      targets[i].values[j].index = tail + j;\r\n                      if (!$$.isTimeSeries()) {\r\n                          targets[i].values[j].x = tail + j;\r\n                      }\r\n                  }\r\n                  t.values = t.values.concat(targets[i].values);\r\n                  targets.splice(i, 1);\r\n                  break;\r\n              }\r\n          }\r\n          if (!found) {\r\n              notfoundIds.push(t.id);\r\n          }\r\n      });\r\n      // Append null for not found targets\r\n      $$.data.targets.forEach(function (t) {\r\n          var i, j;\r\n          for (i = 0; i < notfoundIds.length; i++) {\r\n              if (t.id === notfoundIds[i]) {\r\n                  tail = t.values[t.values.length - 1].index + 1;\r\n                  for (j = 0; j < length; j++) {\r\n                      t.values.push({\r\n                          id: t.id,\r\n                          index: tail + j,\r\n                          x: $$.isTimeSeries() ? $$.getOtherTargetX(tail + j) : tail + j,\r\n                          value: null\r\n                      });\r\n                  }\r\n              }\r\n          }\r\n      });\r\n      // Generate null values for new target\r\n      if ($$.data.targets.length) {\r\n          targets.forEach(function (t) {\r\n              var i, missing = [];\r\n              for (i = $$.data.targets[0].values[0].index; i < tail; i++) {\r\n                  missing.push({\r\n                      id: t.id,\r\n                      index: i,\r\n                      x: $$.isTimeSeries() ? $$.getOtherTargetX(i) : i,\r\n                      value: null\r\n                  });\r\n              }\r\n              t.values.forEach(function (v) {\r\n                  v.index += tail;\r\n                  if (!$$.isTimeSeries()) {\r\n                      v.x += tail;\r\n                  }\r\n              });\r\n              t.values = missing.concat(t.values);\r\n          });\r\n      }\r\n      $$.data.targets = $$.data.targets.concat(targets); // add remained\r\n      // check data count because behavior needs to change when it's only one\r\n      dataCount = $$.getMaxDataCount();\r\n      baseTarget = $$.data.targets[0];\r\n      baseValue = baseTarget.values[0];\r\n      // Update length to flow if needed\r\n      if (isDefined(args.to)) {\r\n          length = 0;\r\n          to = $$.isTimeSeries() ? $$.parseDate(args.to) : args.to;\r\n          baseTarget.values.forEach(function (v) {\r\n              if (v.x < to) {\r\n                  length++;\r\n              }\r\n          });\r\n      }\r\n      else if (isDefined(args.length)) {\r\n          length = args.length;\r\n      }\r\n      // If only one data, update the domain to flow from left edge of the chart\r\n      if (!orgDataCount) {\r\n          if ($$.isTimeSeries()) {\r\n              if (baseTarget.values.length > 1) {\r\n                  diff = baseTarget.values[baseTarget.values.length - 1].x - baseValue.x;\r\n              }\r\n              else {\r\n                  diff = baseValue.x - $$.getXDomain($$.data.targets)[0];\r\n              }\r\n          }\r\n          else {\r\n              diff = 1;\r\n          }\r\n          domain = [baseValue.x - diff, baseValue.x];\r\n          $$.updateXDomain(null, true, true, false, domain);\r\n      }\r\n      else if (orgDataCount === 1) {\r\n          if ($$.isTimeSeries()) {\r\n              diff =\r\n                  (baseTarget.values[baseTarget.values.length - 1].x - baseValue.x) / 2;\r\n              domain = [new Date(+baseValue.x - diff), new Date(+baseValue.x + diff)];\r\n              $$.updateXDomain(null, true, true, false, domain);\r\n          }\r\n      }\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Redraw with new targets\r\n      $$.redraw({\r\n          flow: {\r\n              index: baseValue.index,\r\n              length: length,\r\n              duration: isValue(args.duration)\r\n                  ? args.duration\r\n                  : $$.config.transition_duration,\r\n              done: args.done,\r\n              orgDataCount: orgDataCount\r\n          },\r\n          withLegend: true,\r\n          withTransition: orgDataCount > 1,\r\n          withTrimXDomain: false,\r\n          withUpdateXAxis: true\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateFlow = function (args) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      return function () {\r\n          var targets = args.targets, flow = args.flow, drawBar = args.drawBar, drawLine = args.drawLine, drawArea = args.drawArea, cx = args.cx, cy = args.cy, xv = args.xv, xForText = args.xForText, yForText = args.yForText, duration = args.duration;\r\n          var translateX, scaleX = 1, transform, flowIndex = flow.index, flowLength = flow.length, flowStart = $$.getValueOnIndex($$.data.targets[0].values, flowIndex), flowEnd = $$.getValueOnIndex($$.data.targets[0].values, flowIndex + flowLength), orgDomain = $$.x.domain(), domain, durationForFlow = flow.duration || duration, done = flow.done || function () { }, wait = $$.generateWait();\r\n          var xgrid, xgridLines, mainRegion, mainText, mainBar, mainLine, mainArea, mainCircle;\r\n          // set flag\r\n          $$.flowing = true;\r\n          // remove head data after rendered\r\n          $$.data.targets.forEach(function (d) {\r\n              d.values.splice(0, flowLength);\r\n          });\r\n          // update x domain to generate axis elements for flow\r\n          domain = $$.updateXDomain(targets, true, true);\r\n          // update elements related to x scale\r\n          if ($$.updateXGrid) {\r\n              $$.updateXGrid(true);\r\n          }\r\n          xgrid = $$.xgrid || d3.selectAll([]); // xgrid needs to be obtained after updateXGrid\r\n          xgridLines = $$.xgridLines || d3.selectAll([]);\r\n          mainRegion = $$.mainRegion || d3.selectAll([]);\r\n          mainText = $$.mainText || d3.selectAll([]);\r\n          mainBar = $$.mainBar || d3.selectAll([]);\r\n          mainLine = $$.mainLine || d3.selectAll([]);\r\n          mainArea = $$.mainArea || d3.selectAll([]);\r\n          mainCircle = $$.mainCircle || d3.selectAll([]);\r\n          // generate transform to flow\r\n          if (!flow.orgDataCount) {\r\n              // if empty\r\n              if ($$.data.targets[0].values.length !== 1) {\r\n                  translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n              }\r\n              else {\r\n                  if ($$.isTimeSeries()) {\r\n                      flowStart = $$.getValueOnIndex($$.data.targets[0].values, 0);\r\n                      flowEnd = $$.getValueOnIndex($$.data.targets[0].values, $$.data.targets[0].values.length - 1);\r\n                      translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\r\n                  }\r\n                  else {\r\n                      translateX = diffDomain(domain) / 2;\r\n                  }\r\n              }\r\n          }\r\n          else if (flow.orgDataCount === 1 ||\r\n              (flowStart && flowStart.x) === (flowEnd && flowEnd.x)) {\r\n              translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n          }\r\n          else {\r\n              if ($$.isTimeSeries()) {\r\n                  translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n              }\r\n              else {\r\n                  translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\r\n              }\r\n          }\r\n          scaleX = diffDomain(orgDomain) / diffDomain(domain);\r\n          transform = 'translate(' + translateX + ',0) scale(' + scaleX + ',1)';\r\n          $$.hideXGridFocus();\r\n          var flowTransition = d3\r\n              .transition()\r\n              .ease(d3.easeLinear)\r\n              .duration(durationForFlow);\r\n          wait.add($$.xAxis($$.axes.x, flowTransition));\r\n          wait.add(mainBar.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainLine.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainArea.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainCircle.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainText.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainRegion\r\n              .filter($$.isRegionOnX)\r\n              .transition(flowTransition)\r\n              .attr('transform', transform));\r\n          wait.add(xgrid.transition(flowTransition).attr('transform', transform));\r\n          wait.add(xgridLines.transition(flowTransition).attr('transform', transform));\r\n          wait(function () {\r\n              var i, shapes = [], texts = [];\r\n              // remove flowed elements\r\n              if (flowLength) {\r\n                  for (i = 0; i < flowLength; i++) {\r\n                      shapes.push('.' + CLASS.shape + '-' + (flowIndex + i));\r\n                      texts.push('.' + CLASS.text + '-' + (flowIndex + i));\r\n                  }\r\n                  $$.svg\r\n                      .selectAll('.' + CLASS.shapes)\r\n                      .selectAll(shapes)\r\n                      .remove();\r\n                  $$.svg\r\n                      .selectAll('.' + CLASS.texts)\r\n                      .selectAll(texts)\r\n                      .remove();\r\n                  $$.svg.select('.' + CLASS.xgrid).remove();\r\n              }\r\n              // draw again for removing flowed elements and reverting attr\r\n              xgrid\r\n                  .attr('transform', null)\r\n                  .attr('x1', $$.xgridAttr.x1)\r\n                  .attr('x2', $$.xgridAttr.x2)\r\n                  .attr('y1', $$.xgridAttr.y1)\r\n                  .attr('y2', $$.xgridAttr.y2)\r\n                  .style('opacity', $$.xgridAttr.opacity);\r\n              xgridLines.attr('transform', null);\r\n              xgridLines\r\n                  .select('line')\r\n                  .attr('x1', config.axis_rotated ? 0 : xv)\r\n                  .attr('x2', config.axis_rotated ? $$.width : xv);\r\n              xgridLines\r\n                  .select('text')\r\n                  .attr('x', config.axis_rotated ? $$.width : 0)\r\n                  .attr('y', xv);\r\n              mainBar.attr('transform', null).attr('d', drawBar);\r\n              mainLine.attr('transform', null).attr('d', drawLine);\r\n              mainArea.attr('transform', null).attr('d', drawArea);\r\n              mainCircle\r\n                  .attr('transform', null)\r\n                  .attr('cx', cx)\r\n                  .attr('cy', cy);\r\n              mainText\r\n                  .attr('transform', null)\r\n                  .attr('x', xForText)\r\n                  .attr('y', yForText)\r\n                  .style('fill-opacity', $$.opacityForText.bind($$));\r\n              mainRegion.attr('transform', null);\r\n              mainRegion\r\n                  .filter($$.isRegionOnX)\r\n                  .attr('x', $$.regionX.bind($$))\r\n                  .attr('width', $$.regionWidth.bind($$));\r\n              // callback for end of flow\r\n              done();\r\n              $$.flowing = false;\r\n          });\r\n      };\r\n  };\n\n  Chart.prototype.focus = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      (candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$)))),\r\n          this.revert();\r\n      this.defocus();\r\n      candidates.classed(CLASS.focused, true).classed(CLASS.defocused, false);\r\n      if ($$.hasArcType()) {\r\n          $$.expandArc(targetIds);\r\n      }\r\n      $$.toggleFocusLegend(targetIds, true);\r\n      $$.focusedTargetIds = targetIds;\r\n      $$.defocusedTargetIds = $$.defocusedTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n  };\r\n  Chart.prototype.defocus = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      (candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$)))),\r\n          candidates.classed(CLASS.focused, false).classed(CLASS.defocused, true);\r\n      if ($$.hasArcType()) {\r\n          $$.unexpandArc(targetIds);\r\n      }\r\n      $$.toggleFocusLegend(targetIds, false);\r\n      $$.focusedTargetIds = $$.focusedTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n      $$.defocusedTargetIds = targetIds;\r\n  };\r\n  Chart.prototype.revert = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      candidates = $$.svg.selectAll($$.selectorTargets(targetIds)); // should be for all targets\r\n      candidates.classed(CLASS.focused, false).classed(CLASS.defocused, false);\r\n      if ($$.hasArcType()) {\r\n          $$.unexpandArc(targetIds);\r\n      }\r\n      if ($$.config.legend_show) {\r\n          $$.showLegend(targetIds.filter($$.isLegendToShow.bind($$)));\r\n          $$.legend\r\n              .selectAll($$.selectorLegends(targetIds))\r\n              .filter(function () {\r\n              return $$.d3.select(this).classed(CLASS.legendItemFocused);\r\n          })\r\n              .classed(CLASS.legendItemFocused, false);\r\n      }\r\n      $$.focusedTargetIds = [];\r\n      $$.defocusedTargetIds = [];\r\n  };\n\n  Chart.prototype.xgrids = function (grids) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!grids) {\r\n          return config.grid_x_lines;\r\n      }\r\n      config.grid_x_lines = grids;\r\n      $$.redrawWithoutRescale();\r\n      return config.grid_x_lines;\r\n  };\r\n  Chart.prototype.xgrids.add = function (grids) {\r\n      var $$ = this.internal;\r\n      return this.xgrids($$.config.grid_x_lines.concat(grids ? grids : []));\r\n  };\r\n  Chart.prototype.xgrids.remove = function (params) {\r\n      // TODO: multiple\r\n      var $$ = this.internal;\r\n      $$.removeGridLines(params, true);\r\n  };\r\n  Chart.prototype.ygrids = function (grids) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!grids) {\r\n          return config.grid_y_lines;\r\n      }\r\n      config.grid_y_lines = grids;\r\n      $$.redrawWithoutRescale();\r\n      return config.grid_y_lines;\r\n  };\r\n  Chart.prototype.ygrids.add = function (grids) {\r\n      var $$ = this.internal;\r\n      return this.ygrids($$.config.grid_y_lines.concat(grids ? grids : []));\r\n  };\r\n  Chart.prototype.ygrids.remove = function (params) {\r\n      // TODO: multiple\r\n      var $$ = this.internal;\r\n      $$.removeGridLines(params, false);\r\n  };\n\n  Chart.prototype.groups = function (groups) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (isUndefined(groups)) {\r\n          return config.data_groups;\r\n      }\r\n      config.data_groups = groups;\r\n      $$.redraw();\r\n      return config.data_groups;\r\n  };\n\n  Chart.prototype.legend = function () { };\r\n  Chart.prototype.legend.show = function (targetIds) {\r\n      var $$ = this.internal;\r\n      $$.showLegend($$.mapToTargetIds(targetIds));\r\n      $$.updateAndRedraw({ withLegend: true });\r\n  };\r\n  Chart.prototype.legend.hide = function (targetIds) {\r\n      var $$ = this.internal;\r\n      $$.hideLegend($$.mapToTargetIds(targetIds));\r\n      $$.updateAndRedraw({ withLegend: false });\r\n  };\n\n  Chart.prototype.load = function (args) {\r\n      var $$ = this.internal, config = $$.config;\r\n      // update xs if specified\r\n      if (args.xs) {\r\n          $$.addXs(args.xs);\r\n      }\r\n      // update names if exists\r\n      if ('names' in args) {\r\n          Chart.prototype.data.names.bind(this)(args.names);\r\n      }\r\n      // update classes if exists\r\n      if ('classes' in args) {\r\n          Object.keys(args.classes).forEach(function (id) {\r\n              config.data_classes[id] = args.classes[id];\r\n          });\r\n      }\r\n      // update categories if exists\r\n      if ('categories' in args && $$.isCategorized()) {\r\n          config.axis_x_categories = args.categories;\r\n      }\r\n      // update axes if exists\r\n      if ('axes' in args) {\r\n          Object.keys(args.axes).forEach(function (id) {\r\n              config.data_axes[id] = args.axes[id];\r\n          });\r\n      }\r\n      // update colors if exists\r\n      if ('colors' in args) {\r\n          Object.keys(args.colors).forEach(function (id) {\r\n              config.data_colors[id] = args.colors[id];\r\n          });\r\n      }\r\n      // use cache if exists\r\n      if ('cacheIds' in args && $$.hasCaches(args.cacheIds)) {\r\n          $$.load($$.getCaches(args.cacheIds), args.done);\r\n          return;\r\n      }\r\n      // unload if needed\r\n      if (args.unload) {\r\n          // TODO: do not unload if target will load (included in url/rows/columns)\r\n          $$.unload($$.mapToTargetIds(args.unload === true ? null : args.unload), function () {\r\n              $$.loadFromArgs(args);\r\n          });\r\n      }\r\n      else {\r\n          $$.loadFromArgs(args);\r\n      }\r\n  };\r\n  Chart.prototype.unload = function (args) {\r\n      var $$ = this.internal;\r\n      args = args || {};\r\n      if (args instanceof Array) {\r\n          args = { ids: args };\r\n      }\r\n      else if (typeof args === 'string') {\r\n          args = { ids: [args] };\r\n      }\r\n      $$.unload($$.mapToTargetIds(args.ids), function () {\r\n          $$.redraw({\r\n              withUpdateOrgXDomain: true,\r\n              withUpdateXDomain: true,\r\n              withLegend: true\r\n          });\r\n          if (args.done) {\r\n              args.done();\r\n          }\r\n      });\r\n  };\n\n  Chart.prototype.pie = function () { };\r\n  Chart.prototype.pie.padAngle = function (padAngle) {\r\n      if (padAngle === undefined) {\r\n          return this.internal.config.pie_padAngle;\r\n      }\r\n      this.internal.config.pie_padAngle = padAngle;\r\n      this.flush();\r\n  };\n\n  Chart.prototype.regions = function (regions) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!regions) {\r\n          return config.regions;\r\n      }\r\n      config.regions = regions;\r\n      $$.redrawWithoutRescale();\r\n      return config.regions;\r\n  };\r\n  Chart.prototype.regions.add = function (regions) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!regions) {\r\n          return config.regions;\r\n      }\r\n      config.regions = config.regions.concat(regions);\r\n      $$.redrawWithoutRescale();\r\n      return config.regions;\r\n  };\r\n  Chart.prototype.regions.remove = function (options) {\r\n      var $$ = this.internal, config = $$.config, duration, classes, regions;\r\n      options = options || {};\r\n      duration = getOption(options, 'duration', config.transition_duration);\r\n      classes = getOption(options, 'classes', [CLASS.region]);\r\n      regions = $$.main.select('.' + CLASS.regions).selectAll(classes.map(function (c) {\r\n          return '.' + c;\r\n      }));\r\n      (duration ? regions.transition().duration(duration) : regions)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      config.regions = config.regions.filter(function (region) {\r\n          var found = false;\r\n          if (!region['class']) {\r\n              return true;\r\n          }\r\n          region['class'].split(' ').forEach(function (c) {\r\n              if (classes.indexOf(c) >= 0) {\r\n                  found = true;\r\n              }\r\n          });\r\n          return !found;\r\n      });\r\n      return config.regions;\r\n  };\n\n  Chart.prototype.selected = function (targetId) {\r\n      var $$ = this.internal, d3 = $$.d3;\r\n      return $$.main\r\n          .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(targetId))\r\n          .selectAll('.' + CLASS.shape)\r\n          .filter(function () {\r\n          return d3.select(this).classed(CLASS.SELECTED);\r\n      })\r\n          .nodes()\r\n          .map(function (d) {\r\n          var data = d.__data__;\r\n          return data.data ? data.data : data;\r\n      });\r\n  };\r\n  Chart.prototype.select = function (ids, indices, resetOther) {\r\n      var $$ = this.internal, d3 = $$.d3, config = $$.config;\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      }\r\n      $$.main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          var shape = d3.select(this), id = d.data ? d.data.id : d.id, toggle = $$.getToggle(this, d).bind($$), isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0, isTargetIndex = !indices || indices.indexOf(i) >= 0, isSelected = shape.classed(CLASS.SELECTED);\r\n          // line/area selection not supported yet\r\n          if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\r\n              return;\r\n          }\r\n          if (isTargetId && isTargetIndex) {\r\n              if (config.data_selection_isselectable(d) && !isSelected) {\r\n                  toggle(true, shape.classed(CLASS.SELECTED, true), d, i);\r\n              }\r\n          }\r\n          else if (isDefined(resetOther) && resetOther) {\r\n              if (isSelected) {\r\n                  toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n              }\r\n          }\r\n      });\r\n  };\r\n  Chart.prototype.unselect = function (ids, indices) {\r\n      var $$ = this.internal, d3 = $$.d3, config = $$.config;\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      }\r\n      $$.main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          var shape = d3.select(this), id = d.data ? d.data.id : d.id, toggle = $$.getToggle(this, d).bind($$), isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0, isTargetIndex = !indices || indices.indexOf(i) >= 0, isSelected = shape.classed(CLASS.SELECTED);\r\n          // line/area selection not supported yet\r\n          if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\r\n              return;\r\n          }\r\n          if (isTargetId && isTargetIndex) {\r\n              if (config.data_selection_isselectable(d)) {\r\n                  if (isSelected) {\r\n                      toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n                  }\r\n              }\r\n          }\r\n      });\r\n  };\n\n  Chart.prototype.show = function (targetIds, options) {\r\n      var $$ = this.internal, targets;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      options = options || {};\r\n      $$.removeHiddenTargetIds(targetIds);\r\n      targets = $$.svg.selectAll($$.selectorTargets(targetIds));\r\n      targets\r\n          .transition()\r\n          .style('display', isIE() ? 'block' : 'initial', 'important')\r\n          .style('opacity', 1, 'important')\r\n          .call($$.endall, function () {\r\n          targets.style('opacity', null).style('opacity', 1);\r\n      });\r\n      if (options.withLegend) {\r\n          $$.showLegend(targetIds);\r\n      }\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n  };\r\n  Chart.prototype.hide = function (targetIds, options) {\r\n      var $$ = this.internal, targets;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      options = options || {};\r\n      $$.addHiddenTargetIds(targetIds);\r\n      targets = $$.svg.selectAll($$.selectorTargets(targetIds));\r\n      targets\r\n          .transition()\r\n          .style('opacity', 0, 'important')\r\n          .call($$.endall, function () {\r\n          targets.style('opacity', null).style('opacity', 0);\r\n          targets.style('display', 'none');\r\n      });\r\n      if (options.withLegend) {\r\n          $$.hideLegend(targetIds);\r\n      }\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n  };\r\n  Chart.prototype.toggle = function (targetIds, options) {\r\n      var that = this, $$ = this.internal;\r\n      $$.mapToTargetIds(targetIds).forEach(function (targetId) {\r\n          $$.isTargetToShow(targetId)\r\n              ? that.hide(targetId, options)\r\n              : that.show(targetId, options);\r\n      });\r\n  };\n\n  Chart.prototype.subchart = function () { };\r\n  Chart.prototype.subchart.isShown = function () {\r\n      var $$ = this.internal;\r\n      return $$.config.subchart_show;\r\n  };\r\n  Chart.prototype.subchart.show = function () {\r\n      var $$ = this.internal;\r\n      if ($$.config.subchart_show) {\r\n          return;\r\n      }\r\n      $$.config.subchart_show = true;\r\n      // insert DOM\r\n      $$.initSubchart();\r\n      // update dimensions with sub chart now visible\r\n      $$.updateDimension();\r\n      // insert brush (depends on sizes previously updated)\r\n      $$.initSubchartBrush();\r\n      // attach data\r\n      $$.updateTargetsForSubchart($$.getTargets());\r\n      // reset fade-in state\r\n      $$.mapToIds($$.data.targets).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = false;\r\n      });\r\n      // redraw chart !\r\n      $$.updateAndRedraw();\r\n      // update visible targets !\r\n      $$.showTargets();\r\n  };\r\n  Chart.prototype.subchart.hide = function () {\r\n      var $$ = this.internal;\r\n      if (!$$.config.subchart_show) {\r\n          return;\r\n      }\r\n      $$.config.subchart_show = false;\r\n      // remove DOM\r\n      $$.removeSubchart();\r\n      // re-render chart\r\n      $$.redraw();\r\n  };\n\n  Chart.prototype.tooltip = function () { };\r\n  Chart.prototype.tooltip.show = function (args) {\r\n      var $$ = this.internal, targets, data, mouse = {};\r\n      // determine mouse position on the chart\r\n      if (args.mouse) {\r\n          mouse = args.mouse;\r\n      }\r\n      else {\r\n          // determine focus data\r\n          if (args.data) {\r\n              data = args.data;\r\n          }\r\n          else if (typeof args.x !== 'undefined') {\r\n              if (args.id) {\r\n                  targets = $$.data.targets.filter(function (t) {\r\n                      return t.id === args.id;\r\n                  });\r\n              }\r\n              else {\r\n                  targets = $$.data.targets;\r\n              }\r\n              data = $$.filterByX(targets, args.x).slice(0, 1)[0];\r\n          }\r\n          mouse = data ? $$.getMousePosition(data) : null;\r\n      }\r\n      // emulate mouse events to show\r\n      $$.dispatchEvent('mousemove', mouse);\r\n      $$.config.tooltip_onshow.call($$, data);\r\n  };\r\n  Chart.prototype.tooltip.hide = function () {\r\n      // TODO: get target data by checking the state of focus\r\n      this.internal.dispatchEvent('mouseout', 0);\r\n      this.internal.config.tooltip_onhide.call(this);\r\n  };\n\n  Chart.prototype.transform = function (type, targetIds) {\r\n      var $$ = this.internal, options = ['pie', 'donut'].indexOf(type) >= 0 ? { withTransform: true } : null;\r\n      $$.transformTo(targetIds, type, options);\r\n  };\r\n  ChartInternal.prototype.transformTo = function (targetIds, type, optionsForRedraw) {\r\n      var $$ = this, withTransitionForAxis = !$$.hasArcType(), options = optionsForRedraw || {\r\n          withTransitionForAxis: withTransitionForAxis\r\n      };\r\n      options.withTransitionForTransform = false;\r\n      $$.transiting = false;\r\n      $$.setTargetType(targetIds, type);\r\n      $$.updateTargets($$.data.targets); // this is needed when transforming to arc\r\n      $$.updateAndRedraw(options);\r\n  };\n\n  Chart.prototype.x = function (x) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          $$.updateTargetX($$.data.targets, x);\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      return $$.data.xs;\r\n  };\r\n  Chart.prototype.xs = function (xs) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          $$.updateTargetXs($$.data.targets, xs);\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      return $$.data.xs;\r\n  };\n\n  Chart.prototype.zoom = function (domain) {\r\n      var $$ = this.internal;\r\n      if (domain) {\r\n          if ($$.isTimeSeries()) {\r\n              domain = domain.map(function (x) {\r\n                  return $$.parseDate(x);\r\n              });\r\n          }\r\n          if ($$.config.subchart_show) {\r\n              $$.brush.selectionAsValue(domain, true);\r\n          }\r\n          else {\r\n              $$.updateXDomain(null, true, false, false, domain);\r\n              $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\r\n          }\r\n          $$.config.zoom_onzoom.call(this, $$.x.orgDomain());\r\n          return domain;\r\n      }\r\n      else {\r\n          return $$.x.domain();\r\n      }\r\n  };\r\n  Chart.prototype.zoom.enable = function (enabled) {\r\n      var $$ = this.internal;\r\n      $$.config.zoom_enabled = enabled;\r\n      $$.updateAndRedraw();\r\n  };\r\n  Chart.prototype.unzoom = function () {\r\n      var $$ = this.internal;\r\n      if ($$.config.subchart_show) {\r\n          $$.brush.clear();\r\n      }\r\n      else {\r\n          $$.updateXDomain(null, true, false, false, $$.subX.domain());\r\n          $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\r\n      }\r\n  };\r\n  Chart.prototype.zoom.max = function (max) {\r\n      var $$ = this.internal, config = $$.config, d3 = $$.d3;\r\n      if (max === 0 || max) {\r\n          config.zoom_x_max = d3.max([$$.orgXDomain[1], max]);\r\n      }\r\n      else {\r\n          return config.zoom_x_max;\r\n      }\r\n  };\r\n  Chart.prototype.zoom.min = function (min) {\r\n      var $$ = this.internal, config = $$.config, d3 = $$.d3;\r\n      if (min === 0 || min) {\r\n          config.zoom_x_min = d3.min([$$.orgXDomain[0], min]);\r\n      }\r\n      else {\r\n          return config.zoom_x_min;\r\n      }\r\n  };\r\n  Chart.prototype.zoom.range = function (range) {\r\n      if (arguments.length) {\r\n          if (isDefined(range.max)) {\r\n              this.domain.max(range.max);\r\n          }\r\n          if (isDefined(range.min)) {\r\n              this.domain.min(range.min);\r\n          }\r\n      }\r\n      else {\r\n          return {\r\n              max: this.domain.max(),\r\n              min: this.domain.min()\r\n          };\r\n      }\r\n  };\n\n  ChartInternal.prototype.initPie = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.pie = d3\r\n          .pie()\r\n          .padAngle(this.getPadAngle.bind(this))\r\n          .value(function (d) {\r\n          return d.values.reduce(function (a, b) {\r\n              return a + b.value;\r\n          }, 0);\r\n      });\r\n      var orderFct = $$.getOrderFunction();\r\n      // we need to reverse the returned order if asc or desc to have the slice in expected order.\r\n      if (orderFct && ($$.isOrderAsc() || $$.isOrderDesc())) {\r\n          var defaultSort_1 = orderFct;\r\n          orderFct = function (t1, t2) { return defaultSort_1(t1, t2) * -1; };\r\n      }\r\n      $$.pie.sort(orderFct || null);\r\n  };\r\n  ChartInternal.prototype.updateRadius = function () {\r\n      var $$ = this, config = $$.config, w = config.gauge_width || config.donut_width, gaugeArcWidth = $$.filterTargetsToShow($$.data.targets).length *\r\n          $$.config.gauge_arcs_minWidth;\r\n      $$.radiusExpanded =\r\n          (Math.min($$.arcWidth, $$.arcHeight) / 2) * ($$.hasType('gauge') ? 0.85 : 1);\r\n      $$.radius = $$.radiusExpanded * 0.95;\r\n      $$.innerRadiusRatio = w ? ($$.radius - w) / $$.radius : 0.6;\r\n      $$.innerRadius =\r\n          $$.hasType('donut') || $$.hasType('gauge')\r\n              ? $$.radius * $$.innerRadiusRatio\r\n              : 0;\r\n      $$.gaugeArcWidth = w\r\n          ? w\r\n          : gaugeArcWidth <= $$.radius - $$.innerRadius\r\n              ? $$.radius - $$.innerRadius\r\n              : gaugeArcWidth <= $$.radius\r\n                  ? gaugeArcWidth\r\n                  : $$.radius;\r\n  };\r\n  ChartInternal.prototype.getPadAngle = function () {\r\n      if (this.hasType('pie')) {\r\n          return this.config.pie_padAngle || 0;\r\n      }\r\n      else if (this.hasType('donut')) {\r\n          return this.config.donut_padAngle || 0;\r\n      }\r\n      else {\r\n          return 0;\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateArc = function () {\r\n      var $$ = this;\r\n      $$.svgArc = $$.getSvgArc();\r\n      $$.svgArcExpanded = $$.getSvgArcExpanded();\r\n      $$.svgArcExpandedSub = $$.getSvgArcExpanded(0.98);\r\n  };\r\n  ChartInternal.prototype.updateAngle = function (d) {\r\n      var $$ = this, config = $$.config, found = false, index = 0, gMin, gMax, gTic, gValue;\r\n      if (!config) {\r\n          return null;\r\n      }\r\n      $$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function (t) {\r\n          if (!found && t.data.id === d.data.id) {\r\n              found = true;\r\n              d = t;\r\n              d.index = index;\r\n          }\r\n          index++;\r\n      });\r\n      if (isNaN(d.startAngle)) {\r\n          d.startAngle = 0;\r\n      }\r\n      if (isNaN(d.endAngle)) {\r\n          d.endAngle = d.startAngle;\r\n      }\r\n      if ($$.isGaugeType(d.data)) {\r\n          gMin = config.gauge_min;\r\n          gMax = config.gauge_max;\r\n          gTic = (Math.PI * (config.gauge_fullCircle ? 2 : 1)) / (gMax - gMin);\r\n          gValue = d.value < gMin ? 0 : d.value < gMax ? d.value - gMin : gMax - gMin;\r\n          d.startAngle = config.gauge_startingAngle;\r\n          d.endAngle = d.startAngle + gTic * gValue;\r\n      }\r\n      return found ? d : null;\r\n  };\r\n  ChartInternal.prototype.getSvgArc = function () {\r\n      var $$ = this, hasGaugeType = $$.hasType('gauge'), singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length, arc = $$.d3\r\n          .arc()\r\n          .outerRadius(function (d) {\r\n          return hasGaugeType ? $$.radius - singleArcWidth * d.index : $$.radius;\r\n      })\r\n          .innerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * (d.index + 1)\r\n              : $$.innerRadius;\r\n      }), newArc = function (d, withoutUpdate) {\r\n          var updated;\r\n          if (withoutUpdate) {\r\n              return arc(d);\r\n          } // for interpolate\r\n          updated = $$.updateAngle(d);\r\n          return updated ? arc(updated) : 'M 0 0';\r\n      };\r\n      newArc.centroid = arc.centroid;\r\n      return newArc;\r\n  };\r\n  ChartInternal.prototype.getSvgArcExpanded = function (rate) {\r\n      rate = rate || 1;\r\n      var $$ = this, hasGaugeType = $$.hasType('gauge'), singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length, expandWidth = Math.min($$.radiusExpanded * rate - $$.radius, singleArcWidth * 0.8 - (1 - rate) * 100), arc = $$.d3\r\n          .arc()\r\n          .outerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * d.index + expandWidth\r\n              : $$.radiusExpanded * rate;\r\n      })\r\n          .innerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * (d.index + 1)\r\n              : $$.innerRadius;\r\n      });\r\n      return function (d) {\r\n          var updated = $$.updateAngle(d);\r\n          return updated ? arc(updated) : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.getArc = function (d, withoutUpdate, force) {\r\n      return force || this.isArcType(d.data)\r\n          ? this.svgArc(d, withoutUpdate)\r\n          : 'M 0 0';\r\n  };\r\n  ChartInternal.prototype.transformForArcLabel = function (d) {\r\n      var $$ = this, config = $$.config, updated = $$.updateAngle(d), c, x, y, h, ratio, translate = '', hasGauge = $$.hasType('gauge');\r\n      if (updated && !hasGauge) {\r\n          c = this.svgArc.centroid(updated);\r\n          x = isNaN(c[0]) ? 0 : c[0];\r\n          y = isNaN(c[1]) ? 0 : c[1];\r\n          h = Math.sqrt(x * x + y * y);\r\n          if ($$.hasType('donut') && config.donut_label_ratio) {\r\n              ratio = isFunction(config.donut_label_ratio)\r\n                  ? config.donut_label_ratio(d, $$.radius, h)\r\n                  : config.donut_label_ratio;\r\n          }\r\n          else if ($$.hasType('pie') && config.pie_label_ratio) {\r\n              ratio = isFunction(config.pie_label_ratio)\r\n                  ? config.pie_label_ratio(d, $$.radius, h)\r\n                  : config.pie_label_ratio;\r\n          }\r\n          else {\r\n              ratio =\r\n                  $$.radius && h\r\n                      ? ((36 / $$.radius > 0.375 ? 1.175 - 36 / $$.radius : 0.8) *\r\n                          $$.radius) /\r\n                          h\r\n                      : 0;\r\n          }\r\n          translate = 'translate(' + x * ratio + ',' + y * ratio + ')';\r\n      }\r\n      else if (updated &&\r\n          hasGauge &&\r\n          $$.filterTargetsToShow($$.data.targets).length > 1) {\r\n          var y1 = Math.sin(updated.endAngle - Math.PI / 2);\r\n          x = Math.cos(updated.endAngle - Math.PI / 2) * ($$.radiusExpanded + 25);\r\n          y = y1 * ($$.radiusExpanded + 15 - Math.abs(y1 * 10)) + 3;\r\n          translate = 'translate(' + x + ',' + y + ')';\r\n      }\r\n      return translate;\r\n  };\r\n  /**\r\n   * @deprecated Use `getRatio('arc', d)` instead.\r\n   */\r\n  ChartInternal.prototype.getArcRatio = function (d) {\r\n      return this.getRatio('arc', d);\r\n  };\r\n  ChartInternal.prototype.convertToArcData = function (d) {\r\n      return this.addName({\r\n          id: d.data.id,\r\n          value: d.value,\r\n          ratio: this.getRatio('arc', d),\r\n          index: d.index\r\n      });\r\n  };\r\n  ChartInternal.prototype.textForArcLabel = function (d) {\r\n      var $$ = this, updated, value, ratio, id, format;\r\n      if (!$$.shouldShowArcLabel()) {\r\n          return '';\r\n      }\r\n      updated = $$.updateAngle(d);\r\n      value = updated ? updated.value : null;\r\n      ratio = $$.getRatio('arc', updated);\r\n      id = d.data.id;\r\n      if (!$$.hasType('gauge') && !$$.meetsArcLabelThreshold(ratio)) {\r\n          return '';\r\n      }\r\n      format = $$.getArcLabelFormat();\r\n      return format\r\n          ? format(value, ratio, id)\r\n          : $$.defaultArcValueFormat(value, ratio);\r\n  };\r\n  ChartInternal.prototype.textForGaugeMinMax = function (value, isMax) {\r\n      var $$ = this, format = $$.getGaugeLabelExtents();\r\n      return format ? format(value, isMax) : value;\r\n  };\r\n  ChartInternal.prototype.expandArc = function (targetIds) {\r\n      var $$ = this, interval;\r\n      // MEMO: avoid to cancel transition\r\n      if ($$.transiting) {\r\n          interval = window.setInterval(function () {\r\n              if (!$$.transiting) {\r\n                  window.clearInterval(interval);\r\n                  if ($$.legend.selectAll('.c3-legend-item-focused').size() > 0) {\r\n                      $$.expandArc(targetIds);\r\n                  }\r\n              }\r\n          }, 10);\r\n          return;\r\n      }\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.svg\r\n          .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\r\n          .each(function (d) {\r\n          if (!$$.shouldExpand(d.data.id)) {\r\n              return;\r\n          }\r\n          $$.d3\r\n              .select(this)\r\n              .selectAll('path')\r\n              .transition()\r\n              .duration($$.expandDuration(d.data.id))\r\n              .attr('d', $$.svgArcExpanded)\r\n              .transition()\r\n              .duration($$.expandDuration(d.data.id) * 2)\r\n              .attr('d', $$.svgArcExpandedSub)\r\n              .each(function (d) {\r\n              if ($$.isDonutType(d.data)) ;\r\n          });\r\n      });\r\n  };\r\n  ChartInternal.prototype.unexpandArc = function (targetIds) {\r\n      var $$ = this;\r\n      if ($$.transiting) {\r\n          return;\r\n      }\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.svg\r\n          .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\r\n          .selectAll('path')\r\n          .transition()\r\n          .duration(function (d) {\r\n          return $$.expandDuration(d.data.id);\r\n      })\r\n          .attr('d', $$.svgArc);\r\n      $$.svg.selectAll('.' + CLASS.arc);\r\n  };\r\n  ChartInternal.prototype.expandDuration = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.isDonutType(id)) {\r\n          return config.donut_expand_duration;\r\n      }\r\n      else if ($$.isGaugeType(id)) {\r\n          return config.gauge_expand_duration;\r\n      }\r\n      else if ($$.isPieType(id)) {\r\n          return config.pie_expand_duration;\r\n      }\r\n      else {\r\n          return 50;\r\n      }\r\n  };\r\n  ChartInternal.prototype.shouldExpand = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      return (($$.isDonutType(id) && config.donut_expand) ||\r\n          ($$.isGaugeType(id) && config.gauge_expand) ||\r\n          ($$.isPieType(id) && config.pie_expand));\r\n  };\r\n  ChartInternal.prototype.shouldShowArcLabel = function () {\r\n      var $$ = this, config = $$.config, shouldShow = true;\r\n      if ($$.hasType('donut')) {\r\n          shouldShow = config.donut_label_show;\r\n      }\r\n      else if ($$.hasType('pie')) {\r\n          shouldShow = config.pie_label_show;\r\n      }\r\n      // when gauge, always true\r\n      return shouldShow;\r\n  };\r\n  ChartInternal.prototype.meetsArcLabelThreshold = function (ratio) {\r\n      var $$ = this, config = $$.config, threshold = $$.hasType('donut')\r\n          ? config.donut_label_threshold\r\n          : config.pie_label_threshold;\r\n      return ratio >= threshold;\r\n  };\r\n  ChartInternal.prototype.getArcLabelFormat = function () {\r\n      var $$ = this, config = $$.config, format = config.pie_label_format;\r\n      if ($$.hasType('gauge')) {\r\n          format = config.gauge_label_format;\r\n      }\r\n      else if ($$.hasType('donut')) {\r\n          format = config.donut_label_format;\r\n      }\r\n      return format;\r\n  };\r\n  ChartInternal.prototype.getGaugeLabelExtents = function () {\r\n      var $$ = this, config = $$.config;\r\n      return config.gauge_label_extents;\r\n  };\r\n  ChartInternal.prototype.getArcTitle = function () {\r\n      var $$ = this;\r\n      return $$.hasType('donut') ? $$.config.donut_title : '';\r\n  };\r\n  ChartInternal.prototype.updateTargetsForArc = function (targets) {\r\n      var $$ = this, main = $$.main, mainPies, mainPieEnter, classChartArc = $$.classChartArc.bind($$), classArcs = $$.classArcs.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainPies = main\r\n          .select('.' + CLASS.chartArcs)\r\n          .selectAll('.' + CLASS.chartArc)\r\n          .data($$.pie(targets))\r\n          .attr('class', function (d) {\r\n          return classChartArc(d) + classFocus(d.data);\r\n      });\r\n      mainPieEnter = mainPies\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartArc);\r\n      mainPieEnter.append('g').attr('class', classArcs);\r\n      mainPieEnter\r\n          .append('text')\r\n          .attr('dy', $$.hasType('gauge') ? '-.1em' : '.35em')\r\n          .style('opacity', 0)\r\n          .style('text-anchor', 'middle')\r\n          .style('pointer-events', 'none');\r\n      // MEMO: can not keep same color..., but not bad to update color in redraw\r\n      //mainPieUpdate.exit().remove();\r\n  };\r\n  ChartInternal.prototype.initArc = function () {\r\n      var $$ = this;\r\n      $$.arcs = $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartArcs)\r\n          .attr('transform', $$.getTranslate('arc'));\r\n      $$.arcs\r\n          .append('text')\r\n          .attr('class', CLASS.chartArcsTitle)\r\n          .style('text-anchor', 'middle')\r\n          .text($$.getArcTitle());\r\n  };\r\n  ChartInternal.prototype.redrawArc = function (duration, durationForExit, withTransform) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, main = $$.main, arcs, mainArc, arcLabelLines, mainArcLabelLine, hasGaugeType = $$.hasType('gauge');\r\n      arcs = main\r\n          .selectAll('.' + CLASS.arcs)\r\n          .selectAll('.' + CLASS.arc)\r\n          .data($$.arcData.bind($$));\r\n      mainArc = arcs\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArc.bind($$))\r\n          .style('fill', function (d) {\r\n          return $$.color(d.data);\r\n      })\r\n          .style('cursor', function (d) {\r\n          return config.interaction_enabled && config.data_selection_isselectable(d)\r\n              ? 'pointer'\r\n              : null;\r\n      })\r\n          .each(function (d) {\r\n          if ($$.isGaugeType(d.data)) {\r\n              d.startAngle = d.endAngle = config.gauge_startingAngle;\r\n          }\r\n          this._current = d;\r\n      })\r\n          .merge(arcs);\r\n      if (hasGaugeType) {\r\n          arcLabelLines = main\r\n              .selectAll('.' + CLASS.arcs)\r\n              .selectAll('.' + CLASS.arcLabelLine)\r\n              .data($$.arcData.bind($$));\r\n          mainArcLabelLine = arcLabelLines\r\n              .enter()\r\n              .append('rect')\r\n              .attr('class', function (d) {\r\n              return (CLASS.arcLabelLine +\r\n                  ' ' +\r\n                  CLASS.target +\r\n                  ' ' +\r\n                  CLASS.target +\r\n                  '-' +\r\n                  d.data.id);\r\n          })\r\n              .merge(arcLabelLines);\r\n          if ($$.filterTargetsToShow($$.data.targets).length === 1) {\r\n              mainArcLabelLine.style('display', 'none');\r\n          }\r\n          else {\r\n              mainArcLabelLine\r\n                  .style('fill', function (d) {\r\n                  return $$.levelColor\r\n                      ? $$.levelColor(d.data.values.reduce(function (total, item) {\r\n                          return total + item.value;\r\n                      }, 0))\r\n                      : $$.color(d.data);\r\n              })\r\n                  .style('display', config.gauge_labelLine_show ? '' : 'none')\r\n                  .each(function (d) {\r\n                  var lineLength = 0, lineThickness = 2, x = 0, y = 0, transform = '';\r\n                  if ($$.hiddenTargetIds.indexOf(d.data.id) < 0) {\r\n                      var updated = $$.updateAngle(d), innerLineLength = ($$.gaugeArcWidth /\r\n                          $$.filterTargetsToShow($$.data.targets).length) *\r\n                          (updated.index + 1), lineAngle = updated.endAngle - Math.PI / 2, arcInnerRadius = $$.radius - innerLineLength, linePositioningAngle = lineAngle - (arcInnerRadius === 0 ? 0 : 1 / arcInnerRadius);\r\n                      lineLength = $$.radiusExpanded - $$.radius + innerLineLength;\r\n                      x = Math.cos(linePositioningAngle) * arcInnerRadius;\r\n                      y = Math.sin(linePositioningAngle) * arcInnerRadius;\r\n                      transform =\r\n                          'rotate(' +\r\n                              (lineAngle * 180) / Math.PI +\r\n                              ', ' +\r\n                              x +\r\n                              ', ' +\r\n                              y +\r\n                              ')';\r\n                  }\r\n                  d3.select(this)\r\n                      .attr('x', x)\r\n                      .attr('y', y)\r\n                      .attr('width', lineLength)\r\n                      .attr('height', lineThickness)\r\n                      .attr('transform', transform)\r\n                      .style('stroke-dasharray', '0, ' + (lineLength + lineThickness) + ', 0');\r\n              });\r\n          }\r\n      }\r\n      mainArc\r\n          .attr('transform', function (d) {\r\n          return !$$.isGaugeType(d.data) && withTransform ? 'scale(0)' : '';\r\n      })\r\n          .on('mouseover', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated, arcData;\r\n              if ($$.transiting) {\r\n                  // skip while transiting\r\n                  return;\r\n              }\r\n              updated = $$.updateAngle(d);\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  // transitions\r\n                  $$.expandArc(updated.data.id);\r\n                  $$.api.focus(updated.data.id);\r\n                  $$.toggleFocusLegend(updated.data.id, true);\r\n                  $$.config.data_onmouseover(arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('mousemove', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated = $$.updateAngle(d), arcData, selectedData;\r\n              if (updated) {\r\n                  (arcData = $$.convertToArcData(updated)),\r\n                      (selectedData = [arcData]);\r\n                  $$.showTooltip(selectedData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated, arcData;\r\n              if ($$.transiting) {\r\n                  // skip while transiting\r\n                  return;\r\n              }\r\n              updated = $$.updateAngle(d);\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  // transitions\r\n                  $$.unexpandArc(updated.data.id);\r\n                  $$.api.revert();\r\n                  $$.revertLegend();\r\n                  $$.hideTooltip();\r\n                  $$.config.data_onmouseout(arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('click', config.interaction_enabled\r\n          ? function (d, i) {\r\n              var updated = $$.updateAngle(d), arcData;\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  if ($$.toggleShape) {\r\n                      $$.toggleShape(this, arcData, i);\r\n                  }\r\n                  $$.config.data_onclick.call($$.api, arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .each(function () {\r\n          $$.transiting = true;\r\n      })\r\n          .transition()\r\n          .duration(duration)\r\n          .attrTween('d', function (d) {\r\n          var updated = $$.updateAngle(d), interpolate;\r\n          if (!updated) {\r\n              return function () {\r\n                  return 'M 0 0';\r\n              };\r\n          }\r\n          //                if (this._current === d) {\r\n          //                    this._current = {\r\n          //                        startAngle: Math.PI*2,\r\n          //                        endAngle: Math.PI*2,\r\n          //                    };\r\n          //                }\r\n          if (isNaN(this._current.startAngle)) {\r\n              this._current.startAngle = 0;\r\n          }\r\n          if (isNaN(this._current.endAngle)) {\r\n              this._current.endAngle = this._current.startAngle;\r\n          }\r\n          interpolate = d3.interpolate(this._current, updated);\r\n          this._current = interpolate(0);\r\n          return function (t) {\r\n              // prevents crashing the charts once in transition and chart.destroy() has been called\r\n              if ($$.config === null) {\r\n                  return 'M 0 0';\r\n              }\r\n              var interpolated = interpolate(t);\r\n              interpolated.data = d.data; // data.id will be updated by interporator\r\n              return $$.getArc(interpolated, true);\r\n          };\r\n      })\r\n          .attr('transform', withTransform ? 'scale(1)' : '')\r\n          .style('fill', function (d) {\r\n          return $$.levelColor\r\n              ? $$.levelColor(d.data.values.reduce(function (total, item) {\r\n                  return total + item.value;\r\n              }, 0))\r\n              : $$.color(d.data.id);\r\n      }) // Where gauge reading color would receive customization.\r\n          .call($$.endall, function () {\r\n          $$.transiting = false;\r\n      });\r\n      arcs\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      main\r\n          .selectAll('.' + CLASS.chartArc)\r\n          .select('text')\r\n          .style('opacity', 0)\r\n          .attr('class', function (d) {\r\n          return $$.isGaugeType(d.data) ? CLASS.gaugeValue : '';\r\n      })\r\n          .text($$.textForArcLabel.bind($$))\r\n          .attr('transform', $$.transformForArcLabel.bind($$))\r\n          .style('font-size', function (d) {\r\n          return $$.isGaugeType(d.data) &&\r\n              $$.filterTargetsToShow($$.data.targets).length === 1\r\n              ? Math.round($$.radius / 5) + 'px'\r\n              : '';\r\n      })\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', function (d) {\r\n          return $$.isTargetToShow(d.data.id) && $$.isArcType(d.data) ? 1 : 0;\r\n      });\r\n      main\r\n          .select('.' + CLASS.chartArcsTitle)\r\n          .style('opacity', $$.hasType('donut') || hasGaugeType ? 1 : 0);\r\n      if (hasGaugeType) {\r\n          var index_1 = 0;\r\n          var backgroundArc = $$.arcs\r\n              .select('g.' + CLASS.chartArcsBackground)\r\n              .selectAll('path.' + CLASS.chartArcsBackground)\r\n              .data($$.data.targets);\r\n          backgroundArc\r\n              .enter()\r\n              .append('path')\r\n              .attr('class', function (d, i) {\r\n              return CLASS.chartArcsBackground + ' ' + CLASS.chartArcsBackground + '-' + i;\r\n          })\r\n              .merge(backgroundArc)\r\n              .attr('d', function (d1) {\r\n              if ($$.hiddenTargetIds.indexOf(d1.id) >= 0) {\r\n                  return 'M 0 0';\r\n              }\r\n              var d = {\r\n                  data: [{ value: config.gauge_max }],\r\n                  startAngle: config.gauge_startingAngle,\r\n                  endAngle: -1 *\r\n                      config.gauge_startingAngle *\r\n                      (config.gauge_fullCircle ? Math.PI : 1),\r\n                  index: index_1++\r\n              };\r\n              return $$.getArc(d, true, true);\r\n          });\r\n          backgroundArc.exit().remove();\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeUnit)\r\n              .attr('dy', '.75em')\r\n              .text(config.gauge_label_show ? config.gauge_units : '');\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeMin)\r\n              .attr('dx', -1 *\r\n              ($$.innerRadius +\r\n                  ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2)) +\r\n              'px')\r\n              .attr('dy', '1.2em')\r\n              .text(config.gauge_label_show\r\n              ? $$.textForGaugeMinMax(config.gauge_min, false)\r\n              : '');\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeMax)\r\n              .attr('dx', $$.innerRadius +\r\n              ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2) +\r\n              'px')\r\n              .attr('dy', '1.2em')\r\n              .text(config.gauge_label_show\r\n              ? $$.textForGaugeMinMax(config.gauge_max, true)\r\n              : '');\r\n      }\r\n  };\r\n  ChartInternal.prototype.initGauge = function () {\r\n      var arcs = this.arcs;\r\n      if (this.hasType('gauge')) {\r\n          arcs.append('g').attr('class', CLASS.chartArcsBackground);\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeUnit)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeMin)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeMax)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n      }\r\n  };\r\n  ChartInternal.prototype.getGaugeLabelHeight = function () {\r\n      return this.config.gauge_label_show ? 20 : 0;\r\n  };\n\n  /**\r\n   * Store value into cache\r\n   *\r\n   * @param key\r\n   * @param value\r\n   */\r\n  ChartInternal.prototype.addToCache = function (key, value) {\r\n      this.cache[\"$\" + key] = value;\r\n  };\r\n  /**\r\n   * Returns a cached value or undefined\r\n   *\r\n   * @param key\r\n   * @return {*}\r\n   */\r\n  ChartInternal.prototype.getFromCache = function (key) {\r\n      return this.cache[\"$\" + key];\r\n  };\r\n  /**\r\n   * Reset cached data\r\n   */\r\n  ChartInternal.prototype.resetCache = function () {\r\n      var _this = this;\r\n      Object.keys(this.cache)\r\n          .filter(function (key) { return /^\\$/.test(key); })\r\n          .forEach(function (key) {\r\n          delete _this.cache[key];\r\n      });\r\n  };\r\n  // Old API that stores Targets\r\n  ChartInternal.prototype.hasCaches = function (ids) {\r\n      for (var i = 0; i < ids.length; i++) {\r\n          if (!(ids[i] in this.cache)) {\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n  };\r\n  ChartInternal.prototype.addCache = function (id, target) {\r\n      this.cache[id] = this.cloneTarget(target);\r\n  };\r\n  ChartInternal.prototype.getCaches = function (ids) {\r\n      var targets = [], i;\r\n      for (i = 0; i < ids.length; i++) {\r\n          if (ids[i] in this.cache) {\r\n              targets.push(this.cloneTarget(this.cache[ids[i]]));\r\n          }\r\n      }\r\n      return targets;\r\n  };\n\n  ChartInternal.prototype.categoryName = function (i) {\r\n      var config = this.config;\r\n      return i < config.axis_x_categories.length ? config.axis_x_categories[i] : i;\r\n  };\n\n  ChartInternal.prototype.generateTargetClass = function (targetId) {\r\n      return targetId || targetId === 0 ? ('-' + targetId).replace(/\\s/g, '-') : '';\r\n  };\r\n  ChartInternal.prototype.generateClass = function (prefix, targetId) {\r\n      return ' ' + prefix + ' ' + prefix + this.generateTargetClass(targetId);\r\n  };\r\n  ChartInternal.prototype.classText = function (d) {\r\n      return this.generateClass(CLASS.text, d.index);\r\n  };\r\n  ChartInternal.prototype.classTexts = function (d) {\r\n      return this.generateClass(CLASS.texts, d.id);\r\n  };\r\n  ChartInternal.prototype.classShape = function (d) {\r\n      return this.generateClass(CLASS.shape, d.index);\r\n  };\r\n  ChartInternal.prototype.classShapes = function (d) {\r\n      return this.generateClass(CLASS.shapes, d.id);\r\n  };\r\n  ChartInternal.prototype.classLine = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.line, d.id);\r\n  };\r\n  ChartInternal.prototype.classLines = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.lines, d.id);\r\n  };\r\n  ChartInternal.prototype.classCircle = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.circle, d.index);\r\n  };\r\n  ChartInternal.prototype.classCircles = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.circles, d.id);\r\n  };\r\n  ChartInternal.prototype.classBar = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.bar, d.index);\r\n  };\r\n  ChartInternal.prototype.classBars = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.bars, d.id);\r\n  };\r\n  ChartInternal.prototype.classArc = function (d) {\r\n      return this.classShape(d.data) + this.generateClass(CLASS.arc, d.data.id);\r\n  };\r\n  ChartInternal.prototype.classArcs = function (d) {\r\n      return this.classShapes(d.data) + this.generateClass(CLASS.arcs, d.data.id);\r\n  };\r\n  ChartInternal.prototype.classArea = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.area, d.id);\r\n  };\r\n  ChartInternal.prototype.classAreas = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.areas, d.id);\r\n  };\r\n  ChartInternal.prototype.classRegion = function (d, i) {\r\n      return (this.generateClass(CLASS.region, i) + ' ' + ('class' in d ? d['class'] : ''));\r\n  };\r\n  ChartInternal.prototype.classEvent = function (d) {\r\n      return this.generateClass(CLASS.eventRect, d.index);\r\n  };\r\n  ChartInternal.prototype.classTarget = function (id) {\r\n      var $$ = this;\r\n      var additionalClassSuffix = $$.config.data_classes[id], additionalClass = '';\r\n      if (additionalClassSuffix) {\r\n          additionalClass = ' ' + CLASS.target + '-' + additionalClassSuffix;\r\n      }\r\n      return $$.generateClass(CLASS.target, id) + additionalClass;\r\n  };\r\n  ChartInternal.prototype.classFocus = function (d) {\r\n      return this.classFocused(d) + this.classDefocused(d);\r\n  };\r\n  ChartInternal.prototype.classFocused = function (d) {\r\n      return ' ' + (this.focusedTargetIds.indexOf(d.id) >= 0 ? CLASS.focused : '');\r\n  };\r\n  ChartInternal.prototype.classDefocused = function (d) {\r\n      return (' ' + (this.defocusedTargetIds.indexOf(d.id) >= 0 ? CLASS.defocused : ''));\r\n  };\r\n  ChartInternal.prototype.classChartText = function (d) {\r\n      return CLASS.chartText + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartLine = function (d) {\r\n      return CLASS.chartLine + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartBar = function (d) {\r\n      return CLASS.chartBar + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartArc = function (d) {\r\n      return CLASS.chartArc + this.classTarget(d.data.id);\r\n  };\r\n  ChartInternal.prototype.getTargetSelectorSuffix = function (targetId) {\r\n      var targetClass = this.generateTargetClass(targetId);\r\n      if (window.CSS && window.CSS.escape) {\r\n          return window.CSS.escape(targetClass);\r\n      }\r\n      // fallback on imperfect method for old browsers (does not handles unicode)\r\n      return targetClass.replace(/([?!@#$%^&*()=+,.<>'\":;\\[\\]\\/|~`{}\\\\])/g, '\\\\$1');\r\n  };\r\n  ChartInternal.prototype.selectorTarget = function (id, prefix) {\r\n      return (prefix || '') + '.' + CLASS.target + this.getTargetSelectorSuffix(id);\r\n  };\r\n  ChartInternal.prototype.selectorTargets = function (ids, prefix) {\r\n      var $$ = this;\r\n      ids = ids || [];\r\n      return ids.length\r\n          ? ids.map(function (id) {\r\n              return $$.selectorTarget(id, prefix);\r\n          })\r\n          : null;\r\n  };\r\n  ChartInternal.prototype.selectorLegend = function (id) {\r\n      return '.' + CLASS.legendItem + this.getTargetSelectorSuffix(id);\r\n  };\r\n  ChartInternal.prototype.selectorLegends = function (ids) {\r\n      var $$ = this;\r\n      return ids && ids.length\r\n          ? ids.map(function (id) {\r\n              return $$.selectorLegend(id);\r\n          })\r\n          : null;\r\n  };\n\n  ChartInternal.prototype.getClipPath = function (id) {\r\n      return 'url(' + (isIE(9) ? '' : document.URL.split('#')[0]) + '#' + id + ')';\r\n  };\r\n  ChartInternal.prototype.appendClip = function (parent, id) {\r\n      return parent\r\n          .append('clipPath')\r\n          .attr('id', id)\r\n          .append('rect');\r\n  };\r\n  ChartInternal.prototype.getAxisClipX = function (forHorizontal) {\r\n      // axis line width + padding for left\r\n      var left = Math.max(30, this.margin.left);\r\n      return forHorizontal ? -(1 + left) : -(left - 1);\r\n  };\r\n  ChartInternal.prototype.getAxisClipY = function (forHorizontal) {\r\n      return forHorizontal ? -20 : -this.margin.top;\r\n  };\r\n  ChartInternal.prototype.getXAxisClipX = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipX(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipY = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipY(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipX = function () {\r\n      var $$ = this;\r\n      return $$.config.axis_y_inner ? -1 : $$.getAxisClipX($$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipY = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipY($$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getAxisClipWidth = function (forHorizontal) {\r\n      var $$ = this, left = Math.max(30, $$.margin.left), right = Math.max(30, $$.margin.right);\r\n      // width + axis line width + padding for left/right\r\n      return forHorizontal ? $$.width + 2 + left + right : $$.margin.left + 20;\r\n  };\r\n  ChartInternal.prototype.getAxisClipHeight = function (forHorizontal) {\r\n      // less than 20 is not enough to show the axis label 'outer' without legend\r\n      return ((forHorizontal ? this.margin.bottom : this.margin.top + this.height) + 20);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipWidth = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipWidth(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipHeight = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipHeight(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipWidth = function () {\r\n      var $$ = this;\r\n      return ($$.getAxisClipWidth($$.config.axis_rotated) +\r\n          ($$.config.axis_y_inner ? 20 : 0));\r\n  };\r\n  ChartInternal.prototype.getYAxisClipHeight = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipHeight($$.config.axis_rotated);\r\n  };\n\n  ChartInternal.prototype.generateColor = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, colors = config.data_colors, pattern = notEmpty(config.color_pattern)\r\n          ? config.color_pattern\r\n          : d3.schemeCategory10, callback = config.data_color, ids = [];\r\n      return function (d) {\r\n          var id = d.id || (d.data && d.data.id) || d, color;\r\n          // if callback function is provided\r\n          if (colors[id] instanceof Function) {\r\n              color = colors[id](d);\r\n          }\r\n          // if specified, choose that color\r\n          else if (colors[id]) {\r\n              color = colors[id];\r\n          }\r\n          // if not specified, choose from pattern\r\n          else {\r\n              if (ids.indexOf(id) < 0) {\r\n                  ids.push(id);\r\n              }\r\n              color = pattern[ids.indexOf(id) % pattern.length];\r\n              colors[id] = color;\r\n          }\r\n          return callback instanceof Function ? callback(color, d) : color;\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateLevelColor = function () {\r\n      var $$ = this, config = $$.config, colors = config.color_pattern, threshold = config.color_threshold, asValue = threshold.unit === 'value', values = threshold.values && threshold.values.length ? threshold.values : [], max = threshold.max || 100;\r\n      return notEmpty(threshold) && notEmpty(colors)\r\n          ? function (value) {\r\n              var i, v, color = colors[colors.length - 1];\r\n              for (i = 0; i < values.length; i++) {\r\n                  v = asValue ? value : (value * 100) / max;\r\n                  if (v < values[i]) {\r\n                      color = colors[i];\r\n                      break;\r\n                  }\r\n              }\r\n              return color;\r\n          }\r\n          : null;\r\n  };\n\n  ChartInternal.prototype.getDefaultConfig = function () {\r\n      var config = {\r\n          bindto: '#chart',\r\n          svg_classname: undefined,\r\n          size_width: undefined,\r\n          size_height: undefined,\r\n          padding_left: undefined,\r\n          padding_right: undefined,\r\n          padding_top: undefined,\r\n          padding_bottom: undefined,\r\n          resize_auto: true,\r\n          zoom_enabled: false,\r\n          zoom_initialRange: undefined,\r\n          zoom_type: 'scroll',\r\n          zoom_disableDefaultBehavior: false,\r\n          zoom_privileged: false,\r\n          zoom_rescale: false,\r\n          zoom_onzoom: function () { },\r\n          zoom_onzoomstart: function () { },\r\n          zoom_onzoomend: function () { },\r\n          zoom_x_min: undefined,\r\n          zoom_x_max: undefined,\r\n          interaction_brighten: true,\r\n          interaction_enabled: true,\r\n          onmouseover: function () { },\r\n          onmouseout: function () { },\r\n          onresize: function () { },\r\n          onresized: function () { },\r\n          oninit: function () { },\r\n          onrendered: function () { },\r\n          transition_duration: 350,\r\n          data_epochs: 'epochs',\r\n          data_x: undefined,\r\n          data_xs: {},\r\n          data_xFormat: '%Y-%m-%d',\r\n          data_xLocaltime: true,\r\n          data_xSort: true,\r\n          data_idConverter: function (id) {\r\n              return id;\r\n          },\r\n          data_names: {},\r\n          data_classes: {},\r\n          data_groups: [],\r\n          data_axes: {},\r\n          data_type: undefined,\r\n          data_types: {},\r\n          data_labels: {},\r\n          data_order: 'desc',\r\n          data_regions: {},\r\n          data_color: undefined,\r\n          data_colors: {},\r\n          data_hide: false,\r\n          data_filter: undefined,\r\n          data_selection_enabled: false,\r\n          data_selection_grouped: false,\r\n          data_selection_isselectable: function () {\r\n              return true;\r\n          },\r\n          data_selection_multiple: true,\r\n          data_selection_draggable: false,\r\n          data_stack_normalize: false,\r\n          data_onclick: function () { },\r\n          data_onmouseover: function () { },\r\n          data_onmouseout: function () { },\r\n          data_onselected: function () { },\r\n          data_onunselected: function () { },\r\n          data_url: undefined,\r\n          data_headers: undefined,\r\n          data_json: undefined,\r\n          data_rows: undefined,\r\n          data_columns: undefined,\r\n          data_mimeType: undefined,\r\n          data_keys: undefined,\r\n          // configuration for no plot-able data supplied.\r\n          data_empty_label_text: '',\r\n          // subchart\r\n          subchart_show: false,\r\n          subchart_size_height: 60,\r\n          subchart_axis_x_show: true,\r\n          subchart_onbrush: function () { },\r\n          // color\r\n          color_pattern: [],\r\n          color_threshold: {},\r\n          // legend\r\n          legend_show: true,\r\n          legend_hide: false,\r\n          legend_position: 'bottom',\r\n          legend_inset_anchor: 'top-left',\r\n          legend_inset_x: 10,\r\n          legend_inset_y: 0,\r\n          legend_inset_step: undefined,\r\n          legend_item_onclick: undefined,\r\n          legend_item_onmouseover: undefined,\r\n          legend_item_onmouseout: undefined,\r\n          legend_equally: false,\r\n          legend_padding: 0,\r\n          legend_item_tile_width: 10,\r\n          legend_item_tile_height: 10,\r\n          // axis\r\n          axis_rotated: false,\r\n          axis_x_show: true,\r\n          axis_x_type: 'indexed',\r\n          axis_x_localtime: true,\r\n          axis_x_categories: [],\r\n          axis_x_tick_centered: false,\r\n          axis_x_tick_format: undefined,\r\n          axis_x_tick_culling: {},\r\n          axis_x_tick_culling_max: 10,\r\n          axis_x_tick_count: undefined,\r\n          axis_x_tick_fit: true,\r\n          axis_x_tick_values: null,\r\n          axis_x_tick_rotate: 0,\r\n          axis_x_tick_outer: true,\r\n          axis_x_tick_multiline: true,\r\n          axis_x_tick_multilineMax: 0,\r\n          axis_x_tick_width: null,\r\n          axis_x_max: undefined,\r\n          axis_x_min: undefined,\r\n          axis_x_padding: {},\r\n          axis_x_height: undefined,\r\n          axis_x_selection: undefined,\r\n          axis_x_label: {},\r\n          axis_x_inner: undefined,\r\n          axis_y_show: true,\r\n          axis_y_type: 'linear',\r\n          axis_y_max: undefined,\r\n          axis_y_min: undefined,\r\n          axis_y_inverted: false,\r\n          axis_y_center: undefined,\r\n          axis_y_inner: undefined,\r\n          axis_y_label: {},\r\n          axis_y_tick_format: undefined,\r\n          axis_y_tick_outer: true,\r\n          axis_y_tick_values: null,\r\n          axis_y_tick_rotate: 0,\r\n          axis_y_tick_count: undefined,\r\n          axis_y_tick_time_type: undefined,\r\n          axis_y_tick_time_interval: undefined,\r\n          axis_y_padding: {},\r\n          axis_y_default: undefined,\r\n          axis_y2_show: false,\r\n          axis_y2_type: 'linear',\r\n          axis_y2_max: undefined,\r\n          axis_y2_min: undefined,\r\n          axis_y2_inverted: false,\r\n          axis_y2_center: undefined,\r\n          axis_y2_inner: undefined,\r\n          axis_y2_label: {},\r\n          axis_y2_tick_format: undefined,\r\n          axis_y2_tick_outer: true,\r\n          axis_y2_tick_values: null,\r\n          axis_y2_tick_count: undefined,\r\n          axis_y2_padding: {},\r\n          axis_y2_default: undefined,\r\n          // grid\r\n          grid_x_show: false,\r\n          grid_x_type: 'tick',\r\n          grid_x_lines: [],\r\n          grid_y_show: false,\r\n          // not used\r\n          // grid_y_type: 'tick',\r\n          grid_y_lines: [],\r\n          grid_y_ticks: 10,\r\n          grid_focus_show: true,\r\n          grid_lines_front: true,\r\n          // point - point of each data\r\n          point_show: true,\r\n          point_r: 2.5,\r\n          point_sensitivity: 10,\r\n          point_focus_expand_enabled: true,\r\n          point_focus_expand_r: undefined,\r\n          point_select_r: undefined,\r\n          // line\r\n          line_connectNull: false,\r\n          line_step_type: 'step',\r\n          // bar\r\n          bar_width: undefined,\r\n          bar_width_ratio: 0.6,\r\n          bar_width_max: undefined,\r\n          bar_zerobased: true,\r\n          bar_space: 0,\r\n          // area\r\n          area_zerobased: true,\r\n          area_above: false,\r\n          // pie\r\n          pie_label_show: true,\r\n          pie_label_format: undefined,\r\n          pie_label_threshold: 0.05,\r\n          pie_label_ratio: undefined,\r\n          pie_expand: {},\r\n          pie_expand_duration: 50,\r\n          pie_padAngle: 0,\r\n          // gauge\r\n          gauge_fullCircle: false,\r\n          gauge_label_show: true,\r\n          gauge_labelLine_show: true,\r\n          gauge_label_format: undefined,\r\n          gauge_min: 0,\r\n          gauge_max: 100,\r\n          gauge_startingAngle: (-1 * Math.PI) / 2,\r\n          gauge_label_extents: undefined,\r\n          gauge_units: undefined,\r\n          gauge_width: undefined,\r\n          gauge_arcs_minWidth: 5,\r\n          gauge_expand: {},\r\n          gauge_expand_duration: 50,\r\n          // donut\r\n          donut_label_show: true,\r\n          donut_label_format: undefined,\r\n          donut_label_threshold: 0.05,\r\n          donut_label_ratio: undefined,\r\n          donut_width: undefined,\r\n          donut_title: '',\r\n          donut_expand: {},\r\n          donut_expand_duration: 50,\r\n          donut_padAngle: 0,\r\n          // spline\r\n          spline_interpolation_type: 'cardinal',\r\n          // stanford\r\n          stanford_lines: [],\r\n          stanford_regions: [],\r\n          stanford_texts: [],\r\n          stanford_scaleMin: undefined,\r\n          stanford_scaleMax: undefined,\r\n          stanford_scaleWidth: undefined,\r\n          stanford_scaleFormat: undefined,\r\n          stanford_scaleValues: undefined,\r\n          stanford_colors: undefined,\r\n          stanford_padding: {\r\n              top: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              left: 0\r\n          },\r\n          // region - region to change style\r\n          regions: [],\r\n          // tooltip - show when mouseover on each data\r\n          tooltip_show: true,\r\n          tooltip_grouped: true,\r\n          tooltip_order: undefined,\r\n          tooltip_format_title: undefined,\r\n          tooltip_format_name: undefined,\r\n          tooltip_format_value: undefined,\r\n          tooltip_horizontal: undefined,\r\n          tooltip_position: undefined,\r\n          tooltip_contents: function (d, defaultTitleFormat, defaultValueFormat, color) {\r\n              return this.getTooltipContent\r\n                  ? this.getTooltipContent(d, defaultTitleFormat, defaultValueFormat, color)\r\n                  : '';\r\n          },\r\n          tooltip_init_show: false,\r\n          tooltip_init_x: 0,\r\n          tooltip_init_position: { top: '0px', left: '50px' },\r\n          tooltip_onshow: function () { },\r\n          tooltip_onhide: function () { },\r\n          // title\r\n          title_text: undefined,\r\n          title_padding: {\r\n              top: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              left: 0\r\n          },\r\n          title_position: 'top-center'\r\n      };\r\n      Object.keys(this.additionalConfig).forEach(function (key) {\r\n          config[key] = this.additionalConfig[key];\r\n      }, this);\r\n      return config;\r\n  };\r\n  ChartInternal.prototype.additionalConfig = {};\r\n  ChartInternal.prototype.loadConfig = function (config) {\r\n      var this_config = this.config, target, keys, read;\r\n      function find() {\r\n          var key = keys.shift();\r\n          //        console.log(\"key =>\", key, \", target =>\", target);\r\n          if (key && target && typeof target === 'object' && key in target) {\r\n              target = target[key];\r\n              return find();\r\n          }\r\n          else if (!key) {\r\n              return target;\r\n          }\r\n          else {\r\n              return undefined;\r\n          }\r\n      }\r\n      Object.keys(this_config).forEach(function (key) {\r\n          target = config;\r\n          keys = key.split('_');\r\n          read = find();\r\n          //        console.log(\"CONFIG : \", key, read);\r\n          if (isDefined(read)) {\r\n              this_config[key] = read;\r\n          }\r\n      });\r\n  };\n\n  ChartInternal.prototype.convertUrlToData = function (url, mimeType, headers, keys, done) {\r\n      var $$ = this, type = mimeType ? mimeType : 'csv', f, converter;\r\n      if (type === 'json') {\r\n          f = $$.d3.json;\r\n          converter = $$.convertJsonToData;\r\n      }\r\n      else if (type === 'tsv') {\r\n          f = $$.d3.tsv;\r\n          converter = $$.convertXsvToData;\r\n      }\r\n      else {\r\n          f = $$.d3.csv;\r\n          converter = $$.convertXsvToData;\r\n      }\r\n      f(url, headers)\r\n          .then(function (data) {\r\n          done.call($$, converter.call($$, data, keys));\r\n      })\r\n          .catch(function (error) {\r\n          throw error;\r\n      });\r\n  };\r\n  ChartInternal.prototype.convertXsvToData = function (xsv) {\r\n      var keys = xsv.columns, rows = xsv;\r\n      if (rows.length === 0) {\r\n          return {\r\n              keys: keys,\r\n              rows: [keys.reduce(function (row, key) {\r\n                      var _a;\r\n                      return Object.assign(row, (_a = {}, _a[key] = null, _a));\r\n                  }, {})]\r\n          };\r\n      }\r\n      else {\r\n          // [].concat() is to convert result into a plain array otherwise\r\n          // test is not happy because rows have properties.\r\n          return { keys: keys, rows: [].concat(xsv) };\r\n      }\r\n  };\r\n  ChartInternal.prototype.convertJsonToData = function (json, keys) {\r\n      var $$ = this, new_rows = [], targetKeys, data;\r\n      if (keys) {\r\n          // when keys specified, json would be an array that includes objects\r\n          if (keys.x) {\r\n              targetKeys = keys.value.concat(keys.x);\r\n              $$.config.data_x = keys.x;\r\n          }\r\n          else {\r\n              targetKeys = keys.value;\r\n          }\r\n          new_rows.push(targetKeys);\r\n          json.forEach(function (o) {\r\n              var new_row = [];\r\n              targetKeys.forEach(function (key) {\r\n                  // convert undefined to null because undefined data will be removed in convertDataToTargets()\r\n                  var v = $$.findValueInJson(o, key);\r\n                  if (isUndefined(v)) {\r\n                      v = null;\r\n                  }\r\n                  new_row.push(v);\r\n              });\r\n              new_rows.push(new_row);\r\n          });\r\n          data = $$.convertRowsToData(new_rows);\r\n      }\r\n      else {\r\n          Object.keys(json).forEach(function (key) {\r\n              new_rows.push([key].concat(json[key]));\r\n          });\r\n          data = $$.convertColumnsToData(new_rows);\r\n      }\r\n      return data;\r\n  };\r\n  /**\r\n   * Finds value from the given nested object by the given path.\r\n   * If it's not found, then this returns undefined.\r\n   * @param {Object} object the object\r\n   * @param {string} path the path\r\n   */\r\n  ChartInternal.prototype.findValueInJson = function (object, path) {\r\n      if (path in object) {\r\n          // If object has a key that contains . or [], return the key's value\r\n          // instead of searching for an inner object.\r\n          // See https://github.com/c3js/c3/issues/1691 for details.\r\n          return object[path];\r\n      }\r\n      path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties (replace [] with .)\r\n      path = path.replace(/^\\./, ''); // strip a leading dot\r\n      var pathArray = path.split('.');\r\n      for (var i = 0; i < pathArray.length; ++i) {\r\n          var k = pathArray[i];\r\n          if (k in object) {\r\n              object = object[k];\r\n          }\r\n          else {\r\n              return;\r\n          }\r\n      }\r\n      return object;\r\n  };\r\n  /**\r\n   * Converts the rows to normalized data.\r\n   * @param {any[][]} rows The row data\r\n   * @return {Object}\r\n   */\r\n  ChartInternal.prototype.convertRowsToData = function (rows) {\r\n      var newRows = [];\r\n      var keys = rows[0];\r\n      for (var i = 1; i < rows.length; i++) {\r\n          var newRow = {};\r\n          for (var j = 0; j < rows[i].length; j++) {\r\n              if (isUndefined(rows[i][j])) {\r\n                  throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\r\n              }\r\n              newRow[keys[j]] = rows[i][j];\r\n          }\r\n          newRows.push(newRow);\r\n      }\r\n      return { keys: keys, rows: newRows };\r\n  };\r\n  /**\r\n   * Converts the columns to normalized data.\r\n   * @param {any[][]} columns The column data\r\n   * @return {Object}\r\n   */\r\n  ChartInternal.prototype.convertColumnsToData = function (columns) {\r\n      var newRows = [];\r\n      var keys = [];\r\n      for (var i = 0; i < columns.length; i++) {\r\n          var key = columns[i][0];\r\n          for (var j = 1; j < columns[i].length; j++) {\r\n              if (isUndefined(newRows[j - 1])) {\r\n                  newRows[j - 1] = {};\r\n              }\r\n              if (isUndefined(columns[i][j])) {\r\n                  throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\r\n              }\r\n              newRows[j - 1][key] = columns[i][j];\r\n          }\r\n          keys.push(key);\r\n      }\r\n      return { keys: keys, rows: newRows };\r\n  };\r\n  /**\r\n   * Converts the data format into the target format.\r\n   * @param {!Object} data\r\n   * @param {!Array} data.keys Ordered list of target IDs.\r\n   * @param {!Array} data.rows Rows of data to convert.\r\n   * @param {boolean} appendXs True to append to $$.data.xs, False to replace.\r\n   * @return {!Array}\r\n   */\r\n  ChartInternal.prototype.convertDataToTargets = function (data, appendXs) {\r\n      var $$ = this, config = $$.config, targets, ids, xs, keys, epochs;\r\n      // handles format where keys are not orderly provided\r\n      if (isArray(data)) {\r\n          keys = Object.keys(data[0]);\r\n      }\r\n      else {\r\n          keys = data.keys;\r\n          data = data.rows;\r\n      }\r\n      xs = keys.filter($$.isX, $$);\r\n      if (!$$.isStanfordGraphType()) {\r\n          ids = keys.filter($$.isNotX, $$);\r\n      }\r\n      else {\r\n          epochs = keys.filter($$.isEpochs, $$);\r\n          ids = keys.filter($$.isNotXAndNotEpochs, $$);\r\n          if (xs.length !== 1 || epochs.length !== 1 || ids.length !== 1) {\r\n              throw new Error(\"You must define the 'x' key name and the 'epochs' for Stanford Diagrams\");\r\n          }\r\n      }\r\n      // save x for update data by load when custom x and c3.x API\r\n      ids.forEach(function (id) {\r\n          var xKey = $$.getXKey(id);\r\n          if ($$.isCustomX() || $$.isTimeSeries()) {\r\n              // if included in input data\r\n              if (xs.indexOf(xKey) >= 0) {\r\n                  $$.data.xs[id] = (appendXs && $$.data.xs[id]\r\n                      ? $$.data.xs[id]\r\n                      : []).concat(data\r\n                      .map(function (d) {\r\n                      return d[xKey];\r\n                  })\r\n                      .filter(isValue)\r\n                      .map(function (rawX, i) {\r\n                      return $$.generateTargetX(rawX, id, i);\r\n                  }));\r\n              }\r\n              // if not included in input data, find from preloaded data of other id's x\r\n              else if (config.data_x) {\r\n                  $$.data.xs[id] = $$.getOtherTargetXs();\r\n              }\r\n              // if not included in input data, find from preloaded data\r\n              else if (notEmpty(config.data_xs)) {\r\n                  $$.data.xs[id] = $$.getXValuesOfXKey(xKey, $$.data.targets);\r\n              }\r\n              // MEMO: if no x included, use same x of current will be used\r\n          }\r\n          else {\r\n              $$.data.xs[id] = data.map(function (d, i) {\r\n                  return i;\r\n              });\r\n          }\r\n      });\r\n      // check x is defined\r\n      ids.forEach(function (id) {\r\n          if (!$$.data.xs[id]) {\r\n              throw new Error('x is not defined for id = \"' + id + '\".');\r\n          }\r\n      });\r\n      // convert to target\r\n      targets = ids.map(function (id, index) {\r\n          var convertedId = config.data_idConverter(id);\r\n          return {\r\n              id: convertedId,\r\n              id_org: id,\r\n              values: data\r\n                  .map(function (d, i) {\r\n                  var xKey = $$.getXKey(id), rawX = d[xKey], value = d[id] !== null && !isNaN(d[id]) ? +d[id] : null, x, returnData;\r\n                  // use x as categories if custom x and categorized\r\n                  if ($$.isCustomX() && $$.isCategorized() && !isUndefined(rawX)) {\r\n                      if (index === 0 && i === 0) {\r\n                          config.axis_x_categories = [];\r\n                      }\r\n                      x = config.axis_x_categories.indexOf(rawX);\r\n                      if (x === -1) {\r\n                          x = config.axis_x_categories.length;\r\n                          config.axis_x_categories.push(rawX);\r\n                      }\r\n                  }\r\n                  else {\r\n                      x = $$.generateTargetX(rawX, id, i);\r\n                  }\r\n                  // mark as x = undefined if value is undefined and filter to remove after mapped\r\n                  if (isUndefined(d[id]) || $$.data.xs[id].length <= i) {\r\n                      x = undefined;\r\n                  }\r\n                  returnData = { x: x, value: value, id: convertedId };\r\n                  if ($$.isStanfordGraphType()) {\r\n                      returnData.epochs = d[epochs];\r\n                  }\r\n                  return returnData;\r\n              })\r\n                  .filter(function (v) {\r\n                  return isDefined(v.x);\r\n              })\r\n          };\r\n      });\r\n      // finish targets\r\n      targets.forEach(function (t) {\r\n          var i;\r\n          // sort values by its x\r\n          if (config.data_xSort) {\r\n              t.values = t.values.sort(function (v1, v2) {\r\n                  var x1 = v1.x || v1.x === 0 ? v1.x : Infinity, x2 = v2.x || v2.x === 0 ? v2.x : Infinity;\r\n                  return x1 - x2;\r\n              });\r\n          }\r\n          // indexing each value\r\n          i = 0;\r\n          t.values.forEach(function (v) {\r\n              v.index = i++;\r\n          });\r\n          // this needs to be sorted because its index and value.index is identical\r\n          $$.data.xs[t.id].sort(function (v1, v2) {\r\n              return v1 - v2;\r\n          });\r\n      });\r\n      // cache information about values\r\n      $$.hasNegativeValue = $$.hasNegativeValueInTargets(targets);\r\n      $$.hasPositiveValue = $$.hasPositiveValueInTargets(targets);\r\n      // set target types\r\n      if (config.data_type) {\r\n          $$.setTargetType($$.mapToIds(targets).filter(function (id) {\r\n              return !(id in config.data_types);\r\n          }), config.data_type);\r\n      }\r\n      // cache as original id keyed\r\n      targets.forEach(function (d) {\r\n          $$.addCache(d.id_org, d);\r\n      });\r\n      return targets;\r\n  };\n\n  ChartInternal.prototype.isEpochs = function (key) {\r\n      var $$ = this, config = $$.config;\r\n      return config.data_epochs && key === config.data_epochs;\r\n  };\r\n  ChartInternal.prototype.isX = function (key) {\r\n      var $$ = this, config = $$.config;\r\n      return ((config.data_x && key === config.data_x) ||\r\n          (notEmpty(config.data_xs) && hasValue(config.data_xs, key)));\r\n  };\r\n  ChartInternal.prototype.isNotX = function (key) {\r\n      return !this.isX(key);\r\n  };\r\n  ChartInternal.prototype.isNotXAndNotEpochs = function (key) {\r\n      return !this.isX(key) && !this.isEpochs(key);\r\n  };\r\n  /**\r\n   * Returns whether the normalized stack option is enabled or not.\r\n   *\r\n   * To be enabled it must also have data.groups defined.\r\n   *\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isStackNormalized = function () {\r\n      return this.config.data_stack_normalize && this.config.data_groups.length > 0;\r\n  };\r\n  /**\r\n   * Returns whether the axis is normalized or not.\r\n   *\r\n   * An axis is normalized as long as one of its associated target\r\n   * is normalized.\r\n   *\r\n   * @param axisId Axis ID (y or y2)\r\n   * @return {Boolean}\r\n   */\r\n  ChartInternal.prototype.isAxisNormalized = function (axisId) {\r\n      var $$ = this;\r\n      if (!$$.isStackNormalized()) {\r\n          // shortcut\r\n          return false;\r\n      }\r\n      return $$.data.targets\r\n          .filter(function (target) { return $$.axis.getId(target.id) === axisId; })\r\n          .some(function (target) { return $$.isTargetNormalized(target.id); });\r\n  };\r\n  /**\r\n   * Returns whether the values for this target ID is normalized or not.\r\n   *\r\n   * To be normalized the option needs to be enabled and target needs\r\n   * to be defined in `data.groups`.\r\n   *\r\n   * @param targetId ID of the target\r\n   * @return {Boolean} True if the target is normalized, false otherwise.\r\n   */\r\n  ChartInternal.prototype.isTargetNormalized = function (targetId) {\r\n      var $$ = this;\r\n      return ($$.isStackNormalized() &&\r\n          $$.config.data_groups.some(function (group) { return group.includes(targetId); }));\r\n  };\r\n  ChartInternal.prototype.getXKey = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      return config.data_x\r\n          ? config.data_x\r\n          : notEmpty(config.data_xs)\r\n              ? config.data_xs[id]\r\n              : null;\r\n  };\r\n  /**\r\n   * Get sum of visible data per index for given axis.\r\n   *\r\n   * Expect axisId to be either 'y' or 'y2'.\r\n   *\r\n   * @private\r\n   * @param axisId Compute sum for data associated to given axis.\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.getTotalPerIndex = function (axisId) {\r\n      var $$ = this;\r\n      if (!$$.isStackNormalized()) {\r\n          return null;\r\n      }\r\n      var cached = $$.getFromCache('getTotalPerIndex');\r\n      if (cached !== undefined) {\r\n          return cached[axisId];\r\n      }\r\n      var sum = { y: [], y2: [] };\r\n      $$.data.targets\r\n          // keep only target that are normalized\r\n          .filter(function (target) { return $$.isTargetNormalized(target.id); })\r\n          // keep only target that are visible\r\n          .filter(function (target) { return $$.isTargetToShow(target.id); })\r\n          // compute sum per axis\r\n          .forEach(function (target) {\r\n          var sumByAxis = sum[$$.axis.getId(target.id)];\r\n          target.values.forEach(function (v, i) {\r\n              if (!sumByAxis[i]) {\r\n                  sumByAxis[i] = 0;\r\n              }\r\n              sumByAxis[i] += isNumber(v.value) ? v.value : 0;\r\n          });\r\n      });\r\n      $$.addToCache('getTotalPerIndex', sum);\r\n      return sum[axisId];\r\n  };\r\n  /**\r\n   * Get sum of visible data.\r\n   *\r\n   * Should be used for normalised data only since all values\r\n   * are expected to be positive.\r\n   *\r\n   * @private\r\n   * @return {Number}\r\n   */\r\n  ChartInternal.prototype.getTotalDataSum = function () {\r\n      var $$ = this;\r\n      var cached = $$.getFromCache('getTotalDataSum');\r\n      if (cached !== undefined) {\r\n          return cached;\r\n      }\r\n      var totalDataSum = flattenArray($$.data.targets\r\n          .filter(function (target) { return $$.isTargetToShow(target.id); })\r\n          .map(function (target) { return target.values; }))\r\n          .map(function (d) { return d.value; })\r\n          .reduce(function (p, c) { return p + c; }, 0);\r\n      $$.addToCache('getTotalDataSum', totalDataSum);\r\n      return totalDataSum;\r\n  };\r\n  ChartInternal.prototype.getXValuesOfXKey = function (key, targets) {\r\n      var $$ = this, xValues, ids = targets && notEmpty(targets) ? $$.mapToIds(targets) : [];\r\n      ids.forEach(function (id) {\r\n          if ($$.getXKey(id) === key) {\r\n              xValues = $$.data.xs[id];\r\n          }\r\n      });\r\n      return xValues;\r\n  };\r\n  ChartInternal.prototype.getXValue = function (id, i) {\r\n      var $$ = this;\r\n      return id in $$.data.xs && $$.data.xs[id] && isValue($$.data.xs[id][i])\r\n          ? $$.data.xs[id][i]\r\n          : i;\r\n  };\r\n  ChartInternal.prototype.getOtherTargetXs = function () {\r\n      var $$ = this, idsForX = Object.keys($$.data.xs);\r\n      return idsForX.length ? $$.data.xs[idsForX[0]] : null;\r\n  };\r\n  ChartInternal.prototype.getOtherTargetX = function (index) {\r\n      var xs = this.getOtherTargetXs();\r\n      return xs && index < xs.length ? xs[index] : null;\r\n  };\r\n  ChartInternal.prototype.addXs = function (xs) {\r\n      var $$ = this;\r\n      Object.keys(xs).forEach(function (id) {\r\n          $$.config.data_xs[id] = xs[id];\r\n      });\r\n  };\r\n  ChartInternal.prototype.addName = function (data) {\r\n      var $$ = this, name;\r\n      if (data) {\r\n          name = $$.config.data_names[data.id];\r\n          data.name = name !== undefined ? name : data.id;\r\n      }\r\n      return data;\r\n  };\r\n  ChartInternal.prototype.getValueOnIndex = function (values, index) {\r\n      var valueOnIndex = values.filter(function (v) {\r\n          return v.index === index;\r\n      });\r\n      return valueOnIndex.length ? valueOnIndex[0] : null;\r\n  };\r\n  ChartInternal.prototype.updateTargetX = function (targets, x) {\r\n      var $$ = this;\r\n      targets.forEach(function (t) {\r\n          t.values.forEach(function (v, i) {\r\n              v.x = $$.generateTargetX(x[i], t.id, i);\r\n          });\r\n          $$.data.xs[t.id] = x;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateTargetXs = function (targets, xs) {\r\n      var $$ = this;\r\n      targets.forEach(function (t) {\r\n          if (xs[t.id]) {\r\n              $$.updateTargetX([t], xs[t.id]);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateTargetX = function (rawX, id, index) {\r\n      var $$ = this, x;\r\n      if ($$.isTimeSeries()) {\r\n          x = rawX ? $$.parseDate(rawX) : $$.parseDate($$.getXValue(id, index));\r\n      }\r\n      else if ($$.isCustomX() && !$$.isCategorized()) {\r\n          x = isValue(rawX) ? +rawX : $$.getXValue(id, index);\r\n      }\r\n      else {\r\n          x = index;\r\n      }\r\n      return x;\r\n  };\r\n  ChartInternal.prototype.cloneTarget = function (target) {\r\n      return {\r\n          id: target.id,\r\n          id_org: target.id_org,\r\n          values: target.values.map(function (d) {\r\n              return {\r\n                  x: d.x,\r\n                  value: d.value,\r\n                  id: d.id\r\n              };\r\n          })\r\n      };\r\n  };\r\n  ChartInternal.prototype.getMaxDataCount = function () {\r\n      var $$ = this;\r\n      return $$.d3.max($$.data.targets, function (t) {\r\n          return t.values.length;\r\n      });\r\n  };\r\n  ChartInternal.prototype.mapToIds = function (targets) {\r\n      return targets.map(function (d) {\r\n          return d.id;\r\n      });\r\n  };\r\n  ChartInternal.prototype.mapToTargetIds = function (ids) {\r\n      var $$ = this;\r\n      return ids ? [].concat(ids) : $$.mapToIds($$.data.targets);\r\n  };\r\n  ChartInternal.prototype.hasTarget = function (targets, id) {\r\n      var ids = this.mapToIds(targets), i;\r\n      for (i = 0; i < ids.length; i++) {\r\n          if (ids[i] === id) {\r\n              return true;\r\n          }\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.isTargetToShow = function (targetId) {\r\n      return this.hiddenTargetIds.indexOf(targetId) < 0;\r\n  };\r\n  ChartInternal.prototype.isLegendToShow = function (targetId) {\r\n      return this.hiddenLegendIds.indexOf(targetId) < 0;\r\n  };\r\n  /**\r\n   * Returns only visible targets.\r\n   *\r\n   * This is the same as calling {@link filterTargetsToShow} on $$.data.targets.\r\n   *\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.getTargetsToShow = function () {\r\n      var $$ = this;\r\n      return $$.filterTargetsToShow($$.data.targets);\r\n  };\r\n  ChartInternal.prototype.filterTargetsToShow = function (targets) {\r\n      var $$ = this;\r\n      return targets.filter(function (t) {\r\n          return $$.isTargetToShow(t.id);\r\n      });\r\n  };\r\n  /**\r\n   * @return {Array} Returns all the targets attached to the chart, visible or not\r\n   */\r\n  ChartInternal.prototype.getTargets = function () {\r\n      var $$ = this;\r\n      return $$.data.targets;\r\n  };\r\n  ChartInternal.prototype.mapTargetsToUniqueXs = function (targets) {\r\n      var $$ = this;\r\n      var xs = $$.d3\r\n          .set($$.d3.merge(targets.map(function (t) {\r\n          return t.values.map(function (v) {\r\n              return +v.x;\r\n          });\r\n      })))\r\n          .values();\r\n      xs = $$.isTimeSeries()\r\n          ? xs.map(function (x) {\r\n              return new Date(+x);\r\n          })\r\n          : xs.map(function (x) {\r\n              return +x;\r\n          });\r\n      return xs.sort(function (a, b) {\r\n          return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\r\n      });\r\n  };\r\n  ChartInternal.prototype.addHiddenTargetIds = function (targetIds) {\r\n      targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\r\n      for (var i = 0; i < targetIds.length; i++) {\r\n          if (this.hiddenTargetIds.indexOf(targetIds[i]) < 0) {\r\n              this.hiddenTargetIds = this.hiddenTargetIds.concat(targetIds[i]);\r\n          }\r\n      }\r\n      this.resetCache();\r\n  };\r\n  ChartInternal.prototype.removeHiddenTargetIds = function (targetIds) {\r\n      this.hiddenTargetIds = this.hiddenTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n      this.resetCache();\r\n  };\r\n  ChartInternal.prototype.addHiddenLegendIds = function (targetIds) {\r\n      targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\r\n      for (var i = 0; i < targetIds.length; i++) {\r\n          if (this.hiddenLegendIds.indexOf(targetIds[i]) < 0) {\r\n              this.hiddenLegendIds = this.hiddenLegendIds.concat(targetIds[i]);\r\n          }\r\n      }\r\n  };\r\n  ChartInternal.prototype.removeHiddenLegendIds = function (targetIds) {\r\n      this.hiddenLegendIds = this.hiddenLegendIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.getValuesAsIdKeyed = function (targets) {\r\n      var ys = {};\r\n      targets.forEach(function (t) {\r\n          ys[t.id] = [];\r\n          t.values.forEach(function (v) {\r\n              ys[t.id].push(v.value);\r\n          });\r\n      });\r\n      return ys;\r\n  };\r\n  ChartInternal.prototype.checkValueInTargets = function (targets, checker) {\r\n      var ids = Object.keys(targets), i, j, values;\r\n      for (i = 0; i < ids.length; i++) {\r\n          values = targets[ids[i]].values;\r\n          for (j = 0; j < values.length; j++) {\r\n              if (checker(values[j].value)) {\r\n                  return true;\r\n              }\r\n          }\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.hasNegativeValueInTargets = function (targets) {\r\n      return this.checkValueInTargets(targets, function (v) {\r\n          return v < 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.hasPositiveValueInTargets = function (targets) {\r\n      return this.checkValueInTargets(targets, function (v) {\r\n          return v > 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.isOrderDesc = function () {\r\n      var config = this.config;\r\n      return (typeof config.data_order === 'string' &&\r\n          config.data_order.toLowerCase() === 'desc');\r\n  };\r\n  ChartInternal.prototype.isOrderAsc = function () {\r\n      var config = this.config;\r\n      return (typeof config.data_order === 'string' &&\r\n          config.data_order.toLowerCase() === 'asc');\r\n  };\r\n  ChartInternal.prototype.getOrderFunction = function () {\r\n      var $$ = this, config = $$.config, orderAsc = $$.isOrderAsc(), orderDesc = $$.isOrderDesc();\r\n      if (orderAsc || orderDesc) {\r\n          var reducer = function (p, c) {\r\n              return p + Math.abs(c.value);\r\n          };\r\n          return function (t1, t2) {\r\n              var t1Sum = t1.values.reduce(reducer, 0), t2Sum = t2.values.reduce(reducer, 0);\r\n              return orderAsc ? t2Sum - t1Sum : t1Sum - t2Sum;\r\n          };\r\n      }\r\n      else if (isFunction(config.data_order)) {\r\n          return config.data_order;\r\n      }\r\n      else if (isArray(config.data_order)) {\r\n          var order = config.data_order;\r\n          return function (t1, t2) {\r\n              return order.indexOf(t1.id) - order.indexOf(t2.id);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.orderTargets = function (targets) {\r\n      var fct = this.getOrderFunction();\r\n      if (fct) {\r\n          targets.sort(fct);\r\n      }\r\n      return targets;\r\n  };\r\n  /**\r\n   * Returns all the values from the given targets at the given index.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Number} index\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.filterByIndex = function (targets, index) {\r\n      return this.d3.merge(targets.map(function (t) { return t.values.filter(function (v) { return v.index === index; }); }));\r\n  };\r\n  ChartInternal.prototype.filterByX = function (targets, x) {\r\n      return this.d3\r\n          .merge(targets.map(function (t) {\r\n          return t.values;\r\n      }))\r\n          .filter(function (v) {\r\n          return v.x - x === 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.filterRemoveNull = function (data) {\r\n      return data.filter(function (d) {\r\n          return isValue(d.value);\r\n      });\r\n  };\r\n  ChartInternal.prototype.filterByXDomain = function (targets, xDomain) {\r\n      return targets.map(function (t) {\r\n          return {\r\n              id: t.id,\r\n              id_org: t.id_org,\r\n              values: t.values.filter(function (v) {\r\n                  return xDomain[0] <= v.x && v.x <= xDomain[1];\r\n              })\r\n          };\r\n      });\r\n  };\r\n  ChartInternal.prototype.hasDataLabel = function () {\r\n      var config = this.config;\r\n      if (typeof config.data_labels === 'boolean' && config.data_labels) {\r\n          return true;\r\n      }\r\n      else if (typeof config.data_labels === 'object' &&\r\n          notEmpty(config.data_labels)) {\r\n          return true;\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.getDataLabelLength = function (min, max, key) {\r\n      var $$ = this, lengths = [0, 0], paddingCoef = 1.3;\r\n      $$.selectChart\r\n          .select('svg')\r\n          .selectAll('.dummy')\r\n          .data([min, max])\r\n          .enter()\r\n          .append('text')\r\n          .text(function (d) {\r\n          return $$.dataLabelFormat(d.id)(d);\r\n      })\r\n          .each(function (d, i) {\r\n          lengths[i] = getBBox(this)[key] * paddingCoef;\r\n      })\r\n          .remove();\r\n      return lengths;\r\n  };\r\n  /**\r\n   * Returns true if the given data point is not arc type, otherwise false.\r\n   * @param {Object} d The data point\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isNoneArc = function (d) {\r\n      return this.hasTarget(this.data.targets, d.id);\r\n  };\r\n  /**\r\n   * Returns true if the given data point is arc type, otherwise false.\r\n   * @param {Object} d The data point\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isArc = function (d) {\r\n      return 'data' in d && this.hasTarget(this.data.targets, d.data.id);\r\n  };\r\n  /**\r\n   * Find the closest point from the given pos among the given targets or\r\n   * undefined if none satisfies conditions.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Array} pos An [x,y] coordinate\r\n   * @return {Object|undefined}\r\n   */\r\n  ChartInternal.prototype.findClosestFromTargets = function (targets, pos) {\r\n      var $$ = this;\r\n      // for each target, find the closest point\r\n      var candidates = targets\r\n          .map(function (t) {\r\n          return $$.findClosest(t.values, pos, $$.config.tooltip_horizontal\r\n              ? $$.horizontalDistance.bind($$)\r\n              : $$.dist.bind($$), $$.config.point_sensitivity);\r\n      })\r\n          .filter(function (v) { return v; });\r\n      // returns the closest of candidates\r\n      if (candidates.length === 0) {\r\n          return undefined;\r\n      }\r\n      else if (candidates.length === 1) {\r\n          return candidates[0];\r\n      }\r\n      else {\r\n          return $$.findClosest(candidates, pos, $$.dist.bind($$));\r\n      }\r\n  };\r\n  /**\r\n   * Find the closest point from the x value or undefined if none satisfies conditions.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Array} x A value on X axis\r\n   * @return {Object|undefined}\r\n   */\r\n  ChartInternal.prototype.findClosestFromTargetsByX = function (targets, x) {\r\n      var closest;\r\n      var diff;\r\n      targets.forEach(function (t) {\r\n          t.values.forEach(function (d) {\r\n              var newDiff = Math.abs(x - d.x);\r\n              if (diff === undefined || newDiff < diff) {\r\n                  closest = d;\r\n                  diff = newDiff;\r\n              }\r\n          });\r\n      });\r\n      return closest;\r\n  };\r\n  /**\r\n   * Using given compute distance method, returns the closest data point from the\r\n   * given position.\r\n   *\r\n   * Giving optionally a minimum distance to satisfy.\r\n   *\r\n   * @param {Array} dataPoints List of DataPoints\r\n   * @param {Array} pos An [x,y] coordinate\r\n   * @param {Function} computeDist Function to compute distance between 2 points\r\n   * @param {Number} minDist Minimal distance to satisfy\r\n   * @return {Object|undefined} Closest data point\r\n   */\r\n  ChartInternal.prototype.findClosest = function (dataPoints, pos, computeDist, minDist) {\r\n      if (minDist === void 0) { minDist = Infinity; }\r\n      var $$ = this;\r\n      var closest;\r\n      // find closest bar\r\n      dataPoints\r\n          .filter(function (v) { return v && $$.isBarType(v.id); })\r\n          .forEach(function (v) {\r\n          if (!closest) {\r\n              var shape = $$.main\r\n                  .select('.' +\r\n                  CLASS.bars +\r\n                  $$.getTargetSelectorSuffix(v.id) +\r\n                  ' .' +\r\n                  CLASS.bar +\r\n                  '-' +\r\n                  v.index)\r\n                  .node();\r\n              if ($$.isWithinBar(pos, shape)) {\r\n                  closest = v;\r\n              }\r\n          }\r\n      });\r\n      // find closest point from non-bar\r\n      dataPoints\r\n          .filter(function (v) { return v && !$$.isBarType(v.id); })\r\n          .forEach(function (v) {\r\n          var d = computeDist(v, pos);\r\n          if (d < minDist) {\r\n              minDist = d;\r\n              closest = v;\r\n          }\r\n      });\r\n      return closest;\r\n  };\r\n  ChartInternal.prototype.dist = function (data, pos) {\r\n      var $$ = this, config = $$.config, xIndex = config.axis_rotated ? 1 : 0, yIndex = config.axis_rotated ? 0 : 1, y = $$.circleY(data, data.index), x = $$.x(data.x);\r\n      return Math.sqrt(Math.pow(x - pos[xIndex], 2) + Math.pow(y - pos[yIndex], 2));\r\n  };\r\n  ChartInternal.prototype.horizontalDistance = function (data, pos) {\r\n      var $$ = this, config = $$.config, xIndex = config.axis_rotated ? 1 : 0, x = $$.x(data.x);\r\n      return Math.abs(x - pos[xIndex]);\r\n  };\r\n  ChartInternal.prototype.convertValuesToStep = function (values) {\r\n      var converted = [].concat(values), i;\r\n      if (!this.isCategorized()) {\r\n          return values;\r\n      }\r\n      for (i = values.length + 1; 0 < i; i--) {\r\n          converted[i] = converted[i - 1];\r\n      }\r\n      converted[0] = {\r\n          x: converted[0].x - 1,\r\n          value: converted[0].value,\r\n          id: converted[0].id\r\n      };\r\n      converted[values.length + 1] = {\r\n          x: converted[values.length].x + 1,\r\n          value: converted[values.length].value,\r\n          id: converted[values.length].id\r\n      };\r\n      return converted;\r\n  };\r\n  /**\r\n   * Get ratio value\r\n   *\r\n   * @param {String} type Ratio for given type\r\n   * @param {Object} d Data value object\r\n   * @param {Boolean} asPercent Convert the return as percent or not\r\n   * @return {Number} Ratio value\r\n   * @private\r\n   */\r\n  ChartInternal.prototype.getRatio = function (type, d, asPercent) {\r\n      if (asPercent === void 0) { asPercent = false; }\r\n      var $$ = this;\r\n      var api = $$.api;\r\n      var ratio = 0;\r\n      if (d && api.data.shown.call(api).length) {\r\n          ratio = d.ratio || d.value;\r\n          if (type === 'arc') {\r\n              if ($$.hasType('gauge')) {\r\n                  ratio =\r\n                      (d.endAngle - d.startAngle) /\r\n                          (Math.PI * ($$.config.gauge_fullCircle ? 2 : 1));\r\n              }\r\n              else {\r\n                  var total = $$.getTotalDataSum();\r\n                  ratio = d.value / total;\r\n              }\r\n          }\r\n          else if (type === 'index') {\r\n              var total = $$.getTotalPerIndex($$.axis.getId(d.id));\r\n              d.ratio =\r\n                  isNumber(d.value) && total && total[d.index] > 0\r\n                      ? d.value / total[d.index]\r\n                      : 0;\r\n              ratio = d.ratio;\r\n          }\r\n      }\r\n      return asPercent && ratio ? ratio * 100 : ratio;\r\n  };\r\n  ChartInternal.prototype.updateDataAttributes = function (name, attrs) {\r\n      var $$ = this, config = $$.config, current = config['data_' + name];\r\n      if (typeof attrs === 'undefined') {\r\n          return current;\r\n      }\r\n      Object.keys(attrs).forEach(function (id) {\r\n          current[id] = attrs[id];\r\n      });\r\n      $$.redraw({\r\n          withLegend: true\r\n      });\r\n      return current;\r\n  };\n\n  ChartInternal.prototype.load = function (targets, args) {\r\n      var $$ = this;\r\n      if (targets) {\r\n          // filter loading targets if needed\r\n          if (args.filter) {\r\n              targets = targets.filter(args.filter);\r\n          }\r\n          // set type if args.types || args.type specified\r\n          if (args.type || args.types) {\r\n              targets.forEach(function (t) {\r\n                  var type = args.types && args.types[t.id] ? args.types[t.id] : args.type;\r\n                  $$.setTargetType(t.id, type);\r\n              });\r\n          }\r\n          // Update/Add data\r\n          $$.data.targets.forEach(function (d) {\r\n              for (var i = 0; i < targets.length; i++) {\r\n                  if (d.id === targets[i].id) {\r\n                      d.values = targets[i].values;\r\n                      targets.splice(i, 1);\r\n                      break;\r\n                  }\r\n              }\r\n          });\r\n          $$.data.targets = $$.data.targets.concat(targets); // add remained\r\n      }\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Redraw with new targets\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n      if (args.done) {\r\n          args.done();\r\n      }\r\n  };\r\n  ChartInternal.prototype.loadFromArgs = function (args) {\r\n      var $$ = this;\r\n      $$.resetCache();\r\n      if (args.data) {\r\n          $$.load($$.convertDataToTargets(args.data), args);\r\n      }\r\n      else if (args.url) {\r\n          $$.convertUrlToData(args.url, args.mimeType, args.headers, args.keys, function (data) {\r\n              $$.load($$.convertDataToTargets(data), args);\r\n          });\r\n      }\r\n      else if (args.json) {\r\n          $$.load($$.convertDataToTargets($$.convertJsonToData(args.json, args.keys)), args);\r\n      }\r\n      else if (args.rows) {\r\n          $$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)), args);\r\n      }\r\n      else if (args.columns) {\r\n          $$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)), args);\r\n      }\r\n      else {\r\n          $$.load(null, args);\r\n      }\r\n  };\r\n  ChartInternal.prototype.unload = function (targetIds, done) {\r\n      var $$ = this;\r\n      $$.resetCache();\r\n      if (!done) {\r\n          done = function () { };\r\n      }\r\n      // filter existing target\r\n      targetIds = targetIds.filter(function (id) {\r\n          return $$.hasTarget($$.data.targets, id);\r\n      });\r\n      // If no target, call done and return\r\n      if (!targetIds || targetIds.length === 0) {\r\n          done();\r\n          return;\r\n      }\r\n      $$.svg\r\n          .selectAll(targetIds.map(function (id) {\r\n          return $$.selectorTarget(id);\r\n      }))\r\n          .transition()\r\n          .style('opacity', 0)\r\n          .remove()\r\n          .call($$.endall, done);\r\n      targetIds.forEach(function (id) {\r\n          // Reset fadein for future load\r\n          $$.withoutFadeIn[id] = false;\r\n          // Remove target's elements\r\n          if ($$.legend) {\r\n              $$.legend\r\n                  .selectAll('.' + CLASS.legendItem + $$.getTargetSelectorSuffix(id))\r\n                  .remove();\r\n          }\r\n          // Remove target\r\n          $$.data.targets = $$.data.targets.filter(function (t) {\r\n              return t.id !== id;\r\n          });\r\n      });\r\n  };\n\n  ChartInternal.prototype.getYDomainMin = function (targets) {\r\n      var $$ = this, config = $$.config, ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets), j, k, baseId, idsInGroup, id, hasNegativeValue;\r\n      if (config.data_groups.length > 0) {\r\n          hasNegativeValue = $$.hasNegativeValueInTargets(targets);\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              // Determine baseId\r\n              idsInGroup = config.data_groups[j].filter(function (id) {\r\n                  return ids.indexOf(id) >= 0;\r\n              });\r\n              if (idsInGroup.length === 0) {\r\n                  continue;\r\n              }\r\n              baseId = idsInGroup[0];\r\n              // Consider negative values\r\n              if (hasNegativeValue && ys[baseId]) {\r\n                  ys[baseId].forEach(function (v, i) {\r\n                      ys[baseId][i] = v < 0 ? v : 0;\r\n                  });\r\n              }\r\n              // Compute min\r\n              for (k = 1; k < idsInGroup.length; k++) {\r\n                  id = idsInGroup[k];\r\n                  if (!ys[id]) {\r\n                      continue;\r\n                  }\r\n                  ys[id].forEach(function (v, i) {\r\n                      if ($$.axis.getId(id) === $$.axis.getId(baseId) &&\r\n                          ys[baseId] &&\r\n                          !(hasNegativeValue && +v > 0)) {\r\n                          ys[baseId][i] += +v;\r\n                      }\r\n                  });\r\n              }\r\n          }\r\n      }\r\n      return $$.d3.min(Object.keys(ys).map(function (key) {\r\n          return $$.d3.min(ys[key]);\r\n      }));\r\n  };\r\n  ChartInternal.prototype.getYDomainMax = function (targets) {\r\n      var $$ = this, config = $$.config, ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets), j, k, baseId, idsInGroup, id, hasPositiveValue;\r\n      if (config.data_groups.length > 0) {\r\n          hasPositiveValue = $$.hasPositiveValueInTargets(targets);\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              // Determine baseId\r\n              idsInGroup = config.data_groups[j].filter(function (id) {\r\n                  return ids.indexOf(id) >= 0;\r\n              });\r\n              if (idsInGroup.length === 0) {\r\n                  continue;\r\n              }\r\n              baseId = idsInGroup[0];\r\n              // Consider positive values\r\n              if (hasPositiveValue && ys[baseId]) {\r\n                  ys[baseId].forEach(function (v, i) {\r\n                      ys[baseId][i] = v > 0 ? v : 0;\r\n                  });\r\n              }\r\n              // Compute max\r\n              for (k = 1; k < idsInGroup.length; k++) {\r\n                  id = idsInGroup[k];\r\n                  if (!ys[id]) {\r\n                      continue;\r\n                  }\r\n                  ys[id].forEach(function (v, i) {\r\n                      if ($$.axis.getId(id) === $$.axis.getId(baseId) &&\r\n                          ys[baseId] &&\r\n                          !(hasPositiveValue && +v < 0)) {\r\n                          ys[baseId][i] += +v;\r\n                      }\r\n                  });\r\n              }\r\n          }\r\n      }\r\n      return $$.d3.max(Object.keys(ys).map(function (key) {\r\n          return $$.d3.max(ys[key]);\r\n      }));\r\n  };\r\n  ChartInternal.prototype.getYDomain = function (targets, axisId, xDomain) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.isAxisNormalized(axisId)) {\r\n          return [0, 100];\r\n      }\r\n      var targetsByAxisId = targets.filter(function (t) {\r\n          return $$.axis.getId(t.id) === axisId;\r\n      }), yTargets = xDomain\r\n          ? $$.filterByXDomain(targetsByAxisId, xDomain)\r\n          : targetsByAxisId, yMin = axisId === 'y2' ? config.axis_y2_min : config.axis_y_min, yMax = axisId === 'y2' ? config.axis_y2_max : config.axis_y_max, yDomainMin = $$.getYDomainMin(yTargets), yDomainMax = $$.getYDomainMax(yTargets), domain, domainLength, padding_top, padding_bottom, center = axisId === 'y2' ? config.axis_y2_center : config.axis_y_center, yDomainAbs, lengths, diff, ratio, isAllPositive, isAllNegative, isZeroBased = ($$.hasType('bar', yTargets) && config.bar_zerobased) ||\r\n          ($$.hasType('area', yTargets) && config.area_zerobased), isInverted = axisId === 'y2' ? config.axis_y2_inverted : config.axis_y_inverted, showHorizontalDataLabel = $$.hasDataLabel() && config.axis_rotated, showVerticalDataLabel = $$.hasDataLabel() && !config.axis_rotated;\r\n      // MEMO: avoid inverting domain unexpectedly\r\n      yDomainMin = isValue(yMin)\r\n          ? yMin\r\n          : isValue(yMax)\r\n              ? yDomainMin < yMax\r\n                  ? yDomainMin\r\n                  : yMax - 10\r\n              : yDomainMin;\r\n      yDomainMax = isValue(yMax)\r\n          ? yMax\r\n          : isValue(yMin)\r\n              ? yMin < yDomainMax\r\n                  ? yDomainMax\r\n                  : yMin + 10\r\n              : yDomainMax;\r\n      if (yTargets.length === 0) {\r\n          // use current domain if target of axisId is none\r\n          return axisId === 'y2' ? $$.y2.domain() : $$.y.domain();\r\n      }\r\n      if (isNaN(yDomainMin)) {\r\n          // set minimum to zero when not number\r\n          yDomainMin = 0;\r\n      }\r\n      if (isNaN(yDomainMax)) {\r\n          // set maximum to have same value as yDomainMin\r\n          yDomainMax = yDomainMin;\r\n      }\r\n      if (yDomainMin === yDomainMax) {\r\n          yDomainMin < 0 ? (yDomainMax = 0) : (yDomainMin = 0);\r\n      }\r\n      isAllPositive = yDomainMin >= 0 && yDomainMax >= 0;\r\n      isAllNegative = yDomainMin <= 0 && yDomainMax <= 0;\r\n      // Cancel zerobased if axis_*_min / axis_*_max specified\r\n      if ((isValue(yMin) && isAllPositive) || (isValue(yMax) && isAllNegative)) {\r\n          isZeroBased = false;\r\n      }\r\n      // Bar/Area chart should be 0-based if all positive|negative\r\n      if (isZeroBased) {\r\n          if (isAllPositive) {\r\n              yDomainMin = 0;\r\n          }\r\n          if (isAllNegative) {\r\n              yDomainMax = 0;\r\n          }\r\n      }\r\n      domainLength = Math.abs(yDomainMax - yDomainMin);\r\n      padding_top = padding_bottom = domainLength * 0.1;\r\n      if (typeof center !== 'undefined') {\r\n          yDomainAbs = Math.max(Math.abs(yDomainMin), Math.abs(yDomainMax));\r\n          yDomainMax = center + yDomainAbs;\r\n          yDomainMin = center - yDomainAbs;\r\n      }\r\n      // add padding for data label\r\n      if (showHorizontalDataLabel) {\r\n          lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'width');\r\n          diff = diffDomain($$.y.range());\r\n          ratio = [lengths[0] / diff, lengths[1] / diff];\r\n          padding_top += domainLength * (ratio[1] / (1 - ratio[0] - ratio[1]));\r\n          padding_bottom += domainLength * (ratio[0] / (1 - ratio[0] - ratio[1]));\r\n      }\r\n      else if (showVerticalDataLabel) {\r\n          lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'height');\r\n          var pixelsToAxisPadding = $$.getY(config[\"axis_\" + axisId + \"_type\"], \r\n          // input domain as pixels\r\n          [0, config.axis_rotated ? $$.width : $$.height], \r\n          // output range as axis padding\r\n          [0, domainLength]);\r\n          padding_top += pixelsToAxisPadding(lengths[1]);\r\n          padding_bottom += pixelsToAxisPadding(lengths[0]);\r\n      }\r\n      if (axisId === 'y' && notEmpty(config.axis_y_padding)) {\r\n          padding_top = $$.axis.getPadding(config.axis_y_padding, 'top', padding_top, domainLength);\r\n          padding_bottom = $$.axis.getPadding(config.axis_y_padding, 'bottom', padding_bottom, domainLength);\r\n      }\r\n      if (axisId === 'y2' && notEmpty(config.axis_y2_padding)) {\r\n          padding_top = $$.axis.getPadding(config.axis_y2_padding, 'top', padding_top, domainLength);\r\n          padding_bottom = $$.axis.getPadding(config.axis_y2_padding, 'bottom', padding_bottom, domainLength);\r\n      }\r\n      // Bar/Area chart should be 0-based if all positive|negative\r\n      if (isZeroBased) {\r\n          if (isAllPositive) {\r\n              padding_bottom = yDomainMin;\r\n          }\r\n          if (isAllNegative) {\r\n              padding_top = -yDomainMax;\r\n          }\r\n      }\r\n      domain = [yDomainMin - padding_bottom, yDomainMax + padding_top];\r\n      return isInverted ? domain.reverse() : domain;\r\n  };\r\n  ChartInternal.prototype.getXDomainMin = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      return isDefined(config.axis_x_min)\r\n          ? $$.isTimeSeries()\r\n              ? this.parseDate(config.axis_x_min)\r\n              : config.axis_x_min\r\n          : $$.d3.min(targets, function (t) {\r\n              return $$.d3.min(t.values, function (v) {\r\n                  return v.x;\r\n              });\r\n          });\r\n  };\r\n  ChartInternal.prototype.getXDomainMax = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      return isDefined(config.axis_x_max)\r\n          ? $$.isTimeSeries()\r\n              ? this.parseDate(config.axis_x_max)\r\n              : config.axis_x_max\r\n          : $$.d3.max(targets, function (t) {\r\n              return $$.d3.max(t.values, function (v) {\r\n                  return v.x;\r\n              });\r\n          });\r\n  };\r\n  ChartInternal.prototype.getXDomainPadding = function (domain) {\r\n      var $$ = this, config = $$.config, diff = domain[1] - domain[0], maxDataCount, padding, paddingLeft, paddingRight;\r\n      if ($$.isCategorized()) {\r\n          padding = 0;\r\n      }\r\n      else if ($$.hasType('bar')) {\r\n          maxDataCount = $$.getMaxDataCount();\r\n          padding = maxDataCount > 1 ? diff / (maxDataCount - 1) / 2 : 0.5;\r\n      }\r\n      else {\r\n          padding = diff * 0.01;\r\n      }\r\n      if (typeof config.axis_x_padding === 'object' &&\r\n          notEmpty(config.axis_x_padding)) {\r\n          paddingLeft = isValue(config.axis_x_padding.left)\r\n              ? config.axis_x_padding.left\r\n              : padding;\r\n          paddingRight = isValue(config.axis_x_padding.right)\r\n              ? config.axis_x_padding.right\r\n              : padding;\r\n      }\r\n      else if (typeof config.axis_x_padding === 'number') {\r\n          paddingLeft = paddingRight = config.axis_x_padding;\r\n      }\r\n      else {\r\n          paddingLeft = paddingRight = padding;\r\n      }\r\n      return { left: paddingLeft, right: paddingRight };\r\n  };\r\n  ChartInternal.prototype.getXDomain = function (targets) {\r\n      var $$ = this, xDomain = [$$.getXDomainMin(targets), $$.getXDomainMax(targets)], firstX = xDomain[0], lastX = xDomain[1], padding = $$.getXDomainPadding(xDomain), min = 0, max = 0;\r\n      // show center of x domain if min and max are the same\r\n      if (firstX - lastX === 0 && !$$.isCategorized()) {\r\n          if ($$.isTimeSeries()) {\r\n              firstX = new Date(firstX.getTime() * 0.5);\r\n              lastX = new Date(lastX.getTime() * 1.5);\r\n          }\r\n          else {\r\n              firstX = firstX === 0 ? 1 : firstX * 0.5;\r\n              lastX = lastX === 0 ? -1 : lastX * 1.5;\r\n          }\r\n      }\r\n      if (firstX || firstX === 0) {\r\n          min = $$.isTimeSeries()\r\n              ? new Date(firstX.getTime() - padding.left)\r\n              : firstX - padding.left;\r\n      }\r\n      if (lastX || lastX === 0) {\r\n          max = $$.isTimeSeries()\r\n              ? new Date(lastX.getTime() + padding.right)\r\n              : lastX + padding.right;\r\n      }\r\n      return [min, max];\r\n  };\r\n  ChartInternal.prototype.updateXDomain = function (targets, withUpdateXDomain, withUpdateOrgXDomain, withTrim, domain) {\r\n      var $$ = this, config = $$.config;\r\n      if (withUpdateOrgXDomain) {\r\n          $$.x.domain(domain ? domain : $$.d3.extent($$.getXDomain(targets)));\r\n          $$.orgXDomain = $$.x.domain();\r\n          if (config.zoom_enabled) {\r\n              $$.zoom.update();\r\n          }\r\n          $$.subX.domain($$.x.domain());\r\n          if ($$.brush) {\r\n              $$.brush.updateScale($$.subX);\r\n          }\r\n      }\r\n      if (withUpdateXDomain) {\r\n          $$.x.domain(domain\r\n              ? domain\r\n              : !$$.brush || $$.brush.empty()\r\n                  ? $$.orgXDomain\r\n                  : $$.brush.selectionAsValue());\r\n      }\r\n      // Trim domain when too big by zoom mousemove event\r\n      if (withTrim) {\r\n          $$.x.domain($$.trimXDomain($$.x.orgDomain()));\r\n      }\r\n      return $$.x.domain();\r\n  };\r\n  ChartInternal.prototype.trimXDomain = function (domain) {\r\n      var zoomDomain = this.getZoomDomain(), min = zoomDomain[0], max = zoomDomain[1];\r\n      if (domain[0] <= min) {\r\n          domain[1] = +domain[1] + (min - domain[0]);\r\n          domain[0] = min;\r\n      }\r\n      if (max <= domain[1]) {\r\n          domain[0] = +domain[0] - (domain[1] - max);\r\n          domain[1] = max;\r\n      }\r\n      return domain;\r\n  };\n\n  ChartInternal.prototype.drag = function (mouse) {\r\n      var $$ = this, config = $$.config, main = $$.main, d3 = $$.d3;\r\n      var sx, sy, mx, my, minX, maxX, minY, maxY;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      if (!config.data_selection_multiple) {\r\n          return;\r\n      } // skip when single selection because drag is used for multiple selection\r\n      sx = $$.dragStart[0];\r\n      sy = $$.dragStart[1];\r\n      mx = mouse[0];\r\n      my = mouse[1];\r\n      minX = Math.min(sx, mx);\r\n      maxX = Math.max(sx, mx);\r\n      minY = config.data_selection_grouped ? $$.margin.top : Math.min(sy, my);\r\n      maxY = config.data_selection_grouped ? $$.height : Math.max(sy, my);\r\n      main\r\n          .select('.' + CLASS.dragarea)\r\n          .attr('x', minX)\r\n          .attr('y', minY)\r\n          .attr('width', maxX - minX)\r\n          .attr('height', maxY - minY);\r\n      // TODO: binary search when multiple xs\r\n      main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          if (!config.data_selection_isselectable(d)) {\r\n              return;\r\n          }\r\n          var shape = d3.select(this), isSelected = shape.classed(CLASS.SELECTED), isIncluded = shape.classed(CLASS.INCLUDED), _x, _y, _w, _h, toggle, isWithin = false, box;\r\n          if (shape.classed(CLASS.circle)) {\r\n              _x = shape.attr('cx') * 1;\r\n              _y = shape.attr('cy') * 1;\r\n              toggle = $$.togglePoint;\r\n              isWithin = minX < _x && _x < maxX && minY < _y && _y < maxY;\r\n          }\r\n          else if (shape.classed(CLASS.bar)) {\r\n              box = getPathBox(this);\r\n              _x = box.x;\r\n              _y = box.y;\r\n              _w = box.width;\r\n              _h = box.height;\r\n              toggle = $$.togglePath;\r\n              isWithin =\r\n                  !(maxX < _x || _x + _w < minX) && !(maxY < _y || _y + _h < minY);\r\n          }\r\n          else {\r\n              // line/area selection not supported yet\r\n              return;\r\n          }\r\n          if (isWithin ^ isIncluded) {\r\n              shape.classed(CLASS.INCLUDED, !isIncluded);\r\n              // TODO: included/unincluded callback here\r\n              shape.classed(CLASS.SELECTED, !isSelected);\r\n              toggle.call($$, !isSelected, shape, d, i);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.dragstart = function (mouse) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      $$.dragStart = mouse;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('rect')\r\n          .attr('class', CLASS.dragarea)\r\n          .style('opacity', 0.1);\r\n      $$.dragging = true;\r\n  };\r\n  ChartInternal.prototype.dragend = function () {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      $$.main\r\n          .select('.' + CLASS.dragarea)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.main.selectAll('.' + CLASS.shape).classed(CLASS.INCLUDED, false);\r\n      $$.dragging = false;\r\n  };\n\n  ChartInternal.prototype.getYFormat = function (forArc) {\r\n      var $$ = this, formatForY = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.yFormat, formatForY2 = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.y2Format;\r\n      return function (v, ratio, id) {\r\n          var format = $$.axis.getId(id) === 'y2' ? formatForY2 : formatForY;\r\n          return format.call($$, v, ratio);\r\n      };\r\n  };\r\n  ChartInternal.prototype.yFormat = function (v) {\r\n      var $$ = this, config = $$.config, format = config.axis_y_tick_format\r\n          ? config.axis_y_tick_format\r\n          : $$.defaultValueFormat;\r\n      return format(v);\r\n  };\r\n  ChartInternal.prototype.y2Format = function (v) {\r\n      var $$ = this, config = $$.config, format = config.axis_y2_tick_format\r\n          ? config.axis_y2_tick_format\r\n          : $$.defaultValueFormat;\r\n      return format(v);\r\n  };\r\n  ChartInternal.prototype.defaultValueFormat = function (v) {\r\n      return isValue(v) ? +v : '';\r\n  };\r\n  ChartInternal.prototype.defaultArcValueFormat = function (v, ratio) {\r\n      return (ratio * 100).toFixed(1) + '%';\r\n  };\r\n  ChartInternal.prototype.dataLabelFormat = function (targetId) {\r\n      var $$ = this, data_labels = $$.config.data_labels, format, defaultFormat = function (v) {\r\n          return isValue(v) ? +v : '';\r\n      };\r\n      // find format according to axis id\r\n      if (typeof data_labels.format === 'function') {\r\n          format = data_labels.format;\r\n      }\r\n      else if (typeof data_labels.format === 'object') {\r\n          if (data_labels.format[targetId]) {\r\n              format =\r\n                  data_labels.format[targetId] === true\r\n                      ? defaultFormat\r\n                      : data_labels.format[targetId];\r\n          }\r\n          else {\r\n              format = function () {\r\n                  return '';\r\n              };\r\n          }\r\n      }\r\n      else {\r\n          format = defaultFormat;\r\n      }\r\n      return format;\r\n  };\n\n  ChartInternal.prototype.initGrid = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      $$.grid = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForGrid)\r\n          .attr('class', CLASS.grid);\r\n      if (config.grid_x_show) {\r\n          $$.grid.append('g').attr('class', CLASS.xgrids);\r\n      }\r\n      if (config.grid_y_show) {\r\n          $$.grid.append('g').attr('class', CLASS.ygrids);\r\n      }\r\n      if (config.grid_focus_show) {\r\n          $$.grid\r\n              .append('g')\r\n              .attr('class', CLASS.xgridFocus)\r\n              .append('line')\r\n              .attr('class', CLASS.xgridFocus);\r\n      }\r\n      $$.xgrid = d3.selectAll([]);\r\n      if (!config.grid_lines_front) {\r\n          $$.initGridLines();\r\n      }\r\n  };\r\n  ChartInternal.prototype.initGridLines = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.gridLines = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForGrid)\r\n          .attr('class', CLASS.grid + ' ' + CLASS.gridLines);\r\n      $$.gridLines.append('g').attr('class', CLASS.xgridLines);\r\n      $$.gridLines.append('g').attr('class', CLASS.ygridLines);\r\n      $$.xgridLines = d3.selectAll([]);\r\n  };\r\n  ChartInternal.prototype.updateXGrid = function (withoutUpdate) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, xgridData = $$.generateGridData(config.grid_x_type, $$.x), tickOffset = $$.isCategorized() ? $$.xAxis.tickOffset() : 0;\r\n      $$.xgridAttr = config.axis_rotated\r\n          ? {\r\n              x1: 0,\r\n              x2: $$.width,\r\n              y1: function (d) {\r\n                  return $$.x(d) - tickOffset;\r\n              },\r\n              y2: function (d) {\r\n                  return $$.x(d) - tickOffset;\r\n              }\r\n          }\r\n          : {\r\n              x1: function (d) {\r\n                  return $$.x(d) + tickOffset;\r\n              },\r\n              x2: function (d) {\r\n                  return $$.x(d) + tickOffset;\r\n              },\r\n              y1: 0,\r\n              y2: $$.height\r\n          };\r\n      $$.xgridAttr.opacity = function () {\r\n          var pos = +d3.select(this).attr(config.axis_rotated ? 'y1' : 'x1');\r\n          return pos === (config.axis_rotated ? $$.height : 0) ? 0 : 1;\r\n      };\r\n      var xgrid = $$.main\r\n          .select('.' + CLASS.xgrids)\r\n          .selectAll('.' + CLASS.xgrid)\r\n          .data(xgridData);\r\n      var xgridEnter = xgrid\r\n          .enter()\r\n          .append('line')\r\n          .attr('class', CLASS.xgrid)\r\n          .attr('x1', $$.xgridAttr.x1)\r\n          .attr('x2', $$.xgridAttr.x2)\r\n          .attr('y1', $$.xgridAttr.y1)\r\n          .attr('y2', $$.xgridAttr.y2)\r\n          .style('opacity', 0);\r\n      $$.xgrid = xgridEnter.merge(xgrid);\r\n      if (!withoutUpdate) {\r\n          $$.xgrid\r\n              .attr('x1', $$.xgridAttr.x1)\r\n              .attr('x2', $$.xgridAttr.x2)\r\n              .attr('y1', $$.xgridAttr.y1)\r\n              .attr('y2', $$.xgridAttr.y2)\r\n              .style('opacity', $$.xgridAttr.opacity);\r\n      }\r\n      xgrid.exit().remove();\r\n  };\r\n  ChartInternal.prototype.updateYGrid = function () {\r\n      var $$ = this, config = $$.config, gridValues = $$.yAxis.tickValues() || $$.y.ticks(config.grid_y_ticks);\r\n      var ygrid = $$.main\r\n          .select('.' + CLASS.ygrids)\r\n          .selectAll('.' + CLASS.ygrid)\r\n          .data(gridValues);\r\n      var ygridEnter = ygrid\r\n          .enter()\r\n          .append('line')\r\n          // TODO: x1, x2, y1, y2, opacity need to be set here maybe\r\n          .attr('class', CLASS.ygrid);\r\n      $$.ygrid = ygridEnter.merge(ygrid);\r\n      $$.ygrid\r\n          .attr('x1', config.axis_rotated ? $$.y : 0)\r\n          .attr('x2', config.axis_rotated ? $$.y : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : $$.y)\r\n          .attr('y2', config.axis_rotated ? $$.height : $$.y);\r\n      ygrid.exit().remove();\r\n      $$.smoothLines($$.ygrid, 'grid');\r\n  };\r\n  ChartInternal.prototype.gridTextAnchor = function (d) {\r\n      return d.position ? d.position : 'end';\r\n  };\r\n  ChartInternal.prototype.gridTextDx = function (d) {\r\n      return d.position === 'start' ? 4 : d.position === 'middle' ? 0 : -4;\r\n  };\r\n  ChartInternal.prototype.xGridTextX = function (d) {\r\n      return d.position === 'start'\r\n          ? -this.height\r\n          : d.position === 'middle'\r\n              ? -this.height / 2\r\n              : 0;\r\n  };\r\n  ChartInternal.prototype.yGridTextX = function (d) {\r\n      return d.position === 'start'\r\n          ? 0\r\n          : d.position === 'middle'\r\n              ? this.width / 2\r\n              : this.width;\r\n  };\r\n  ChartInternal.prototype.updateGrid = function (duration) {\r\n      var $$ = this, main = $$.main, config = $$.config, xgridLine, xgridLineEnter, ygridLine, ygridLineEnter, xv = $$.xv.bind($$), yv = $$.yv.bind($$), xGridTextX = $$.xGridTextX.bind($$), yGridTextX = $$.yGridTextX.bind($$);\r\n      // hide if arc type\r\n      $$.grid.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\r\n      main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\r\n      if (config.grid_x_show) {\r\n          $$.updateXGrid();\r\n      }\r\n      xgridLine = main\r\n          .select('.' + CLASS.xgridLines)\r\n          .selectAll('.' + CLASS.xgridLine)\r\n          .data(config.grid_x_lines);\r\n      // enter\r\n      xgridLineEnter = xgridLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.xgridLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      xgridLineEnter\r\n          .append('line')\r\n          .attr('x1', config.axis_rotated ? 0 : xv)\r\n          .attr('x2', config.axis_rotated ? $$.width : xv)\r\n          .attr('y1', config.axis_rotated ? xv : 0)\r\n          .attr('y2', config.axis_rotated ? xv : $$.height)\r\n          .style('opacity', 0);\r\n      xgridLineEnter\r\n          .append('text')\r\n          .attr('text-anchor', $$.gridTextAnchor)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .attr('x', config.axis_rotated ? yGridTextX : xGridTextX)\r\n          .attr('y', xv)\r\n          .attr('dx', $$.gridTextDx)\r\n          .attr('dy', -5)\r\n          .style('opacity', 0);\r\n      // udpate\r\n      $$.xgridLines = xgridLineEnter.merge(xgridLine);\r\n      // done in d3.transition() of the end of this function\r\n      // exit\r\n      xgridLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Y-Grid\r\n      if (config.grid_y_show) {\r\n          $$.updateYGrid();\r\n      }\r\n      ygridLine = main\r\n          .select('.' + CLASS.ygridLines)\r\n          .selectAll('.' + CLASS.ygridLine)\r\n          .data(config.grid_y_lines);\r\n      // enter\r\n      ygridLineEnter = ygridLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.ygridLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      ygridLineEnter\r\n          .append('line')\r\n          .attr('x1', config.axis_rotated ? yv : 0)\r\n          .attr('x2', config.axis_rotated ? yv : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : yv)\r\n          .attr('y2', config.axis_rotated ? $$.height : yv)\r\n          .style('opacity', 0);\r\n      ygridLineEnter\r\n          .append('text')\r\n          .attr('text-anchor', $$.gridTextAnchor)\r\n          .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\r\n          .attr('x', config.axis_rotated ? xGridTextX : yGridTextX)\r\n          .attr('y', yv)\r\n          .attr('dx', $$.gridTextDx)\r\n          .attr('dy', -5)\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.ygridLines = ygridLineEnter.merge(ygridLine);\r\n      $$.ygridLines\r\n          .select('line')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x1', config.axis_rotated ? yv : 0)\r\n          .attr('x2', config.axis_rotated ? yv : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : yv)\r\n          .attr('y2', config.axis_rotated ? $$.height : yv)\r\n          .style('opacity', 1);\r\n      $$.ygridLines\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', config.axis_rotated ? $$.xGridTextX.bind($$) : $$.yGridTextX.bind($$))\r\n          .attr('y', yv)\r\n          .text(function (d) {\r\n          return d.text;\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      ygridLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawGrid = function (withTransition, transition) {\r\n      var $$ = this, config = $$.config, xv = $$.xv.bind($$), lines = $$.xgridLines.select('line'), texts = $$.xgridLines.select('text');\r\n      return [\r\n          (withTransition ? lines.transition(transition) : lines)\r\n              .attr('x1', config.axis_rotated ? 0 : xv)\r\n              .attr('x2', config.axis_rotated ? $$.width : xv)\r\n              .attr('y1', config.axis_rotated ? xv : 0)\r\n              .attr('y2', config.axis_rotated ? xv : $$.height)\r\n              .style('opacity', 1),\r\n          (withTransition ? texts.transition(transition) : texts)\r\n              .attr('x', config.axis_rotated ? $$.yGridTextX.bind($$) : $$.xGridTextX.bind($$))\r\n              .attr('y', xv)\r\n              .text(function (d) {\r\n              return d.text;\r\n          })\r\n              .style('opacity', 1)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.showXGridFocus = function (selectedData) {\r\n      var $$ = this, config = $$.config, dataToShow = selectedData.filter(function (d) {\r\n          return d && isValue(d.value);\r\n      }), focusEl = $$.main.selectAll('line.' + CLASS.xgridFocus), xx = $$.xx.bind($$);\r\n      if (!config.tooltip_show) {\r\n          return;\r\n      }\r\n      // Hide when stanford plot exists\r\n      if ($$.hasType('stanford') || $$.hasArcType()) {\r\n          return;\r\n      }\r\n      focusEl\r\n          .style('visibility', 'visible')\r\n          .data([dataToShow[0]])\r\n          .attr(config.axis_rotated ? 'y1' : 'x1', xx)\r\n          .attr(config.axis_rotated ? 'y2' : 'x2', xx);\r\n      $$.smoothLines(focusEl, 'grid');\r\n  };\r\n  ChartInternal.prototype.hideXGridFocus = function () {\r\n      this.main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\r\n  };\r\n  ChartInternal.prototype.updateXgridFocus = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.main\r\n          .select('line.' + CLASS.xgridFocus)\r\n          .attr('x1', config.axis_rotated ? 0 : -10)\r\n          .attr('x2', config.axis_rotated ? $$.width : -10)\r\n          .attr('y1', config.axis_rotated ? -10 : 0)\r\n          .attr('y2', config.axis_rotated ? -10 : $$.height);\r\n  };\r\n  ChartInternal.prototype.generateGridData = function (type, scale) {\r\n      var $$ = this, gridData = [], xDomain, firstYear, lastYear, i, tickNum = $$.main\r\n          .select('.' + CLASS.axisX)\r\n          .selectAll('.tick')\r\n          .size();\r\n      if (type === 'year') {\r\n          xDomain = $$.getXDomain();\r\n          firstYear = xDomain[0].getFullYear();\r\n          lastYear = xDomain[1].getFullYear();\r\n          for (i = firstYear; i <= lastYear; i++) {\r\n              gridData.push(new Date(i + '-01-01 00:00:00'));\r\n          }\r\n      }\r\n      else {\r\n          gridData = scale.ticks(10);\r\n          if (gridData.length > tickNum) {\r\n              // use only int\r\n              gridData = gridData.filter(function (d) {\r\n                  return ('' + d).indexOf('.') < 0;\r\n              });\r\n          }\r\n      }\r\n      return gridData;\r\n  };\r\n  ChartInternal.prototype.getGridFilterToRemove = function (params) {\r\n      return params\r\n          ? function (line) {\r\n              var found = false;\r\n              [].concat(params).forEach(function (param) {\r\n                  if (('value' in param && line.value === param.value) ||\r\n                      ('class' in param && line['class'] === param['class'])) {\r\n                      found = true;\r\n                  }\r\n              });\r\n              return found;\r\n          }\r\n          : function () {\r\n              return true;\r\n          };\r\n  };\r\n  ChartInternal.prototype.removeGridLines = function (params, forX) {\r\n      var $$ = this, config = $$.config, toRemove = $$.getGridFilterToRemove(params), toShow = function (line) {\r\n          return !toRemove(line);\r\n      }, classLines = forX ? CLASS.xgridLines : CLASS.ygridLines, classLine = forX ? CLASS.xgridLine : CLASS.ygridLine;\r\n      $$.main\r\n          .select('.' + classLines)\r\n          .selectAll('.' + classLine)\r\n          .filter(toRemove)\r\n          .transition()\r\n          .duration(config.transition_duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      if (forX) {\r\n          config.grid_x_lines = config.grid_x_lines.filter(toShow);\r\n      }\r\n      else {\r\n          config.grid_y_lines = config.grid_y_lines.filter(toShow);\r\n      }\r\n  };\n\n  ChartInternal.prototype.initEventRect = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.eventRects)\r\n          .style('fill-opacity', 0);\r\n      $$.eventRect = $$.main\r\n          .select('.' + CLASS.eventRects)\r\n          .append('rect')\r\n          .attr('class', CLASS.eventRect);\r\n      // event rect handle zoom event as well\r\n      if (config.zoom_enabled && $$.zoom) {\r\n          $$.eventRect.call($$.zoom).on('dblclick.zoom', null);\r\n          if (config.zoom_initialRange) {\r\n              // WORKAROUND: Add transition to apply transform immediately when no subchart\r\n              $$.eventRect\r\n                  .transition()\r\n                  .duration(0)\r\n                  .call($$.zoom.transform, $$.zoomTransform(config.zoom_initialRange));\r\n          }\r\n      }\r\n  };\r\n  ChartInternal.prototype.redrawEventRect = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      function mouseout() {\r\n          $$.svg.select('.' + CLASS.eventRect).style('cursor', null);\r\n          $$.hideXGridFocus();\r\n          $$.hideTooltip();\r\n          $$.unexpandCircles();\r\n          $$.unexpandBars();\r\n      }\r\n      var isHoveringDataPoint = function (mouse, closest) {\r\n          return closest &&\r\n              ($$.isBarType(closest.id) ||\r\n                  $$.dist(closest, mouse) < config.point_sensitivity);\r\n      };\r\n      var withName = function (d) { return (d ? $$.addName(Object.assign({}, d)) : null); };\r\n      // rects for mouseover\r\n      $$.main\r\n          .select('.' + CLASS.eventRects)\r\n          .style('cursor', config.zoom_enabled\r\n          ? config.axis_rotated\r\n              ? 'ns-resize'\r\n              : 'ew-resize'\r\n          : null);\r\n      $$.eventRect\r\n          .attr('x', 0)\r\n          .attr('y', 0)\r\n          .attr('width', $$.width)\r\n          .attr('height', $$.height)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function () {\r\n              if (!config) {\r\n                  return;\r\n              } // chart is destroyed\r\n              if ($$.hasArcType()) {\r\n                  return;\r\n              }\r\n              if ($$.mouseover) {\r\n                  config.data_onmouseout.call($$.api, $$.mouseover);\r\n                  $$.mouseover = undefined;\r\n              }\r\n              mouseout();\r\n          }\r\n          : null)\r\n          .on('mousemove', config.interaction_enabled\r\n          ? function () {\r\n              // do nothing when dragging\r\n              if ($$.dragging) {\r\n                  return;\r\n              }\r\n              var targetsToShow = $$.getTargetsToShow();\r\n              // do nothing if arc type\r\n              if ($$.hasArcType(targetsToShow)) {\r\n                  return;\r\n              }\r\n              var mouse = d3.mouse(this);\r\n              var closest = withName($$.findClosestFromTargets(targetsToShow, mouse));\r\n              var isMouseCloseToDataPoint = isHoveringDataPoint(mouse, closest);\r\n              // ensure onmouseout is always called if mousemove switch between 2 targets\r\n              if ($$.mouseover &&\r\n                  (!closest ||\r\n                      closest.id !== $$.mouseover.id ||\r\n                      closest.index !== $$.mouseover.index)) {\r\n                  config.data_onmouseout.call($$.api, $$.mouseover);\r\n                  $$.mouseover = undefined;\r\n              }\r\n              if (closest && !$$.mouseover) {\r\n                  config.data_onmouseover.call($$.api, closest);\r\n                  $$.mouseover = closest;\r\n              }\r\n              // show cursor as pointer if we're hovering a data point close enough\r\n              $$.svg\r\n                  .select('.' + CLASS.eventRect)\r\n                  .style('cursor', isMouseCloseToDataPoint ? 'pointer' : null);\r\n              // if tooltip not grouped, we want to display only data from closest data point\r\n              var showSingleDataPoint = !config.tooltip_grouped || $$.hasType('stanford', targetsToShow);\r\n              // find data to highlight\r\n              var selectedData;\r\n              if (showSingleDataPoint) {\r\n                  if (closest) {\r\n                      selectedData = [closest];\r\n                  }\r\n              }\r\n              else {\r\n                  var closestByX = void 0;\r\n                  if (closest) {\r\n                      // reuse closest value\r\n                      closestByX = closest;\r\n                  }\r\n                  else {\r\n                      // try to find the closest value by X values from the mouse position\r\n                      var mouseX = config.axis_rotated ? mouse[1] : mouse[0];\r\n                      closestByX = $$.findClosestFromTargetsByX(targetsToShow, $$.x.invert(mouseX));\r\n                  }\r\n                  // highlight all data for this 'x' value\r\n                  if (closestByX) {\r\n                      selectedData = $$.filterByX(targetsToShow, closestByX.x);\r\n                  }\r\n              }\r\n              // ensure we have data to show\r\n              if (!selectedData || selectedData.length === 0) {\r\n                  return mouseout();\r\n              }\r\n              // inject names for each point\r\n              selectedData = selectedData.map(withName);\r\n              // show tooltip\r\n              $$.showTooltip(selectedData, this);\r\n              // expand points\r\n              if (config.point_focus_expand_enabled) {\r\n                  $$.unexpandCircles();\r\n                  selectedData.forEach(function (d) {\r\n                      $$.expandCircles(d.index, d.id, false);\r\n                  });\r\n              }\r\n              // expand bars\r\n              $$.unexpandBars();\r\n              selectedData.forEach(function (d) {\r\n                  $$.expandBars(d.index, d.id, false);\r\n              });\r\n              // Show xgrid focus line\r\n              $$.showXGridFocus(selectedData);\r\n          }\r\n          : null)\r\n          .on('click', config.interaction_enabled\r\n          ? function () {\r\n              var targetsToShow = $$.getTargetsToShow();\r\n              if ($$.hasArcType(targetsToShow)) {\r\n                  return;\r\n              }\r\n              var mouse = d3.mouse(this);\r\n              var closest = withName($$.findClosestFromTargets(targetsToShow, mouse));\r\n              if (!isHoveringDataPoint(mouse, closest)) {\r\n                  return;\r\n              }\r\n              // select if selection enabled\r\n              var sameXData;\r\n              if (!config.data_selection_grouped || $$.isStanfordType(closest)) {\r\n                  sameXData = [closest];\r\n              }\r\n              else {\r\n                  sameXData = $$.filterByX(targetsToShow, closest.x);\r\n              }\r\n              // toggle selected state\r\n              sameXData.forEach(function (d) {\r\n                  $$.main\r\n                      .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(d.id))\r\n                      .selectAll('.' + CLASS.shape + '-' + d.index)\r\n                      .each(function () {\r\n                      if (config.data_selection_grouped ||\r\n                          $$.isWithinShape(this, d)) {\r\n                          $$.toggleShape(this, d, d.index);\r\n                      }\r\n                  });\r\n              });\r\n              // call data_onclick on the closest data point\r\n              if (closest) {\r\n                  var shape = $$.main\r\n                      .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(closest.id))\r\n                      .select('.' + CLASS.shape + '-' + closest.index);\r\n                  config.data_onclick.call($$.api, closest, shape.node());\r\n              }\r\n          }\r\n          : null)\r\n          .call(config.interaction_enabled && config.data_selection_draggable && $$.drag\r\n          ? d3\r\n              .drag()\r\n              .on('drag', function () {\r\n              $$.drag(d3.mouse(this));\r\n          })\r\n              .on('start', function () {\r\n              $$.dragstart(d3.mouse(this));\r\n          })\r\n              .on('end', function () {\r\n              $$.dragend();\r\n          })\r\n          : function () { });\r\n  };\r\n  ChartInternal.prototype.getMousePosition = function (data) {\r\n      var $$ = this;\r\n      return [$$.x(data.x), $$.getYScale(data.id)(data.value)];\r\n  };\r\n  ChartInternal.prototype.dispatchEvent = function (type, mouse) {\r\n      var $$ = this, selector = '.' + CLASS.eventRect, eventRect = $$.main.select(selector).node(), box = eventRect.getBoundingClientRect(), x = box.left + (mouse ? mouse[0] : 0), y = box.top + (mouse ? mouse[1] : 0), event = document.createEvent('MouseEvents');\r\n      event.initMouseEvent(type, true, true, window, 0, x, y, x, y, false, false, false, false, 0, null);\r\n      eventRect.dispatchEvent(event);\r\n  };\n\n  ChartInternal.prototype.initLegend = function () {\r\n      var $$ = this;\r\n      $$.legendItemTextBox = {};\r\n      $$.legendHasRendered = false;\r\n      $$.legend = $$.svg.append('g').attr('transform', $$.getTranslate('legend'));\r\n      if (!$$.config.legend_show) {\r\n          $$.legend.style('visibility', 'hidden');\r\n          $$.hiddenLegendIds = $$.mapToIds($$.data.targets);\r\n          return;\r\n      }\r\n      // MEMO: call here to update legend box and tranlate for all\r\n      // MEMO: translate will be updated by this, so transform not needed in updateLegend()\r\n      $$.updateLegendWithDefaults();\r\n  };\r\n  ChartInternal.prototype.updateLegendWithDefaults = function () {\r\n      var $$ = this;\r\n      $$.updateLegend($$.mapToIds($$.data.targets), {\r\n          withTransform: false,\r\n          withTransitionForTransform: false,\r\n          withTransition: false\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateSizeForLegend = function (legendHeight, legendWidth) {\r\n      var $$ = this, config = $$.config, insetLegendPosition = {\r\n          top: $$.isLegendTop\r\n              ? $$.getCurrentPaddingTop() + config.legend_inset_y + 5.5\r\n              : $$.currentHeight -\r\n                  legendHeight -\r\n                  $$.getCurrentPaddingBottom() -\r\n                  config.legend_inset_y,\r\n          left: $$.isLegendLeft\r\n              ? $$.getCurrentPaddingLeft() + config.legend_inset_x + 0.5\r\n              : $$.currentWidth -\r\n                  legendWidth -\r\n                  $$.getCurrentPaddingRight() -\r\n                  config.legend_inset_x +\r\n                  0.5\r\n      };\r\n      $$.margin3 = {\r\n          top: $$.isLegendRight\r\n              ? 0\r\n              : $$.isLegendInset\r\n                  ? insetLegendPosition.top\r\n                  : $$.currentHeight - legendHeight,\r\n          right: NaN,\r\n          bottom: 0,\r\n          left: $$.isLegendRight\r\n              ? $$.currentWidth - legendWidth\r\n              : $$.isLegendInset\r\n                  ? insetLegendPosition.left\r\n                  : 0\r\n      };\r\n  };\r\n  ChartInternal.prototype.transformLegend = function (withTransition) {\r\n      var $$ = this;\r\n      (withTransition ? $$.legend.transition() : $$.legend).attr('transform', $$.getTranslate('legend'));\r\n  };\r\n  ChartInternal.prototype.updateLegendStep = function (step) {\r\n      this.legendStep = step;\r\n  };\r\n  ChartInternal.prototype.updateLegendItemWidth = function (w) {\r\n      this.legendItemWidth = w;\r\n  };\r\n  ChartInternal.prototype.updateLegendItemHeight = function (h) {\r\n      this.legendItemHeight = h;\r\n  };\r\n  ChartInternal.prototype.getLegendWidth = function () {\r\n      var $$ = this;\r\n      return $$.config.legend_show\r\n          ? $$.isLegendRight || $$.isLegendInset\r\n              ? $$.legendItemWidth * ($$.legendStep + 1)\r\n              : $$.currentWidth\r\n          : 0;\r\n  };\r\n  ChartInternal.prototype.getLegendHeight = function () {\r\n      var $$ = this, h = 0;\r\n      if ($$.config.legend_show) {\r\n          if ($$.isLegendRight) {\r\n              h = $$.currentHeight;\r\n          }\r\n          else {\r\n              h = Math.max(20, $$.legendItemHeight) * ($$.legendStep + 1);\r\n          }\r\n      }\r\n      return h;\r\n  };\r\n  ChartInternal.prototype.opacityForLegend = function (legendItem) {\r\n      return legendItem.classed(CLASS.legendItemHidden) ? null : 1;\r\n  };\r\n  ChartInternal.prototype.opacityForUnfocusedLegend = function (legendItem) {\r\n      return legendItem.classed(CLASS.legendItemHidden) ? null : 0.3;\r\n  };\r\n  ChartInternal.prototype.toggleFocusLegend = function (targetIds, focus) {\r\n      var $$ = this;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .filter(function (id) {\r\n          return targetIds.indexOf(id) >= 0;\r\n      })\r\n          .classed(CLASS.legendItemFocused, focus)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', function () {\r\n          var opacity = focus ? $$.opacityForLegend : $$.opacityForUnfocusedLegend;\r\n          return opacity.call($$, $$.d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.revertLegend = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .classed(CLASS.legendItemFocused, false)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', function () {\r\n          return $$.opacityForLegend(d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.showLegend = function (targetIds) {\r\n      var $$ = this, config = $$.config;\r\n      if (!config.legend_show) {\r\n          config.legend_show = true;\r\n          $$.legend.style('visibility', 'visible');\r\n          if (!$$.legendHasRendered) {\r\n              $$.updateLegendWithDefaults();\r\n          }\r\n      }\r\n      $$.removeHiddenLegendIds(targetIds);\r\n      $$.legend\r\n          .selectAll($$.selectorLegends(targetIds))\r\n          .style('visibility', 'visible')\r\n          .transition()\r\n          .style('opacity', function () {\r\n          return $$.opacityForLegend($$.d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.hideLegend = function (targetIds) {\r\n      var $$ = this, config = $$.config;\r\n      if (config.legend_show && isEmpty(targetIds)) {\r\n          config.legend_show = false;\r\n          $$.legend.style('visibility', 'hidden');\r\n      }\r\n      $$.addHiddenLegendIds(targetIds);\r\n      $$.legend\r\n          .selectAll($$.selectorLegends(targetIds))\r\n          .style('opacity', 0)\r\n          .style('visibility', 'hidden');\r\n  };\r\n  ChartInternal.prototype.clearLegendItemTextBoxCache = function () {\r\n      this.legendItemTextBox = {};\r\n  };\r\n  ChartInternal.prototype.updateLegend = function (targetIds, options, transitions) {\r\n      var $$ = this, config = $$.config;\r\n      var xForLegend, xForLegendText, xForLegendRect, yForLegend, yForLegendText, yForLegendRect, x1ForLegendTile, x2ForLegendTile, yForLegendTile;\r\n      var paddingTop = 4, paddingRight = 10, maxWidth = 0, maxHeight = 0, posMin = 10, tileWidth = config.legend_item_tile_width + 5;\r\n      var l, totalLength = 0, offsets = {}, widths = {}, heights = {}, margins = [0], steps = {}, step = 0;\r\n      var withTransition, withTransitionForTransform;\r\n      var texts, rects, tiles, background;\r\n      // Skip elements when their name is set to null\r\n      targetIds = targetIds.filter(function (id) {\r\n          return !isDefined(config.data_names[id]) || config.data_names[id] !== null;\r\n      });\r\n      options = options || {};\r\n      withTransition = getOption(options, 'withTransition', true);\r\n      withTransitionForTransform = getOption(options, 'withTransitionForTransform', true);\r\n      function getTextBox(textElement, id) {\r\n          if (!$$.legendItemTextBox[id]) {\r\n              $$.legendItemTextBox[id] = $$.getTextRect(textElement.textContent, CLASS.legendItem, textElement);\r\n          }\r\n          return $$.legendItemTextBox[id];\r\n      }\r\n      function updatePositions(textElement, id, index) {\r\n          var reset = index === 0, isLast = index === targetIds.length - 1, box = getTextBox(textElement, id), itemWidth = box.width +\r\n              tileWidth +\r\n              (isLast && !($$.isLegendRight || $$.isLegendInset) ? 0 : paddingRight) +\r\n              config.legend_padding, itemHeight = box.height + paddingTop, itemLength = $$.isLegendRight || $$.isLegendInset ? itemHeight : itemWidth, areaLength = $$.isLegendRight || $$.isLegendInset\r\n              ? $$.getLegendHeight()\r\n              : $$.getLegendWidth(), margin, maxLength;\r\n          // MEMO: care about condifion of step, totalLength\r\n          function updateValues(id, withoutStep) {\r\n              if (!withoutStep) {\r\n                  margin = (areaLength - totalLength - itemLength) / 2;\r\n                  if (margin < posMin) {\r\n                      margin = (areaLength - itemLength) / 2;\r\n                      totalLength = 0;\r\n                      step++;\r\n                  }\r\n              }\r\n              steps[id] = step;\r\n              margins[step] = $$.isLegendInset ? 10 : margin;\r\n              offsets[id] = totalLength;\r\n              totalLength += itemLength;\r\n          }\r\n          if (reset) {\r\n              totalLength = 0;\r\n              step = 0;\r\n              maxWidth = 0;\r\n              maxHeight = 0;\r\n          }\r\n          if (config.legend_show && !$$.isLegendToShow(id)) {\r\n              widths[id] = heights[id] = steps[id] = offsets[id] = 0;\r\n              return;\r\n          }\r\n          widths[id] = itemWidth;\r\n          heights[id] = itemHeight;\r\n          if (!maxWidth || itemWidth >= maxWidth) {\r\n              maxWidth = itemWidth;\r\n          }\r\n          if (!maxHeight || itemHeight >= maxHeight) {\r\n              maxHeight = itemHeight;\r\n          }\r\n          maxLength = $$.isLegendRight || $$.isLegendInset ? maxHeight : maxWidth;\r\n          if (config.legend_equally) {\r\n              Object.keys(widths).forEach(function (id) {\r\n                  widths[id] = maxWidth;\r\n              });\r\n              Object.keys(heights).forEach(function (id) {\r\n                  heights[id] = maxHeight;\r\n              });\r\n              margin = (areaLength - maxLength * targetIds.length) / 2;\r\n              if (margin < posMin) {\r\n                  totalLength = 0;\r\n                  step = 0;\r\n                  targetIds.forEach(function (id) {\r\n                      updateValues(id);\r\n                  });\r\n              }\r\n              else {\r\n                  updateValues(id, true);\r\n              }\r\n          }\r\n          else {\r\n              updateValues(id);\r\n          }\r\n      }\r\n      if ($$.isLegendInset) {\r\n          step = config.legend_inset_step\r\n              ? config.legend_inset_step\r\n              : targetIds.length;\r\n          $$.updateLegendStep(step);\r\n      }\r\n      if ($$.isLegendRight) {\r\n          xForLegend = function (id) {\r\n              return maxWidth * steps[id];\r\n          };\r\n          yForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n      }\r\n      else if ($$.isLegendInset) {\r\n          xForLegend = function (id) {\r\n              return maxWidth * steps[id] + 10;\r\n          };\r\n          yForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n      }\r\n      else {\r\n          xForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n          yForLegend = function (id) {\r\n              return maxHeight * steps[id];\r\n          };\r\n      }\r\n      xForLegendText = function (id, i) {\r\n          return xForLegend(id, i) + 4 + config.legend_item_tile_width;\r\n      };\r\n      yForLegendText = function (id, i) {\r\n          return yForLegend(id, i) + 9;\r\n      };\r\n      xForLegendRect = function (id, i) {\r\n          return xForLegend(id, i);\r\n      };\r\n      yForLegendRect = function (id, i) {\r\n          return yForLegend(id, i) - 5;\r\n      };\r\n      x1ForLegendTile = function (id, i) {\r\n          return xForLegend(id, i) - 2;\r\n      };\r\n      x2ForLegendTile = function (id, i) {\r\n          return xForLegend(id, i) - 2 + config.legend_item_tile_width;\r\n      };\r\n      yForLegendTile = function (id, i) {\r\n          return yForLegend(id, i) + 4;\r\n      };\r\n      // Define g for legend area\r\n      l = $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .data(targetIds)\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (id) {\r\n          return $$.generateClass(CLASS.legendItem, id);\r\n      })\r\n          .style('visibility', function (id) {\r\n          return $$.isLegendToShow(id) ? 'visible' : 'hidden';\r\n      })\r\n          .style('cursor', function () {\r\n          return config.interaction_enabled ? 'pointer' : 'auto';\r\n      })\r\n          .on('click', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onclick) {\r\n                  config.legend_item_onclick.call($$, id);\r\n              }\r\n              else {\r\n                  if ($$.d3.event.altKey) {\r\n                      $$.api.hide();\r\n                      $$.api.show(id);\r\n                  }\r\n                  else {\r\n                      $$.api.toggle(id);\r\n                      $$.isTargetToShow(id) ? $$.api.focus(id) : $$.api.revert();\r\n                  }\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseover', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onmouseover) {\r\n                  config.legend_item_onmouseover.call($$, id);\r\n              }\r\n              else {\r\n                  $$.d3.select(this).classed(CLASS.legendItemFocused, true);\r\n                  if (!$$.transiting && $$.isTargetToShow(id)) {\r\n                      $$.api.focus(id);\r\n                  }\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onmouseout) {\r\n                  config.legend_item_onmouseout.call($$, id);\r\n              }\r\n              else {\r\n                  $$.d3.select(this).classed(CLASS.legendItemFocused, false);\r\n                  $$.api.revert();\r\n              }\r\n          }\r\n          : null);\r\n      l.append('text')\r\n          .text(function (id) {\r\n          return isDefined(config.data_names[id]) ? config.data_names[id] : id;\r\n      })\r\n          .each(function (id, i) {\r\n          updatePositions(this, id, i);\r\n      })\r\n          .style('pointer-events', 'none')\r\n          .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendText : -200)\r\n          .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendText);\r\n      l.append('rect')\r\n          .attr('class', CLASS.legendItemEvent)\r\n          .style('fill-opacity', 0)\r\n          .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendRect : -200)\r\n          .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendRect);\r\n      l.append('line')\r\n          .attr('class', CLASS.legendItemTile)\r\n          .style('stroke', $$.color)\r\n          .style('pointer-events', 'none')\r\n          .attr('x1', $$.isLegendRight || $$.isLegendInset ? x1ForLegendTile : -200)\r\n          .attr('y1', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\r\n          .attr('x2', $$.isLegendRight || $$.isLegendInset ? x2ForLegendTile : -200)\r\n          .attr('y2', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\r\n          .attr('stroke-width', config.legend_item_tile_height);\r\n      // Set background for inset legend\r\n      background = $$.legend.select('.' + CLASS.legendBackground + ' rect');\r\n      if ($$.isLegendInset && maxWidth > 0 && background.size() === 0) {\r\n          background = $$.legend\r\n              .insert('g', '.' + CLASS.legendItem)\r\n              .attr('class', CLASS.legendBackground)\r\n              .append('rect');\r\n      }\r\n      texts = $$.legend\r\n          .selectAll('text')\r\n          .data(targetIds)\r\n          .text(function (id) {\r\n          return isDefined(config.data_names[id]) ? config.data_names[id] : id;\r\n      }) // MEMO: needed for update\r\n          .each(function (id, i) {\r\n          updatePositions(this, id, i);\r\n      });\r\n      (withTransition ? texts.transition() : texts)\r\n          .attr('x', xForLegendText)\r\n          .attr('y', yForLegendText);\r\n      rects = $$.legend.selectAll('rect.' + CLASS.legendItemEvent).data(targetIds);\r\n      (withTransition ? rects.transition() : rects)\r\n          .attr('width', function (id) {\r\n          return widths[id];\r\n      })\r\n          .attr('height', function (id) {\r\n          return heights[id];\r\n      })\r\n          .attr('x', xForLegendRect)\r\n          .attr('y', yForLegendRect);\r\n      tiles = $$.legend.selectAll('line.' + CLASS.legendItemTile).data(targetIds);\r\n      (withTransition ? tiles.transition() : tiles)\r\n          .style('stroke', $$.levelColor\r\n          ? function (id) {\r\n              return $$.levelColor($$.cache[id].values.reduce(function (total, item) {\r\n                  return total + item.value;\r\n              }, 0));\r\n          }\r\n          : $$.color)\r\n          .attr('x1', x1ForLegendTile)\r\n          .attr('y1', yForLegendTile)\r\n          .attr('x2', x2ForLegendTile)\r\n          .attr('y2', yForLegendTile);\r\n      if (background) {\r\n          (withTransition ? background.transition() : background)\r\n              .attr('height', $$.getLegendHeight() - 12)\r\n              .attr('width', maxWidth * (step + 1) + 10);\r\n      }\r\n      // toggle legend state\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .classed(CLASS.legendItemHidden, function (id) {\r\n          return !$$.isTargetToShow(id);\r\n      });\r\n      // Update all to reflect change of legend\r\n      $$.updateLegendItemWidth(maxWidth);\r\n      $$.updateLegendItemHeight(maxHeight);\r\n      $$.updateLegendStep(step);\r\n      // Update size and scale\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      $$.updateSvgSize();\r\n      // Update g positions\r\n      $$.transformAll(withTransitionForTransform, transitions);\r\n      $$.legendHasRendered = true;\r\n  };\n\n  ChartInternal.prototype.initRegion = function () {\r\n      var $$ = this;\r\n      $$.region = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.regions);\r\n  };\r\n  ChartInternal.prototype.updateRegion = function (duration) {\r\n      var $$ = this, config = $$.config;\r\n      // hide if arc type\r\n      $$.region.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\r\n      var mainRegion = $$.main\r\n          .select('.' + CLASS.regions)\r\n          .selectAll('.' + CLASS.region)\r\n          .data(config.regions);\r\n      var g = mainRegion.enter().append('g');\r\n      g.append('rect')\r\n          .attr('x', $$.regionX.bind($$))\r\n          .attr('y', $$.regionY.bind($$))\r\n          .attr('width', $$.regionWidth.bind($$))\r\n          .attr('height', $$.regionHeight.bind($$))\r\n          .style('fill-opacity', function (d) {\r\n          return isValue(d.opacity) ? d.opacity : 0.1;\r\n      });\r\n      g.append('text').text($$.labelRegion.bind($$));\r\n      $$.mainRegion = g.merge(mainRegion).attr('class', $$.classRegion.bind($$));\r\n      mainRegion\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawRegion = function (withTransition, transition) {\r\n      var $$ = this, regions = $$.mainRegion, regionLabels = $$.mainRegion.selectAll('text');\r\n      return [\r\n          (withTransition ? regions.transition(transition) : regions)\r\n              .attr('x', $$.regionX.bind($$))\r\n              .attr('y', $$.regionY.bind($$))\r\n              .attr('width', $$.regionWidth.bind($$))\r\n              .attr('height', $$.regionHeight.bind($$))\r\n              .style('fill-opacity', function (d) {\r\n              return isValue(d.opacity) ? d.opacity : 0.1;\r\n          }),\r\n          (withTransition ? regionLabels.transition(transition) : regionLabels)\r\n              .attr('x', $$.labelOffsetX.bind($$))\r\n              .attr('y', $$.labelOffsetY.bind($$))\r\n              .attr('transform', $$.labelTransform.bind($$))\r\n              .attr('style', 'text-anchor: left;')\r\n      ];\r\n  };\r\n  ChartInternal.prototype.regionX = function (d) {\r\n      var $$ = this, config = $$.config, xPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          xPos = config.axis_rotated ? ('start' in d ? yScale(d.start) : 0) : 0;\r\n      }\r\n      else {\r\n          xPos = config.axis_rotated\r\n              ? 0\r\n              : 'start' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\r\n                  : 0;\r\n      }\r\n      return xPos;\r\n  };\r\n  ChartInternal.prototype.regionY = function (d) {\r\n      var $$ = this, config = $$.config, yPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          yPos = config.axis_rotated ? 0 : 'end' in d ? yScale(d.end) : 0;\r\n      }\r\n      else {\r\n          yPos = config.axis_rotated\r\n              ? 'start' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\r\n                  : 0\r\n              : 0;\r\n      }\r\n      return yPos;\r\n  };\r\n  ChartInternal.prototype.regionWidth = function (d) {\r\n      var $$ = this, config = $$.config, start = $$.regionX(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          end = config.axis_rotated\r\n              ? 'end' in d\r\n                  ? yScale(d.end)\r\n                  : $$.width\r\n              : $$.width;\r\n      }\r\n      else {\r\n          end = config.axis_rotated\r\n              ? $$.width\r\n              : 'end' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\r\n                  : $$.width;\r\n      }\r\n      return end < start ? 0 : end - start;\r\n  };\r\n  ChartInternal.prototype.regionHeight = function (d) {\r\n      var $$ = this, config = $$.config, start = this.regionY(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          end = config.axis_rotated\r\n              ? $$.height\r\n              : 'start' in d\r\n                  ? yScale(d.start)\r\n                  : $$.height;\r\n      }\r\n      else {\r\n          end = config.axis_rotated\r\n              ? 'end' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\r\n                  : $$.height\r\n              : $$.height;\r\n      }\r\n      return end < start ? 0 : end - start;\r\n  };\r\n  ChartInternal.prototype.isRegionOnX = function (d) {\r\n      return !d.axis || d.axis === 'x';\r\n  };\r\n  ChartInternal.prototype.labelRegion = function (d) {\r\n      return 'label' in d ? d.label : '';\r\n  };\r\n  ChartInternal.prototype.labelTransform = function (d) {\r\n      return 'vertical' in d && d.vertical ? 'rotate(90)' : '';\r\n  };\r\n  ChartInternal.prototype.labelOffsetX = function (d) {\r\n      var paddingX = 'paddingX' in d ? d.paddingX : 3;\r\n      var paddingY = 'paddingY' in d ? d.paddingY : 3;\r\n      return 'vertical' in d && d.vertical\r\n          ? this.regionY(d) + paddingY\r\n          : this.regionX(d) + paddingX;\r\n  };\r\n  ChartInternal.prototype.labelOffsetY = function (d) {\r\n      var paddingX = 'paddingX' in d ? d.paddingX : 3;\r\n      var paddingY = 'paddingY' in d ? d.paddingY : 3;\r\n      return 'vertical' in d && d.vertical\r\n          ? -(this.regionX(d) + paddingX)\r\n          : this.regionY(d) + 10 + paddingY;\r\n  };\n\n  function c3LogScale(d3, linearScale, logScale) {\r\n      var PROJECTION = [0.01, 10];\r\n      if (!linearScale) {\r\n          linearScale = d3.scaleLinear();\r\n          linearScale.range(PROJECTION);\r\n      }\r\n      if (!logScale) {\r\n          logScale = d3.scaleLog();\r\n          logScale.domain(PROJECTION);\r\n          logScale.nice();\r\n      }\r\n      // copied from https://github.com/compute-io/logspace\r\n      function logspace(a, b, len) {\r\n          var arr, end, tmp, d;\r\n          if (arguments.length < 3) {\r\n              len = 10;\r\n          }\r\n          else {\r\n              if (len === 0) {\r\n                  return [];\r\n              }\r\n          }\r\n          // Calculate the increment:\r\n          end = len - 1;\r\n          d = (b - a) / end;\r\n          // Build the output array...\r\n          arr = new Array(len);\r\n          tmp = a;\r\n          arr[0] = Math.pow(10, tmp);\r\n          for (var i = 1; i < end; i++) {\r\n              tmp += d;\r\n              arr[i] = Math.pow(10, tmp);\r\n          }\r\n          arr[end] = Math.pow(10, b);\r\n          return arr;\r\n      }\r\n      function scale(x) {\r\n          return logScale(linearScale(x));\r\n      }\r\n      scale.domain = function (x) {\r\n          if (!arguments.length) {\r\n              return linearScale.domain();\r\n          }\r\n          linearScale.domain(x);\r\n          return scale;\r\n      };\r\n      scale.range = function (x) {\r\n          if (!arguments.length) {\r\n              return logScale.range();\r\n          }\r\n          logScale.range(x);\r\n          return scale;\r\n      };\r\n      scale.ticks = function (m) {\r\n          return logspace(-2, 1, m || 10).map(function (v) {\r\n              return linearScale.invert(v);\r\n          });\r\n      };\r\n      scale.copy = function () {\r\n          return c3LogScale(d3, linearScale.copy(), logScale.copy());\r\n      };\r\n      return scale;\r\n  }\r\n  ChartInternal.prototype.getScale = function (min, max, forTimeseries) {\r\n      return (forTimeseries ? this.d3.scaleTime() : this.d3.scaleLinear()).range([\r\n          min,\r\n          max\r\n      ]);\r\n  };\r\n  ChartInternal.prototype.getX = function (min, max, domain, offset) {\r\n      var $$ = this, scale = $$.getScale(min, max, $$.isTimeSeries()), _scale = domain ? scale.domain(domain) : scale, key;\r\n      // Define customized scale if categorized axis\r\n      if ($$.isCategorized()) {\r\n          offset =\r\n              offset ||\r\n                  function () {\r\n                      return 0;\r\n                  };\r\n          scale = function (d, raw) {\r\n              var v = _scale(d) + offset(d);\r\n              return raw ? v : Math.ceil(v);\r\n          };\r\n      }\r\n      else {\r\n          scale = function (d, raw) {\r\n              var v = _scale(d);\r\n              return raw ? v : Math.ceil(v);\r\n          };\r\n      }\r\n      // define functions\r\n      for (key in _scale) {\r\n          scale[key] = _scale[key];\r\n      }\r\n      scale.orgDomain = function () {\r\n          return _scale.domain();\r\n      };\r\n      // define custom domain() for categorized axis\r\n      if ($$.isCategorized()) {\r\n          scale.domain = function (domain) {\r\n              if (!arguments.length) {\r\n                  domain = this.orgDomain();\r\n                  return [domain[0], domain[1] + 1];\r\n              }\r\n              _scale.domain(domain);\r\n              return scale;\r\n          };\r\n      }\r\n      return scale;\r\n  };\r\n  /**\r\n   * Creates and configures a D3 scale instance for the given type.\r\n   *\r\n   * By defaults it returns a Linear scale.\r\n   *\r\n   * @param {String} type Type of d3-scale to create. Type can be 'linear', 'time', 'timeseries' or 'log'.\r\n   * @param {Array} domain The scale domain such as [from, to]\r\n   * @param {Array} range The scale's range such as [from, to]\r\n   *\r\n   * @return A d3-scale instance\r\n   */\r\n  ChartInternal.prototype.getY = function (type, domain, range) {\r\n      var scale;\r\n      if (type === 'timeseries' || type === 'time') {\r\n          scale = this.d3.scaleTime();\r\n      }\r\n      else if (type === 'log') {\r\n          scale = c3LogScale(this.d3);\r\n      }\r\n      else if (type === 'linear' || type === undefined) {\r\n          scale = this.d3.scaleLinear();\r\n      }\r\n      else {\r\n          throw new Error(\"Invalid Y axis type: \\\"\" + type + \"\\\"\");\r\n      }\r\n      if (domain) {\r\n          scale.domain(domain);\r\n      }\r\n      if (range) {\r\n          scale.range(range);\r\n      }\r\n      return scale;\r\n  };\r\n  ChartInternal.prototype.getYScale = function (id) {\r\n      return this.axis.getId(id) === 'y2' ? this.y2 : this.y;\r\n  };\r\n  ChartInternal.prototype.getSubYScale = function (id) {\r\n      return this.axis.getId(id) === 'y2' ? this.subY2 : this.subY;\r\n  };\r\n  ChartInternal.prototype.updateScales = function () {\r\n      var $$ = this, config = $$.config, forInit = !$$.x;\r\n      // update edges\r\n      $$.xMin = config.axis_rotated ? 1 : 0;\r\n      $$.xMax = config.axis_rotated ? $$.height : $$.width;\r\n      $$.yMin = config.axis_rotated ? 0 : $$.height;\r\n      $$.yMax = config.axis_rotated ? $$.width : 1;\r\n      $$.subXMin = $$.xMin;\r\n      $$.subXMax = $$.xMax;\r\n      $$.subYMin = config.axis_rotated ? 0 : $$.height2;\r\n      $$.subYMax = config.axis_rotated ? $$.width2 : 1;\r\n      // update scales\r\n      $$.x = $$.getX($$.xMin, $$.xMax, forInit ? undefined : $$.x.orgDomain(), function () {\r\n          return $$.xAxis.tickOffset();\r\n      });\r\n      $$.y = $$.getY(config.axis_y_type, forInit ? config.axis_y_default : $$.y.domain(), [$$.yMin, $$.yMax]);\r\n      $$.y2 = $$.getY(config.axis_y2_type, forInit ? config.axis_y2_default : $$.y2.domain(), [$$.yMin, $$.yMax]);\r\n      $$.subX = $$.getX($$.xMin, $$.xMax, $$.orgXDomain, function (d) {\r\n          return d % 1 ? 0 : $$.subXAxis.tickOffset();\r\n      });\r\n      $$.subY = $$.getY(config.axis_y_type, forInit ? config.axis_y_default : $$.subY.domain(), [$$.subYMin, $$.subYMax]);\r\n      $$.subY2 = $$.getY(config.axis_y2_type, forInit ? config.axis_y2_default : $$.subY2.domain(), [$$.subYMin, $$.subYMax]);\r\n      // update axes\r\n      $$.xAxisTickFormat = $$.axis.getXAxisTickFormat();\r\n      $$.xAxisTickValues = $$.axis.getXAxisTickValues();\r\n      $$.yAxisTickValues = $$.axis.getYAxisTickValues();\r\n      $$.y2AxisTickValues = $$.axis.getY2AxisTickValues();\r\n      $$.xAxis = $$.axis.getXAxis($$.x, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\r\n      $$.subXAxis = $$.axis.getXAxis($$.subX, $$.subXOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\r\n      $$.yAxis = $$.axis.getYAxis('y', $$.y, $$.yOrient, $$.yAxisTickValues, config.axis_y_tick_outer);\r\n      $$.y2Axis = $$.axis.getYAxis('y2', $$.y2, $$.y2Orient, $$.y2AxisTickValues, config.axis_y2_tick_outer);\r\n      // Set initialized scales to brush and zoom\r\n      if (!forInit) {\r\n          if ($$.brush) {\r\n              $$.brush.updateScale($$.subX);\r\n          }\r\n      }\r\n      // update for arc\r\n      if ($$.updateArc) {\r\n          $$.updateArc();\r\n      }\r\n  };\n\n  ChartInternal.prototype.selectPoint = function (target, d, i) {\r\n      var $$ = this, config = $$.config, cx = (config.axis_rotated ? $$.circleY : $$.circleX).bind($$), cy = (config.axis_rotated ? $$.circleX : $$.circleY).bind($$), r = $$.pointSelectR.bind($$);\r\n      config.data_onselected.call($$.api, d, target.node());\r\n      // add selected-circle on low layer g\r\n      $$.main\r\n          .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\r\n          .selectAll('.' + CLASS.selectedCircle + '-' + i)\r\n          .data([d])\r\n          .enter()\r\n          .append('circle')\r\n          .attr('class', function () {\r\n          return $$.generateClass(CLASS.selectedCircle, i);\r\n      })\r\n          .attr('cx', cx)\r\n          .attr('cy', cy)\r\n          .attr('stroke', function () {\r\n          return $$.color(d);\r\n      })\r\n          .attr('r', function (d) {\r\n          return $$.pointSelectR(d) * 1.4;\r\n      })\r\n          .transition()\r\n          .duration(100)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.unselectPoint = function (target, d, i) {\r\n      var $$ = this;\r\n      $$.config.data_onunselected.call($$.api, d, target.node());\r\n      // remove selected-circle from low layer g\r\n      $$.main\r\n          .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\r\n          .selectAll('.' + CLASS.selectedCircle + '-' + i)\r\n          .transition()\r\n          .duration(100)\r\n          .attr('r', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.togglePoint = function (selected, target, d, i) {\r\n      selected ? this.selectPoint(target, d, i) : this.unselectPoint(target, d, i);\r\n  };\r\n  ChartInternal.prototype.selectPath = function (target, d) {\r\n      var $$ = this;\r\n      $$.config.data_onselected.call($$, d, target.node());\r\n      if ($$.config.interaction_brighten) {\r\n          target\r\n              .transition()\r\n              .duration(100)\r\n              .style('fill', function () {\r\n              return $$.d3.rgb($$.color(d)).brighter(0.75);\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.unselectPath = function (target, d) {\r\n      var $$ = this;\r\n      $$.config.data_onunselected.call($$, d, target.node());\r\n      if ($$.config.interaction_brighten) {\r\n          target\r\n              .transition()\r\n              .duration(100)\r\n              .style('fill', function () {\r\n              return $$.color(d);\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.togglePath = function (selected, target, d, i) {\r\n      selected ? this.selectPath(target, d, i) : this.unselectPath(target, d, i);\r\n  };\r\n  ChartInternal.prototype.getToggle = function (that, d) {\r\n      var $$ = this, toggle;\r\n      if (that.nodeName === 'circle') {\r\n          if ($$.isStepType(d)) {\r\n              // circle is hidden in step chart, so treat as within the click area\r\n              toggle = function () { }; // TODO: how to select step chart?\r\n          }\r\n          else {\r\n              toggle = $$.togglePoint;\r\n          }\r\n      }\r\n      else if (that.nodeName === 'path') {\r\n          toggle = $$.togglePath;\r\n      }\r\n      return toggle;\r\n  };\r\n  ChartInternal.prototype.toggleShape = function (that, d, i) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, shape = d3.select(that), isSelected = shape.classed(CLASS.SELECTED), toggle = $$.getToggle(that, d).bind($$);\r\n      if (config.data_selection_enabled && config.data_selection_isselectable(d)) {\r\n          if (!config.data_selection_multiple) {\r\n              $$.main\r\n                  .selectAll('.' +\r\n                  CLASS.shapes +\r\n                  (config.data_selection_grouped\r\n                      ? $$.getTargetSelectorSuffix(d.id)\r\n                      : ''))\r\n                  .selectAll('.' + CLASS.shape)\r\n                  .each(function (d, i) {\r\n                  var shape = d3.select(this);\r\n                  if (shape.classed(CLASS.SELECTED)) {\r\n                      toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n                  }\r\n              });\r\n          }\r\n          shape.classed(CLASS.SELECTED, !isSelected);\r\n          toggle(!isSelected, shape, d, i);\r\n      }\r\n  };\n\n  ChartInternal.prototype.initBar = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartBars);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForBar = function (targets) {\r\n      var $$ = this, config = $$.config, mainBars, mainBarEnter, classChartBar = $$.classChartBar.bind($$), classBars = $$.classBars.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainBars = $$.main\r\n          .select('.' + CLASS.chartBars)\r\n          .selectAll('.' + CLASS.chartBar)\r\n          .data(targets)\r\n          .attr('class', function (d) {\r\n          return classChartBar(d) + classFocus(d);\r\n      });\r\n      mainBarEnter = mainBars\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartBar)\r\n          .style('pointer-events', 'none');\r\n      // Bars for each data\r\n      mainBarEnter\r\n          .append('g')\r\n          .attr('class', classBars)\r\n          .style('cursor', function (d) {\r\n          return config.data_selection_isselectable(d) ? 'pointer' : null;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateBar = function (durationForExit) {\r\n      var $$ = this, barData = $$.barData.bind($$), classBar = $$.classBar.bind($$), initialOpacity = $$.initialOpacity.bind($$), color = function (d) {\r\n          return $$.color(d.id);\r\n      };\r\n      var mainBar = $$.main\r\n          .selectAll('.' + CLASS.bars)\r\n          .selectAll('.' + CLASS.bar)\r\n          .data(barData);\r\n      var mainBarEnter = mainBar\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', classBar)\r\n          .style('stroke', color)\r\n          .style('fill', color);\r\n      $$.mainBar = mainBarEnter.merge(mainBar).style('opacity', initialOpacity);\r\n      mainBar\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawBar = function (drawBar, withTransition, transition) {\r\n      var $$ = this;\r\n      return [\r\n          (withTransition ? this.mainBar.transition(transition) : this.mainBar)\r\n              .attr('d', drawBar)\r\n              .style('stroke', this.color)\r\n              .style('fill', this.color)\r\n              .style('opacity', function (d) { return ($$.isTargetToShow(d.id) ? 1 : 0); })\r\n      ];\r\n  };\r\n  ChartInternal.prototype.getBarW = function (axis, barTargetsNum) {\r\n      var $$ = this, config = $$.config, w = typeof config.bar_width === 'number'\r\n          ? config.bar_width\r\n          : barTargetsNum\r\n              ? (axis.tickInterval() * config.bar_width_ratio) / barTargetsNum\r\n              : 0;\r\n      return config.bar_width_max && w > config.bar_width_max\r\n          ? config.bar_width_max\r\n          : w;\r\n  };\r\n  ChartInternal.prototype.getBars = function (i, id) {\r\n      var $$ = this;\r\n      return (id\r\n          ? $$.main.selectAll('.' + CLASS.bars + $$.getTargetSelectorSuffix(id))\r\n          : $$.main).selectAll('.' + CLASS.bar + (isValue(i) ? '-' + i : ''));\r\n  };\r\n  ChartInternal.prototype.expandBars = function (i, id, reset) {\r\n      var $$ = this;\r\n      if (reset) {\r\n          $$.unexpandBars();\r\n      }\r\n      $$.getBars(i, id).classed(CLASS.EXPANDED, true);\r\n  };\r\n  ChartInternal.prototype.unexpandBars = function (i) {\r\n      var $$ = this;\r\n      $$.getBars(i).classed(CLASS.EXPANDED, false);\r\n  };\r\n  ChartInternal.prototype.generateDrawBar = function (barIndices, isSub) {\r\n      var $$ = this, config = $$.config, getPoints = $$.generateGetBarPoints(barIndices, isSub);\r\n      return function (d, i) {\r\n          // 4 points that make a bar\r\n          var points = getPoints(d, i);\r\n          // switch points if axis is rotated, not applicable for sub chart\r\n          var indexX = config.axis_rotated ? 1 : 0;\r\n          var indexY = config.axis_rotated ? 0 : 1;\r\n          var path = 'M ' +\r\n              points[0][indexX] +\r\n              ',' +\r\n              points[0][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[1][indexX] +\r\n              ',' +\r\n              points[1][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[2][indexX] +\r\n              ',' +\r\n              points[2][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[3][indexX] +\r\n              ',' +\r\n              points[3][indexY] +\r\n              ' ' +\r\n              'z';\r\n          return path;\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateGetBarPoints = function (barIndices, isSub) {\r\n      var $$ = this, axis = isSub ? $$.subXAxis : $$.xAxis, barTargetsNum = barIndices.__max__ + 1, barW = $$.getBarW(axis, barTargetsNum), barX = $$.getShapeX(barW, barTargetsNum, barIndices, !!isSub), barY = $$.getShapeY(!!isSub), barOffset = $$.getShapeOffset($$.isBarType, barIndices, !!isSub), barSpaceOffset = barW * ($$.config.bar_space / 2), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = barOffset(d, i) || y0, // offset is for stacked bar chart\r\n          posX = barX(d), posY = barY(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if ($$.config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          posY -= y0 - offset;\r\n          // 4 points that make a bar\r\n          return [\r\n              [posX + barSpaceOffset, offset],\r\n              [posX + barSpaceOffset, posY],\r\n              [posX + barW - barSpaceOffset, posY],\r\n              [posX + barW - barSpaceOffset, offset]\r\n          ];\r\n      };\r\n  };\r\n  /**\r\n   * Returns whether the data point is within the given bar shape.\r\n   *\r\n   * @param mouse\r\n   * @param barShape\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isWithinBar = function (mouse, barShape) {\r\n      return isWithinBox(mouse, getBBox(barShape), 2);\r\n  };\n\n  ChartInternal.prototype.getShapeIndices = function (typeFilter) {\r\n      var $$ = this, config = $$.config, indices = {}, i = 0, j, k;\r\n      $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$)).forEach(function (d) {\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              if (config.data_groups[j].indexOf(d.id) < 0) {\r\n                  continue;\r\n              }\r\n              for (k = 0; k < config.data_groups[j].length; k++) {\r\n                  if (config.data_groups[j][k] in indices) {\r\n                      indices[d.id] = indices[config.data_groups[j][k]];\r\n                      break;\r\n                  }\r\n              }\r\n          }\r\n          if (isUndefined(indices[d.id])) {\r\n              indices[d.id] = i++;\r\n          }\r\n      });\r\n      indices.__max__ = i - 1;\r\n      return indices;\r\n  };\r\n  ChartInternal.prototype.getShapeX = function (offset, targetsNum, indices, isSub) {\r\n      var $$ = this, scale = isSub ? $$.subX : $$.x;\r\n      return function (d) {\r\n          var index = d.id in indices ? indices[d.id] : 0;\r\n          return d.x || d.x === 0 ? scale(d.x) - offset * (targetsNum / 2 - index) : 0;\r\n      };\r\n  };\r\n  ChartInternal.prototype.getShapeY = function (isSub) {\r\n      var $$ = this;\r\n      return function (d) {\r\n          var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id);\r\n          return scale($$.isTargetNormalized(d.id) ? $$.getRatio('index', d, true) : d.value);\r\n      };\r\n  };\r\n  ChartInternal.prototype.getShapeOffset = function (typeFilter, indices, isSub) {\r\n      var $$ = this, targets = $$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$))), targetIds = targets.map(function (t) {\r\n          return t.id;\r\n      });\r\n      return function (d, i) {\r\n          var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id), y0 = scale(0), offset = y0;\r\n          targets.forEach(function (t) {\r\n              var rowValues = $$.isStepType(d)\r\n                  ? $$.convertValuesToStep(t.values)\r\n                  : t.values;\r\n              var isTargetNormalized = $$.isTargetNormalized(d.id);\r\n              var values = rowValues.map(function (v) {\r\n                  return isTargetNormalized ? $$.getRatio('index', v, true) : v.value;\r\n              });\r\n              if (t.id === d.id || indices[t.id] !== indices[d.id]) {\r\n                  return;\r\n              }\r\n              if (targetIds.indexOf(t.id) < targetIds.indexOf(d.id)) {\r\n                  // check if the x values line up\r\n                  if (isUndefined(rowValues[i]) || +rowValues[i].x !== +d.x) {\r\n                      // \"+\" for timeseries\r\n                      // if not, try to find the value that does line up\r\n                      i = -1;\r\n                      rowValues.forEach(function (v, j) {\r\n                          var x1 = v.x.constructor === Date ? +v.x : v.x;\r\n                          var x2 = d.x.constructor === Date ? +d.x : d.x;\r\n                          if (x1 === x2) {\r\n                              i = j;\r\n                          }\r\n                      });\r\n                  }\r\n                  if (i in rowValues && rowValues[i].value * d.value >= 0) {\r\n                      offset += scale(values[i]) - y0;\r\n                  }\r\n              }\r\n          });\r\n          return offset;\r\n      };\r\n  };\r\n  ChartInternal.prototype.isWithinShape = function (that, d) {\r\n      var $$ = this, shape = $$.d3.select(that), isWithin;\r\n      if (!$$.isTargetToShow(d.id)) {\r\n          isWithin = false;\r\n      }\r\n      else if (that.nodeName === 'circle') {\r\n          isWithin = $$.isStepType(d)\r\n              ? $$.isWithinStep(that, $$.getYScale(d.id)(d.value))\r\n              : $$.isWithinCircle(that, $$.pointSelectR(d) * 1.5);\r\n      }\r\n      else if (that.nodeName === 'path') {\r\n          isWithin = shape.classed(CLASS.bar)\r\n              ? $$.isWithinBar($$.d3.mouse(that), that)\r\n              : true;\r\n      }\r\n      return isWithin;\r\n  };\r\n  ChartInternal.prototype.getInterpolate = function (d) {\r\n      var $$ = this, d3 = $$.d3, types = {\r\n          linear: d3.curveLinear,\r\n          'linear-closed': d3.curveLinearClosed,\r\n          basis: d3.curveBasis,\r\n          'basis-open': d3.curveBasisOpen,\r\n          'basis-closed': d3.curveBasisClosed,\r\n          bundle: d3.curveBundle,\r\n          cardinal: d3.curveCardinal,\r\n          'cardinal-open': d3.curveCardinalOpen,\r\n          'cardinal-closed': d3.curveCardinalClosed,\r\n          monotone: d3.curveMonotoneX,\r\n          step: d3.curveStep,\r\n          'step-before': d3.curveStepBefore,\r\n          'step-after': d3.curveStepAfter\r\n      }, type;\r\n      if ($$.isSplineType(d)) {\r\n          type = types[$$.config.spline_interpolation_type] || types.cardinal;\r\n      }\r\n      else if ($$.isStepType(d)) {\r\n          type = types[$$.config.line_step_type];\r\n      }\r\n      else {\r\n          type = types.linear;\r\n      }\r\n      return type;\r\n  };\n\n  ChartInternal.prototype.initLine = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartLines);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForLine = function (targets) {\r\n      var $$ = this, config = $$.config, mainLines, mainLineEnter, classChartLine = $$.classChartLine.bind($$), classLines = $$.classLines.bind($$), classAreas = $$.classAreas.bind($$), classCircles = $$.classCircles.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainLines = $$.main\r\n          .select('.' + CLASS.chartLines)\r\n          .selectAll('.' + CLASS.chartLine)\r\n          .data(targets)\r\n          .attr('class', function (d) {\r\n          return classChartLine(d) + classFocus(d);\r\n      });\r\n      mainLineEnter = mainLines\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartLine)\r\n          .style('opacity', 0)\r\n          .style('pointer-events', 'none');\r\n      // Lines for each data\r\n      mainLineEnter.append('g').attr('class', classLines);\r\n      // Areas\r\n      mainLineEnter.append('g').attr('class', classAreas);\r\n      // Circles for each data point on lines\r\n      mainLineEnter.append('g').attr('class', function (d) {\r\n          return $$.generateClass(CLASS.selectedCircles, d.id);\r\n      });\r\n      mainLineEnter\r\n          .append('g')\r\n          .attr('class', classCircles)\r\n          .style('cursor', function (d) {\r\n          return config.data_selection_isselectable(d) ? 'pointer' : null;\r\n      });\r\n      // Update date for selected circles\r\n      targets.forEach(function (t) {\r\n          $$.main\r\n              .selectAll('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(t.id))\r\n              .selectAll('.' + CLASS.selectedCircle)\r\n              .each(function (d) {\r\n              d.value = t.values[d.index].value;\r\n          });\r\n      });\r\n      // MEMO: can not keep same color...\r\n      //mainLineUpdate.exit().remove();\r\n  };\r\n  ChartInternal.prototype.updateLine = function (durationForExit) {\r\n      var $$ = this;\r\n      var mainLine = $$.main\r\n          .selectAll('.' + CLASS.lines)\r\n          .selectAll('.' + CLASS.line)\r\n          .data($$.lineData.bind($$));\r\n      var mainLineEnter = mainLine\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classLine.bind($$))\r\n          .style('stroke', $$.color);\r\n      $$.mainLine = mainLineEnter\r\n          .merge(mainLine)\r\n          .style('opacity', $$.initialOpacity.bind($$))\r\n          .style('shape-rendering', function (d) {\r\n          return $$.isStepType(d) ? 'crispEdges' : '';\r\n      })\r\n          .attr('transform', null);\r\n      mainLine\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawLine = function (drawLine, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainLine.transition(transition) : this.mainLine)\r\n              .attr('d', drawLine)\r\n              .style('stroke', this.color)\r\n              .style('opacity', 1)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.generateDrawLine = function (lineIndices, isSub) {\r\n      var $$ = this, config = $$.config, line = $$.d3.line(), getPoints = $$.generateGetLinePoints(lineIndices, isSub), yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale, xValue = function (d) {\r\n          return (isSub ? $$.subxx : $$.xx).call($$, d);\r\n      }, yValue = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[0][1]\r\n              : yScaleGetter.call($$, d.id)(d.value);\r\n      };\r\n      line = config.axis_rotated\r\n          ? line.x(yValue).y(xValue)\r\n          : line.x(xValue).y(yValue);\r\n      if (!config.line_connectNull) {\r\n          line = line.defined(function (d) {\r\n              return d.value != null;\r\n          });\r\n      }\r\n      return function (d) {\r\n          var values = config.line_connectNull\r\n              ? $$.filterRemoveNull(d.values)\r\n              : d.values, x = isSub ? $$.subX : $$.x, y = yScaleGetter.call($$, d.id), x0 = 0, y0 = 0, path;\r\n          if ($$.isLineType(d)) {\r\n              if (config.data_regions[d.id]) {\r\n                  path = $$.lineWithRegions(values, x, y, config.data_regions[d.id]);\r\n              }\r\n              else {\r\n                  if ($$.isStepType(d)) {\r\n                      values = $$.convertValuesToStep(values);\r\n                  }\r\n                  path = line.curve($$.getInterpolate(d))(values);\r\n              }\r\n          }\r\n          else {\r\n              if (values[0]) {\r\n                  x0 = x(values[0].x);\r\n                  y0 = y(values[0].value);\r\n              }\r\n              path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\r\n          }\r\n          return path ? path : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateGetLinePoints = function (lineIndices, isSub) {\r\n      // partial duplication of generateGetBarPoints\r\n      var $$ = this, config = $$.config, lineTargetsNum = lineIndices.__max__ + 1, x = $$.getShapeX(0, lineTargetsNum, lineIndices, !!isSub), y = $$.getShapeY(!!isSub), lineOffset = $$.getShapeOffset($$.isLineType, lineIndices, !!isSub), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = lineOffset(d, i) || y0, // offset is for stacked area chart\r\n          posX = x(d), posY = y(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if (config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          // 1 point that marks the line position\r\n          return [\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)] // needed for compatibility\r\n          ];\r\n      };\r\n  };\r\n  ChartInternal.prototype.lineWithRegions = function (d, x, y, _regions) {\r\n      var $$ = this, config = $$.config, prev = -1, i, j, s = 'M', sWithRegion, xp, yp, dx, dy, dd, diff, diffx2, xOffset = $$.isCategorized() ? 0.5 : 0, xValue, yValue, regions = [];\r\n      function isWithinRegions(x, regions) {\r\n          var i;\r\n          for (i = 0; i < regions.length; i++) {\r\n              if (regions[i].start < x && x <= regions[i].end) {\r\n                  return true;\r\n              }\r\n          }\r\n          return false;\r\n      }\r\n      // Check start/end of regions\r\n      if (isDefined(_regions)) {\r\n          for (i = 0; i < _regions.length; i++) {\r\n              regions[i] = {};\r\n              if (isUndefined(_regions[i].start)) {\r\n                  regions[i].start = d[0].x;\r\n              }\r\n              else {\r\n                  regions[i].start = $$.isTimeSeries()\r\n                      ? $$.parseDate(_regions[i].start)\r\n                      : _regions[i].start;\r\n              }\r\n              if (isUndefined(_regions[i].end)) {\r\n                  regions[i].end = d[d.length - 1].x;\r\n              }\r\n              else {\r\n                  regions[i].end = $$.isTimeSeries()\r\n                      ? $$.parseDate(_regions[i].end)\r\n                      : _regions[i].end;\r\n              }\r\n          }\r\n      }\r\n      // Set scales\r\n      xValue = config.axis_rotated\r\n          ? function (d) {\r\n              return y(d.value);\r\n          }\r\n          : function (d) {\r\n              return x(d.x);\r\n          };\r\n      yValue = config.axis_rotated\r\n          ? function (d) {\r\n              return x(d.x);\r\n          }\r\n          : function (d) {\r\n              return y(d.value);\r\n          };\r\n      // Define svg generator function for region\r\n      function generateM(points) {\r\n          return ('M' +\r\n              points[0][0] +\r\n              ' ' +\r\n              points[0][1] +\r\n              ' ' +\r\n              points[1][0] +\r\n              ' ' +\r\n              points[1][1]);\r\n      }\r\n      if ($$.isTimeSeries()) {\r\n          sWithRegion = function (d0, d1, j, diff) {\r\n              var x0 = d0.x.getTime(), x_diff = d1.x - d0.x, xv0 = new Date(x0 + x_diff * j), xv1 = new Date(x0 + x_diff * (j + diff)), points;\r\n              if (config.axis_rotated) {\r\n                  points = [\r\n                      [y(yp(j)), x(xv0)],\r\n                      [y(yp(j + diff)), x(xv1)]\r\n                  ];\r\n              }\r\n              else {\r\n                  points = [\r\n                      [x(xv0), y(yp(j))],\r\n                      [x(xv1), y(yp(j + diff))]\r\n                  ];\r\n              }\r\n              return generateM(points);\r\n          };\r\n      }\r\n      else {\r\n          sWithRegion = function (d0, d1, j, diff) {\r\n              var points;\r\n              if (config.axis_rotated) {\r\n                  points = [\r\n                      [y(yp(j), true), x(xp(j))],\r\n                      [y(yp(j + diff), true), x(xp(j + diff))]\r\n                  ];\r\n              }\r\n              else {\r\n                  points = [\r\n                      [x(xp(j), true), y(yp(j))],\r\n                      [x(xp(j + diff), true), y(yp(j + diff))]\r\n                  ];\r\n              }\r\n              return generateM(points);\r\n          };\r\n      }\r\n      // Generate\r\n      for (i = 0; i < d.length; i++) {\r\n          // Draw as normal\r\n          if (isUndefined(regions) || !isWithinRegions(d[i].x, regions)) {\r\n              s += ' ' + xValue(d[i]) + ' ' + yValue(d[i]);\r\n          }\r\n          // Draw with region // TODO: Fix for horizotal charts\r\n          else {\r\n              xp = $$.getScale(d[i - 1].x + xOffset, d[i].x + xOffset, $$.isTimeSeries());\r\n              yp = $$.getScale(d[i - 1].value, d[i].value);\r\n              dx = x(d[i].x) - x(d[i - 1].x);\r\n              dy = y(d[i].value) - y(d[i - 1].value);\r\n              dd = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\r\n              diff = 2 / dd;\r\n              diffx2 = diff * 2;\r\n              for (j = diff; j <= 1; j += diffx2) {\r\n                  s += sWithRegion(d[i - 1], d[i], j, diff);\r\n              }\r\n          }\r\n          prev = d[i].x;\r\n      }\r\n      return s;\r\n  };\r\n  ChartInternal.prototype.updateArea = function (durationForExit) {\r\n      var $$ = this, d3 = $$.d3;\r\n      var mainArea = $$.main\r\n          .selectAll('.' + CLASS.areas)\r\n          .selectAll('.' + CLASS.area)\r\n          .data($$.lineData.bind($$));\r\n      var mainAreaEnter = mainArea\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArea.bind($$))\r\n          .style('fill', $$.color)\r\n          .style('opacity', function () {\r\n          $$.orgAreaOpacity = +d3.select(this).style('opacity');\r\n          return 0;\r\n      });\r\n      $$.mainArea = mainAreaEnter\r\n          .merge(mainArea)\r\n          .style('opacity', $$.orgAreaOpacity);\r\n      mainArea\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawArea = function (drawArea, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainArea.transition(transition) : this.mainArea)\r\n              .attr('d', drawArea)\r\n              .style('fill', this.color)\r\n              .style('opacity', this.orgAreaOpacity)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.generateDrawArea = function (areaIndices, isSub) {\r\n      var $$ = this, config = $$.config, area = $$.d3.area(), getPoints = $$.generateGetAreaPoints(areaIndices, isSub), yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale, xValue = function (d) {\r\n          return (isSub ? $$.subxx : $$.xx).call($$, d);\r\n      }, value0 = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[0][1]\r\n              : yScaleGetter.call($$, d.id)($$.getAreaBaseValue(d.id));\r\n      }, value1 = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[1][1]\r\n              : yScaleGetter.call($$, d.id)(d.value);\r\n      };\r\n      area = config.axis_rotated\r\n          ? area\r\n              .x0(value0)\r\n              .x1(value1)\r\n              .y(xValue)\r\n          : area\r\n              .x(xValue)\r\n              .y0(config.area_above ? 0 : value0)\r\n              .y1(value1);\r\n      if (!config.line_connectNull) {\r\n          area = area.defined(function (d) {\r\n              return d.value !== null;\r\n          });\r\n      }\r\n      return function (d) {\r\n          var values = config.line_connectNull\r\n              ? $$.filterRemoveNull(d.values)\r\n              : d.values, x0 = 0, y0 = 0, path;\r\n          if ($$.isAreaType(d)) {\r\n              if ($$.isStepType(d)) {\r\n                  values = $$.convertValuesToStep(values);\r\n              }\r\n              path = area.curve($$.getInterpolate(d))(values);\r\n          }\r\n          else {\r\n              if (values[0]) {\r\n                  x0 = $$.x(values[0].x);\r\n                  y0 = $$.getYScale(d.id)(values[0].value);\r\n              }\r\n              path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\r\n          }\r\n          return path ? path : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.getAreaBaseValue = function () {\r\n      return 0;\r\n  };\r\n  ChartInternal.prototype.generateGetAreaPoints = function (areaIndices, isSub) {\r\n      // partial duplication of generateGetBarPoints\r\n      var $$ = this, config = $$.config, areaTargetsNum = areaIndices.__max__ + 1, x = $$.getShapeX(0, areaTargetsNum, areaIndices, !!isSub), y = $$.getShapeY(!!isSub), areaOffset = $$.getShapeOffset($$.isAreaType, areaIndices, !!isSub), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = areaOffset(d, i) || y0, // offset is for stacked area chart\r\n          posX = x(d), posY = y(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if (config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          // 1 point that marks the area position\r\n          return [\r\n              [posX, offset],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, offset] // needed for compatibility\r\n          ];\r\n      };\r\n  };\r\n  ChartInternal.prototype.updateCircle = function (cx, cy) {\r\n      var $$ = this;\r\n      var mainCircle = $$.main\r\n          .selectAll('.' + CLASS.circles)\r\n          .selectAll('.' + CLASS.circle)\r\n          .data($$.lineOrScatterOrStanfordData.bind($$));\r\n      var mainCircleEnter = mainCircle\r\n          .enter()\r\n          .append('circle')\r\n          .attr('shape-rendering', $$.isStanfordGraphType() ? 'crispEdges' : '')\r\n          .attr('class', $$.classCircle.bind($$))\r\n          .attr('cx', cx)\r\n          .attr('cy', cy)\r\n          .attr('r', $$.pointR.bind($$))\r\n          .style('color', $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color);\r\n      $$.mainCircle = mainCircleEnter\r\n          .merge(mainCircle)\r\n          .style('opacity', $$.isStanfordGraphType() ? 1 : $$.initialOpacityForCircle.bind($$));\r\n      mainCircle.exit().style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawCircle = function (cx, cy, withTransition, transition) {\r\n      var $$ = this, selectedCircles = $$.main.selectAll('.' + CLASS.selectedCircle);\r\n      return [\r\n          (withTransition ? $$.mainCircle.transition(transition) : $$.mainCircle)\r\n              .style('opacity', this.opacityForCircle.bind($$))\r\n              .style('color', $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color)\r\n              .attr('cx', cx)\r\n              .attr('cy', cy),\r\n          (withTransition ? selectedCircles.transition(transition) : selectedCircles)\r\n              .attr('cx', cx)\r\n              .attr('cy', cy)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.circleX = function (d) {\r\n      return d.x || d.x === 0 ? this.x(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.updateCircleY = function () {\r\n      var $$ = this, lineIndices, getPoints;\r\n      if ($$.config.data_groups.length > 0) {\r\n          (lineIndices = $$.getShapeIndices($$.isLineType)),\r\n              (getPoints = $$.generateGetLinePoints(lineIndices));\r\n          $$.circleY = function (d, i) {\r\n              return getPoints(d, i)[0][1];\r\n          };\r\n      }\r\n      else {\r\n          $$.circleY = function (d) {\r\n              return $$.getYScale(d.id)(d.value);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.getCircles = function (i, id) {\r\n      var $$ = this;\r\n      return (id\r\n          ? $$.main.selectAll('.' + CLASS.circles + $$.getTargetSelectorSuffix(id))\r\n          : $$.main).selectAll('.' + CLASS.circle + (isValue(i) ? '-' + i : ''));\r\n  };\r\n  ChartInternal.prototype.expandCircles = function (i, id, reset) {\r\n      var $$ = this, r = $$.pointExpandedR.bind($$);\r\n      if (reset) {\r\n          $$.unexpandCircles();\r\n      }\r\n      $$.getCircles(i, id)\r\n          .classed(CLASS.EXPANDED, true)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.unexpandCircles = function (i) {\r\n      var $$ = this, r = $$.pointR.bind($$);\r\n      $$.getCircles(i)\r\n          .filter(function () {\r\n          return $$.d3.select(this).classed(CLASS.EXPANDED);\r\n      })\r\n          .classed(CLASS.EXPANDED, false)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.pointR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      return $$.isStepType(d)\r\n          ? 0\r\n          : isFunction(config.point_r)\r\n              ? config.point_r(d)\r\n              : config.point_r;\r\n  };\r\n  ChartInternal.prototype.pointExpandedR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      if (config.point_focus_expand_enabled) {\r\n          return isFunction(config.point_focus_expand_r)\r\n              ? config.point_focus_expand_r(d)\r\n              : config.point_focus_expand_r\r\n                  ? config.point_focus_expand_r\r\n                  : $$.pointR(d) * 1.75;\r\n      }\r\n      else {\r\n          return $$.pointR(d);\r\n      }\r\n  };\r\n  ChartInternal.prototype.pointSelectR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      return isFunction(config.point_select_r)\r\n          ? config.point_select_r(d)\r\n          : config.point_select_r\r\n              ? config.point_select_r\r\n              : $$.pointR(d) * 4;\r\n  };\r\n  ChartInternal.prototype.isWithinCircle = function (that, r) {\r\n      var d3 = this.d3, mouse = d3.mouse(that), d3_this = d3.select(that), cx = +d3_this.attr('cx'), cy = +d3_this.attr('cy');\r\n      return Math.sqrt(Math.pow(cx - mouse[0], 2) + Math.pow(cy - mouse[1], 2)) < r;\r\n  };\r\n  ChartInternal.prototype.isWithinStep = function (that, y) {\r\n      return Math.abs(y - this.d3.mouse(that)[1]) < 30;\r\n  };\n\n  ChartInternal.prototype.getCurrentWidth = function () {\r\n      var $$ = this, config = $$.config;\r\n      return config.size_width ? config.size_width : $$.getParentWidth();\r\n  };\r\n  ChartInternal.prototype.getCurrentHeight = function () {\r\n      var $$ = this, config = $$.config, h = config.size_height ? config.size_height : $$.getParentHeight();\r\n      return h > 0\r\n          ? h\r\n          : 320 / ($$.hasType('gauge') && !config.gauge_fullCircle ? 2 : 1);\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingTop = function () {\r\n      var $$ = this, config = $$.config, padding = isValue(config.padding_top) ? config.padding_top : 0;\r\n      if ($$.title && $$.title.node()) {\r\n          padding += $$.getTitlePadding();\r\n      }\r\n      return padding;\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingBottom = function () {\r\n      var config = this.config;\r\n      return isValue(config.padding_bottom) ? config.padding_bottom : 0;\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingLeft = function (withoutRecompute) {\r\n      var $$ = this, config = $$.config;\r\n      if (isValue(config.padding_left)) {\r\n          return config.padding_left;\r\n      }\r\n      else if (config.axis_rotated) {\r\n          return !config.axis_x_show || config.axis_x_inner\r\n              ? 1\r\n              : Math.max(ceil10($$.getAxisWidthByAxisId('x', withoutRecompute)), 40);\r\n      }\r\n      else if (!config.axis_y_show || config.axis_y_inner) {\r\n          // && !config.axis_rotated\r\n          return $$.axis.getYAxisLabelPosition().isOuter ? 30 : 1;\r\n      }\r\n      else {\r\n          return ceil10($$.getAxisWidthByAxisId('y', withoutRecompute));\r\n      }\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingRight = function () {\r\n      var $$ = this, config = $$.config, padding = 0, defaultPadding = 10, legendWidthOnRight = $$.isLegendRight ? $$.getLegendWidth() + 20 : 0;\r\n      if (isValue(config.padding_right)) {\r\n          padding = config.padding_right + 1; // 1 is needed not to hide tick line\r\n      }\r\n      else if (config.axis_rotated) {\r\n          padding = defaultPadding + legendWidthOnRight;\r\n      }\r\n      else if (!config.axis_y2_show || config.axis_y2_inner) {\r\n          // && !config.axis_rotated\r\n          padding =\r\n              2 +\r\n                  legendWidthOnRight +\r\n                  ($$.axis.getY2AxisLabelPosition().isOuter ? 20 : 0);\r\n      }\r\n      else {\r\n          padding = ceil10($$.getAxisWidthByAxisId('y2')) + legendWidthOnRight;\r\n      }\r\n      if ($$.colorScale && $$.colorScale.node()) {\r\n          padding += $$.getColorScalePadding();\r\n      }\r\n      return padding;\r\n  };\r\n  ChartInternal.prototype.getParentRectValue = function (key) {\r\n      var parent = this.selectChart.node(), v;\r\n      while (parent && parent.tagName !== 'BODY') {\r\n          try {\r\n              v = parent.getBoundingClientRect()[key];\r\n          }\r\n          catch (e) {\r\n              if (key === 'width') {\r\n                  // In IE in certain cases getBoundingClientRect\r\n                  // will cause an \"unspecified error\"\r\n                  v = parent.offsetWidth;\r\n              }\r\n          }\r\n          if (v) {\r\n              break;\r\n          }\r\n          parent = parent.parentNode;\r\n      }\r\n      return v;\r\n  };\r\n  ChartInternal.prototype.getParentWidth = function () {\r\n      return this.getParentRectValue('width');\r\n  };\r\n  ChartInternal.prototype.getParentHeight = function () {\r\n      var h = this.selectChart.style('height');\r\n      return h.indexOf('px') > 0 ? +h.replace('px', '') : 0;\r\n  };\r\n  ChartInternal.prototype.getSvgLeft = function (withoutRecompute) {\r\n      var $$ = this, config = $$.config, hasLeftAxisRect = config.axis_rotated || (!config.axis_rotated && !config.axis_y_inner), leftAxisClass = config.axis_rotated ? CLASS.axisX : CLASS.axisY, leftAxis = $$.main.select('.' + leftAxisClass).node(), svgRect = leftAxis && hasLeftAxisRect\r\n          ? leftAxis.getBoundingClientRect()\r\n          : { right: 0 }, chartRect = $$.selectChart.node().getBoundingClientRect(), hasArc = $$.hasArcType(), svgLeft = svgRect.right -\r\n          chartRect.left -\r\n          (hasArc ? 0 : $$.getCurrentPaddingLeft(withoutRecompute));\r\n      return svgLeft > 0 ? svgLeft : 0;\r\n  };\r\n  ChartInternal.prototype.getAxisWidthByAxisId = function (id, withoutRecompute) {\r\n      var $$ = this, position = $$.axis.getLabelPositionById(id);\r\n      return ($$.axis.getMaxTickWidth(id, withoutRecompute) + (position.isInner ? 20 : 40));\r\n  };\r\n  ChartInternal.prototype.getHorizontalAxisHeight = function (axisId, isSubchart) {\r\n      var $$ = this, config = $$.config, h = 30;\r\n      if (axisId === 'x' && !(isDefined(isSubchart) && isSubchart ? config.subchart_axis_x_show : config.axis_x_show)) {\r\n          return 8;\r\n      }\r\n      if (axisId === 'x' && config.axis_x_height) {\r\n          return config.axis_x_height;\r\n      }\r\n      if (axisId === 'y' && !config.axis_y_show) {\r\n          return config.legend_show && !$$.isLegendRight && !$$.isLegendInset ? 10 : 1;\r\n      }\r\n      if (axisId === 'y2' && !config.axis_y2_show) {\r\n          return $$.rotated_padding_top;\r\n      }\r\n      // Calculate x axis height when tick rotated\r\n      if (axisId === 'x' && !config.axis_rotated && config.axis_x_tick_rotate) {\r\n          h =\r\n              30 +\r\n                  $$.axis.getMaxTickWidth(axisId) *\r\n                      Math.cos((Math.PI * (90 - Math.abs(config.axis_x_tick_rotate))) / 180);\r\n      }\r\n      // Calculate y axis height when tick rotated\r\n      if (axisId === 'y' && config.axis_rotated && config.axis_y_tick_rotate) {\r\n          h =\r\n              30 +\r\n                  $$.axis.getMaxTickWidth(axisId) *\r\n                      Math.cos((Math.PI * (90 - Math.abs(config.axis_y_tick_rotate))) / 180);\r\n      }\r\n      return (h +\r\n          ($$.axis.getLabelPositionById(axisId).isInner ? 0 : 10) +\r\n          (axisId === 'y2' ? -10 : 0));\r\n  };\n\n  ChartInternal.prototype.initBrush = function (scale) {\r\n      var $$ = this, d3 = $$.d3;\r\n      // TODO: dynamically change brushY/brushX according to axis_rotated.\r\n      $$.brush = ($$.config.axis_rotated ? d3.brushY() : d3.brushX())\r\n          .on('brush', function () {\r\n          var event = d3.event.sourceEvent;\r\n          if (event && event.type === 'zoom') {\r\n              return;\r\n          }\r\n          $$.redrawForBrush();\r\n      })\r\n          .on('end', function () {\r\n          var event = d3.event.sourceEvent;\r\n          if (event && event.type === 'zoom') {\r\n              return;\r\n          }\r\n          if ($$.brush.empty() && event && event.type !== 'end') {\r\n              $$.brush.clear();\r\n          }\r\n      });\r\n      $$.brush.updateExtent = function () {\r\n          var range = this.scale.range(), extent;\r\n          if ($$.config.axis_rotated) {\r\n              extent = [\r\n                  [0, range[0]],\r\n                  [$$.width2, range[1]]\r\n              ];\r\n          }\r\n          else {\r\n              extent = [\r\n                  [range[0], 0],\r\n                  [range[1], $$.height2]\r\n              ];\r\n          }\r\n          this.extent(extent);\r\n          return this;\r\n      };\r\n      $$.brush.updateScale = function (scale) {\r\n          this.scale = scale;\r\n          return this;\r\n      };\r\n      $$.brush.update = function (scale) {\r\n          this.updateScale(scale || $$.subX).updateExtent();\r\n          $$.context.select('.' + CLASS.brush).call(this);\r\n      };\r\n      $$.brush.clear = function () {\r\n          $$.context.select('.' + CLASS.brush).call($$.brush.move, null);\r\n      };\r\n      $$.brush.selection = function () {\r\n          return d3.brushSelection($$.context.select('.' + CLASS.brush).node());\r\n      };\r\n      $$.brush.selectionAsValue = function (selectionAsValue, withTransition) {\r\n          var selection, brush;\r\n          if (selectionAsValue) {\r\n              if ($$.context) {\r\n                  selection = [\r\n                      this.scale(selectionAsValue[0]),\r\n                      this.scale(selectionAsValue[1])\r\n                  ];\r\n                  brush = $$.context.select('.' + CLASS.brush);\r\n                  if (withTransition) {\r\n                      brush = brush.transition();\r\n                  }\r\n                  $$.brush.move(brush, selection);\r\n              }\r\n              return [];\r\n          }\r\n          selection = $$.brush.selection() || [0, 0];\r\n          return [this.scale.invert(selection[0]), this.scale.invert(selection[1])];\r\n      };\r\n      $$.brush.empty = function () {\r\n          var selection = $$.brush.selection();\r\n          return !selection || selection[0] === selection[1];\r\n      };\r\n      return $$.brush.updateScale(scale);\r\n  };\r\n  ChartInternal.prototype.initSubchart = function () {\r\n      var $$ = this, config = $$.config, context = ($$.context = $$.svg\r\n          .append('g')\r\n          .attr('transform', $$.getTranslate('context')));\r\n      // set style\r\n      context.style('visibility', 'visible');\r\n      // Define g for chart area\r\n      context\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForSubchart)\r\n          .attr('class', CLASS.chart);\r\n      // Define g for bar chart area\r\n      context\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartBars);\r\n      // Define g for line chart area\r\n      context\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartLines);\r\n      // Add extent rect for Brush\r\n      context\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.brush);\r\n      // ATTENTION: This must be called AFTER chart added\r\n      // Add Axis\r\n      $$.axes.subx = context\r\n          .append('g')\r\n          .attr('class', CLASS.axisX)\r\n          .attr('transform', $$.getTranslate('subx'))\r\n          .attr('clip-path', config.axis_rotated ? '' : $$.clipPathForXAxis)\r\n          .style('visibility', config.subchart_axis_x_show ? 'visible' : 'hidden');\r\n  };\r\n  ChartInternal.prototype.initSubchartBrush = function () {\r\n      var $$ = this;\r\n      // Add extent rect for Brush\r\n      $$.initBrush($$.subX).updateExtent();\r\n      $$.context.select('.' + CLASS.brush).call($$.brush);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForSubchart = function (targets) {\r\n      var $$ = this, context = $$.context, config = $$.config, contextLineEnter, contextLine, contextBarEnter, contextBar, classChartBar = $$.classChartBar.bind($$), classBars = $$.classBars.bind($$), classChartLine = $$.classChartLine.bind($$), classLines = $$.classLines.bind($$), classAreas = $$.classAreas.bind($$);\r\n      //-- Bar --//\r\n      contextBar = context\r\n          .select('.' + CLASS.chartBars)\r\n          .selectAll('.' + CLASS.chartBar)\r\n          .data(targets);\r\n      contextBarEnter = contextBar\r\n          .enter()\r\n          .append('g')\r\n          .style('opacity', 0);\r\n      contextBarEnter.merge(contextBar).attr('class', classChartBar);\r\n      // Bars for each data\r\n      contextBarEnter.append('g').attr('class', classBars);\r\n      //-- Line --//\r\n      contextLine = context\r\n          .select('.' + CLASS.chartLines)\r\n          .selectAll('.' + CLASS.chartLine)\r\n          .data(targets);\r\n      contextLineEnter = contextLine\r\n          .enter()\r\n          .append('g')\r\n          .style('opacity', 0);\r\n      contextLineEnter.merge(contextLine).attr('class', classChartLine);\r\n      // Lines for each data\r\n      contextLineEnter.append('g').attr('class', classLines);\r\n      // Area\r\n      contextLineEnter.append('g').attr('class', classAreas);\r\n      //-- Brush --//\r\n      context\r\n          .selectAll('.' + CLASS.brush + ' rect')\r\n          .attr(config.axis_rotated ? 'width' : 'height', config.axis_rotated ? $$.width2 : $$.height2);\r\n  };\r\n  ChartInternal.prototype.updateBarForSubchart = function (durationForExit) {\r\n      var $$ = this;\r\n      var contextBar = $$.context\r\n          .selectAll('.' + CLASS.bars)\r\n          .selectAll('.' + CLASS.bar)\r\n          .data($$.barData.bind($$));\r\n      var contextBarEnter = contextBar\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classBar.bind($$))\r\n          .style('stroke', 'none')\r\n          .style('fill', $$.color);\r\n      contextBar\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextBar = contextBarEnter\r\n          .merge(contextBar)\r\n          .style('opacity', $$.initialOpacity.bind($$));\r\n  };\r\n  ChartInternal.prototype.redrawBarForSubchart = function (drawBarOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextBar.transition(Math.random().toString()).duration(duration)\r\n          : this.contextBar)\r\n          .attr('d', drawBarOnSub)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.updateLineForSubchart = function (durationForExit) {\r\n      var $$ = this;\r\n      var contextLine = $$.context\r\n          .selectAll('.' + CLASS.lines)\r\n          .selectAll('.' + CLASS.line)\r\n          .data($$.lineData.bind($$));\r\n      var contextLineEnter = contextLine\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classLine.bind($$))\r\n          .style('stroke', $$.color);\r\n      contextLine\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextLine = contextLineEnter\r\n          .merge(contextLine)\r\n          .style('opacity', $$.initialOpacity.bind($$));\r\n  };\r\n  ChartInternal.prototype.redrawLineForSubchart = function (drawLineOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextLine.transition(Math.random().toString()).duration(duration)\r\n          : this.contextLine)\r\n          .attr('d', drawLineOnSub)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.updateAreaForSubchart = function (durationForExit) {\r\n      var $$ = this, d3 = $$.d3;\r\n      var contextArea = $$.context\r\n          .selectAll('.' + CLASS.areas)\r\n          .selectAll('.' + CLASS.area)\r\n          .data($$.lineData.bind($$));\r\n      var contextAreaEnter = contextArea\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArea.bind($$))\r\n          .style('fill', $$.color)\r\n          .style('opacity', function () {\r\n          $$.orgAreaOpacity = +d3.select(this).style('opacity');\r\n          return 0;\r\n      });\r\n      contextArea\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextArea = contextAreaEnter.merge(contextArea).style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawAreaForSubchart = function (drawAreaOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextArea.transition(Math.random().toString()).duration(duration)\r\n          : this.contextArea)\r\n          .attr('d', drawAreaOnSub)\r\n          .style('fill', this.color)\r\n          .style('opacity', this.orgAreaOpacity);\r\n  };\r\n  ChartInternal.prototype.redrawSubchart = function (withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices) {\r\n      var $$ = this, d3 = $$.d3, drawAreaOnSub, drawBarOnSub, drawLineOnSub;\r\n      // reflect main chart to extent on subchart if zoomed\r\n      if (d3.event && d3.event.type === 'zoom') {\r\n          $$.brush.selectionAsValue($$.x.orgDomain());\r\n      }\r\n      // update subchart elements if needed\r\n      if (withSubchart) {\r\n          // extent rect\r\n          if (!$$.brush.empty()) {\r\n              $$.brush.selectionAsValue($$.x.orgDomain());\r\n          }\r\n          // setup drawer - MEMO: this must be called after axis updated\r\n          drawAreaOnSub = $$.generateDrawArea(areaIndices, true);\r\n          drawBarOnSub = $$.generateDrawBar(barIndices, true);\r\n          drawLineOnSub = $$.generateDrawLine(lineIndices, true);\r\n          $$.updateBarForSubchart(duration);\r\n          $$.updateLineForSubchart(duration);\r\n          $$.updateAreaForSubchart(duration);\r\n          $$.redrawBarForSubchart(drawBarOnSub, duration, duration);\r\n          $$.redrawLineForSubchart(drawLineOnSub, duration, duration);\r\n          $$.redrawAreaForSubchart(drawAreaOnSub, duration, duration);\r\n      }\r\n  };\r\n  ChartInternal.prototype.redrawForBrush = function () {\r\n      var $$ = this, x = $$.x, d3 = $$.d3, s;\r\n      $$.redraw({\r\n          withTransition: false,\r\n          withY: $$.config.zoom_rescale,\r\n          withSubchart: false,\r\n          withUpdateXDomain: true,\r\n          withEventRect: false,\r\n          withDimension: false\r\n      });\r\n      // update zoom transation binded to event rect\r\n      s = d3.event.selection || $$.brush.scale.range();\r\n      $$.main\r\n          .select('.' + CLASS.eventRect)\r\n          .call($$.zoom.transform, d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0));\r\n      $$.config.subchart_onbrush.call($$.api, x.orgDomain());\r\n  };\r\n  ChartInternal.prototype.transformContext = function (withTransition, transitions) {\r\n      var $$ = this, subXAxis;\r\n      if (transitions && transitions.axisSubX) {\r\n          subXAxis = transitions.axisSubX;\r\n      }\r\n      else {\r\n          subXAxis = $$.context.select('.' + CLASS.axisX);\r\n          if (withTransition) {\r\n              subXAxis = subXAxis.transition();\r\n          }\r\n      }\r\n      $$.context.attr('transform', $$.getTranslate('context'));\r\n      subXAxis.attr('transform', $$.getTranslate('subx'));\r\n  };\r\n  ChartInternal.prototype.getDefaultSelection = function () {\r\n      var $$ = this, config = $$.config, selection = isFunction(config.axis_x_selection)\r\n          ? config.axis_x_selection($$.getXDomain($$.data.targets))\r\n          : config.axis_x_selection;\r\n      if ($$.isTimeSeries()) {\r\n          selection = [$$.parseDate(selection[0]), $$.parseDate(selection[1])];\r\n      }\r\n      return selection;\r\n  };\r\n  ChartInternal.prototype.removeSubchart = function () {\r\n      var $$ = this;\r\n      $$.brush = null;\r\n      $$.context.remove();\r\n      $$.context = null;\r\n  };\n\n  ChartInternal.prototype.initText = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartTexts);\r\n      $$.mainText = $$.d3.selectAll([]);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForText = function (targets) {\r\n      var $$ = this, classChartText = $$.classChartText.bind($$), classTexts = $$.classTexts.bind($$), classFocus = $$.classFocus.bind($$);\r\n      var mainText = $$.main\r\n          .select('.' + CLASS.chartTexts)\r\n          .selectAll('.' + CLASS.chartText)\r\n          .data(targets);\r\n      var mainTextEnter = mainText\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartText)\r\n          .style('opacity', 0)\r\n          .style('pointer-events', 'none');\r\n      mainTextEnter.append('g').attr('class', classTexts);\r\n      mainTextEnter.merge(mainText).attr('class', function (d) {\r\n          return classChartText(d) + classFocus(d);\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateText = function (xForText, yForText, durationForExit) {\r\n      var $$ = this, config = $$.config, barOrLineData = $$.barOrLineData.bind($$), classText = $$.classText.bind($$);\r\n      var mainText = $$.main\r\n          .selectAll('.' + CLASS.texts)\r\n          .selectAll('.' + CLASS.text)\r\n          .data(barOrLineData);\r\n      var mainTextEnter = mainText\r\n          .enter()\r\n          .append('text')\r\n          .attr('class', classText)\r\n          .attr('text-anchor', function (d) {\r\n          return config.axis_rotated ? (d.value < 0 ? 'end' : 'start') : 'middle';\r\n      })\r\n          .style('stroke', 'none')\r\n          .attr('x', xForText)\r\n          .attr('y', yForText)\r\n          .style('fill', function (d) {\r\n          return $$.color(d);\r\n      })\r\n          .style('fill-opacity', 0);\r\n      $$.mainText = mainTextEnter.merge(mainText).text(function (d, i, j) {\r\n          return $$.dataLabelFormat(d.id)(d.value, d.id, i, j);\r\n      });\r\n      mainText\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('fill-opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawText = function (xForText, yForText, forFlow, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainText.transition(transition) : this.mainText)\r\n              .attr('x', xForText)\r\n              .attr('y', yForText)\r\n              .style('fill', this.color)\r\n              .style('fill-opacity', forFlow ? 0 : this.opacityForText.bind(this))\r\n      ];\r\n  };\r\n  ChartInternal.prototype.getTextRect = function (text, cls, element) {\r\n      var dummy = this.d3\r\n          .select('body')\r\n          .append('div')\r\n          .classed('c3', true), svg = dummy\r\n          .append('svg')\r\n          .style('visibility', 'hidden')\r\n          .style('position', 'fixed')\r\n          .style('top', 0)\r\n          .style('left', 0), font = this.d3.select(element).style('font'), rect;\r\n      svg\r\n          .selectAll('.dummy')\r\n          .data([text])\r\n          .enter()\r\n          .append('text')\r\n          .classed(cls ? cls : '', true)\r\n          .style('font', font)\r\n          .text(text)\r\n          .each(function () {\r\n          rect = getBBox(this);\r\n      });\r\n      dummy.remove();\r\n      return rect;\r\n  };\r\n  ChartInternal.prototype.generateXYForText = function (areaIndices, barIndices, lineIndices, forX) {\r\n      var $$ = this, getAreaPoints = $$.generateGetAreaPoints(areaIndices, false), getBarPoints = $$.generateGetBarPoints(barIndices, false), getLinePoints = $$.generateGetLinePoints(lineIndices, false), getter = forX ? $$.getXForText : $$.getYForText;\r\n      return function (d, i) {\r\n          var getPoints = $$.isAreaType(d)\r\n              ? getAreaPoints\r\n              : $$.isBarType(d)\r\n                  ? getBarPoints\r\n                  : getLinePoints;\r\n          return getter.call($$, getPoints(d, i), d, this);\r\n      };\r\n  };\r\n  ChartInternal.prototype.getXForText = function (points, d, textElement) {\r\n      var $$ = this, box = getBBox(textElement), xPos, padding;\r\n      if ($$.config.axis_rotated) {\r\n          padding = $$.isBarType(d) ? 4 : 6;\r\n          xPos = points[2][1] + padding * (d.value < 0 ? -1 : 1);\r\n      }\r\n      else {\r\n          xPos = $$.hasType('bar') ? (points[2][0] + points[0][0]) / 2 : points[0][0];\r\n      }\r\n      // show labels regardless of the domain if value is null\r\n      if (d.value === null) {\r\n          if (xPos > $$.width) {\r\n              xPos = $$.width - box.width;\r\n          }\r\n          else if (xPos < 0) {\r\n              xPos = 4;\r\n          }\r\n      }\r\n      return xPos;\r\n  };\r\n  ChartInternal.prototype.getYForText = function (points, d, textElement) {\r\n      var $$ = this, box = getBBox(textElement), yPos;\r\n      if ($$.config.axis_rotated) {\r\n          yPos = (points[0][0] + points[2][0] + box.height * 0.6) / 2;\r\n      }\r\n      else {\r\n          yPos = points[2][1];\r\n          if (d.value < 0 || (d.value === 0 && !$$.hasPositiveValue)) {\r\n              yPos += box.height;\r\n              if ($$.isBarType(d) && $$.isSafari()) {\r\n                  yPos -= 3;\r\n              }\r\n              else if (!$$.isBarType(d) && $$.isChrome()) {\r\n                  yPos += 3;\r\n              }\r\n          }\r\n          else {\r\n              yPos += $$.isBarType(d) ? -3 : -6;\r\n          }\r\n      }\r\n      // show labels regardless of the domain if value is null\r\n      if (d.value === null && !$$.config.axis_rotated) {\r\n          if (yPos < box.height) {\r\n              yPos = box.height;\r\n          }\r\n          else if (yPos > this.height) {\r\n              yPos = this.height - 4;\r\n          }\r\n      }\r\n      return yPos;\r\n  };\n\n  ChartInternal.prototype.initTitle = function () {\r\n      var $$ = this;\r\n      $$.title = $$.svg\r\n          .append('text')\r\n          .text($$.config.title_text)\r\n          .attr('class', $$.CLASS.title);\r\n  };\r\n  ChartInternal.prototype.redrawTitle = function () {\r\n      var $$ = this;\r\n      $$.title.attr('x', $$.xForTitle.bind($$)).attr('y', $$.yForTitle.bind($$));\r\n  };\r\n  ChartInternal.prototype.xForTitle = function () {\r\n      var $$ = this, config = $$.config, position = config.title_position || 'left', x;\r\n      if (position.indexOf('right') >= 0) {\r\n          x =\r\n              $$.currentWidth -\r\n                  $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width -\r\n                  config.title_padding.right;\r\n      }\r\n      else if (position.indexOf('center') >= 0) {\r\n          x = Math.max(($$.currentWidth -\r\n              $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width) /\r\n              2, 0);\r\n      }\r\n      else {\r\n          // left\r\n          x = config.title_padding.left;\r\n      }\r\n      return x;\r\n  };\r\n  ChartInternal.prototype.yForTitle = function () {\r\n      var $$ = this;\r\n      return ($$.config.title_padding.top +\r\n          $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node())\r\n              .height);\r\n  };\r\n  ChartInternal.prototype.getTitlePadding = function () {\r\n      var $$ = this;\r\n      return $$.yForTitle() + $$.config.title_padding.bottom;\r\n  };\n\n  function powerOfTen(d) {\r\n      return d / Math.pow(10, Math.ceil(Math.log(d) / Math.LN10 - 1e-12)) === 1;\r\n  }\r\n  ChartInternal.prototype.drawColorScale = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, target = $$.data.targets[0], barWidth, barHeight, axis, points, legendAxis, axisScale, inverseScale, height;\r\n      barWidth = !isNaN(config.stanford_scaleWidth)\r\n          ? config.stanford_scaleWidth\r\n          : 20;\r\n      barHeight = 5;\r\n      if (barHeight < 0 || barWidth < 0) {\r\n          throw Error(\"Colorscale's barheight and barwidth must be greater than 0.\");\r\n      }\r\n      height =\r\n          $$.height - config.stanford_padding.bottom - config.stanford_padding.top;\r\n      points = d3.range(config.stanford_padding.bottom, height, barHeight);\r\n      inverseScale = d3\r\n          .scaleSequential(target.colors)\r\n          .domain([points[points.length - 1], points[0]]);\r\n      if ($$.colorScale) {\r\n          $$.colorScale.remove();\r\n      }\r\n      $$.colorScale = $$.svg\r\n          .append('g')\r\n          .attr('width', 50)\r\n          .attr('height', height)\r\n          .attr('class', CLASS.colorScale);\r\n      $$.colorScale\r\n          .append('g')\r\n          .attr('transform', \"translate(0, \" + config.stanford_padding.top + \")\")\r\n          .selectAll('bars')\r\n          .data(points)\r\n          .enter()\r\n          .append('rect')\r\n          .attr('y', function (d, i) { return i * barHeight; })\r\n          .attr('x', 0)\r\n          .attr('width', barWidth)\r\n          .attr('height', barHeight)\r\n          .attr('fill', function (d) {\r\n          return inverseScale(d);\r\n      });\r\n      // Legend Axis\r\n      axisScale = d3\r\n          .scaleLog()\r\n          .domain([target.minEpochs, target.maxEpochs])\r\n          .range([\r\n          points[0] +\r\n              config.stanford_padding.top +\r\n              points[points.length - 1] +\r\n              barHeight -\r\n              1,\r\n          points[0] + config.stanford_padding.top\r\n      ]);\r\n      legendAxis = d3.axisRight(axisScale);\r\n      if (config.stanford_scaleFormat === 'pow10') {\r\n          legendAxis.tickValues([1, 10, 100, 1000, 10000, 100000, 1000000, 10000000]);\r\n      }\r\n      else if (isFunction(config.stanford_scaleFormat)) {\r\n          legendAxis.tickFormat(config.stanford_scaleFormat);\r\n      }\r\n      else {\r\n          legendAxis.tickFormat(d3.format('d'));\r\n      }\r\n      if (isFunction(config.stanford_scaleValues)) {\r\n          legendAxis.tickValues(config.stanford_scaleValues(target.minEpochs, target.maxEpochs));\r\n      }\r\n      // Draw Axis\r\n      axis = $$.colorScale\r\n          .append('g')\r\n          .attr('class', 'legend axis')\r\n          .attr('transform', \"translate(\" + barWidth + \",0)\")\r\n          .call(legendAxis);\r\n      if (config.stanford_scaleFormat === 'pow10') {\r\n          axis\r\n              .selectAll('.tick text')\r\n              .text(null)\r\n              .filter(powerOfTen)\r\n              .text(10)\r\n              .append('tspan')\r\n              .attr('dy', '-.7em') // https://bl.ocks.org/mbostock/6738229\r\n              .text(function (d) {\r\n              return Math.round(Math.log(d) / Math.LN10);\r\n          });\r\n      }\r\n      $$.colorScale.attr('transform', \"translate(\" + ($$.currentWidth - $$.xForColorScale()) + \", 0)\");\r\n  };\r\n  ChartInternal.prototype.xForColorScale = function () {\r\n      var $$ = this;\r\n      return $$.config.stanford_padding.right + getBBox($$.colorScale.node()).width;\r\n  };\r\n  ChartInternal.prototype.getColorScalePadding = function () {\r\n      var $$ = this;\r\n      return $$.xForColorScale() + $$.config.stanford_padding.left + 20;\r\n  };\n\n  ChartInternal.prototype.isStanfordGraphType = function () {\r\n      var $$ = this;\r\n      return $$.config.data_type === 'stanford';\r\n  };\r\n  ChartInternal.prototype.initStanfordData = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, target = $$.data.targets[0], epochs, maxEpochs, minEpochs;\r\n      // Make larger values appear on top\r\n      target.values.sort(compareEpochs);\r\n      // Get array of epochs\r\n      epochs = target.values.map(function (a) { return a.epochs; });\r\n      minEpochs = !isNaN(config.stanford_scaleMin)\r\n          ? config.stanford_scaleMin\r\n          : d3.min(epochs);\r\n      maxEpochs = !isNaN(config.stanford_scaleMax)\r\n          ? config.stanford_scaleMax\r\n          : d3.max(epochs);\r\n      if (minEpochs > maxEpochs) {\r\n          throw Error('Number of minEpochs has to be smaller than maxEpochs');\r\n      }\r\n      target.colors = isFunction(config.stanford_colors)\r\n          ? config.stanford_colors\r\n          : d3.interpolateHslLong(d3.hsl(250, 1, 0.5), d3.hsl(0, 1, 0.5));\r\n      target.colorscale = d3\r\n          .scaleSequentialLog(target.colors)\r\n          .domain([minEpochs, maxEpochs]);\r\n      target.minEpochs = minEpochs;\r\n      target.maxEpochs = maxEpochs;\r\n  };\r\n  ChartInternal.prototype.getStanfordPointColor = function (d) {\r\n      var $$ = this, target = $$.data.targets[0];\r\n      return target.colorscale(d.epochs);\r\n  };\r\n  // http://jsfiddle.net/Xotic750/KtzLq/\r\n  ChartInternal.prototype.getCentroid = function (points) {\r\n      var area = getRegionArea(points);\r\n      var x = 0, y = 0, i, j, f, point1, point2;\r\n      for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\r\n          point1 = points[i];\r\n          point2 = points[j];\r\n          f = point1.x * point2.y - point2.x * point1.y;\r\n          x += (point1.x + point2.x) * f;\r\n          y += (point1.y + point2.y) * f;\r\n      }\r\n      f = area * 6;\r\n      return {\r\n          x: x / f,\r\n          y: y / f\r\n      };\r\n  };\r\n  ChartInternal.prototype.getStanfordTooltipTitle = function (d) {\r\n      var $$ = this, labelX = $$.axis.getLabelText('x'), labelY = $$.axis.getLabelText('y');\r\n      return \"\\n      <tr><th>\" + (labelX ? sanitise(labelX) : 'x') + \"</th><th class='value'>\" + d.x + \"</th></tr>\\n      <tr><th>\" + (labelY ? sanitise(labelY) : 'y') + \"</th><th class='value'>\" + d.value + \"</th></tr>\\n    \";\r\n  };\r\n  ChartInternal.prototype.countEpochsInRegion = function (region) {\r\n      var $$ = this, target = $$.data.targets[0], total, count;\r\n      total = target.values.reduce(function (accumulator, currentValue) { return accumulator + Number(currentValue.epochs); }, 0);\r\n      count = target.values.reduce(function (accumulator, currentValue) {\r\n          if (pointInRegion(currentValue, region)) {\r\n              return accumulator + Number(currentValue.epochs);\r\n          }\r\n          return accumulator;\r\n      }, 0);\r\n      return {\r\n          value: count,\r\n          percentage: count !== 0 ? ((count / total) * 100).toFixed(1) : 0\r\n      };\r\n  };\r\n  var getRegionArea = function (points) {\r\n      // thanks to: https://stackoverflow.com/questions/16282330/find-centerpoint-of-polygon-in-javascript\r\n      var area = 0, i, j, point1, point2;\r\n      for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\r\n          point1 = points[i];\r\n          point2 = points[j];\r\n          area += point1.x * point2.y;\r\n          area -= point1.y * point2.x;\r\n      }\r\n      area /= 2;\r\n      return area;\r\n  };\r\n  var pointInRegion = function (point, region) {\r\n      // thanks to: http://bl.ocks.org/bycoffe/5575904\r\n      // ray-casting algorithm based on\r\n      // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\r\n      var xi, yi, yj, xj, intersect, x = point.x, y = point.value, inside = false;\r\n      for (var i = 0, j = region.length - 1; i < region.length; j = i++) {\r\n          xi = region[i].x;\r\n          yi = region[i].y;\r\n          xj = region[j].x;\r\n          yj = region[j].y;\r\n          intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\r\n          if (intersect) {\r\n              inside = !inside;\r\n          }\r\n      }\r\n      return inside;\r\n  };\r\n  var compareEpochs = function (a, b) {\r\n      if (a.epochs < b.epochs) {\r\n          return -1;\r\n      }\r\n      if (a.epochs > b.epochs) {\r\n          return 1;\r\n      }\r\n      return 0;\r\n  };\n\n  ChartInternal.prototype.initStanfordElements = function () {\r\n      var $$ = this;\r\n      // Avoid blocking eventRect\r\n      $$.stanfordElements = $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.stanfordElements);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordLines);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordTexts);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordRegions);\r\n  };\r\n  ChartInternal.prototype.updateStanfordElements = function (duration) {\r\n      var $$ = this, main = $$.main, config = $$.config, stanfordLine, stanfordLineEnter, stanfordRegion, stanfordRegionEnter, stanfordText, stanfordTextEnter, xvCustom = $$.xvCustom.bind($$), yvCustom = $$.yvCustom.bind($$), countPointsInRegion = $$.countEpochsInRegion.bind($$);\r\n      // Stanford-Lines\r\n      stanfordLine = main\r\n          .select('.' + CLASS.stanfordLines)\r\n          .style('shape-rendering', 'geometricprecision')\r\n          .selectAll('.' + CLASS.stanfordLine)\r\n          .data(config.stanford_lines);\r\n      // enter\r\n      stanfordLineEnter = stanfordLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordLineEnter\r\n          .append('line')\r\n          .attr('x1', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1');\r\n      })\r\n          .attr('x2', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2');\r\n      })\r\n          .attr('y1', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1');\r\n      })\r\n          .attr('y2', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2');\r\n      })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordLines = stanfordLineEnter.merge(stanfordLine);\r\n      $$.stanfordLines\r\n          .select('line')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x1', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1');\r\n      })\r\n          .attr('x2', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2');\r\n      })\r\n          .attr('y1', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1');\r\n      })\r\n          .attr('y2', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2');\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Stanford-Text\r\n      stanfordText = main\r\n          .select('.' + CLASS.stanfordTexts)\r\n          .selectAll('.' + CLASS.stanfordText)\r\n          .data(config.stanford_texts);\r\n      // enter\r\n      stanfordTextEnter = stanfordText\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordText + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordTextEnter\r\n          .append('text')\r\n          .attr('x', function (d) { return (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')); })\r\n          .attr('y', function (d) { return (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')); })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordTexts = stanfordTextEnter.merge(stanfordText);\r\n      $$.stanfordTexts\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', function (d) { return (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')); })\r\n          .attr('y', function (d) { return (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')); })\r\n          .text(function (d) {\r\n          return d.content;\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordText\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Stanford-Regions\r\n      stanfordRegion = main\r\n          .select('.' + CLASS.stanfordRegions)\r\n          .selectAll('.' + CLASS.stanfordRegion)\r\n          .data(config.stanford_regions);\r\n      // enter\r\n      stanfordRegionEnter = stanfordRegion\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordRegion + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordRegionEnter\r\n          .append('polygon')\r\n          .attr('points', function (d) {\r\n          return d.points\r\n              .map(function (value) {\r\n              return [\r\n                  config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\r\n                  config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\r\n              ].join(',');\r\n          })\r\n              .join(' ');\r\n      })\r\n          .style('opacity', 0);\r\n      stanfordRegionEnter\r\n          .append('text')\r\n          .attr('x', function (d) { return $$.getCentroid(d.points).x; })\r\n          .attr('y', function (d) { return $$.getCentroid(d.points).y; })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordRegions = stanfordRegionEnter.merge(stanfordRegion);\r\n      $$.stanfordRegions\r\n          .select('polygon')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('points', function (d) {\r\n          return d.points\r\n              .map(function (value) {\r\n              return [\r\n                  config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\r\n                  config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\r\n              ].join(',');\r\n          })\r\n              .join(' ');\r\n      })\r\n          .style('opacity', function (d) {\r\n          return d.opacity ? d.opacity : 0.2;\r\n      });\r\n      $$.stanfordRegions\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', function (d) {\r\n          return config.axis_rotated\r\n              ? yvCustom($$.getCentroid(d.points), 'y')\r\n              : xvCustom($$.getCentroid(d.points), 'x');\r\n      })\r\n          .attr('y', function (d) {\r\n          return config.axis_rotated\r\n              ? xvCustom($$.getCentroid(d.points), 'x')\r\n              : yvCustom($$.getCentroid(d.points), 'y');\r\n      })\r\n          .text(function (d) {\r\n          if (d.text) {\r\n              var value, percentage, temp;\r\n              if ($$.isStanfordGraphType()) {\r\n                  temp = countPointsInRegion(d.points);\r\n                  value = temp.value;\r\n                  percentage = temp.percentage;\r\n              }\r\n              return d.text(value, percentage);\r\n          }\r\n          return '';\r\n      })\r\n          .attr('text-anchor', 'middle')\r\n          .attr('dominant-baseline', 'middle')\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordRegion\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\n\n  ChartInternal.prototype.initTooltip = function () {\r\n      var $$ = this, config = $$.config, i;\r\n      $$.tooltip = $$.selectChart\r\n          .style('position', 'relative')\r\n          .append('div')\r\n          .attr('class', CLASS.tooltipContainer)\r\n          .style('position', 'absolute')\r\n          .style('pointer-events', 'none')\r\n          .style('display', 'none');\r\n      // Show tooltip if needed\r\n      if (config.tooltip_init_show) {\r\n          if ($$.isTimeSeries() && isString(config.tooltip_init_x)) {\r\n              config.tooltip_init_x = $$.parseDate(config.tooltip_init_x);\r\n              for (i = 0; i < $$.data.targets[0].values.length; i++) {\r\n                  if ($$.data.targets[0].values[i].x - config.tooltip_init_x === 0) {\r\n                      break;\r\n                  }\r\n              }\r\n              config.tooltip_init_x = i;\r\n          }\r\n          $$.tooltip.html(config.tooltip_contents.call($$, $$.data.targets.map(function (d) {\r\n              return $$.addName(d.values[config.tooltip_init_x]);\r\n          }), $$.axis.getXAxisTickFormat(), $$.getYFormat($$.hasArcType()), $$.color));\r\n          $$.tooltip\r\n              .style('top', config.tooltip_init_position.top)\r\n              .style('left', config.tooltip_init_position.left)\r\n              .style('display', 'block');\r\n      }\r\n  };\r\n  ChartInternal.prototype.getTooltipSortFunction = function () {\r\n      var $$ = this, config = $$.config;\r\n      if (config.data_groups.length === 0 || config.tooltip_order !== undefined) {\r\n          // if data are not grouped or if an order is specified\r\n          // for the tooltip values we sort them by their values\r\n          var order = config.tooltip_order;\r\n          if (order === undefined) {\r\n              order = config.data_order;\r\n          }\r\n          var valueOf = function (obj) {\r\n              return obj ? obj.value : null;\r\n          };\r\n          // if data are not grouped, we sort them by their value\r\n          if (isString(order) && order.toLowerCase() === 'asc') {\r\n              return function (a, b) {\r\n                  return valueOf(a) - valueOf(b);\r\n              };\r\n          }\r\n          else if (isString(order) && order.toLowerCase() === 'desc') {\r\n              return function (a, b) {\r\n                  return valueOf(b) - valueOf(a);\r\n              };\r\n          }\r\n          else if (isFunction(order)) {\r\n              // if the function is from data_order we need\r\n              // to wrap the returned function in order to format\r\n              // the sorted value to the expected format\r\n              var sortFunction = order;\r\n              if (config.tooltip_order === undefined) {\r\n                  sortFunction = function (a, b) {\r\n                      return order(a\r\n                          ? {\r\n                              id: a.id,\r\n                              values: [a]\r\n                          }\r\n                          : null, b\r\n                          ? {\r\n                              id: b.id,\r\n                              values: [b]\r\n                          }\r\n                          : null);\r\n                  };\r\n              }\r\n              return sortFunction;\r\n          }\r\n          else if (isArray(order)) {\r\n              return function (a, b) {\r\n                  return order.indexOf(a.id) - order.indexOf(b.id);\r\n              };\r\n          }\r\n      }\r\n      else {\r\n          // if data are grouped, we follow the order of grouped targets\r\n          var ids = $$.orderTargets($$.data.targets).map(function (i) {\r\n              return i.id;\r\n          });\r\n          // if it was either asc or desc we need to invert the order\r\n          // returned by orderTargets\r\n          if ($$.isOrderAsc() || $$.isOrderDesc()) {\r\n              ids = ids.reverse();\r\n          }\r\n          return function (a, b) {\r\n              return ids.indexOf(a.id) - ids.indexOf(b.id);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.getTooltipContent = function (d, defaultTitleFormat, defaultValueFormat, color) {\r\n      var $$ = this, config = $$.config, titleFormat = config.tooltip_format_title || defaultTitleFormat, nameFormat = config.tooltip_format_name ||\r\n          function (name) {\r\n              return name;\r\n          }, text, i, title, value, name, bgcolor;\r\n      var valueFormat = config.tooltip_format_value;\r\n      if (!valueFormat) {\r\n          valueFormat = $$.isTargetNormalized(d.id)\r\n              ? function (v, ratio) { return (ratio * 100).toFixed(2) + \"%\"; }\r\n              : defaultValueFormat;\r\n      }\r\n      var tooltipSortFunction = this.getTooltipSortFunction();\r\n      if (tooltipSortFunction) {\r\n          d.sort(tooltipSortFunction);\r\n      }\r\n      for (i = 0; i < d.length; i++) {\r\n          if (!(d[i] && (d[i].value || d[i].value === 0))) {\r\n              continue;\r\n          }\r\n          if ($$.isStanfordGraphType()) {\r\n              // Custom tooltip for stanford plots\r\n              if (!text) {\r\n                  title = $$.getStanfordTooltipTitle(d[i]);\r\n                  text = \"<table class='\" + $$.CLASS.tooltip + \"'>\" + title;\r\n              }\r\n              bgcolor = $$.getStanfordPointColor(d[i]);\r\n              name = sanitise(config.data_epochs); // Epochs key name\r\n              value = d[i].epochs;\r\n          }\r\n          else {\r\n              // Regular tooltip\r\n              if (!text) {\r\n                  title = sanitise(titleFormat ? titleFormat(d[i].x, d[i].index) : d[i].x);\r\n                  text =\r\n                      \"<table class='\" +\r\n                          $$.CLASS.tooltip +\r\n                          \"'>\" +\r\n                          (title || title === 0\r\n                              ? \"<tr><th colspan='2'>\" + title + '</th></tr>'\r\n                              : '');\r\n              }\r\n              value = sanitise(valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index, d));\r\n              if (value !== undefined) {\r\n                  // Skip elements when their name is set to null\r\n                  if (d[i].name === null) {\r\n                      continue;\r\n                  }\r\n                  name = sanitise(nameFormat(d[i].name, d[i].ratio, d[i].id, d[i].index));\r\n                  bgcolor = $$.levelColor ? $$.levelColor(d[i].value) : color(d[i].id);\r\n              }\r\n          }\r\n          if (value !== undefined) {\r\n              text +=\r\n                  \"<tr class='\" +\r\n                      $$.CLASS.tooltipName +\r\n                      '-' +\r\n                      $$.getTargetSelectorSuffix(d[i].id) +\r\n                      \"'>\";\r\n              text +=\r\n                  \"<td class='name'><span style='background-color:\" +\r\n                      bgcolor +\r\n                      \"'></span>\" +\r\n                      name +\r\n                      '</td>';\r\n              text += \"<td class='value'>\" + value + '</td>';\r\n              text += '</tr>';\r\n          }\r\n      }\r\n      return text + '</table>';\r\n  };\r\n  ChartInternal.prototype.tooltipPosition = function (dataToShow, tWidth, tHeight, element) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      var svgLeft, tooltipLeft, tooltipRight, tooltipTop, chartRight;\r\n      var forArc = $$.hasArcType(), mouse = d3.mouse(element);\r\n      // Determin tooltip position\r\n      if (forArc) {\r\n          tooltipLeft =\r\n              ($$.width - ($$.isLegendRight ? $$.getLegendWidth() : 0)) / 2 + mouse[0];\r\n          tooltipTop =\r\n              ($$.hasType('gauge') ? $$.height : $$.height / 2) + mouse[1] + 20;\r\n      }\r\n      else {\r\n          svgLeft = $$.getSvgLeft(true);\r\n          if (config.axis_rotated) {\r\n              tooltipLeft = svgLeft + mouse[0] + 100;\r\n              tooltipRight = tooltipLeft + tWidth;\r\n              chartRight = $$.currentWidth - $$.getCurrentPaddingRight();\r\n              tooltipTop = $$.x(dataToShow[0].x) + 20;\r\n          }\r\n          else {\r\n              tooltipLeft =\r\n                  svgLeft + $$.getCurrentPaddingLeft(true) + $$.x(dataToShow[0].x) + 20;\r\n              tooltipRight = tooltipLeft + tWidth;\r\n              chartRight = svgLeft + $$.currentWidth - $$.getCurrentPaddingRight();\r\n              tooltipTop = mouse[1] + 15;\r\n          }\r\n          if (tooltipRight > chartRight) {\r\n              // 20 is needed for Firefox to keep tooltip width\r\n              tooltipLeft -= tooltipRight - chartRight + 20;\r\n          }\r\n          if (tooltipTop + tHeight > $$.currentHeight) {\r\n              tooltipTop -= tHeight + 30;\r\n          }\r\n      }\r\n      if (tooltipTop < 0) {\r\n          tooltipTop = 0;\r\n      }\r\n      return {\r\n          top: tooltipTop,\r\n          left: tooltipLeft\r\n      };\r\n  };\r\n  ChartInternal.prototype.showTooltip = function (selectedData, element) {\r\n      var $$ = this, config = $$.config;\r\n      var tWidth, tHeight, position;\r\n      var forArc = $$.hasArcType(), dataToShow = selectedData.filter(function (d) {\r\n          return d && isValue(d.value);\r\n      }), positionFunction = config.tooltip_position || ChartInternal.prototype.tooltipPosition;\r\n      if (dataToShow.length === 0 || !config.tooltip_show) {\r\n          $$.hideTooltip();\r\n          return;\r\n      }\r\n      $$.tooltip\r\n          .html(config.tooltip_contents.call($$, selectedData, $$.axis.getXAxisTickFormat(), $$.getYFormat(forArc), $$.color))\r\n          .style('display', 'block');\r\n      // Get tooltip dimensions\r\n      tWidth = $$.tooltip.property('offsetWidth');\r\n      tHeight = $$.tooltip.property('offsetHeight');\r\n      position = positionFunction.call(this, dataToShow, tWidth, tHeight, element);\r\n      // Set tooltip\r\n      $$.tooltip\r\n          .style('top', position.top + 'px')\r\n          .style('left', position.left + 'px');\r\n  };\r\n  ChartInternal.prototype.hideTooltip = function () {\r\n      this.tooltip.style('display', 'none');\r\n  };\n\n  ChartInternal.prototype.setTargetType = function (targetIds, type) {\r\n      var $$ = this, config = $$.config;\r\n      $$.mapToTargetIds(targetIds).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = type === config.data_types[id];\r\n          config.data_types[id] = type;\r\n      });\r\n      if (!targetIds) {\r\n          config.data_type = type;\r\n      }\r\n  };\r\n  ChartInternal.prototype.hasType = function (type, targets) {\r\n      var $$ = this, types = $$.config.data_types, has = false;\r\n      targets = targets || $$.data.targets;\r\n      if (targets && targets.length) {\r\n          targets.forEach(function (target) {\r\n              var t = types[target.id];\r\n              if ((t && t.indexOf(type) >= 0) || (!t && type === 'line')) {\r\n                  has = true;\r\n              }\r\n          });\r\n      }\r\n      else if (Object.keys(types).length) {\r\n          Object.keys(types).forEach(function (id) {\r\n              if (types[id] === type) {\r\n                  has = true;\r\n              }\r\n          });\r\n      }\r\n      else {\r\n          has = $$.config.data_type === type;\r\n      }\r\n      return has;\r\n  };\r\n  ChartInternal.prototype.hasArcType = function (targets) {\r\n      return (this.hasType('pie', targets) ||\r\n          this.hasType('donut', targets) ||\r\n          this.hasType('gauge', targets));\r\n  };\r\n  ChartInternal.prototype.isLineType = function (d) {\r\n      var config = this.config, id = isString(d) ? d : d.id;\r\n      return (!config.data_types[id] ||\r\n          ['line', 'spline', 'area', 'area-spline', 'step', 'area-step'].indexOf(config.data_types[id]) >= 0);\r\n  };\r\n  ChartInternal.prototype.isStepType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return ['step', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\r\n  };\r\n  ChartInternal.prototype.isSplineType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return ['spline', 'area-spline'].indexOf(this.config.data_types[id]) >= 0;\r\n  };\r\n  ChartInternal.prototype.isAreaType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return (['area', 'area-spline', 'area-step'].indexOf(this.config.data_types[id]) >=\r\n          0);\r\n  };\r\n  ChartInternal.prototype.isBarType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'bar';\r\n  };\r\n  ChartInternal.prototype.isScatterType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'scatter';\r\n  };\r\n  ChartInternal.prototype.isStanfordType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'stanford';\r\n  };\r\n  ChartInternal.prototype.isPieType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'pie';\r\n  };\r\n  ChartInternal.prototype.isGaugeType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'gauge';\r\n  };\r\n  ChartInternal.prototype.isDonutType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'donut';\r\n  };\r\n  ChartInternal.prototype.isArcType = function (d) {\r\n      return this.isPieType(d) || this.isDonutType(d) || this.isGaugeType(d);\r\n  };\r\n  ChartInternal.prototype.lineData = function (d) {\r\n      return this.isLineType(d) ? [d] : [];\r\n  };\r\n  ChartInternal.prototype.arcData = function (d) {\r\n      return this.isArcType(d.data) ? [d] : [];\r\n  };\r\n  /* not used\r\n   function scatterData(d) {\r\n   return isScatterType(d) ? d.values : [];\r\n   }\r\n   */\r\n  ChartInternal.prototype.barData = function (d) {\r\n      return this.isBarType(d) ? d.values : [];\r\n  };\r\n  ChartInternal.prototype.lineOrScatterOrStanfordData = function (d) {\r\n      return this.isLineType(d) || this.isScatterType(d) || this.isStanfordType(d)\r\n          ? d.values\r\n          : [];\r\n  };\r\n  ChartInternal.prototype.barOrLineData = function (d) {\r\n      return this.isBarType(d) || this.isLineType(d) ? d.values : [];\r\n  };\n\n  ChartInternal.prototype.isSafari = function () {\r\n      var ua = window.navigator.userAgent;\r\n      return ua.indexOf('Safari') >= 0 && ua.indexOf('Chrome') < 0;\r\n  };\r\n  ChartInternal.prototype.isChrome = function () {\r\n      var ua = window.navigator.userAgent;\r\n      return ua.indexOf('Chrome') >= 0;\r\n  };\n\n  ChartInternal.prototype.initZoom = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, startEvent;\r\n      $$.zoom = d3\r\n          .zoom()\r\n          .on('start', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          startEvent = e;\r\n          config.zoom_onzoomstart.call($$.api, e);\r\n      })\r\n          .on('zoom', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          $$.redrawForZoom();\r\n          config.zoom_onzoom.call($$.api, $$.x.orgDomain());\r\n      })\r\n          .on('end', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          // if click, do nothing. otherwise, click interaction will be canceled.\r\n          if (e &&\r\n              startEvent.clientX === e.clientX &&\r\n              startEvent.clientY === e.clientY) {\r\n              return;\r\n          }\r\n          config.zoom_onzoomend.call($$.api, $$.x.orgDomain());\r\n      });\r\n      $$.zoom.updateDomain = function () {\r\n          if (d3.event && d3.event.transform) {\r\n              if (config.axis_rotated && config.zoom_type === 'scroll' && d3.event.sourceEvent.type === 'mousemove') {\r\n                  // we're moving the mouse in a rotated chart with zoom = \"scroll\", so we need rescaleY (i.e. vertical)\r\n                  $$.x.domain(d3.event.transform.rescaleY($$.subX).domain());\r\n              }\r\n              else {\r\n                  $$.x.domain(d3.event.transform.rescaleX($$.subX).domain());\r\n              }\r\n          }\r\n          return this;\r\n      };\r\n      $$.zoom.updateExtent = function () {\r\n          this.scaleExtent([1, Infinity])\r\n              .translateExtent([\r\n              [0, 0],\r\n              [$$.width, $$.height]\r\n          ])\r\n              .extent([\r\n              [0, 0],\r\n              [$$.width, $$.height]\r\n          ]);\r\n          return this;\r\n      };\r\n      $$.zoom.update = function () {\r\n          return this.updateExtent().updateDomain();\r\n      };\r\n      return $$.zoom.updateExtent();\r\n  };\r\n  ChartInternal.prototype.zoomTransform = function (range) {\r\n      var $$ = this, s = [$$.x(range[0]), $$.x(range[1])];\r\n      return $$.d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0);\r\n  };\r\n  ChartInternal.prototype.initDragZoom = function () {\r\n      var $$ = this;\r\n      var d3 = $$.d3;\r\n      var config = $$.config;\r\n      var context = ($$.context = $$.svg);\r\n      var brushXPos = $$.margin.left + 20.5;\r\n      var brushYPos = $$.margin.top + 0.5;\r\n      if (!(config.zoom_type === 'drag' && config.zoom_enabled)) {\r\n          return;\r\n      }\r\n      var getZoomedDomain = function (selection) {\r\n          return selection && selection.map(function (x) { return $$.x.invert(x); });\r\n      };\r\n      var brush = ($$.dragZoomBrush = d3\r\n          .brushX()\r\n          .on('start', function () {\r\n          $$.api.unzoom();\r\n          $$.svg.select('.' + CLASS.dragZoom).classed('disabled', false);\r\n          config.zoom_onzoomstart.call($$.api, d3.event.sourceEvent);\r\n      })\r\n          .on('brush', function () {\r\n          config.zoom_onzoom.call($$.api, getZoomedDomain(d3.event.selection));\r\n      })\r\n          .on('end', function () {\r\n          if (d3.event.selection == null) {\r\n              return;\r\n          }\r\n          var zoomedDomain = getZoomedDomain(d3.event.selection);\r\n          if (!config.zoom_disableDefaultBehavior) {\r\n              $$.api.zoom(zoomedDomain);\r\n          }\r\n          $$.svg.select('.' + CLASS.dragZoom).classed('disabled', true);\r\n          config.zoom_onzoomend.call($$.api, zoomedDomain);\r\n      }));\r\n      context\r\n          .append('g')\r\n          .classed(CLASS.dragZoom, true)\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('transform', 'translate(' + brushXPos + ',' + brushYPos + ')')\r\n          .call(brush);\r\n  };\r\n  ChartInternal.prototype.getZoomDomain = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, min = d3.min([$$.orgXDomain[0], config.zoom_x_min]), max = d3.max([$$.orgXDomain[1], config.zoom_x_max]);\r\n      return [min, max];\r\n  };\r\n  ChartInternal.prototype.redrawForZoom = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, zoom = $$.zoom, x = $$.x;\r\n      if (!config.zoom_enabled) {\r\n          return;\r\n      }\r\n      if ($$.filterTargetsToShow($$.data.targets).length === 0) {\r\n          return;\r\n      }\r\n      zoom.update();\r\n      if (config.zoom_disableDefaultBehavior) {\r\n          return;\r\n      }\r\n      if ($$.isCategorized() && x.orgDomain()[0] === $$.orgXDomain[0]) {\r\n          x.domain([$$.orgXDomain[0] - 1e-10, x.orgDomain()[1]]);\r\n      }\r\n      $$.redraw({\r\n          withTransition: false,\r\n          withY: config.zoom_rescale,\r\n          withSubchart: false,\r\n          withEventRect: false,\r\n          withDimension: false\r\n      });\r\n      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'mousemove') {\r\n          $$.cancelClick = true;\r\n      }\r\n  };\n\n  return c3;\n\n})));\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export var name = \"d3\";\nexport var version = \"5.16.0\";\nexport var description = \"Data-Driven Documents\";\nexport var keywords = [\"dom\",\"visualization\",\"svg\",\"animation\",\"canvas\"];\nexport var homepage = \"https://d3js.org\";\nexport var license = \"BSD-3-Clause\";\nexport var author = {\"name\":\"Mike Bostock\",\"url\":\"https://bost.ocks.org/mike\"};\nexport var main = \"dist/d3.node.js\";\nexport var unpkg = \"dist/d3.min.js\";\nexport var jsdelivr = \"dist/d3.min.js\";\nexport var module = \"index.js\";\nexport var repository = {\"type\":\"git\",\"url\":\"https://github.com/d3/d3.git\"};\nexport var files = [\"dist/**/*.js\",\"index.js\"];\nexport var scripts = {\"pretest\":\"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c\",\"test\":\"tape 'test/**/*-test.js'\",\"prepublishOnly\":\"yarn test\",\"postpublish\":\"git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v5.js && cp ../d3/dist/d3.min.js d3.v5.min.js && git add d3.v5.js d3.v5.min.js && git commit -m \\\"d3 ${npm_package_version}\\\" && git push && cd - && cd ../d3-bower && git pull && cp ../d3/LICENSE ../d3/README.md ../d3/dist/d3.js ../d3/dist/d3.min.js . && git add -- LICENSE README.md d3.js d3.min.js && git commit -m \\\"${npm_package_version}\\\" && git tag -am \\\"${npm_package_version}\\\" v${npm_package_version} && git push && git push --tags && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js\"};\nexport var devDependencies = {\"json2module\":\"0.0\",\"rimraf\":\"2\",\"rollup\":\"1\",\"rollup-plugin-ascii\":\"0.0\",\"rollup-plugin-node-resolve\":\"3\",\"rollup-plugin-terser\":\"5\",\"tape\":\"4\"};\nexport var dependencies = {\"d3-array\":\"1\",\"d3-axis\":\"1\",\"d3-brush\":\"1\",\"d3-chord\":\"1\",\"d3-collection\":\"1\",\"d3-color\":\"1\",\"d3-contour\":\"1\",\"d3-dispatch\":\"1\",\"d3-drag\":\"1\",\"d3-dsv\":\"1\",\"d3-ease\":\"1\",\"d3-fetch\":\"1\",\"d3-force\":\"1\",\"d3-format\":\"1\",\"d3-geo\":\"1\",\"d3-hierarchy\":\"1\",\"d3-interpolate\":\"1\",\"d3-path\":\"1\",\"d3-polygon\":\"1\",\"d3-quadtree\":\"1\",\"d3-random\":\"1\",\"d3-scale\":\"2\",\"d3-scale-chromatic\":\"1\",\"d3-selection\":\"1\",\"d3-shape\":\"1\",\"d3-time\":\"1\",\"d3-time-format\":\"2\",\"d3-timer\":\"1\",\"d3-transition\":\"1\",\"d3-voronoi\":\"1\",\"d3-zoom\":\"1\"};\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, touch, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nfunction toucher(identifier) {\n  return function(target) {\n    return touch(target, event.touches, identifier);\n  };\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    return (!clean && that.__brush.emitter) || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      else this.emit(\"brush\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse,\n        point0 = pointer(that),\n        point = point0,\n        emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = pointer(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function touchmoved() {\n    emitter(this, arguments).moved();\n  }\n\n  function touchended() {\n    emitter(this, arguments).ended();\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\n","import {range} from \"d3-array\";\nimport {max, tau} from \"./math\";\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = [],\n        groupIndex = range(n),\n        subgroupIndex = [],\n        chords = [],\n        groups = chords.groups = new Array(n),\n        subgroups = new Array(n * n),\n        k,\n        x,\n        x0,\n        dx,\n        i,\n        j;\n\n    // Compute the sum.\n    k = 0, i = -1; while (++i < n) {\n      x = 0, j = -1; while (++j < n) {\n        x += matrix[i][j];\n      }\n      groupSums.push(x);\n      subgroupIndex.push(range(n));\n      k += x;\n    }\n\n    // Sort groups\n    if (sortGroups) groupIndex.sort(function(a, b) {\n      return sortGroups(groupSums[a], groupSums[b]);\n    });\n\n    // Sort subgroups\n    if (sortSubgroups) subgroupIndex.forEach(function(d, i) {\n      d.sort(function(a, b) {\n        return sortSubgroups(matrix[i][a], matrix[i][b]);\n      });\n    });\n\n    // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified?\n    // TODO Allow padding to be specified as percentage?\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n    x = 0, i = -1; while (++i < n) {\n      x0 = x, j = -1; while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[dj * n + di] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: groupSums[di]\n      };\n      x += dx;\n    }\n\n    // Generate chords for each (non-empty) subgroup-subgroup link.\n    i = -1; while (++i < n) {\n      j = i - 1; while (++j < n) {\n        var source = subgroups[j * n + i],\n            target = subgroups[i * n + j];\n        if (source.value || target.value) {\n          chords.push(source.value < target.value\n              ? {source: target, target: source}\n              : {source: source, target: target});\n        }\n      }\n    }\n\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport {cos, halfPi, sin} from \"./math\";\nimport {path} from \"d3-path\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nexport default function() {\n  var source = defaultSource,\n      target = defaultTarget,\n      radius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        argv = slice.call(arguments),\n        s = source.apply(this, argv),\n        t = target.apply(this, argv),\n        sr = +radius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        sx0 = sr * cos(sa0),\n        sy0 = sr * sin(sa0),\n        tr = +radius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    context.moveTo(sx0, sy0);\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) { // TODO sr !== tr?\n      context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n      context.arc(0, 0, tr, ta0, ta1);\n    }\n    context.quadraticCurveTo(0, 0, sx0, sy0);\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : radius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(a, b) {\n  return a - b;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","export default function() {}\n","import {extent, thresholdSturges, tickStep, range} from \"d3-array\";\nimport {slice} from \"./array\";\nimport ascending from \"./ascending\";\nimport area from \"./area\";\nimport constant from \"./constant\";\nimport contains from \"./contains\";\nimport noop from \"./noop\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var domain = extent(values), start = domain[0], stop = domain[1];\n      tz = tickStep(start, stop, tz);\n      tz = range(Math.floor(start / tz) * tz, Math.floor(stop / tz) * tz, tz);\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(function(value) {\n      return contour(values, value);\n    });\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    var polygons = [],\n        holes = [];\n\n    isorings(values, value, function(ring) {\n      smooth(ring, values, value);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = values[0] >= value;\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = values[x + 1] >= value;\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = values[y * dx + dx] >= value;\n      t2 = values[y * dx] >= value;\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = values[y * dx + dx + x + 1] >= value;\n        t3 = t2, t2 = values[y * dx + x + 1] >= value;\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = values[y * dx + x + 1] >= value;\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v0,\n          v1 = values[yt * dx + xt];\n      if (x > 0 && x < dx && xt === x) {\n        v0 = values[yt * dx + xt - 1];\n        point[0] = x + (value - v0) / (v1 - v0) - 0.5;\n      }\n      if (y > 0 && y < dy && yt === y) {\n        v0 = values[(yt - 1) * dx + xt];\n        point[1] = y + (value - v0) / (v1 - v0) - 0.5;\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.ceil(_[0]), _1 = Math.ceil(_[1]);\n    if (!(_0 > 0) || !(_1 > 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n","export default function(ring) {\n  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n","// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurX(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var j = 0; j < m; ++j) {\n    for (var i = 0, sr = 0; i < n + r; ++i) {\n      if (i < n) {\n        sr += source.data[i + j * n];\n      }\n      if (i >= r) {\n        if (i >= w) {\n          sr -= source.data[i - w + j * n];\n        }\n        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);\n      }\n    }\n  }\n}\n\n// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurY(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0, sr = 0; j < m + r; ++j) {\n      if (j < m) {\n        sr += source.data[i + j * n];\n      }\n      if (j >= r) {\n        if (j >= w) {\n          sr -= source.data[i + (j - w) * n];\n        }\n        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);\n      }\n    }\n  }\n}\n","import {max, range, tickStep} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {blurX, blurY} from \"./blur\";\nimport constant from \"./constant\";\nimport contours from \"./contours\";\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nexport default function() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20, // blur radius\n      k = 2, // log2(grid cell size)\n      o = r * 3, // grid offset, to pad for blur\n      n = (dx + o * 2) >> k, // grid width\n      m = (dy + o * 2) >> k, // grid height\n      threshold = constant(20);\n\n  function density(data) {\n    var values0 = new Float32Array(n * m),\n        values1 = new Float32Array(n * m);\n\n    data.forEach(function(d, i, data) {\n      var xi = (+x(d, i, data) + o) >> k,\n          yi = (+y(d, i, data) + o) >> k,\n          wi = +weight(d, i, data);\n      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        values0[xi + yi * n] += wi;\n      }\n    });\n\n    // TODO Optimize.\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n\n    var tz = threshold(values0);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var stop = max(values0);\n      tz = tickStep(0, stop, tz);\n      tz = range(0, Math.floor(stop / tz) * tz, tz);\n      tz.shift();\n    }\n\n    return contours()\n        .thresholds(tz)\n        .size([n, m])\n      (values0)\n        .map(transform);\n  }\n\n  function transform(geometry) {\n    geometry.value *= Math.pow(2, -2 * k); // Density in points per square pixel.\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  }\n\n  // TODO Optimize.\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = (dx + o * 2) >> k;\n    m = (dy + o * 2) >> k;\n    return density;\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : constant(+_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.ceil(_[0]), _1 = Math.ceil(_[1]);\n    if (!(_0 >= 0) && !(_0 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), density) : threshold;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = Math.round((Math.sqrt(4 * _ * _ + 1) - 1) / 2), resize();\n  };\n\n  return density;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nvar fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text\";\n\nfunction parser(type) {\n  return function(input, init)  {\n    return text(input, init).then(function(text) {\n      return (new DOMParser).parseFromString(text, type);\n    });\n  };\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(x, y) {\n  var nodes;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x;\n            if (y === 0) y = jiggle(), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\nimport {x, y} from \"./simulation\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder.js\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder.js\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder.js\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import adder from \"../adder.js\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","export default function(x) {\n  return x;\n}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder.js\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export var slice = Array.prototype.slice;\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle, slice} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(slice.call(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar keyPrefix = \"$\", // Protect against keys like __proto__.\n    preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var d,\n        i,\n        n = data.length,\n        root,\n        parent,\n        node,\n        nodes = new Array(n),\n        nodeId,\n        nodeKey,\n        nodeByKey = {};\n\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = (x0 * valueRight + x1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = (y0 * valueRight + y1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  var n = points.length,\n      indexes = [0, 1],\n      size = 2;\n\n  for (var i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.sqrt(xa * xa + ya * ya);\n  }\n\n  return perimeter;\n}\n","export default function() {\n  return Math.random();\n}\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport normal from \"./normal\";\n\nexport default (function sourceRandomLogNormal(source) {\n  function randomLogNormal() {\n    var randomNormal = normal.source(source).apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    return function() {\n      for (var sum = 0, i = 0; i < n; ++i) sum += source();\n      return sum;\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport irwinHall from \"./irwinHall\";\n\nexport default (function sourceRandomBates(source) {\n  function randomBates(n) {\n    var randomIrwinHall = irwinHall.source(source)(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log(1 - source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? map.call(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice\";\nimport {copy, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear\";\nimport {copy, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear\";\nimport {copy, identity, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\nimport {initRange} from \"./init\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\nimport {initRange} from \"./init\";\n\nexport default function() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect} from \"d3-array\";\nimport {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return interpolator((bisect(domain, x) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {copy} from \"./sequential\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (x < t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), t2 = transform(x2 = +_[2]), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1);\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export {default as color, rgb, hsl} from \"./color.js\";\nexport {default as lab, hcl, lch, gray} from \"./lab.js\";\nexport {default as cubehelix} from \"./cubehelix.js\";\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","export {default as path} from \"./path.js\";\n","export {\n  default as timeInterval\n} from \"./interval.js\";\n\nexport {\n  default as timeMillisecond,\n  milliseconds as timeMilliseconds,\n  default as utcMillisecond,\n  milliseconds as utcMilliseconds\n} from \"./millisecond.js\";\n\nexport {\n  default as timeSecond,\n  seconds as timeSeconds,\n  default as utcSecond,\n  seconds as utcSeconds\n} from \"./second.js\";\n\nexport {\n  default as timeMinute,\n  minutes as timeMinutes\n} from \"./minute.js\";\n\nexport {\n  default as timeHour,\n  hours as timeHours\n} from \"./hour.js\";\n\nexport {\n  default as timeDay,\n  days as timeDays\n} from \"./day.js\";\n\nexport {\n  sunday as timeWeek,\n  sundays as timeWeeks,\n  sunday as timeSunday,\n  sundays as timeSundays,\n  monday as timeMonday,\n  mondays as timeMondays,\n  tuesday as timeTuesday,\n  tuesdays as timeTuesdays,\n  wednesday as timeWednesday,\n  wednesdays as timeWednesdays,\n  thursday as timeThursday,\n  thursdays as timeThursdays,\n  friday as timeFriday,\n  fridays as timeFridays,\n  saturday as timeSaturday,\n  saturdays as timeSaturdays\n} from \"./week.js\";\n\nexport {\n  default as timeMonth,\n  months as timeMonths\n} from \"./month.js\";\n\nexport {\n  default as timeYear,\n  years as timeYears\n} from \"./year.js\";\n\nexport {\n  default as utcMinute,\n  utcMinutes as utcMinutes\n} from \"./utcMinute.js\";\n\nexport {\n  default as utcHour,\n  utcHours as utcHours\n} from \"./utcHour.js\";\n\nexport {\n  default as utcDay,\n  utcDays as utcDays\n} from \"./utcDay.js\";\n\nexport {\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday as utcSunday,\n  utcSundays as utcSundays,\n  utcMonday as utcMonday,\n  utcMondays as utcMondays,\n  utcTuesday as utcTuesday,\n  utcTuesdays as utcTuesdays,\n  utcWednesday as utcWednesday,\n  utcWednesdays as utcWednesdays,\n  utcThursday as utcThursday,\n  utcThursdays as utcThursdays,\n  utcFriday as utcFriday,\n  utcFridays as utcFridays,\n  utcSaturday as utcSaturday,\n  utcSaturdays as utcSaturdays\n} from \"./utcWeek.js\";\n\nexport {\n  default as utcMonth,\n  utcMonths as utcMonths\n} from \"./utcMonth.js\";\n\nexport {\n  default as utcYear,\n  utcYears as utcYears\n} from \"./utcYear.js\";\n","export {default as formatDefaultLocale, format, formatPrefix} from \"./defaultLocale.js\";\nexport {default as formatLocale} from \"./locale.js\";\nexport {default as formatSpecifier, FormatSpecifier} from \"./formatSpecifier.js\";\nexport {default as precisionFixed} from \"./precisionFixed.js\";\nexport {default as precisionPrefix} from \"./precisionPrefix.js\";\nexport {default as precisionRound} from \"./precisionRound.js\";\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n"],"sourceRoot":""}