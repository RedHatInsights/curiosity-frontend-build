(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[7],{3196:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return L})),i.d(t,"ConnectedOpenshiftView",(function(){return L})),i.d(t,"OpenshiftView",(function(){return w}));var a,r,n=i(6),l=i(13),o=i(14),u=i(15),s=i(16),c=i(0),v=i.n(c),d=i(3194),p=i(3195),y=i(809),b=i(828),h=i(1819),m=i(154),S=i.n(m),E=i(108),I=i(2),O=i(63),f=i(1820),g=i(1821),T=i(1068),F=i(1823),D=i(1824),P=i(1815),_=i(1822),k=i(1817),N=i(17),j=i(49),w=function(e){Object(s.a)(i,e);var t=Object(u.a)(i);function i(){var e;Object(l.a)(this,i);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={option:null,graphFilters:[],inventoryFilters:[],subscriptionsInventoryFilters:[]},e.onSelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.state.option,a=e.props,r=a.initialGraphFilters,l=a.initialInventoryFilters,o=a.initialSubscriptionsInventoryFilters,u=a.viewId,s=t.value;if(s!==i){var c=function(e){var t=e.id;return!e.isOptional||new RegExp(s,"i").test(t)},v=r.filter(c),d=l.filter(c),p=o.filter(c);e.setState({option:i,graphFilters:v,inventoryFilters:d,subscriptionsInventoryFilters:p},(function(){O.g.dispatch([{type:O.f.query.SET_QUERY_CLEAR_INVENTORY_LIST},Object(n.a)({type:O.f.query.SET_QUERY_RHSM_TYPES[I.g.UOM],viewId:u},I.g.UOM,s)])}))}},e}return Object(o.a)(i,[{key:"componentDidMount",value:function(){var e=this.props.initialOption;this.onSelect({value:e})}},{key:"renderSelect",value:function(){var e=this.state.option,t=this.props,i=t.initialOption,a=t.t,r=[{title:a("curiosity-toolbar.uom",{context:I.h.CORES}),value:I.h.CORES},{title:a("curiosity-toolbar.uom",{context:I.h.SOCKETS}),value:I.h.SOCKETS}];return v.a.createElement(T.a,{onSelect:this.onSelect,options:r,selectedOptions:e||i})}},{key:"render",value:function(){var e,t=this.state,i=t.graphFilters,a=t.inventoryFilters,r=t.subscriptionsInventoryFilters,n=this.props,l=n.initialGuestsFilters,o=n.initialToolbarFilters,u=n.initialInventorySettings,s=n.location,c=n.productLabel,d=n.query,p=n.graphTallyQuery,y=n.inventoryHostsQuery,b=n.inventorySubscriptionsQuery,h=n.routeDetail,m=n.t,S=n.viewId,I=""===(null===s||void 0===s||null===(e=s.parsedSearch)||void 0===e?void 0:e.c3),T=O.a.parseRhsmQuery(d,{graphTallyQuery:p,inventoryHostsQuery:y,inventorySubscriptionsQuery:b}),j=T.graphTallyQuery,w=T.inventoryHostsQuery,R=T.inventorySubscriptionsQuery,L=T.toolbarQuery;return v.a.createElement(E.b,null,v.a.createElement(E.a,{productLabel:c,includeTour:!0},m("curiosity-view.title",{appName:N.b.UI_DISPLAY_NAME,context:c})),v.a.createElement(E.c,null,v.a.createElement(k.a,{productId:h.pathParameter,viewId:S,query:d})),v.a.createElement(E.e,null,v.a.createElement(F.a,{filterOptions:o,productId:h.pathParameter,query:L,viewId:S})),v.a.createElement(E.d,null,I&&v.a.createElement(g.a,{key:h.pathParameter,filterGraphData:i,query:j,productId:h.pathParameter,viewId:S,cardTitle:m("curiosity-graph.cardHeading"),productShortLabel:c},this.renderSelect())||v.a.createElement(f.a,{key:h.pathParameter,filterGraphData:i,query:j,productId:h.pathParameter,viewId:S,cardTitle:m("curiosity-graph.cardHeading"),productLabel:c},this.renderSelect())),v.a.createElement(E.d,null,v.a.createElement(_.b,{productId:h.pathParameter},v.a.createElement(_.a,{key:"hostsTab",title:m("curiosity-inventory.tab",{context:"hosts"})},v.a.createElement(D.a,{key:h.pathParameter,filterGuestsData:l,filterInventoryData:a,productId:h.pathParameter,settings:u,query:w,viewId:S})),!N.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&v.a.createElement(_.a,{key:"subscriptionsTab",title:m("curiosity-inventory.tab",{context:"subscriptions"})},v.a.createElement(P.a,{key:h.pathParameter,filterInventoryData:r,productId:h.pathParameter,query:R,viewId:S})))))}}]),i}(v.a.Component);w.defaultProps={query:Object(n.a)({},I.g.UOM,I.h.CORES),graphTallyQuery:Object(n.a)({},I.g.GRANULARITY,I.b.DAILY),inventoryHostsQuery:(a={},Object(n.a)(a,I.g.SORT,I.e.LAST_SEEN),Object(n.a)(a,I.g.DIRECTION,I.d.ASCENDING),Object(n.a)(a,I.g.LIMIT,100),Object(n.a)(a,I.g.OFFSET,0),a),inventorySubscriptionsQuery:(r={},Object(n.a)(r,I.g.SORT,I.f.UPCOMING_EVENT_DATE),Object(n.a)(r,I.g.DIRECTION,I.d.ASCENDING),Object(n.a)(r,I.g.LIMIT,100),Object(n.a)(r,I.g.OFFSET,0),r),initialOption:I.h.CORES,initialGraphFilters:[{id:"cores",isOptional:!0,fill:d.a.value,stroke:p.a.value,color:p.a.value},{id:"sockets",isOptional:!0,fill:d.a.value,stroke:p.a.value,color:p.a.value},{id:"thresholdSockets",isOptional:!0},{id:"thresholdCores",isOptional:!0}],initialGuestsFilters:[{id:"displayName",header:Object(j.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var i=e.displayName,a=e.inventoryId,r=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===a||void 0===a?void 0:a.value)?r?v.a.createElement(y.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(N.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(a.value,"/")},i.value||a.value):(null===i||void 0===i?void 0:i.value)||(null===a||void 0===a?void 0:a.value):null===i||void 0===i?void 0:i.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&v.a.createElement(h.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var i=e.displayName,a=void 0===i?{}:i,r=e.inventoryId,n=void 0===r?{}:r,l=e.numberOfGuests,o=void 0===l?{}:l,u=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!n.value)return a.value;var s=a.value||n.value;return u&&(s=v.a.createElement(y.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(N.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(n.value,"/")},a.value||n.value)),v.a.createElement(v.a.Fragment,null,s," ",o.value&&Object(j.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[v.a.createElement(b.a,{color:"blue"})])||"")},isSortable:!0},{id:"measurementType",cell:function(e){var t=e.cloudProvider,i=void 0===t?{}:t,a=e.measurementType,r=void 0===a?{}:a;return v.a.createElement(v.a.Fragment,null,Object(j.b)("curiosity-inventory.measurementType",{context:r.value})," ",i.value&&v.a.createElement(b.a,{color:"purple"},Object(j.b)("curiosity-inventory.cloudProvider",{context:i.value}))||"")},isSortable:!0,cellWidth:20},{id:"sockets",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"cores",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&v.a.createElement(h.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&S.a.utc(null===e||void 0===e||null===(i=e.upcomingEventDate)||void 0===i?void 0:i.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:I.g.SLA}],productLabel:"OpenShift",t:j.b,viewId:"viewOpenShift"};var R=O.e.view.makeView(w.defaultProps),L=Object(O.b)(R)(w)}}]);
//# sourceMappingURL=7.c5d8e1d9.chunk.js.map