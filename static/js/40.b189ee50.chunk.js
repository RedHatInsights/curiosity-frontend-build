(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[40],{586:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E})),n.d(t,"Select",(function(){return E})),n.d(t,"SelectDirection",(function(){return k})),n.d(t,"SelectPosition",(function(){return w}));var i=n(8),o=n(1),l=n(15),a=n(16),c=n(19),s=n(18),r=n(0),u=n.n(r),d=n(21),p=n(735),f=n(921),v=n(810),b=n(642),g=n.n(b),h=n(54),O=n.n(h),j=n(665),m=n.n(j),x=n(125),y=n.n(x),S=n(23),T=n(4),k=d.c,w=d.d,E=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isExpanded:!1,options:null,selected:null},e.selectField=u.a.createRef(),e.onSelect=function(t,n){var i=e.state.options,l=e.props,a=l.id,c=l.name,s=l.onSelect,r=l.variant,u=i,d=u.findIndex((function(e){return e.title===n}));u[d].selected=r===p.e.single||!u[d].selected,r===p.e.single&&u.forEach((function(e,t){d!==t&&(u[t].selected=!1)}));var f=r===p.e.single?n:u.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:u,selected:f},(function(){var t=g()(u),n={id:a,name:c||a,value:t[d].value,selected:r===p.e.single&&t[d]||g()(f),selectedIndex:d,type:"select-".concat(r===p.e.single?"one":"multiple"),options:t};r===p.e.checkbox&&(n.checked=t[d].selected);var i=Object(o.a)(Object(o.a)({},n),{},{target:Object(o.a)({},n),currentTarget:Object(o.a)({},n),persist:S.b.noop});s(Object(o.a)({},i),d,t),r===p.e.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,i=t.selectedOptions;O()(e.options,n)&&O()(e.selectedOptions,i)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t,n=this.selectField.current,l=void 0===n?{}:n,a=this.props,c=a.options,s=a.selectedOptions,r=a.variant,u=Object.entries(this.props).filter((function(e){var t=Object(i.a)(e,1)[0];return/^data-/i.test(t)})),d=y()(c)?Object.entries(c).map((function(e){var t=Object(i.a)(e,2),n=t[0],l=t[1];return Object(o.a)(Object(o.a)({},l),{},{title:n,value:l})})):g()(c),f=s&&"string"===typeof s||"number"===typeof s?[s]:s;d.forEach((function(e,t){var n=e;if("string"===typeof n&&(n={title:e,value:e},d[t]=n),n.text=n.text||n.title,n.textContent=n.textContent||n.title,n.label=n.label||n.title,f){var i;if(y()(n.value)){if(!(i=m()(f,n.value)>-1))i=!!f.find((function(e){return Object.values(n.value).includes(e)}))}else i=f.includes(n.value);i||(i=f.includes(n.title)),d[t].selected=i}})),t=r===p.e.single?(d.find((function(e){return!0===e.selected}))||{}).title:d.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),(null===l||void 0===l||null===(e=l.parentRef)||void 0===e?void 0:e.current)&&u.forEach((function(e){var t,n=Object(i.a)(e,2),o=n[0],a=n[1];return null===l||void 0===l||null===(t=l.parentRef)||void 0===t?void 0:t.current.setAttribute(o,a)})),this.setState({options:d,selected:t})}},{key:"render",value:function(){var e=this.state,t=e.options,n=e.selected,i=e.isExpanded,l=this.props,a=l.ariaLabel,c=l.className,s=l.direction,r=l.isDisabled,u=l.isToggleText,p=l.maxHeight,b=l.placeholder,g=l.position,h=l.toggleIcon,O=l.variant,j={direction:s,maxHeight:p};return t&&t.length&&!r||(j.isDisabled=!0),Object(T.jsx)(f.a,Object(o.a)(Object(o.a)({className:"curiosity-select".concat(u?"":"__no-toggle-text"," ").concat(g===d.d.right?"curiosity-select__position-right":""," ").concat(c),variant:O,"aria-label":a,onToggle:this.onToggle,onSelect:this.onSelect,selections:n,isOpen:i,toggleIcon:h,placeholderText:b,ref:this.selectField},j),{},{children:t&&t.map((function(e){return Object(T.jsx)(v.a,{id:window.btoa("".concat(e.title,"-").concat(e.value)),value:e.title,"data-value":y()(e.value)&&JSON.stringify([e.value])||e.value,"data-title":e.title},window.btoa("".concat(e.title,"-").concat(e.value)))}))||[]}))}}]),n}(u.a.Component);E.defaultProps={ariaLabel:"Select option",className:"",direction:k.down,id:S.b.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:S.b.noop,options:[],placeholder:"Select option",position:w.left,selectedOptions:null,toggleIcon:null,variant:p.e.single}}}]);
//# sourceMappingURL=40.b189ee50.chunk.js.map