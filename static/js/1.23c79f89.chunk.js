(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[1],{626:function(t,e,a){"use strict";a.d(e,"a",(function(){return I})),a.d(e,"b",(function(){return D}));var n=a(1),r=a(13),i=a(14),o=a(17),s=a(16),c=a(0),l=a.n(c),u=a(21),d=a(627),p=a(895),b=a(726),h=a(635),v=a.n(h),f=a(52),g=a.n(f),y=a(710),O=a.n(y),j=a(122),m=a.n(j),T=a(20),S=a(4),x=u.c,D=u.d,I=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={isExpanded:!1,options:null,selected:null},t.onSelect=function(e,a){var r=t.state.options,i=t.props,o=i.id,s=i.name,c=i.onSelect,l=i.variant,u=r,p=u.findIndex((function(t){return t.title===a}));u[p].selected=l===d.e.single||!u[p].selected,l===d.e.single&&u.forEach((function(t,e){p!==e&&(u[e].selected=!1)}));var b=l===d.e.single?a:u.filter((function(t){return!0===t.selected})).map((function(t){return t.title}));t.setState({options:u,selected:b},(function(){var e=v()(u),a={id:o,name:s||o,value:e[p].value,selected:l===d.e.single&&e[p]||v()(b),selectedIndex:p,type:"select-".concat(l===d.e.single?"one":"multiple"),options:e};l===d.e.checkbox&&(a.checked=e[p].selected);var r=Object(n.a)(Object(n.a)({},a),{},{target:Object(n.a)({},a),currentTarget:Object(n.a)({},a),persist:T.a.noop});c(Object(n.a)({},r),p,e),l===d.e.single&&t.setState({isExpanded:!1})}))},t.onToggle=function(e){t.setState({isExpanded:e})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.options,n=e.selectedOptions;g()(t.options,a)&&g()(t.selectedOptions,n)||this.formatOptions()}},{key:"formatOptions",value:function(){var t,e=this.props,a=e.options,r=e.selectedOptions,i=e.variant,o=m()(a)?Object.keys(a).map((function(t){return Object(n.a)(Object(n.a)({},a[t]),{},{title:t,value:a[t]})})):v()(a),s=r&&"string"===typeof r||"number"===typeof r?[r]:r;o.forEach((function(t,e){var a=t;if("string"===typeof a&&(a={title:t,value:t},o[e]=a),a.text=a.text||a.title,a.textContent=a.textContent||a.title,a.label=a.label||a.title,s){var n;if(m()(a.value)){if(!(n=O()(s,a.value)>-1))n=!!s.find((function(t){return Object.values(a.value).includes(t)}))}else n=s.includes(a.value);n||(n=s.includes(a.title)),o[e].selected=n}})),t=i===d.e.single?(o.find((function(t){return!0===t.selected}))||{}).title:o.filter((function(t){return!0===t.selected})).map((function(t){return t.title})),this.setState({options:o,selected:t})}},{key:"render",value:function(){var t=this.state,e=t.options,a=t.selected,r=t.isExpanded,i=this.props,o=i.ariaLabel,s=i.className,c=i.direction,l=i.isDisabled,d=i.isToggleText,h=i.maxHeight,v=i.placeholder,f=i.position,g=i.toggleIcon,y=i.variant,O={direction:c,maxHeight:h};return e&&e.length&&!l||(O.isDisabled=!0),Object(S.jsx)(p.a,Object(n.a)(Object(n.a)({className:"curiosity-select".concat(d?"":"__no-toggle-text"," ").concat(f===u.d.right?"curiosity-select__position-right":""," ").concat(s),variant:y,"aria-label":o,onToggle:this.onToggle,onSelect:this.onSelect,selections:a,isOpen:r,toggleIcon:g,placeholderText:v},O),{},{children:e&&e.map((function(t){return Object(S.jsx)(b.a,{id:window.btoa("".concat(t.title,"-").concat(t.value)),value:t.title,"data-value":m()(t.value)&&JSON.stringify([t.value])||t.value,"data-title":t.title},window.btoa("".concat(t.title,"-").concat(t.value)))}))||[]}))}}]),a}(l.a.Component);I.defaultProps={ariaLabel:"Select option",className:"",direction:x.down,id:T.a.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:T.a.noop,options:[],placeholder:"Select option",position:D.left,selectedOptions:null,toggleIcon:null,variant:d.e.single}},648:function(t,e,a){"use strict";a.d(e,"a",(function(){return T}));var n=a(9),r=a(6),i=a(1),o=a(13),s=a(14),c=a(17),l=a(16),u=a(0),d=a.n(u),p=a(171),b=a(18),h=a(56),v=a(145),f=a(673),g=a(3),y=a(232),O=a(4),j=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return(t=e.call.apply(e,[this].concat(c))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,a=e.currentPage,n=e.limit,o=t.props,s=o.getHostsInventoryGuests,c=o.query,l=o.id;if(l){var u,d=Object(i.a)(Object(i.a)({},c),{},(u={},Object(r.a)(u,g.g.LIMIT,n),Object(r.a)(u,g.g.OFFSET,a*n||0),u));s(l,h.a.parseRhsmQuery(d).inventoryGuestsQuery)}},t.onScroll=function(e){var a=e.target,r=t.state,i=r.currentPage,o=r.limit,s=r.previousData,c=t.props,l=c.numberOfGuests,u=c.pending,d=c.listData,p=a.scrollHeight-a.scrollTop===a.clientHeight;if(l>(i+1)*o&&p&&!u){var b=i+1,h=[].concat(Object(n.a)(s),Object(n.a)(d||[]));t.setState({previousData:h,currentPage:b})}},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,a=e.filterGuestsData,n=e.listData,r=e.pending;if(t>0&&r){var i=Object(O.jsx)(v.a,{variant:"table",tableProps:{borders:!1,colCount:(null===a||void 0===a?void 0:a.length)||(null===n||void 0===n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:p.b.compact}});return Object(O.jsx)("div",{className:"curiosity-table-scroll-loader__custom",children:i})}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,a=e.filterGuestsData,r=e.listData,i=e.numberOfGuests,o=e.session,s=[],c=[].concat(Object(n.a)(t),Object(n.a)(r||[])).map((function(t){var e=Object.assign({},t),n=f.a.parseRowCellsListData({filters:a,cellData:e,session:o}),r=n.columnHeaders,i=n.cells;return s=r,{cells:i}})),l=42*(i+1);return l=l<275&&l||275,Object(O.jsx)("div",{className:"curiosity-table-scroll",style:{height:"".concat(l,"px")},children:Object(O.jsxs)("div",{className:"curiosity-table-scroll-list".concat(l<275?"__no-scroll":""),onScroll:this.onScroll,children:[this.renderLoader(),c.length&&Object(O.jsx)(y.a,{borders:!1,variant:p.b.compact,className:"curiosity-guests-list",columnHeaders:s,rows:c})||null]})})}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,a=e.error,n=e.filterGuestsData,r=e.listData,i=e.numberOfGuests,o=e.pending,s=e.perPageDefault;return Object(O.jsxs)("div",{className:"fadein ".concat(a?"blur":""),children:[o&&0===t&&Object(O.jsx)(v.a,{variant:"table",tableProps:{borders:!1,colCount:(null===n||void 0===n?void 0:n.length)||(null===r||void 0===r?void 0:r[0])&&Object.keys(r[0]).length||1,colWidth:(null===n||void 0===n?void 0:n.length)&&n.map((function(t){return t.cellWidth}))||[],rowCount:i<s?i:s,variant:p.b.compact}}),(!o&&0===t||t>0)&&this.renderTable()]})}}]),a}(d.a.Component);j.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:b.b.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var m=h.e.guestsList.makeGuestsList(),T=Object(h.b)(m,(function(t){return{getHostsInventoryGuests:function(e,a){return t(h.d.rhsm.getHostsInventoryGuests(e,a))}}}))(j)},649:function(t,e,a){"use strict";a.d(e,"a",(function(){return p}));var n=a(6),r=a(1),i=(a(0),a(56)),o=a(626),s=a(3),c=a(18),l=a(35),u=a(4),d=Object.values(s.b).map((function(t){return{title:Object(l.b)("curiosity-toolbar.granularity",{context:t}),value:t,selected:!1}})),p=function(t){var e=t.options,a=t.t,l=t.value,d=t.viewId,p=Object(i.h)((function(t){var e,a;return null===(e=t.view.graphTallyQuery)||void 0===e||null===(a=e[d])||void 0===a?void 0:a[s.g.GRANULARITY]}),l),b=e.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{selected:t.value===p})}));return Object(u.jsx)(o.a,{"aria-label":a("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(t){var e=c.a.getRangedDateTime(t.value),a=e.startDate,r=e.endDate;i.g.dispatch([{type:i.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:d},Object(n.a)({type:i.f.query.SET_QUERY_RHSM_TYPES[s.g.GRANULARITY],viewId:d},s.g.GRANULARITY,t.value),Object(n.a)({type:i.f.query.SET_QUERY_RHSM_TYPES[s.g.START_DATE],viewId:d},s.g.START_DATE,a.toISOString()),Object(n.a)({type:i.f.query.SET_QUERY_RHSM_TYPES[s.g.END_DATE],viewId:d},s.g.END_DATE,r.toISOString())])},options:b,selectedOptions:p,placeholder:a("curiosity-toolbar.placeholder",{context:"granularity"})})};p.defaultProps={options:d,t:l.b,value:s.b.DAILY,viewId:"toolbarFieldGranularity"}},650:function(t,e,a){"use strict";a.d(e,"b",(function(){return P})),a.d(e,"a",(function(){return P}));var n=a(6),r=a(13),i=a(14),o=a(17),s=a(16),c=a(0),l=a.n(c),u=a(52),d=a.n(u),p=a(121),b=a(171),h=a(233),v=a(295),f=a(885),g=a(827),y=a(878),O=a(731),j=a(886),m=a(146),T=a.n(m),S=a(18),x=a(56),D=a(232),I=a(145),E=a(669),C=a(673),R=a(730),k=a(674),_=a(3),A=a(35),L=a(4),N=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onColumnSort=function(e,a){var r,i=a.direction,o=a.id,s=t.props.productId,c=Object.values(_.f).find((function(t){return T()(t)===o}));if(c){switch(i){case p.a.desc:r=_.d.DESCENDING;break;default:r=_.d.ASCENDING}x.g.dispatch([Object(n.a)({type:x.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.DIRECTION],viewId:s},_.g.DIRECTION,r),Object(n.a)({type:x.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.SORT],viewId:s},_.g.SORT,c)])}else(S.b.DEV_MODE||S.b.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(o," is allowed."))},t.onPage=function(e){var a=e.offset,r=e.perPage,i=t.props.productId;x.g.dispatch([Object(n.a)({type:x.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.OFFSET],viewId:i},_.g.OFFSET,a),Object(n.a)({type:x.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.LIMIT],viewId:i},_.g.LIMIT,r)])},t.onUpdateInventoryData=function(){var e=t.props,a=e.getSubscriptionsInventory,n=e.isDisabled,r=e.productId,i=e.query;!n&&r&&a(r,i)},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,n=e.query;a===t.productId&&d()(n,t.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var t=this,e=this.props,a=e.filterInventoryData,n=e.listData,r=e.query,i=e.session,o=[],s=n.map((function(e){var n=Object.assign({},e),s=C.a.parseRowCellsListData({filters:C.a.parseInventoryFilters({filters:a,onSort:t.onColumnSort,query:r}),cellData:n,session:i}),c=s.columnHeaders,l=s.cells;return o=c,{cells:l}}));return Object(L.jsx)(D.b,{borders:!0,variant:b.b.compact,className:"curiosity-inventory-list",columnHeaders:o,rows:s})}},{key:"render",value:function(){var t=this.props,e=t.error,a=t.filterInventoryData,n=t.fulfilled,r=t.isDisabled,i=t.itemCount,o=t.listData,s=t.pending,c=t.perPageDefault,l=t.query,u=t.t;if(r)return Object(L.jsx)(h.a,{className:"curiosity-inventory-card__disabled",children:Object(L.jsx)(v.a,{children:Object(L.jsx)(f.a,{children:u("curiosity-inventory.tab",{context:"disabled"})})})});var d=l[_.g.LIMIT]||c,p=l[_.g.OFFSET],m=k.a.isLastPage(p,d,i),T=!0===n&&i<d&&"bodyMinHeight-".concat(d,"-resize")||!0===n&&m&&"bodyMinHeight-".concat(d,"-resize")||!0===e&&"bodyMinHeight-".concat(d,"-resize")||"bodyMinHeight-".concat(d);return Object(L.jsxs)(h.a,{className:"curiosity-inventory-card",children:[Object(L.jsx)(E.a,{updateOnContent:!0,children:Object(L.jsx)(g.a,{className:e?"hidden":"","aria-hidden":e||!1,children:Object(L.jsx)(y.a,{className:i?"":"transparent","aria-hidden":!i||!1,children:Object(L.jsx)(R.a,{isCompact:!0,isDisabled:s||e,itemCount:i,offset:p,onPage:this.onPage,onPerPage:this.onPage,perPage:d})})})},"headerMinHeight"),Object(L.jsx)(E.a,{updateOnContent:!0,children:Object(L.jsx)(v.a,{children:Object(L.jsxs)("div",{className:(e?"blur":s&&"fadein")||"",children:[s&&Object(L.jsx)(I.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||d,variant:b.b.compact}}),!s&&this.renderTable()]})})},T),Object(L.jsx)(E.a,{updateOnContent:!0,children:Object(L.jsx)(O.a,{className:(e?"hidden":!i&&"transparent")||"","aria-hidden":e||!i||!1,children:Object(L.jsx)(j.a,{isFooter:!0,children:Object(L.jsx)(R.a,{dropDirection:"up",isDisabled:s||e,itemCount:i,offset:p,onPage:this.onPage,onPerPage:this.onPage,perPage:d})})})},"footerMinHeight")]})}}]),a}(l.a.Component);N.defaultProps={error:!1,fulfilled:!1,filterInventoryData:[],getSubscriptionsInventory:S.b.noop,isDisabled:S.b.UI_DISABLED_TABLE_SUBSCRIPTIONS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},t:A.b};var w=x.e.subscriptionsList.makeSubscriptionsList(),P=Object(x.b)(w,(function(t){return{getSubscriptionsInventory:function(e,a){return t(x.d.rhsm.getSubscriptionsInventory(e,a))}}}))(N)},652:function(t,e,a){"use strict";a.d(e,"b",(function(){return J})),a.d(e,"a",(function(){return J}));var n=a(1),r=a(13),i=a(14),o=a(17),s=a(16),c=a(0),l=a.n(c),u=a(233),d=a(827),p=a(725),b=a(110),h=a(878),v=a(295),f=a(613),g=a(52),y=a.n(g),O=a(56),j=a(18),m=a(3),T=a(69),S=a.n(T),x=function(t){var e=t.date,a=t.granularity,n=S.a.utc(e);switch(a){case m.b.QUARTERLY:return"".concat(n.format(j.a.timestampQuarterFormats.yearShort)," - ").concat(n.add(1,"quarter").format(j.a.timestampQuarterFormats.yearShort));case m.b.MONTHLY:return n.format(j.a.timestampMonthFormats.yearLong);case m.b.WEEKLY:return"".concat(n.format(j.a.timestampDayFormats.short)," - ").concat(n.add(1,"week").format(j.a.timestampDayFormats.yearShort));case m.b.DAILY:default:return n.format(j.a.timestampDayFormats.long)}},D=function(t){var e=t.tick,a=Math.abs(e),n=e,r="";return a>=Math.pow(10,12)?(r="T",n=e/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(r="B",n=e/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(r="M",n=e/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(r="K",n=e/Math.pow(10,3)),"".concat(n).concat(r)},I={getChartXAxisLabelIncrement:function(t){switch(t){case m.b.DAILY:return 5;case m.b.WEEKLY:case m.b.MONTHLY:return 2;case m.b.QUARTERLY:default:return 1}},getTooltipDate:x,xAxisTickFormat:function(t){var e=t.date,a=t.granularity,n=t.tick,r=t.previousDate;if(e&&a){var i,o=S.a.utc(e),s=0!==n&&Number.parseInt(o.year(),10)!==Number.parseInt(S.a.utc(r).year(),10);switch(a){case m.b.QUARTERLY:i=(i=s?o.format(j.a.timestampQuarterFormats.yearShort):o.format(j.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case m.b.MONTHLY:i=(i=s?o.format(j.a.timestampMonthFormats.yearShort):o.format(j.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case m.b.WEEKLY:case m.b.DAILY:default:i=(i=s?o.format(j.a.timestampDayFormats.yearShort):o.format(j.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},yAxisTickFormat:function(t){var e=t.tick,a=t.locale,n=void 0===a?j.b.UI_LOCALE_DEFAULT:a,r="".concat(new Intl.NumberFormat(n,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(e));return r.length>3&&r.length>="".concat(e).length&&(r=D({tick:e})),r},yAxisTickFormatFallback:D},E=a(35),C=a(4),R=function(t){var e=t.datum,a=t.granularity,n=t.productLabel,r=t.t,i=null,o=[],s=(e||{}).itemsByKey,c=void 0===s?{}:s;return Object.keys(c).forEach((function(t,e){var s,l;0===e&&(i=x({date:null===(l=c[t])||void 0===l?void 0:l.data.date,granularity:a}));var u={color:null===(s=c[t])||void 0===s?void 0:s.color};if(/^threshold/.test(t)){var d,p,b,h=(null===(d=c[t])||void 0===d?void 0:d.data.hasInfinite)&&r("curiosity-graph.infiniteThresholdLabel")||(null!==(p=null===(b=c[t])||void 0===b?void 0:b.data.y)&&void 0!==p?p:r("curiosity-graph.noDataLabel"));u.label=r("curiosity-graph.thresholdLabel"),u.value=h}else{var v,f,g=!1===(null===(v=c[t])||void 0===v?void 0:v.data.hasData)&&r("curiosity-graph.noDataLabel")||(null===(f=c[t])||void 0===f?void 0:f.data.y)||0;u.label=r("curiosity-graph.".concat(t,"Label"),{product:n}),u.value=g}o.push(u)})),Object(C.jsxs)("div",{className:"victory-tooltip",children:[Object(C.jsxs)("table",{summary:r("curiosity-graph.tooltipSummary"),children:[o.length&&i&&Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:Object(C.jsx)("th",{colSpan:2,children:i})})})||null,o.length&&Object(C.jsx)("tbody",{children:o.map((function(t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("th",{children:[Object(C.jsx)("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:t.color||"transparent"}}),t.label]}),Object(C.jsx)("td",{children:t.value})]},"tooltip-".concat(t.label))}))})||null]}),!o.length&&r("curiosity-graph.noDataErrorLabel")||null]})};R.defaultProps={datum:{},productLabel:"",t:E.b};var k=a(6),_=a(54),A=a(86),L=a(868),N=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onClick=function(e){var a=t.props,n=a.chart,r=a.viewId,i=n.toggle(e);O.g.dispatch({type:O.f.graph.SET_GRAPH_LEGEND,legend:Object(k.a)({},"".concat(r,"-").concat(e),i)})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.chart,a=t.datum,n=t.legend,r=t.viewId;a.dataSets.forEach((function(t){var a=t.id;(n["".concat(r,"-").concat(a)]||e.isToggled(a))&&e.hide(a)}))}},{key:"renderLegendItem",value:function(t){var e=this,a=t.chartId,n=t.color,r=t.isDisabled,i=t.isThreshold,o=t.labelContent,s=t.tooltipContent,c=this.props,l=c.chart,u=c.legend,d=c.viewId,p=u["".concat(d,"-").concat(a)]||l.isToggled(a),b=Object(C.jsx)(_.a,{onClick:function(){return e.onClick(a)},onKeyPress:function(){return e.onClick(a)},className:"victory-legend-item",tabIndex:0,variant:"link",component:"a",isDisabled:r,icon:(r||p)&&Object(C.jsx)(L.a,{})||i&&Object(C.jsx)("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:r||p?"hidden":"visible",borderTopColor:n}})||Object(C.jsx)("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:r||p?"hidden":"visible",backgroundColor:n}}),children:o},"curiosity-button-".concat(a));return s?Object(C.jsx)(A.a,{content:Object(C.jsx)("p",{children:s}),position:A.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:b},"curiosity-tooltip-".concat(a)):b}},{key:"render",value:function(){var t=this,e=this.props,a=e.datum,n=e.productLabel,r=e.t;return Object(C.jsx)(l.a.Fragment,{children:a.dataSets.map((function(e){var a=e.id,i=e.isThreshold,o=e.stroke,s=e.data,c=!(void 0===s?[]:s).find((function(t){var e=t.y,a=t.hasData;return e>=0&&!0===a||e>=0&&!0===i}))||!1,l=i&&r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:n,context:n})||r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:n,context:n}),u=i&&r(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:n,context:n})||r("curiosity-graph.".concat(a,"LegendTooltip"),{product:n,context:n});return t.renderLegendItem({chartId:a,color:o,labelContent:l,isDisabled:c,isThreshold:i,tooltipContent:u})}))})}}]),a}(l.a.Component);N.defaultProps={chart:{hide:j.b.noop,toggle:j.b.noop,isToggled:j.b.noop},datum:{dataSets:[]},legend:{},productLabel:"",t:E.b,viewId:"graphCardLegend"};var w=Object(O.b)((function(t){return{legend:t.graph.legend}}))(N),P=a(890),F=a(896),M=a(816),U=a(897),Y=a(901),H=a(893),G=a(877),q=a(902),V=a(635),z=a.n(V),W=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={chartWidth:0},t.dataSetsToggle={},t.resizeObserver=j.b.noop,t.containerRef=l.a.createRef(),t.tooltipRef=l.a.createRef(),t.onHide=function(e){t.dataSetsToggle=Object(n.a)(Object(n.a)({},t.dataSetsToggle),{},Object(k.a)({},e,!0)),t.forceUpdate()},t.onRevert=function(){t.dataSetsToggle={},t.forceUpdate()},t.onToggle=function(e){var a=!t.dataSetsToggle[e];return t.dataSetsToggle=Object(n.a)(Object(n.a)({},t.dataSetsToggle),{},Object(k.a)({},e,a)),t.forceUpdate(),a},t.onResizeContainer=function(){var e=t.state.chartWidth,a=(t.containerRef.current||{}).clientWidth,n=void 0===a?0:a;n!==e&&t.setState({chartWidth:n})},t.getIsToggled=function(e){return t.dataSetsToggle[e]||!1},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var t=this,e=this.containerRef.current,a=window.ResizeObserver;if(e&&a){var n=new a(this.onResizeContainer);n.observe(e),this.resizeObserver=function(){return n.unobserve(e)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"setChartTicks",value:function(){var t=this.props,e=t.xAxisLabelIncrement,a=t.xAxisTickFormat,r=t.yAxisTickFormat,i=t.dataSets,o={},s={},c=i.length&&i[0].data||[];return i.forEach((function(t){t.xAxisLabelUseDataSet&&(c=t.data)})),o.xAxisTickValues=c.reduce((function(t,a,n){return n%e===0?t.concat(a.x):t}),[]),o.xAxisTickFormat=function(t){return c[t]&&c[t].xAxisLabel||t},"function"===typeof a&&(o.xAxisTickFormat=function(t){var e=o.xAxisTickValues,r=e.indexOf(t),i=Object(n.a)({},c[e[r-1]]||{}),s=Object(n.a)({},c[e[r+1]]||{}),l=Object(n.a)({},c[t]||{});return a({tick:t,previousItem:i,item:l,nextItem:s})}),"function"===typeof r&&(s.yAxisTickFormat=function(t){return r({tick:t})}),Object(n.a)(Object(n.a)({},o),s)}},{key:"getChartTicks",value:function(){var t=this.props.xAxisFixLabelOverlap,e=this.setChartTicks(),a=e.xAxisTickValues,n=e.xAxisTickFormat,r=e.yAxisTickFormat,i={fixLabelOverlap:t},o={dependentAxis:!0,showGrid:!0};return a&&(i.tickValues=a),n&&(i.tickFormat=n),r&&(o.tickFormat=r),{isXAxisTicks:!!a,xAxisProps:i,yAxisProps:o}}},{key:"getChartDomain",value:function(t){var e=t.isXAxisTicks,a=this.dataSetsToggle,r=this.props,i=r.domain,o=r.dataSets;if(Object.keys(i).length)return i;var s={},c={},l=0,u=0;o.filter((function(t){return!0===t.isStacked})).forEach((function(t){if(!a[t.id]&&t.data){var e=0;t.data.forEach((function(a,n){e=a&&a.y>e?a.y:e,n===t.data.length-1&&(u+=e)}))}})),o.forEach((function(t){!a[t.id]&&t.data&&(l=t.data.length>l?t.data.length:l,t.data.forEach((function(t){u=t&&t.y>u?t.y:u})))})),e||(s.x=[0,l||10]);var d=Math.pow(10,Math.floor(Math.log10(u>10&&u||10)));return s.y=[0,Math.ceil((u+1)/d)*d],Object.keys(s).length&&(c.domain=s),{maxY:u,chartDomain:Object(n.a)({},c)}}},{key:"getTooltipData",value:function(){var t=this.dataSetsToggle,e=this.props,a=e.dataSets,r=e.chartTooltip,i=[];return r&&a&&a[0]&&a[0].data&&(i=a[0].data.map((function(e,i){var o={};a.forEach((function(e){!t[e.id]&&e.data&&e.data[i]&&(o[e.id]={color:e.stroke||e.fill||e.color||"",data:z()(e.data[i])})}));var s={datum:{x:e.x,y:e.y,index:i,itemsByKey:o,dataSets:z()(a)}};return{x:e.x,y:null,itemsByKey:o,tooltip:l.a.isValidElement(r)&&l.a.cloneElement(r,Object(n.a)({},s))||r(Object(n.a)({},s))}}))),i}},{key:"renderTooltip",value:function(){var t=this,e=this.dataSetsToggle,a=this.props,r=a.chartTooltip,i=a.dataSets;if(!r||Object.values(e).filter((function(t){return!0===t})).length===i.length)return null;var o=Object(P.a)("voronoi","cursor"),s=this.getTooltipData(),c=function(t,e,a){var n=t+10;return t>e/2&&(n=t-10-a/2),n},l=function(t,e,a){var n=t+10;return t>e/2&&(n=t-10-a),n},u=function(e){var a=t.containerRef.current,r=t.tooltipRef.current,i=a&&a.getBoundingClientRect()||{width:0,height:0},o=r&&r.getBoundingClientRect()||{width:0,height:0},u=function(t){var e=t.datum,a=s.find((function(t){return t.x===e.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(n.a)({},e));return u?Object(C.jsx)("g",{children:Object(C.jsx)("foreignObject",{x:c(e.x,i.width,o.width),y:l(e.y,i.height,o.height),width:"100%",height:"100%",children:Object(C.jsx)("div",{ref:t.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml",children:u})})}):Object(C.jsx)("g",{})},d=Object(C.jsx)(F.a,{flyout:Object(C.jsx)(M.a,{}),flyoutStyle:{fill:"transparent"},labelComponent:Object(C.jsx)(u,{}),renderInPortal:!0});return Object(C.jsx)(o,{cursorDimension:"x",labels:function(t){return t},labelComponent:d,voronoiPadding:50,mouseFollowTooltips:!0})}},{key:"renderLegend",value:function(){var t=this.props,e=t.chartLegend,a=t.dataSets;if(!e)return null;var r={datum:{dataSets:z()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return l.a.isValidElement(e)&&l.a.cloneElement(e,Object(n.a)({},r))||e(Object(n.a)({},r))}},{key:"renderChart",value:function(t){var e=t.stacked,a=void 0!==e&&e,r=this.dataSetsToggle,i=this.props.dataSets,o=[],s=[];return i.forEach((function(t,e){if(!r[t.id]&&t.data&&t.data.length){var a=t.isThreshold&&function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),t.strokeDasharray&&(a.data.strokeDasharray=t.strokeDasharray),Object(C.jsx)(U.a,{animate:t.animate||!1,interpolation:t.interpolation||"step",name:"chartArea-".concat(e,"-threshold"),data:t.data,style:Object(n.a)(Object(n.a)({},t.style||{}),a),themeColor:t.themeColor,themeVariant:t.themeVariant},j.b.generateId())}(t,e)||function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),Object(C.jsx)(Y.a,{animate:t.animate||!1,interpolation:t.interpolation||"monotoneX",name:"chartArea-".concat(e,"-area"),data:t.data,style:Object(n.a)(Object(n.a)({},t.style||{}),a),themeColor:t.themeColor,themeVariant:t.themeVariant},j.b.generateId())}(t,e);t.isStacked?s.push(a):o.push(a)}})),a&&s||o}},{key:"render",value:function(){var t=this.state.chartWidth,e=this.props,a=e.chartLegend,r=e.padding,i=e.themeColor,o=this.getChartTicks(),s=o.isXAxisTicks,c=o.xAxisProps,l=o.yAxisProps,u=this.getChartDomain({isXAxisTicks:s}),d=u.chartDomain,p={containerComponent:u.maxY>=0&&this.renderTooltip()||void 0},b=Object(n.a)(Object(n.a)({padding:r},d),p);return Object(C.jsxs)("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef,children:[Object(C.jsxs)(H.a,Object(n.a)(Object(n.a)({animate:{duration:0},width:t,themeColor:i},b),{},{children:[Object(C.jsx)(G.a,Object(n.a)(Object(n.a)({},c),{},{animate:!1})),Object(C.jsx)(G.a,Object(n.a)(Object(n.a)({},l),{},{animate:!1})),this.renderChart({}),Object(C.jsx)(q.a,{children:this.renderChart({stacked:!0})})]})),a&&Object(C.jsx)("div",{className:"curiosity-chartarea-description victory-legend",children:this.renderLegend()})]})}}]),a}(l.a.Component);W.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var Q=a(145),B=a(669),K=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onUpdateGraphData=function(){var e=t.props,a=e.getGraphReportsCapacity,n=e.isDisabled,r=e.productId,i=e.query,o=t.getQueryGranularity(),s=i[m.g.START_DATE],c=i[m.g.END_DATE];!n&&o&&s&&c&&r&&a(r,i)},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,n=e.query;a===t.productId&&y()(n,t.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var t=this.props.query;return null===t||void 0===t?void 0:t[m.g.GRANULARITY]}},{key:"renderChart",value:function(){var t=this.props,e=t.filterGraphData,a=t.graphData,r=t.productLabel,i=t.query,o=t.viewId,s=this.getQueryGranularity(),c={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:I.getChartXAxisLabelIncrement(s),xAxisTickFormat:function(t){var e=t.item,a=t.previousItem,n=t.tick;return I.xAxisTickFormat({tick:n,date:e.date,previousDate:a.date,granularity:s})},yAxisTickFormat:I.yAxisTickFormat};return Object(C.jsx)(W,Object(n.a)(Object(n.a)({},c),{},{dataSets:function(t){var a=function(e){var a={data:t[e],id:e,animate:{duration:250,onLoad:{duration:250}},strokeWidth:2,isStacked:!/^threshold/.test(e),isThreshold:/^threshold/.test(e)};return/^threshold/.test(e)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=f.a.value,a.strokeDasharray="4,3",a.strokeWidth=3),a};return e.length?e.map((function(t){return Object.assign(a(t.id),t)})):Object.keys(t).map((function(t){return a(t)}))}(a),chartLegend:function(t){var e=t.chart,a=t.datum;return Object(C.jsx)(w,{chart:e,datum:a,productLabel:r,viewId:o})},chartTooltip:function(t){var e=t.datum;return Object(C.jsx)(R,{datum:e,granularity:s,productLabel:r})}}),"chart_".concat(JSON.stringify(i)))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.children,r=t.error,i=t.graphData,o=t.isDisabled,s=t.pending,c=t.settings;if(o)return null;var f=null;return"function"===typeof(null===c||void 0===c?void 0:c.actionDisplay)&&(f=c.actionDisplay(Object(n.a)({},i))),Object(C.jsxs)(u.a,{className:"curiosity-usage-graph",children:[Object(C.jsx)(B.a,{children:Object(C.jsxs)(d.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(b.a,{headingLevel:"h2",size:"lg",children:e})}),Object(C.jsxs)(h.a,{className:r?"blur":"",children:[Object(C.jsx)(l.a.Fragment,{children:f},"actionDisplay"),a]})]})},"headerMinHeight"),Object(C.jsx)(B.a,{children:Object(C.jsx)(v.a,{children:Object(C.jsxs)("div",{className:(r?"blur":s&&"fadein")||"",children:[s&&Object(C.jsx)(Q.a,{variant:"graph"}),!s&&this.renderChart()]})})},"bodyMinHeight")]})}}]),a}(l.a.Component);K.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:j.b.noop,graphData:{},isDisabled:j.b.UI_DISABLED_GRAPH,pending:!1,productLabel:"",settings:{},t:E.b,viewId:"graphCard"};var X=O.e.graphCard.makeGraphCard(),J=Object(O.b)(X,(function(t){return{getGraphReportsCapacity:function(e,a){return t(O.d.rhsm.getGraphReportsCapacity(e,a))}}}))(K)},653:function(t,e,a){"use strict";a.d(e,"b",(function(){return B})),a.d(e,"a",(function(){return B}));var n=a(1),r=a(6),i=a(13),o=a(14),s=a(17),c=a(16),l=a(0),u=a.n(l),d=a(52),p=a.n(d),b=a(121),h=a(171),v=a(233),f=a(295),g=a(885),y=a(827),O=a(841),j=a(878),m=a(731),T=a(886),S=a(146),x=a.n(S),D=a(18),I=a(56),E=a(232),C=a(145),R=a(669),k=a(648),_=a(673),A=a(730),L=a(899),N=a(703),w=a.n(N),P=a(25),F=a(884),M=a(20),U=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(n.a)({},t),r=a.checked,i=a.currentTarget,o=void 0===i?{}:i,s=a.keyCode,c=a.persist,l=void 0===c?M.a.noop:c,u=a.target,d=void 0===u?{}:u;return e&&l(),{checked:r,currentTarget:o,keyCode:s,id:o.id||o.name,name:o.name,persist:l,value:o.value,target:d}},Y=a(4),H=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={updatedValue:null},t.onKeyUp=function(e){var a=t.props,r=a.onClear,i=a.onKeyUp,o=a.type,s=e.currentTarget,c=e.keyCode,l=Object(n.a)({},e);i(U(e,!0)),27===c&&("search"===o&&""===s.value?r(U(l)):t.setState({updatedValue:""},(function(){r(U(Object(n.a)(Object(n.a)({},l),{currentTarget:Object(n.a)(Object(n.a)({},l.currentTarget),{},{value:""})})))})))},t.onMouseUp=function(e){var a=t.props,r=a.onClear,i=a.onMouseUp,o=a.type,s=e.currentTarget,c=Object(n.a)({},e);i(U(e,!0)),"search"===o&&""!==s.value&&setTimeout((function(){""===s.value&&r(U(c))}))},t.onChange=function(e,a){var r=t.props.onChange,i=Object(n.a)({},a);t.setState({updatedValue:e},(function(){r(U(i))}))},t}return Object(o.a)(a,[{key:"render",value:function(){var t,e=this.state.updatedValue,a=this.props,r=a.className,i=a.id,o=a.isDisabled,s=a.name,c=(a.onChange,a.onClear,a.onKeyUp,a.onMouseUp,a.isReadOnly),l=a.type,u=a.value,d=Object(P.a)(a,["className","id","isDisabled","name","onChange","onClear","onKeyUp","onMouseUp","isReadOnly","type","value"]),p=s||D.b.generateId(),b=i||p;return Object(Y.jsx)(F.a,Object(n.a)({id:b,name:p,className:"curiosity-text-input ".concat(r),isDisabled:o||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:c||!1,type:l,value:null!==(t=null!==e&&void 0!==e?e:u)&&void 0!==t?t:""},d))}}]),a}(u.a.Component);H.defaultProps={className:"",id:null,isDisabled:!1,isReadOnly:!1,name:null,onChange:D.b.noop,onClear:D.b.noop,onKeyUp:D.b.noop,onMouseUp:D.b.noop,type:"text",value:""};var G=a(3),q=a(35),V=function(t){var e=t.t,a=t.value,n=t.viewId,i=Object(I.h)((function(t){var e,a;return null===(e=t.view.inventoryHostsQuery)||void 0===e||null===(a=e[n])||void 0===a?void 0:a[G.g.DISPLAY_NAME]}),a),o=function(t){return I.g.dispatch([{type:I.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:n},Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.DISPLAY_NAME],viewId:n},G.g.DISPLAY_NAME,(null===t||void 0===t?void 0:t.trim())||null)])},s=w()(o,700);return Object(Y.jsx)(L.a,{children:Object(Y.jsx)(H,{"aria-label":e("curiosity-toolbar.placeholder",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:function(){""!==i&&i&&I.g.dispatch([{type:I.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:n},Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.DISPLAY_NAME],viewId:n},G.g.DISPLAY_NAME,null)])},onKeyUp:function(t){switch(t.keyCode){case 13:o(t.value);break;case 27:break;default:s(t.value)}},value:i,placeholder:e("curiosity-toolbar.placeholder",{context:"displayName"})})})};V.defaultProps={t:q.b,value:null,viewId:"toolbarFieldDisplayName"};var z=a(674),W=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onColumnSort=function(e,a){var n,i=a.direction,o=a.id,s=t.props.productId,c=Object.values(G.e).find((function(t){return x()(t)===o}));if(c){switch(i){case b.a.desc:n=G.d.DESCENDING;break;default:n=G.d.ASCENDING}I.g.dispatch([Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.DIRECTION],viewId:s},G.g.DIRECTION,n),Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.SORT],viewId:s},G.g.SORT,c)])}else(D.b.DEV_MODE||D.b.REVIEW_MODE)&&console.warn("Sorting can only be performed on select fields, confirm field ".concat(o," is allowed."))},t.onPage=function(e){var a=e.offset,n=e.perPage,i=t.props.productId;I.g.dispatch([Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.OFFSET],viewId:i},G.g.OFFSET,a),Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.LIMIT],viewId:i},G.g.LIMIT,n)])},t.onUpdateInventoryData=function(){var e=t.props,a=e.getHostsInventory,n=e.isDisabled,r=e.productId,i=e.query;!n&&r&&a(r,i)},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,n=e.query;a===t.productId&&p()(n,t.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var t=this,e=this.props,a=e.filterGuestsData,r=e.filterInventoryData,i=e.listData,o=e.query,s=e.session,c=e.settings,l=[],u=i.map((function(e){var i=Object.assign({},e),u=_.a.parseRowCellsListData({filters:_.a.parseInventoryFilters({filters:r,onSort:t.onColumnSort,query:o}),cellData:i,session:s}),d=u.columnHeaders,p=u.cells;l=d;var b=null===i||void 0===i?void 0:i.subscriptionManagerId,h=(null===i||void 0===i?void 0:i.numberOfGuests)>0&&b;return"function"===typeof(null===c||void 0===c?void 0:c.hasGuests)&&(h=c.hasGuests(Object(n.a)({},i),Object(n.a)({},s))),{cells:p,expandedContent:h&&Object(Y.jsx)(k.a,{filterGuestsData:a,numberOfGuests:null===i||void 0===i?void 0:i.numberOfGuests,id:b,query:o},b)||void 0}}));return Object(Y.jsx)(E.b,{borders:!0,variant:h.b.compact,className:"curiosity-inventory-list",columnHeaders:l,rows:u})}},{key:"render",value:function(){var t=this.props,e=t.error,a=t.filterInventoryData,n=t.fulfilled,r=t.isDisabled,i=t.itemCount,o=t.listData,s=t.pending,c=t.perPageDefault,l=t.query,u=t.t,d=t.viewId;if(r)return Object(Y.jsx)(v.a,{className:"curiosity-inventory-card__disabled",children:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(g.a,{children:u("curiosity-inventory.tab",{context:"disabled"})})})});var p=l[G.g.LIMIT]||c,b=l[G.g.OFFSET],S=z.a.isLastPage(b,p,i),x=!0===n&&i<p&&"bodyMinHeight-".concat(p,"-resize")||!0===n&&S&&"bodyMinHeight-".concat(p,"-resize")||!0===e&&"bodyMinHeight-".concat(p,"-resize")||"bodyMinHeight-".concat(p);return Object(Y.jsxs)(v.a,{className:"curiosity-inventory-card",children:[Object(Y.jsx)(R.a,{updateOnContent:!0,children:Object(Y.jsxs)(y.a,{className:e?"hidden":"","aria-hidden":e||!1,children:[Object(Y.jsx)(O.a,{children:Object(Y.jsx)(V,{viewId:d})}),Object(Y.jsx)(j.a,{className:i?"":"transparent","aria-hidden":!i||!1,children:Object(Y.jsx)(A.a,{isCompact:!0,isDisabled:s||e,itemCount:i,offset:b,onPage:this.onPage,onPerPage:this.onPage,perPage:p})})]})},"headerMinHeight"),Object(Y.jsx)(R.a,{updateOnContent:!0,children:Object(Y.jsx)(f.a,{children:Object(Y.jsxs)("div",{className:(e?"blur":s&&"fadein")||"",children:[s&&Object(Y.jsx)(C.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||p,variant:h.b.compact}}),!s&&this.renderTable()]})})},x),Object(Y.jsx)(R.a,{updateOnContent:!0,children:Object(Y.jsx)(m.a,{className:(e?"hidden":!i&&"transparent")||"","aria-hidden":e||!i||!1,children:Object(Y.jsx)(T.a,{isFooter:!0,children:Object(Y.jsx)(A.a,{dropDirection:"up",isDisabled:s||e,itemCount:i,offset:b,onPage:this.onPage,onPerPage:this.onPage,perPage:p})})})},"footerMinHeight")]})}}]),a}(u.a.Component);W.defaultProps={error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getHostsInventory:D.b.noop,isDisabled:D.b.UI_DISABLED_TABLE_HOSTS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},settings:{},t:q.b,viewId:"inventoryList"};var Q=I.e.inventoryList.makeInventoryList(),B=Object(I.b)(Q,(function(t){return{getHostsInventory:function(e,a){return t(I.d.rhsm.getHostsInventory(e,a))}}}))(W)},654:function(t,e,a){"use strict";a.d(e,"b",(function(){return D})),a.d(e,"a",(function(){return S}));var n=a(6),r=a(13),i=a(14),o=a(17),s=a(16),c=a(0),l=a.n(c),u=a(110),d=a(56),p=a(887),b=a(888),h=a(900),v=a(577),f=a(578),g=a(132),y=a.n(g),O=a(18),j=a(4),m=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={updatedActiveTab:null,updatedTabs:null},t.onTab=function(e){var a=e.index,n=t.props.onTab;t.setState({updatedActiveTab:a},(function(){return n({index:a})}))},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.updatedTabs&&this.setTabData()}},{key:"componentDidUpdate",value:function(t){var e=this.props.tabs;y()(t.tabs,e,(function(t,e){if("function"===typeof t&&"function"===typeof e)return t.toString()===e.toString()}))||this.setTabData()}},{key:"setTabData",value:function(){var t=this.props,e=t.activeTab,a=t.defaultActiveTab,n=t.tabs,r=a,i=n.map((function(t,e){var a=t.active,n=t.content,i=t.title;return r=a?e:r,Object(j.jsx)(p.a,{eventKey:e,title:Object(j.jsx)(b.a,{children:i}),children:n},i)}));"number"===typeof e&&(r=e),this.setState({updatedActiveTab:r,updatedTabs:i})}},{key:"renderTabs",value:function(){var t=this,e=this.state,a=e.updatedActiveTab,n=e.updatedTabs,r=this.props,i=r.className,o=r.hasOverflowScroll;return Object(j.jsx)(h.a,{className:"curiosity-tabs".concat(o?"":"__no-scroll"," ").concat(i||""),activeKey:a,onSelect:function(e,a){return t.onTab({event:e,index:a})},mountOnEnter:!0,unmountOnExit:!0,inset:{default:"insetNone",md:"insetLg"},children:n})}},{key:"render",value:function(){return Object(j.jsx)(v.a,{className:"curiosity-tabs-container",children:Object(j.jsx)(f.a,{span:12,children:this.renderTabs()})})}}]),a}(l.a.Component);m.defaultProps={activeTab:null,className:"",defaultActiveTab:0,hasOverflowScroll:!1,onTab:O.b.noop,tabs:[]};var T=a(35),S=function(t){t.active;var e=t.children;t.title;return Object(j.jsx)(l.a.Fragment,{children:e})};S.defaultProps={active:!1};var x=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onTab=function(e){var a=e.index,r=t.props.productId;d.g.dispatch({type:d.f.inventory.SET_INVENTORY_TAB,tabs:Object(n.a)({},r,a)})},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props,e=t.activeTab,a=t.children,n=t.defaultActiveTab,r=t.isDisabled,i=t.t;if(r)return null;var o=l.a.Children.toArray(a).map((function(t){var e=t.props,a=void 0===e?{}:e;return{active:a.active||!1,content:a.children,title:a.title}}));return Object(j.jsxs)(l.a.Fragment,{children:[Object(j.jsx)(u.a,{headingLevel:"h2",className:"sr-only",children:i("curiosity-inventory.tabHeading",{count:o.length})}),Object(j.jsx)(m,{activeTab:e,defaultActiveTab:n,onTab:this.onTab,tabs:o})]})}}]),a}(l.a.Component);x.defaultProps={activeTab:0,defaultActiveTab:0,isDisabled:O.b.UI_DISABLED_TABLE,t:T.b};var D=Object(d.b)((function(t,e){var a,n=t.inventory,r=e.productId;return{activeTab:null===(a=n.tabs)||void 0===a?void 0:a[r]}}))(x)},655:function(t,e,a){"use strict";a.d(e,"b",(function(){return I})),a.d(e,"a",(function(){return I}));var n=a(1),r=a(6),i=a(13),o=a(14),s=a(17),c=a(16),l=a(0),u=a.n(l),d=a(880),p=a(848),b=a(906),h=a(881),v=a(729),f=a(672),g=a(882),y=a(626),O=a(56),j=a(3),m=a(35),T=function(t){switch(t){case j.g.SLA:return{selected:null,options:[{title:Object(m.b)("curiosity-toolbar.slaPremium"),value:j.c.PREMIUM},{title:Object(m.b)("curiosity-toolbar.slaStandard"),value:j.c.STANDARD},{title:Object(m.b)("curiosity-toolbar.slaSelfSupport"),value:j.c.SELF},{title:Object(m.b)("curiosity-toolbar.slaNone"),value:j.c.NONE}]};case j.g.USAGE:return{selected:null,options:[{title:Object(m.b)("curiosity-toolbar.usageDevelopment"),value:j.i.DEVELOPMENT},{title:Object(m.b)("curiosity-toolbar.usageDisaster"),value:j.i.DISASTER},{title:Object(m.b)("curiosity-toolbar.usageProduction"),value:j.i.PRODUCTION},{title:Object(m.b)("curiosity-toolbar.usageUnspecified"),value:j.i.UNSPECIFIED}]};default:return{selected:null,options:[{title:Object(m.b)("curiosity-toolbar.category",{context:j.g.SLA}),value:j.g.SLA},{title:Object(m.b)("curiosity-toolbar.category",{context:j.g.USAGE}),value:j.g.USAGE}]}}},S=a(18),x=a(4),D=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onClear=function(){var e,a=t.props.hardFilterReset,n=[{type:O.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:new Set}},{type:O.f.query.SET_QUERY_CLEAR,data:{clearFilters:(e={},Object(r.a)(e,j.g.SLA,null),Object(r.a)(e,j.g.USAGE,null),e)}}];a&&n.push({type:O.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:null}}),t.setDispatch(n,!0)},t.onClearFilter=function(e){var a=t.props,n=a.activeFilters,i=a.currentFilter,o=a.hardFilterReset,s=(T().options.find((function(t){return t.title===e}))||{}).value;if(s){var c=new Set(n);c.delete(s);var l=[{type:O.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:c}},{type:O.f.query.SET_QUERY_CLEAR,data:{clearFilters:Object(r.a)({},s,null)}}];if(o){var u=c.size>0&&i||null;l.push({type:O.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:u}})}t.setDispatch(l,!0)}},t.onCategorySelect=function(e){var a=e.value;t.setDispatch({type:O.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:a}})},t.onSelect=function(e){var a=e.event,n=e.field,i=t.props.activeFilters,o=a.value,s=new Set(i).add(n);t.setDispatch([{type:O.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:s}},{type:O.f.query.SET_QUERY_RHSM_TYPES[n],data:Object(r.a)({},n,o)}],!0)},t}return Object(o.a)(a,[{key:"setDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.viewId,r=(Array.isArray(t)&&t||[t]).map((function(t){var e=t.type,r=t.data;return Object(n.a)({type:e,viewId:a},r)}));e&&r.push({type:O.f.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:a}),O.g.dispatch(r)}},{key:"setSelectFilter",value:function(t){var e,a,n=this.props.query,r=T(t),i=this.getCurrentFilter();return a=t?"string"===typeof(null===n||void 0===n?void 0:n[t])&&r.options.find((function(e){return e.value===(null===n||void 0===n?void 0:n[t])})):r.options.find((function(t){return t.value===i})),{options:r,optionsSelected:(null===(e=a)||void 0===e?void 0:e.title)&&[a.title]||(null===r||void 0===r?void 0:r.selected)&&[r.selected]||[]}}},{key:"getCurrentFilter",value:function(){var t,e,a=this.props,n=a.currentFilter,r=a.filterOptions;return n||(null===(t=r.find((function(t){return!0===t.selected})))||void 0===t?void 0:t.id)||1===r.length&&(null===(e=r[0])||void 0===e?void 0:e.id)}},{key:"renderSelectFilter",value:function(t){var e=this,a=t.id,n=this.props.t,r=this.setSelectFilter(a),i=r.options,o=r.optionsSelected,s=this.getCurrentFilter();return Object(x.jsx)(d.a,{chips:o,deleteChip:this.onClearFilter,categoryName:n("curiosity-toolbar.category",{context:a}),showToolbarItem:s===a,children:Object(x.jsx)(y.a,{"aria-label":n("curiosity-toolbar.category",{context:a}),onSelect:function(t){return e.onSelect({event:t,field:a})},selectedOptions:o,placeholder:n("curiosity-toolbar.placeholder",{context:a}),options:i.options})},a)}},{key:"render",value:function(){var t=this,e=this.props,a=e.filterOptions,n=e.isDisabled,r=e.t;if(n)return null;var i=this.setSelectFilter(),o=i.options,s=i.optionsSelected;return Object(x.jsx)(p.a,{id:"curiosity-toolbar",className:"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"sm",clearAllFilters:this.onClear,clearFiltersButtonText:r("curiosity-toolbar.clearFilters"),children:Object(x.jsx)(b.a,{children:Object(x.jsx)(h.a,{toggleIcon:Object(x.jsx)(g.a,{}),breakpoint:"md",children:Object(x.jsxs)(v.a,{variant:"filter-group",children:[1!==a.length&&Object(x.jsx)(f.a,{children:Object(x.jsx)(y.a,{"aria-label":r("curiosity-toolbar.category"),onSelect:this.onCategorySelect,selectedOptions:s,placeholder:r("curiosity-toolbar.placeholder"),options:o.options,toggleIcon:Object(x.jsx)(g.a,{})})}),a.map((function(e){var a=e.id,n=e.selected;return t.renderSelectFilter({id:a,selected:n})}))]})})})})}}]),a}(u.a.Component);D.defaultProps={query:{},activeFilters:new Set,currentFilter:null,filterOptions:[{id:j.g.SLA,filterType:"select"},{id:j.g.USAGE,filterType:"select",selected:!0}],hardFilterReset:!1,isDisabled:S.b.UI_DISABLED_TOOLBAR,t:m.b,viewId:"toolbar"};var I=Object(O.b)((function(t,e){var a,r,i=t.toolbar,o=t.view,s=e.query,c=e.viewId;return Object(n.a)(Object(n.a)({},null===(a=i.filters)||void 0===a?void 0:a[c]),{},{query:(null===(r=o.query)||void 0===r?void 0:r[c])||s})}))(D)},669:function(t,e,a){"use strict";a.d(e,"a",(function(){return p}));var n=a(13),r=a(14),i=a(241),o=a(17),s=a(16),c=a(0),l=a.n(c),u=a(18),d=a(4),p=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).containerRef=l.a.createRef(),t.innerContainerRef=l.a.createRef(),t.updatedContainerWidth=0,t.resizeObserver=u.b.noop,t.onResizeContainer=function(){var e,a,n=Object(i.a)(t).updatedContainerWidth,r=t.props.updateOnResize,o=(null===(e=t.containerRef)||void 0===e||null===(a=e.current)||void 0===a?void 0:a.clientWidth)||0;r&&o!==n&&(t.updatedContainerWidth=o,t.setMinHeight(!0))},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.updateOnResize;window.setTimeout((function(){t.setMinHeight()})),e&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var t=this;this.props.updateOnContent&&window.setTimeout((function(){t.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props.minHeight,n=this.containerRef.current,r=void 0===n?{}:n,i=this.innerContainerRef.current,o=void 0===i?{}:i;(null===r||void 0===r?void 0:r.style)&&(a>(t=e?(null===o||void 0===o?void 0:o.clientHeight)||0:(null===r||void 0===r?void 0:r.clientHeight)||0)&&(t=a),r.style.minHeight="".concat(t,"px"))}},{key:"setResizeObserver",value:function(){var t=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"render",value:function(){var t=this.props.children;return Object(d.jsx)("div",{className:"curiosity-minheight",ref:this.containerRef,children:Object(d.jsx)("div",{ref:this.innerContainerRef,children:t})})}}]),a}(l.a.Component);p.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},673:function(t,e,a){"use strict";a.d(e,"a",(function(){return g}));var n=a(10),r=a(9),i=a(1),o=a(0),s=a.n(o),c=a(121),l=a(883),u=a(172),d=a(146),p=a.n(d),b=a(35),h=a(3),v=function(t){var e=t.filter,a=void 0===e?{}:e,n=t.onSort,r=t.query,o=void 0===r?{}:r,s=a.id,l=Object(i.a)({},a),u=l.onSort||n;if(!l.onSort&&n&&(l.onSort=n),u&&"boolean"!==typeof l.sortActive&&(null===o||void 0===o?void 0:o[h.g.SORT])&&p()(null===o||void 0===o?void 0:o[h.g.SORT])===s&&(l.sortActive=!0),u&&!l.sortDirection&&(null===o||void 0===o?void 0:o[h.g.DIRECTION]))switch(null===o||void 0===o?void 0:o[h.g.DIRECTION]){case h.d.DESCENDING:l.sortDirection=c.a.desc;break;default:l.sortDirection=c.a.asc}return!u||l.sortActive||(null===o||void 0===o?void 0:o[h.g.SORT])||!0!==l.isSortDefault||(l.sortActive=!0,l.sortDefaultInitialDirection&&(l.sortDirection=l.sortDefaultInitialDirection)),l},f=function(t){var e=t.filter,a=void 0===e?{}:e,n=Object(i.a)({},a);return Array.isArray(n.transforms)?n.transforms.push(l.a):n.transforms=[l.a],n},g={applySortFilters:v,applyWrappableFilters:f,parseInventoryFilters:function(t){var e=t.filters,a=void 0===e?[]:e,n=t.onSort,o=t.query,s=void 0===o?{}:o;return Object(r.a)(a).map((function(t){var e=Object(i.a)({},t);return e.isSortable&&Object.assign(e,v({filter:e,onSort:n,query:s})),e.isWrappable&&Object.assign(e,f({filter:e})),e}))},parseRowCellsListData:function(t){var e=t.filters,a=void 0===e?[]:e,o=t.cellData,c=void 0===o?{}:o,l=t.session,d=void 0===l?{}:l,p=[],h=[],v={};return Object.entries(c).forEach((function(t){var e=Object(n.a)(t,2),a=e[0],r=e[1];v[a]={title:Object(b.b)("curiosity-inventory.header",{context:a}),value:r},p.push(v[a].title),h.push(r)})),(null===a||void 0===a?void 0:a.length)&&(p.length=0,h.length=0,a.forEach((function(t){var e,a,n,o,c,l,f=t.id,g=t.cell,y=t.cellWidth,O=t.header,j=t.onSort,m=t.sortActive,T=t.sortDirection,S=t.transforms;v[f]?(e=null!==(n=null===(o=v[f])||void 0===o?void 0:o.title)&&void 0!==n?n:f,a=null!==(c=null===(l=v[f])||void 0===l?void 0:l.value)&&void 0!==c?c:""):f&&(e=Object(b.b)("curiosity-inventory.header",{context:f}),a="");O&&(e="function"===typeof O&&O(Object(i.a)({},v))||O),("string"===typeof e||"number"===typeof e||s.a.isValidElement(e))&&(e={title:e}),e&&(e.transforms=[],Array.isArray(S)&&(e.transforms=e.transforms.concat(Object(r.a)(S))),"number"===typeof y&&e.transforms.push(Object(u.a)(y))),"function"===typeof j&&(e=Object(i.a)(Object(i.a)({},e),{},{onSort:function(t){return j(Object(i.a)({},v),Object(i.a)(Object(i.a)({},t),{},{id:f}))},sortActive:m,sortDirection:T})),g&&(a="function"===typeof g&&g(Object(i.a)({},v),Object(i.a)({},d))||g),("string"===typeof a||"number"===typeof a||s.a.isValidElement(a))&&(a={title:a}),p.push(e),h.push(a)}))),{columnHeaders:p,cells:h,data:Object(i.a)({},v)}}}},674:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=function(t,e){return t/e+1||1},r={calculateOffsetFromPage:function(t,e){return e*(t-1)||0},calculatePageFromOffset:n,isLastPage:function(t,e,a){return n(t,e)===Math.ceil(a/e)}}},730:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a(0);var n=a(175),r=a(18),i=a(674),o=a(4),s=function t(e){var a=e.dropDirection,r=e.isDisabled,s=e.isCompact,c=e.itemCount,l=e.offset,u=e.onPage,d=e.onPerPage,p=e.perPage,b=e.variant;return Object(o.jsx)(n.a,{dropDirection:a,isCompact:s,isDisabled:r||!c,itemCount:c,onSetPage:function(t,e,a){return u({event:t,perPage:a,offset:i.a.calculateOffsetFromPage(e,a)})},onPerPageSelect:function(e,a){return d({event:e,perPage:a,offset:t.defaultProps.offset})},page:i.a.calculatePageFromOffset(l||t.defaultProps.offset,p),perPage:p,variant:b})};s.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:r.b.noop,onPerPage:r.b.noop,perPage:10,variant:null}}}]);
//# sourceMappingURL=1.23c79f89.chunk.js.map