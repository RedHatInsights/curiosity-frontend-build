(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[6],{795:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var i=a(1),n=a.n(i),r=a(162),o=a(90),l=a(816),s=a(819),c=a(817),u=a(27),d=a(13),v=a(12),b=a(4),p=a(6),y=a(7),j=a(9),O=a(8),h=a(284),g=a(257),I=a(54),f=a(179),S=a(81),m=a.n(S),D=a(61),T=a(5),A=a(10),E=function(e){Object(j.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(p.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={},e.onUpdateData=function(){var t=e.props,a=t.getMessageReports,i=t.productId,n=t.query,r=o.a.parseRhsmQuery(n).graphTallyQuery;if(i){var l,s=u.a.getRangedDateTime("CURRENT"),c=s.startDate,d=s.endDate;a(i,Object(b.a)(Object(b.a)({},r),{},(l={},Object(v.a)(l,T.g.GRANULARITY,T.b.DAILY),Object(v.a)(l,T.g.START_DATE,c.toISOString()),Object(v.a)(l,T.g.END_DATE,d.toISOString()),l)))}},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.query;t.productId===e.productId&&m()(a,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,a=this.props,i=a.appMessages,n=a.messages,r=[];return n.length&&Object.entries(i).forEach((function(e){var a=Object(d.a)(e,2),i=a[0],o=a[1];if(!0!==t[i]&&!0===o){var l=n.find((function(e){return e.id===i}));l&&r.push(Object(b.a)({key:i},l))}})),r.map((function(t){var a=t.key,i=t.message,n=t.title,r=t.variant,o=void 0===r?h.b.info:r,l=Object(A.jsx)(g.a,{onClose:function(){return e.setState(Object(v.a)({},a,!0))}});return Object(A.jsx)(h.a,{actionClose:l,title:n,variant:o,children:i},a)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?Object(A.jsx)("div",{className:"curiosity-banner-messages",children:e}):null}}]),a}(n.a.Component);E.defaultProps={getMessageReports:u.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(D.b)("curiosity-banner.dataMismatchTitle"),message:Object(D.b)("curiosity-banner.dataMismatchMessage",{context:""!==u.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:u.b.UI_DISPLAY_NAME},[Object(A.jsx)(I.a,{isInline:!0,component:"a",variant:"link",icon:Object(A.jsx)(f.a,{}),iconPosition:"right",target:"_blank",href:u.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var _=o.e.appMessages.makeAppMessages(),x=Object(o.b)(_,(function(e){return{getMessageReports:function(t,a){return e(o.d.rhsm.getMessageReports(t,a))}}}))(E),R=a(813),N=a(818),M=a(814),P=(a(812),function(e){var t=e.productConfig,a=e.routeDetail,i=e.t,d=e.toolbarGraph,v=e.toolbarProduct,b=t.graphTallyQuery,p=t.inventoryHostsQuery,y=t.inventorySubscriptionsQuery,j=t.query,O=t.initialToolbarFilters,h=t.initialGraphFilters,g=t.initialGuestsFilters,I=t.initialInventoryFilters,f=t.initialInventorySettings,S=t.initialSubscriptionsInventoryFilters,m=o.a.parseRhsmQuery(j,{graphTallyQuery:b,inventoryHostsQuery:p,inventorySubscriptionsQuery:y}),D=m.query,E=m.graphTallyQuery,_=m.inventoryHostsQuery,P=m.inventorySubscriptionsQuery,k=m.toolbarQuery,C=a.pathParameter,L=a.productParameter,F=a.viewParameter;return C&&F?Object(A.jsxs)(r.c,{children:[Object(A.jsx)(r.b,{productLabel:L,includeTour:!0,children:i("curiosity-view.title",{appName:u.b.UI_DISPLAY_NAME,context:L})}),Object(A.jsx)(r.d,{children:Object(A.jsx)(x,{productId:C,viewId:F,query:D})}),Object(A.jsx)(r.f,{children:n.a.isValidElement(v)&&v||!1!==v&&Object(A.jsx)(s.a,{filterOptions:O,productId:C,query:k,viewId:F})}),Object(A.jsx)(r.e,{children:Object(A.jsx)(l.a,{filterGraphData:h,query:E,productId:C,viewId:F,cardTitle:i("curiosity-graph.cardHeading",{context:L}),productLabel:L,children:n.a.isValidElement(d)&&d||!1!==d&&Object(A.jsx)(R.a,{viewId:F,value:E[T.g.GRANULARITY]})},"graph_".concat(C))}),Object(A.jsx)(r.e,{children:Object(A.jsxs)(N.b,{productId:C,children:[Object(A.jsx)(N.a,{title:i("curiosity-inventory.tab",{context:"hosts"}),children:Object(A.jsx)(c.a,{filterGuestsData:g,filterInventoryData:I,productId:C,settings:f,query:_,viewId:F},"inv_".concat(C))},"inventory_hosts_".concat(C)),!u.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(A.jsx)(N.a,{title:i("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(A.jsx)(M.a,{filterInventoryData:S,productId:C,query:P,viewId:F},"subs_".concat(C))},"inventory_subs_".concat(C))]},"inventory_".concat(C))})]}):null});P.defaultProps={t:D.b,toolbarGraph:null,toolbarProduct:null}},993:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T})),a.d(t,"ProductViewRhel",(function(){return T}));var i,n,r,o=a(12),l=a(1),s=a.n(l),c=a(783),u=a(782),d=a(785),v=a(784),b=a(808),p=a(807),y=a(54),j=a(418),O=a(815),h=a(109),g=a.n(h),I=a(5),f=a(795),S=a(61),m=a(27),D=a(10),T=function(e){var t=e.productConfig,a=e.routeDetail;return Object(D.jsx)(f.a,{routeDetail:a,productConfig:t})};T.defaultProps={productConfig:{query:{},graphTallyQuery:(i={},Object(o.a)(i,I.g.GRANULARITY,I.b.DAILY),Object(o.a)(i,I.g.START_DATE,m.a.getRangedDateTime(I.b.DAILY).startDate.toISOString()),Object(o.a)(i,I.g.END_DATE,m.a.getRangedDateTime(I.b.DAILY).endDate.toISOString()),i),inventoryHostsQuery:(n={},Object(o.a)(n,I.g.SORT,I.e.LAST_SEEN),Object(o.a)(n,I.g.DIRECTION,I.d.ASCENDING),Object(o.a)(n,I.g.LIMIT,100),Object(o.a)(n,I.g.OFFSET,0),n),inventorySubscriptionsQuery:(r={},Object(o.a)(r,I.g.SORT,I.f.UPCOMING_EVENT_DATE),Object(o.a)(r,I.g.DIRECTION,I.d.ASCENDING),Object(o.a)(r,I.g.LIMIT,100),Object(o.a)(r,I.g.OFFSET,0),r),initialGraphFilters:[{id:"physicalSockets",fill:c.a.value,stroke:u.a.value,color:u.a.value},{id:"hypervisorSockets",fill:d.a.value,stroke:v.a.value,color:v.a.value},{id:"cloudSockets",fill:b.a.value,stroke:p.a.value,color:p.a.value},{id:"thresholdSockets"}],initialGuestsFilters:[{id:"displayName",header:Object(S.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var a=e.displayName,i=e.inventoryId,n=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===i||void 0===i?void 0:i.value)?n?Object(D.jsx)(y.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(m.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(i.value,"/"),children:a.value||i.value}):(null===a||void 0===a?void 0:a.value)||(null===i||void 0===i?void 0:i.value):null===a||void 0===a?void 0:a.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(D.jsx)(O.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var a=e.displayName,i=void 0===a?{}:a,n=e.inventoryId,r=void 0===n?{}:n,o=e.numberOfGuests,l=void 0===o?{}:o,c=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!r.value)return i.value;var u=i.value||r.value;return c&&(u=Object(D.jsx)(y.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(m.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(r.value,"/"),children:i.value||r.value})),Object(D.jsxs)(s.a.Fragment,{children:[u," ",l.value&&Object(S.b)("curiosity-inventory.label",{context:"numberOfGuests",count:l.value},[Object(D.jsx)(j.a,{color:"blue"})])||""]})},isSortable:!0},{id:"measurementType",cell:function(e){var t=e.cloudProvider,a=void 0===t?{}:t,i=e.measurementType,n=void 0===i?{}:i;return Object(D.jsxs)(s.a.Fragment,{children:[Object(S.b)("curiosity-inventory.measurementType",{context:n.value})," ",a.value&&Object(D.jsx)(j.a,{color:"purple",children:Object(S.b)("curiosity-inventory.cloudProvider",{context:a.value})})||""]})},isSortable:!0,cellWidth:20},{id:"sockets",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(D.jsx)(O.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&g.a.utc(null===e||void 0===e||null===(a=e.upcomingEventDate)||void 0===a?void 0:a.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:I.g.SLA},{id:I.g.USAGE,selected:!0}]}}}}]);
//# sourceMappingURL=6.2b2beb1a.chunk.js.map