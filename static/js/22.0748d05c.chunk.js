(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[22,33,41],{582:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F})),n.d(t,"Select",(function(){return F})),n.d(t,"SelectDirection",(function(){return S})),n.d(t,"SelectPosition",(function(){return T}));var r=n(8),a=n(1),i=n(15),l=n(16),o=n(18),c=n(17),s=n(0),u=n.n(s),d=n(21),p=n(695),b=n(915),f=n(794),v=n(634),h=n.n(v),g=n(55),y=n.n(g),O=n(646),m=n.n(O),j=n(127),E=n.n(j),C=n(23),x=n(4),S=d.c,T=d.d,F=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={isExpanded:!1,options:null,selected:null},e.selectField=u.a.createRef(),e.onSelect=function(t,n){var r=e.state.options,i=e.props,l=i.id,o=i.name,c=i.onSelect,s=i.variant,u=r,d=u.findIndex((function(e){return e.title===n}));u[d].selected=s===p.e.single||!u[d].selected,s===p.e.single&&u.forEach((function(e,t){d!==t&&(u[t].selected=!1)}));var b=s===p.e.single?n:u.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:u,selected:b},(function(){var t=h()(u),n={id:l,name:o||l,value:t[d].value,selected:s===p.e.single&&t[d]||h()(b),selectedIndex:d,type:"select-".concat(s===p.e.single?"one":"multiple"),options:t};s===p.e.checkbox&&(n.checked=t[d].selected);var r=Object(a.a)(Object(a.a)({},n),{},{target:Object(a.a)({},n),currentTarget:Object(a.a)({},n),persist:C.b.noop});c(Object(a.a)({},r),d,t),s===p.e.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,r=t.selectedOptions;y()(e.options,n)&&y()(e.selectedOptions,r)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t,n=this.selectField.current,i=void 0===n?{}:n,l=this.props,o=l.options,c=l.selectedOptions,s=l.variant,u=Object.entries(this.props).filter((function(e){var t=Object(r.a)(e,1)[0];return/^data-/i.test(t)})),d=E()(o)?Object.entries(o).map((function(e){var t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(a.a)(Object(a.a)({},i),{},{title:n,value:i})})):h()(o),b=c&&"string"===typeof c||"number"===typeof c?[c]:c;d.forEach((function(e,t){var n=e;if("string"===typeof n&&(n={title:e,value:e},d[t]=n),n.text=n.text||n.title,n.textContent=n.textContent||n.title,n.label=n.label||n.title,b){var r;if(E()(n.value)){if(!(r=m()(b,n.value)>-1))r=!!b.find((function(e){return Object.values(n.value).includes(e)}))}else r=b.includes(n.value);r||(r=b.includes(n.title)),d[t].selected=r}})),t=s===p.e.single?(d.find((function(e){return!0===e.selected}))||{}).title:d.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),(null===i||void 0===i||null===(e=i.parentRef)||void 0===e?void 0:e.current)&&u.forEach((function(e){var t,n=Object(r.a)(e,2),a=n[0],l=n[1];return null===i||void 0===i||null===(t=i.parentRef)||void 0===t?void 0:t.current.setAttribute(a,l)})),this.setState({options:d,selected:t})}},{key:"render",value:function(){var e=this.state,t=e.options,n=e.selected,r=e.isExpanded,i=this.props,l=i.ariaLabel,o=i.className,c=i.direction,s=i.isDisabled,u=i.isToggleText,p=i.maxHeight,v=i.placeholder,h=i.position,g=i.toggleIcon,y=i.variant,O={direction:c,maxHeight:p};return t&&t.length&&!s||(O.isDisabled=!0),Object(x.jsx)(b.a,Object(a.a)(Object(a.a)({className:"curiosity-select".concat(u?"":"__no-toggle-text"," ").concat(h===d.d.right?"curiosity-select__position-right":""," ").concat(o),variant:y,"aria-label":l,onToggle:this.onToggle,onSelect:this.onSelect,selections:n,isOpen:r,toggleIcon:g,placeholderText:v,ref:this.selectField},O),{},{children:t&&t.map((function(e){return Object(x.jsx)(f.a,{id:window.btoa("".concat(e.title,"-").concat(e.value)),value:e.title,"data-value":E()(e.value)&&JSON.stringify([e.value])||e.value,"data-title":e.title},window.btoa("".concat(e.title,"-").concat(e.value)))}))||[]}))}}]),n}(u.a.Component);F.defaultProps={ariaLabel:"Select option",className:"",direction:S.down,id:C.b.generateId(),isDisabled:!1,isToggleText:!0,maxHeight:null,name:null,onSelect:C.b.noop,options:[],placeholder:"Select option",position:T.left,selectedOptions:null,toggleIcon:null,variant:p.e.single}},593:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l})),n.d(t,"toolbarHelpers",(function(){return l})),n.d(t,"getOptionsType",(function(){return i}));var r=n(30),a=n(3),i=function(e){switch(e){case a.g.SLA:return{selected:null,options:[{title:Object(r.translate)("curiosity-toolbar.slaPremium"),value:a.c.PREMIUM},{title:Object(r.translate)("curiosity-toolbar.slaStandard"),value:a.c.STANDARD},{title:Object(r.translate)("curiosity-toolbar.slaSelfSupport"),value:a.c.SELF},{title:Object(r.translate)("curiosity-toolbar.slaNone"),value:a.c.NONE}]};case a.g.USAGE:return{selected:null,options:[{title:Object(r.translate)("curiosity-toolbar.usageDevelopment"),value:a.i.DEVELOPMENT},{title:Object(r.translate)("curiosity-toolbar.usageDisaster"),value:a.i.DISASTER},{title:Object(r.translate)("curiosity-toolbar.usageProduction"),value:a.i.PRODUCTION},{title:Object(r.translate)("curiosity-toolbar.usageUnspecified"),value:a.i.UNSPECIFIED}]};default:return{selected:null,options:[{title:Object(r.translate)("curiosity-toolbar.category",{context:a.g.SLA}),value:a.g.SLA},{title:Object(r.translate)("curiosity-toolbar.category",{context:a.g.USAGE}),value:a.g.USAGE}]}}},l={getOptions:i}},601:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return U})),n.d(t,"ConnectedToolbar",(function(){return U})),n.d(t,"Toolbar",(function(){return B}));var r=n(1),a=n(6),i=n(15),l=n(16),o=n(18),c=n(17),s=n(0),u=n.n(s),d=n(5),p=n(58),b=n(643),f=n(908),v=n(877),h=n(632),g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={isMounted:!1},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.categoryName,n=e.chips;this.context.updateNumberFilters("string"===typeof t?t:t.name,n.length),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.categoryName,n=e.chips;this.context.updateNumberFilters("string"===typeof t?t:t.name,n.length)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.chips,r=e.deleteChipGroup,a=e.deleteChip,i=e.categoryName,l=e.showToolbarItem,o=Object(d.__rest)(e,["children","chips","deleteChipGroup","deleteChip","categoryName","showToolbarItem"]),c=this.context,u=c.isExpanded,g=c.chipGroupContentRef,y="string"!==typeof i&&i.hasOwnProperty("key")?i.key:i.toString(),O=n.length?s.createElement(b.a,{variant:"chip-group"},s.createElement(f.a,{key:y,categoryName:"string"===typeof i?i:i.name,isClosable:void 0!==r,onClick:function(){return r(i)}},n.map((function(e){return"string"===typeof e?s.createElement(v.a,{key:e,onClick:function(){return a(y,e)}},e):s.createElement(v.a,{key:e.key,onClick:function(){return a(y,e)}},e.node)})))):null;return!u&&this.state.isMounted?s.createElement(s.Fragment,null,l&&s.createElement(b.a,Object.assign({},o),t),p.createPortal(O,g.current.firstElementChild)):s.createElement(h.a.Consumer,null,(function(e){var n=e.chipContainerRef;return s.createElement(s.Fragment,null,l&&s.createElement(b.a,Object.assign({},o),t),n.current&&p.createPortal(O,n.current))}))}}]),n}(s.Component);g.displayName="ToolbarFilter",g.contextType=h.b,g.defaultProps={chips:[],showToolbarItem:!0};var y=n(668),O=n(633),m=n.n(O),j=n(2),E=n(20),C=n(667),x=n(40),S=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.expandableContentRef,r=e.chipContainerRef,a=(e.isExpanded,e.clearAllFilters),i=e.clearFiltersButtonText,l=e.showClearFiltersButton,o=Object(d.__rest)(e,["className","expandableContentRef","chipContainerRef","isExpanded","clearAllFilters","clearFiltersButtonText","showClearFiltersButton"]),c=this.context.numberOfFilters;return s.createElement("div",Object.assign({className:Object(j.css)(m.a.toolbarExpandableContent,t),ref:n},o),s.createElement(C.a,null),c>0&&s.createElement(C.a,{className:m.a.modifiers.chipContainer},s.createElement(C.a,{ref:r}),l&&s.createElement(b.a,null,s.createElement(x.a,{variant:"link",onClick:function(){a()},isInline:!0},i))))}}]),n}(s.Component);S.displayName="ToolbarExpandableContent",S.contextType=h.b,S.defaultProps={isExpanded:!1,clearFiltersButtonText:"Clear all filters"};var T=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).expandableContentRef=s.createRef(),e.chipContainerRef=s.createRef(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,r=t.className,a=t.children,i=t.isExpanded,l=t.toolbarId,o=t.visibility,c=t.visiblity,u=t.alignment,p=t.clearAllFilters,b=t.showClearFiltersButton,f=t.clearFiltersButtonText,v=Object(d.__rest)(t,["className","children","isExpanded","toolbarId","visibility","visiblity","alignment","clearAllFilters","showClearFiltersButton","clearFiltersButtonText"]);return void 0!==c&&console.warn("The ToolbarContent visiblity prop has been deprecated. Please use the correctly spelled visibility prop instead."),s.createElement("div",Object.assign({className:Object(j.css)(m.a.toolbarContent,Object(E.e)(o||c,m.a),Object(E.e)(u,m.a),r)},v),s.createElement(h.b.Consumer,null,(function(t){var r=t.clearAllFilters,o=t.clearFiltersButtonText,c=t.showClearFiltersButton,u=t.toolbarId,d="".concat(l||u,"-expandable-content-").concat(n.currentId++);return s.createElement(h.a.Provider,{value:{expandableContentRef:e.expandableContentRef,expandableContentId:d,chipContainerRef:e.chipContainerRef}},s.createElement("div",{className:Object(j.css)(m.a.toolbarContentSection)},a),s.createElement(S,{id:d,isExpanded:i,expandableContentRef:e.expandableContentRef,chipContainerRef:e.chipContainerRef,clearAllFilters:p||r,showClearFiltersButton:b||c,clearFiltersButtonText:f||o}))})))}}]),n}(s.Component);T.displayName="ToolbarContent",T.currentId=0,T.defaultProps={isExpanded:!1,showClearFiltersButton:!1};var F=n(666),I=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).isContentPopup=function(){return(E.a?window.innerWidth:1200)<parseInt(F.a.value)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.toggleIcon,r=t.variant,a=t.visibility,i=t.visiblity,l=t.breakpoint,o=t.alignment,c=t.spacer,u=t.spaceItems,b=t.className,f=t.children,v=Object(d.__rest)(t,["toggleIcon","variant","visibility","visiblity","breakpoint","alignment","spacer","spaceItems","className","children"]);return l||n||console.error("ToolbarToggleGroup will not be visible without a breakpoint or toggleIcon."),void 0!==i&&console.warn("The ToolbarToggleGroup visiblity prop has been deprecated. Please use the correctly spelled visibility prop instead."),s.createElement(h.b.Consumer,null,(function(t){var d=t.isExpanded,g=t.toggleIsExpanded;return s.createElement(h.a.Consumer,null,(function(t){var h=t.expandableContentRef,y=t.expandableContentId;return h.current&&h.current.classList&&(d?h.current.classList.add(m.a.modifiers.expanded):h.current.classList.remove(m.a.modifiers.expanded)),s.createElement("div",Object.assign({className:Object(j.css)(m.a.toolbarGroup,m.a.modifiers.toggleGroup,r&&m.a.modifiers[Object(E.l)(r)],l&&m.a.modifiers["showOn".concat(Object(E.b)(l.replace("2xl","_2xl")))],Object(E.e)(a||i,m.a),Object(E.e)(o,m.a),Object(E.e)(c,m.a),Object(E.e)(u,m.a),b)},v),s.createElement("div",{className:Object(j.css)(m.a.toolbarToggle)},s.createElement(x.a,Object.assign({variant:"plain",onClick:g,"aria-label":"Show Filters"},d&&{"aria-expanded":!0},{"aria-haspopup":d&&e.isContentPopup(),"aria-controls":y}),n)),d?p.createPortal(f,h.current.firstElementChild):f)}))}))}}]),n}(s.Component);I.displayName="ToolbarToggleGroup";var R=n(14),w=Object(R.a)({name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0}),N=n(582),_=n(57),k=n(3),A=n(593),P=n(13),D=n(30),L=n(4),B=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).onClear=function(){var t,n=e.props.hardFilterReset,r=[{type:_.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:new Set}},{type:_.f.query.SET_QUERY_CLEAR,data:{clearFilters:(t={},Object(a.a)(t,k.g.SLA,null),Object(a.a)(t,k.g.USAGE,null),t)}}];n&&r.push({type:_.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:null}}),e.setDispatch(r,!0)},e.onClearFilter=function(t){var n=e.props,r=n.activeFilters,i=n.currentFilter,l=n.hardFilterReset,o=(A.toolbarHelpers.getOptions().options.find((function(e){return e.title===t}))||{}).value;if(o){var c=new Set(r);c.delete(o);var s=[{type:_.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:c}},{type:_.f.query.SET_QUERY_CLEAR,data:{clearFilters:Object(a.a)({},o,null)}}];if(l){var u=c.size>0&&i||null;s.push({type:_.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:u}})}e.setDispatch(s,!0)}},e.onCategorySelect=function(t){var n=t.value;e.setDispatch({type:_.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:n}})},e.onSelect=function(t){var n=t.event,r=t.field,i=e.props.activeFilters,l=n.value,o=new Set(i).add(r);e.setDispatch([{type:_.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:o}},{type:_.f.query.SET_QUERY_RHSM_TYPES[r],data:Object(a.a)({},r,l)}],!0)},e}return Object(l.a)(n,[{key:"setDispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.viewId,a=(Array.isArray(e)&&e||[e]).map((function(e){var t=e.type,a=e.data;return Object(r.a)({type:t,viewId:n},a)}));t&&a.push({type:_.f.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:n}),_.g.dispatch(a)}},{key:"setSelectFilter",value:function(e){var t,n,r=this.props.query,a=A.toolbarHelpers.getOptions(e),i=this.getCurrentFilter();return n=e?"string"===typeof(null===r||void 0===r?void 0:r[e])&&a.options.find((function(t){return t.value===(null===r||void 0===r?void 0:r[e])})):a.options.find((function(e){return e.value===i})),{options:a,optionsSelected:(null===(t=n)||void 0===t?void 0:t.title)&&[n.title]||(null===a||void 0===a?void 0:a.selected)&&[a.selected]||[]}}},{key:"getCurrentFilter",value:function(){var e,t,n=this.props,r=n.currentFilter,a=n.filterOptions;return r||(null===(e=a.find((function(e){return!0===e.selected})))||void 0===e?void 0:e.id)||1===a.length&&(null===(t=a[0])||void 0===t?void 0:t.id)}},{key:"renderSelectFilter",value:function(e){var t=this,n=e.id,r=this.props.t,a=this.setSelectFilter(n),i=a.options,l=a.optionsSelected,o=this.getCurrentFilter();return Object(L.jsx)(g,{chips:l,deleteChip:this.onClearFilter,categoryName:r("curiosity-toolbar.category",{context:n}),showToolbarItem:o===n,children:Object(L.jsx)(N.Select,{"aria-label":r("curiosity-toolbar.category",{context:n}),onSelect:function(e){return t.onSelect({event:e,field:n})},selectedOptions:l,placeholder:r("curiosity-toolbar.placeholder",{context:n}),options:i.options})},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.filterOptions,r=t.isDisabled,a=t.t;if(r)return null;var i=this.setSelectFilter(),l=i.options,o=i.optionsSelected;return Object(L.jsx)(y.a,{id:"curiosity-toolbar",className:"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"sm",clearAllFilters:this.onClear,clearFiltersButtonText:a("curiosity-toolbar.clearFilters"),children:Object(L.jsx)(T,{children:Object(L.jsx)(I,{toggleIcon:Object(L.jsx)(w,{}),breakpoint:"md",children:Object(L.jsxs)(C.a,{variant:"filter-group",children:[1!==n.length&&Object(L.jsx)(b.a,{children:Object(L.jsx)(N.Select,{"aria-label":a("curiosity-toolbar.category"),onSelect:this.onCategorySelect,selectedOptions:o,placeholder:a("curiosity-toolbar.placeholder"),options:l.options,toggleIcon:Object(L.jsx)(w,{})})}),n.map((function(t){var n=t.id,r=t.selected;return e.renderSelectFilter({id:n,selected:r})}))]})})})})}}]),n}(u.a.Component);B.defaultProps={query:{},activeFilters:new Set,currentFilter:null,filterOptions:[{id:k.g.SLA,filterType:"select"},{id:k.g.USAGE,filterType:"select",selected:!0}],hardFilterReset:!1,isDisabled:P.b.UI_DISABLED_TOOLBAR,t:D.translate,viewId:"toolbar"};var U=Object(_.b)((function(e,t){var n,a,i=e.toolbar,l=e.view,o=t.query,c=t.viewId;return Object(r.a)(Object(r.a)({},null===(n=i.filters)||void 0===n?void 0:n[c]),{},{query:(null===(a=l.query)||void 0===a?void 0:a[c])||o})}))(B)}}]);
//# sourceMappingURL=22.0748d05c.chunk.js.map