(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[7],{1025:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var a=r(1),i=r.n(a),n=r(85),o=r(1147),c=r.n(o),s=r(163),l=r(90),u=r(1149),d=r(1152),b=r(1150),p=r(27),v=r(13),y=r(11),j=r(4),O=r(6),g=r(7),h=r(9),f=r(8),I=r(289),T=r(261),S=r(54),D=r(183),R=r(117),_=r.n(R),A=r(61),E=r(5),m=r(10),x=function(e){Object(h.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(O.a)(this,r);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={},e.onUpdateData=function(){var t=e.props,r=t.getMessageReports,a=t.productId,i=t.query,n=l.a.parseRhsmQuery(i).graphTallyQuery;if(a){var o,c=p.a.getRangedDateTime("CURRENT"),s=c.startDate,u=c.endDate;r(a,Object(j.a)(Object(j.a)({},n),{},(o={},Object(y.a)(o,E.g.GRANULARITY,E.b.DAILY),Object(y.a)(o,E.g.START_DATE,s.toISOString()),Object(y.a)(o,E.g.END_DATE,u.toISOString()),o)))}},e}return Object(g.a)(r,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.query;t.productId===e.productId&&_()(r,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,r=this.props,a=r.appMessages,i=r.messages,n=[];return i.length&&Object.entries(a).forEach((function(e){var r=Object(v.a)(e,2),a=r[0],o=r[1];if(!0!==t[a]&&!0===o){var c=i.find((function(e){return e.id===a}));c&&n.push(Object(j.a)({key:a},c))}})),n.map((function(t){var r=t.key,a=t.message,i=t.title,n=t.variant,o=void 0===n?I.b.info:n,c=Object(m.jsx)(T.a,{onClose:function(){return e.setState(Object(y.a)({},r,!0))}});return Object(m.jsx)(I.a,{actionClose:c,title:i,variant:o,children:a},r)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?Object(m.jsx)("div",{className:"curiosity-banner-messages",children:e}):null}}]),r}(i.a.Component);x.defaultProps={getMessageReports:p.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(A.b)("curiosity-banner.dataMismatchTitle"),message:Object(A.b)("curiosity-banner.dataMismatchMessage",{context:""!==p.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:p.b.UI_DISPLAY_NAME},[Object(m.jsx)(S.a,{isInline:!0,component:"a",variant:"link",icon:Object(m.jsx)(D.a,{}),iconPosition:"right",target:"_blank",href:p.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var N=l.e.appMessages.makeAppMessages(),M=Object(l.b)(N,(function(e){return{getMessageReports:function(t,r){return e(l.d.rhsm.getMessageReports(t,r))}}}))(x),U=r(1145),w=r(1151),P=r(1146),C=(r(1144),function(e){var t=e.productConfig,r=e.routeDetail,a=e.t,o=e.toolbarGraph,v=e.toolbarGraphDescription,y=e.toolbarProduct,j=t.graphTallyQuery,O=t.inventoryHostsQuery,g=t.inventorySubscriptionsQuery,h=t.query,f=t.initialToolbarFilters,I=t.initialGraphFilters,T=t.initialGuestsFilters,S=t.initialInventoryFilters,D=t.initialInventorySettings,R=t.initialSubscriptionsInventoryFilters,_=l.a.parseRhsmQuery(h,{graphTallyQuery:j,inventoryHostsQuery:O,inventorySubscriptionsQuery:g}),A=_.query,x=_.graphTallyQuery,N=_.inventoryHostsQuery,C=_.inventorySubscriptionsQuery,G=_.toolbarQuery,L=r.pathParameter,Q=r.productParameter,Y=r.viewParameter;if(!L||!Y)return null;var q=null;v&&(q=Object(m.jsx)(n.a,{content:Object(m.jsx)("p",{children:a("curiosity-graph.cardHeadingDescription",{context:L})}),position:n.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:Object(m.jsx)("sup",{className:"curiosity-icon__info",children:Object(m.jsx)(c.a,{})})}));var F=Object(m.jsxs)(i.a.Fragment,{children:[a("curiosity-graph.cardHeading",{context:L}),q]});return Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.b,{productLabel:Q,includeTour:!0,children:a("curiosity-view.title",{appName:p.b.UI_DISPLAY_NAME,context:Q})}),Object(m.jsx)(s.d,{children:Object(m.jsx)(M,{productId:L,viewId:Y,query:A})}),Object(m.jsx)(s.f,{children:i.a.isValidElement(y)&&y||!1!==y&&Object(m.jsx)(d.a,{filterOptions:f,productId:L,query:G,viewId:Y})}),Object(m.jsx)(s.e,{children:Object(m.jsx)(u.a,{filterGraphData:I,query:x,productId:L,viewId:Y,cardTitle:F,productLabel:Q,children:i.a.isValidElement(o)&&o||!1!==o&&Object(m.jsx)(U.a,{viewId:Y,value:x[E.g.GRANULARITY]})},"graph_".concat(L))}),Object(m.jsx)(s.e,{children:Object(m.jsxs)(w.b,{productId:L,children:[Object(m.jsx)(w.a,{title:a("curiosity-inventory.tab",{context:"hosts"}),children:Object(m.jsx)(b.a,{filterGuestsData:T,filterInventoryData:S,productId:L,settings:D,query:N,viewId:Y},"inv_".concat(L))},"inventory_hosts_".concat(L)),!p.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(m.jsx)(w.a,{title:a("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(m.jsx)(P.a,{filterInventoryData:R,productId:L,query:C,viewId:Y},"subs_".concat(L))},"inventory_subs_".concat(L))]},"inventory_".concat(L))})]})});C.defaultProps={t:A.b,toolbarGraph:null,toolbarGraphDescription:!1,toolbarProduct:null}},1316:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(11),i=r(4),n=(r(1),r(90)),o=r(1024),c=r(5),s=r(27),l=r(61),u=r(10),d=s.a.getRangedMonthDateTime().listDateTimeRanges.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:!1})})),b=function(e){var t=e.options,r=e.t,s=e.value,l=e.viewId,d=Object(n.h)((function(e){var t,r;return null===(t=e.view.query)||void 0===t||null===(r=t[l])||void 0===r?void 0:r[c.g.START_DATE]}),s),b=t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:e.title===d||e.value.startDate.toISOString()===d})}));return Object(u.jsx)(o.a,{"aria-label":r("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(e){var t=e.value,r=t.startDate,i=t.endDate;n.g.dispatch([{type:n.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:l},Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.GRANULARITY],viewId:l},c.g.GRANULARITY,c.b.DAILY),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.START_DATE],viewId:l},c.g.START_DATE,r.toISOString()),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.END_DATE],viewId:l},c.g.END_DATE,i.toISOString())])},options:b,placeholder:r("curiosity-toolbar.placeholder",{context:"granularity"}),maxHeight:250})};b.defaultProps={options:d,t:l.b,value:Object(l.b)("curiosity-toolbar.granularityRange",{context:"current"}),viewId:"toolbarFieldRangeGranularity"}},865:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g})),r.d(t,"ProductViewOpenShiftDedicated",(function(){return g}));var a,i,n=r(11),o=r(1),c=r.n(o),s=r(3015),l=r(3016),u=r(430),d=r(1148),b=r(5),p=r(1025),v=r(61),y=r(27),j=r(1316),O=r(10),g=function(e){var t=e.productConfig,r=e.routeDetail,a=r.viewParameter,i=t.graphTallyQuery[b.g.START_DATE];return Object(O.jsx)(p.a,{routeDetail:r,productConfig:t,toolbarProduct:!1,toolbarGraph:Object(O.jsx)(j.a,{value:i,viewId:a}),toolbarGraphDescription:!0})};g.defaultProps={productConfig:{query:(a={},Object(n.a)(a,b.g.START_DATE,y.a.getRangedMonthDateTime("current").value.startDate.toISOString()),Object(n.a)(a,b.g.END_DATE,y.a.getRangedMonthDateTime("current").value.endDate.toISOString()),a),graphTallyQuery:Object(n.a)({},b.g.GRANULARITY,b.b.DAILY),inventoryHostsQuery:(i={},Object(n.a)(i,b.g.SORT,b.e.LAST_SEEN),Object(n.a)(i,b.g.DIRECTION,b.d.DESCENDING),Object(n.a)(i,b.g.LIMIT,100),Object(n.a)(i,b.g.OFFSET,0),i),initialGraphFilters:[{id:"coreHours",fill:s.a.value,stroke:l.a.value,color:l.a.value}],initialInventoryFilters:[{id:"displayName",cell:function(e){var t=e.displayName,r=void 0===t?{}:t,a=e.inventoryId,i=void 0===a?{}:a,n=e.numberOfGuests,o=void 0===n?{}:n;if(!i.value)return r.value;var s=r.value||i.value;return Object(O.jsxs)(c.a.Fragment,{children:[s," ",o.value&&Object(v.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[Object(O.jsx)(u.a,{color:"blue"})])||""]})},isSortable:!0},{id:"coreHours",cell:function(e){var t,r;return"number"===typeof(null===e||void 0===e||null===(t=e.coreHours)||void 0===t?void 0:t.value)&&Number.parseFloat(null===e||void 0===e||null===(r=e.coreHours)||void 0===r?void 0:r.value).toFixed(2)||"0.00"},isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",header:Object(v.b)("curiosity-inventory.header",{context:"lastSeen_OpenShift-dedicated-metrics"}),cell:function(e){var t,r;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(O.jsx)(d.DateFormat,{date:null===e||void 0===e||null===(r=e.lastSeen)||void 0===r?void 0:r.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:void 0}}}}]);
//# sourceMappingURL=7.4924a2b6.chunk.js.map