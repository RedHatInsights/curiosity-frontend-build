(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[8],{2946:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j})),a.d(t,"ConnectedOpenshiftView",(function(){return j})),a.d(t,"OpenshiftView",(function(){return w}));var i,l=a(10),r=a(12),n=a(13),o=a(14),u=a(15),c=a(0),s=a.n(c),d=a(2943),v=a(2944),p=a(809),y=a(2945),h=a(1600),b=a(105),m=a(3),f=a(62),O=a(1602),E=a(1603),S=a(966),I=a(1605),g=a(1604),T=a(1598),F=a(17),P=a(45),w=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={option:null,graphFilters:[],inventoryFilters:[]},e.onSelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.state.option,i=e.props,r=i.initialGraphFilters,n=i.initialInventoryFilters,o=i.viewId,u=t.value;if(u!==a){var c=function(e){var t=e.id;return!e.isOptional||new RegExp(u,"i").test(t)},s=r.filter(c),d=n.filter(c);e.setState({option:a,graphFilters:s,inventoryFilters:d},(function(){f.g.dispatch([{type:f.f.query.SET_QUERY_CLEAR_INVENTORY_LIST},Object(l.a)({type:f.f.query.SET_QUERY_RHSM_TYPES[m.f.UOM],viewId:o},m.f.UOM,u)])}))}},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.initialOption;this.onSelect({value:e})}},{key:"renderSelect",value:function(){var e=this.state.option,t=this.props,a=t.initialOption,i=t.t,l=[{title:i("curiosity-toolbar.uom",{context:m.g.CORES}),value:m.g.CORES},{title:i("curiosity-toolbar.uom",{context:m.g.SOCKETS}),value:m.g.SOCKETS}];return s.a.createElement(S.a,{onSelect:this.onSelect,options:l,selectedOptions:e||a})}},{key:"render",value:function(){var e,t=this.state,a=t.graphFilters,i=t.inventoryFilters,l=this.props,r=l.initialGuestsFilters,n=l.initialToolbarFilters,o=l.location,u=l.productLabel,c=l.query,d=l.routeDetail,v=l.t,p=l.viewId,y=""===(null===o||void 0===o||null===(e=o.parsedSearch)||void 0===e?void 0:e.c3),h=f.a.parseRhsmQuery(c),m=h.graphQuery,S=h.inventoryQuery,P=h.toolbarQuery;return s.a.createElement(b.b,null,s.a.createElement(b.a,{productLabel:u},v("curiosity-view.title",{appName:F.b.UI_DISPLAY_NAME,context:u})),s.a.createElement(b.c,null,s.a.createElement(T.a,{productId:d.pathParameter,viewId:p})),s.a.createElement(b.e,null,s.a.createElement(I.a,{filterOptions:n,productId:d.pathParameter,query:P,viewId:p})),s.a.createElement(b.d,null,y&&s.a.createElement(E.a,{key:d.pathParameter,filterGraphData:a,query:m,productId:d.pathParameter,viewId:p,cardTitle:v("curiosity-graph.cardHeading"),productShortLabel:u},this.renderSelect())||s.a.createElement(O.a,{key:d.pathParameter,filterGraphData:a,query:m,productId:d.pathParameter,viewId:p,cardTitle:v("curiosity-graph.cardHeading"),productLabel:u},this.renderSelect())),s.a.createElement(b.d,null,s.a.createElement(g.a,{key:d.pathParameter,filterGuestsData:r,filterInventoryData:i,query:S,productId:d.pathParameter,viewId:p,cardTitle:v("curiosity-inventory.cardHeading")})))}}]),a}(s.a.Component);w.defaultProps={query:(i={},Object(l.a)(i,m.f.DIRECTION,m.d.DESCENDING),Object(l.a)(i,m.f.GRANULARITY,m.b.DAILY),Object(l.a)(i,m.f.LIMIT,10),Object(l.a)(i,m.f.OFFSET,0),Object(l.a)(i,m.f.UOM,m.g.CORES),Object(l.a)(i,m.f.SORT,m.e.DATE),i),initialOption:m.g.CORES,initialGraphFilters:[{id:"cores",isOptional:!0,fill:d.a.value,stroke:v.a.value,color:v.a.value},{id:"sockets",isOptional:!0,fill:d.a.value,stroke:v.a.value,color:v.a.value},{id:"thresholdSockets",isOptional:!0},{id:"thresholdCores",isOptional:!0}],initialGuestsFilters:[{id:"displayName",header:Object(P.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var a=e.displayName,i=e.inventoryId,l=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===i||void 0===i?void 0:i.value)?l?s.a.createElement(p.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(F.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(i.value,"/")},a.value||i.value):(null===a||void 0===a?void 0:a.value)||(null===i||void 0===i?void 0:i.value):null===a||void 0===a?void 0:a.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&s.a.createElement(h.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var a=e.displayName,i=void 0===a?{}:a,l=e.inventoryId,r=void 0===l?{}:l,n=e.numberOfGuests,o=void 0===n?{}:n,u=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return r.value?u?s.a.createElement(p.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(F.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(r.value,"/")},i.value||r.value," ",o.value&&Object(P.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[s.a.createElement(y.a,{color:"blue"})])||""):s.a.createElement(s.a.Fragment,null,i.value||r.value," ",o.value&&Object(P.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[s.a.createElement(y.a,{color:"blue"})])||""):i.value},isSortable:!0},{id:"measurementType",cell:function(e){var t=e.cloudProvider,a=void 0===t?{}:t,i=e.measurementType,l=void 0===i?{}:i;return s.a.createElement(s.a.Fragment,null,Object(P.b)("curiosity-inventory.measurementType",{context:l.value})," ",a.value&&s.a.createElement(y.a,{color:"purple"},Object(P.b)("curiosity-inventory.cloudProvider",{context:a.value}))||"")},isSortable:!0,cellWidth:20},{id:"sockets",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"cores",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&s.a.createElement(h.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:m.f.SLA}],productLabel:"OpenShift",t:P.b,viewId:"viewOpenShift"};var k=f.e.view.makeView(w.defaultProps),j=Object(f.b)(k)(w)}}]);
//# sourceMappingURL=8.1badb22b.chunk.js.map