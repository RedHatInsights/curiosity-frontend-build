(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[8],{1013:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return k})),i.d(t,"ConnectedOpenshiftView",(function(){return k})),i.d(t,"OpenshiftView",(function(){return U}));var n=i(12),r=i(6),a=i(7),l=i(9),o=i(8),c=i(1),u=i.n(c),s=i(783),d=i(782),v=i(54),b=i(417),p=i(816),O=i(109),y=i.n(O),j=i(161),h=i(5),I=i(90),S=i(817),f=i(4),g=i(811),T=i(61),m=i(10),x=Object.values(h.h).map((function(e){return{title:Object(T.b)("curiosity-toolbar.uom",{context:e}),value:e,selected:!1}})),E=function(e){var t=e.options,i=e.t,r=e.value,a=e.viewId,l=Object(I.h)((function(e){var t,i;return null===(t=e.view.query)||void 0===t||null===(i=t[a])||void 0===i?void 0:i[h.g.UOM]}),r),o=t.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{selected:e.value===l})}));return Object(m.jsx)(g.a,{"aria-label":i("curiosity-toolbar.placeholder",{context:"uom"}),onSelect:function(e){return I.g.dispatch([{type:I.f.query.SET_QUERY_RESET_INVENTORY_LIST},Object(n.a)({type:I.f.query.SET_QUERY_RHSM_TYPES[h.g.UOM],viewId:a},h.g.UOM,e.value)])},options:o,selectedOptions:l,placeholder:i("curiosity-toolbar.placeholder",{context:"uom"})})};E.defaultProps={options:x,t:T.b,value:h.h.CORES,viewId:"toolbarFieldUom"};var D,_,R,N=i(814),w=i(820),A=i(818),F=i(815),L=i(819),P=i(813),Q=i(27),U=function(e){Object(l.a)(i,e);var t=Object(o.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(a.a)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.initialGuestsFilters,i=e.initialToolbarFilters,n=e.initialInventorySettings,r=e.initialGraphFilters,a=e.initialInventoryFilters,l=e.initialSubscriptionsInventoryFilters,o=e.initialOption,c=e.query,u=e.graphTallyQuery,s=e.inventoryHostsQuery,d=e.inventorySubscriptionsQuery,v=e.routeDetail,b=e.t,p=e.viewId,O=v.pathParameter,y=v.productParameter,f=I.a.parseRhsmQuery(c,{graphTallyQuery:u,inventoryHostsQuery:s,inventorySubscriptionsQuery:d}),g=f.graphTallyQuery,T=f.inventoryHostsQuery,x=f.inventorySubscriptionsQuery,D=f.toolbarQuery,_=c[h.g.UOM]||o,R=function(e){var t=e.id;return!e.isOptional||new RegExp(_,"i").test(t)},U=r.filter(R),Y=a.filter(R),k=l.filter(R);return Object(m.jsxs)(j.b,{children:[Object(m.jsx)(j.a,{productLabel:y,includeTour:!0,children:b("curiosity-view.title",{appName:Q.b.UI_DISPLAY_NAME,context:y})}),Object(m.jsx)(j.c,{children:Object(m.jsx)(P.a,{productId:O,viewId:p,query:c})}),Object(m.jsx)(j.e,{children:Object(m.jsx)(w.b,{filterOptions:i,productId:O,query:D,viewId:p})}),Object(m.jsx)(j.d,{children:Object(m.jsxs)(S.b,{filterGraphData:U,query:g,productId:O,viewId:p,cardTitle:b("curiosity-graph.cardHeading",{context:_}),productLabel:y,children:[Object(m.jsx)(E,{value:o,viewId:p}),Object(m.jsx)(N.a,{value:g[h.g.GRANULARITY],viewId:p})]},"graph_".concat(O))}),Object(m.jsx)(j.d,{children:Object(m.jsxs)(L.b,{productId:O,children:[Object(m.jsx)(L.a,{title:b("curiosity-inventory.tab",{context:"hosts"}),children:Object(m.jsx)(A.b,{filterGuestsData:t,filterInventoryData:Y,productId:O,settings:n,query:T,viewId:p},O)},"inventory_hosts_".concat(O)),!Q.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(m.jsx)(L.a,{title:b("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(m.jsx)(F.b,{filterInventoryData:k,productId:O,query:x,viewId:p},O)},"inventory_subs_".concat(O))]},"inventory_".concat(O))})]})}}]),i}(u.a.Component);U.defaultProps={query:Object(n.a)({},h.g.UOM,h.h.CORES),graphTallyQuery:(D={},Object(n.a)(D,h.g.GRANULARITY,h.b.DAILY),Object(n.a)(D,h.g.START_DATE,Q.a.getRangedDateTime(h.b.DAILY).startDate.toISOString()),Object(n.a)(D,h.g.END_DATE,Q.a.getRangedDateTime(h.b.DAILY).endDate.toISOString()),D),inventoryHostsQuery:(_={},Object(n.a)(_,h.g.SORT,h.e.LAST_SEEN),Object(n.a)(_,h.g.DIRECTION,h.d.ASCENDING),Object(n.a)(_,h.g.LIMIT,100),Object(n.a)(_,h.g.OFFSET,0),_),inventorySubscriptionsQuery:(R={},Object(n.a)(R,h.g.SORT,h.f.UPCOMING_EVENT_DATE),Object(n.a)(R,h.g.DIRECTION,h.d.ASCENDING),Object(n.a)(R,h.g.LIMIT,100),Object(n.a)(R,h.g.OFFSET,0),R),initialOption:h.h.CORES,initialGraphFilters:[{id:"cores",isOptional:!0,fill:s.a.value,stroke:d.a.value,color:d.a.value},{id:"sockets",isOptional:!0,fill:s.a.value,stroke:d.a.value,color:d.a.value},{id:"thresholdSockets",isOptional:!0},{id:"thresholdCores",isOptional:!0}],initialGuestsFilters:[{id:"displayName",header:Object(T.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var i=e.displayName,n=e.inventoryId,r=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===n||void 0===n?void 0:n.value)?r?Object(m.jsx)(v.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(Q.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(n.value,"/"),children:i.value||n.value}):(null===i||void 0===i?void 0:i.value)||(null===n||void 0===n?void 0:n.value):null===i||void 0===i?void 0:i.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(m.jsx)(p.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var i=e.displayName,n=void 0===i?{}:i,r=e.inventoryId,a=void 0===r?{}:r,l=e.numberOfGuests,o=void 0===l?{}:l,c=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!a.value)return n.value;var s=n.value||a.value;return c&&(s=Object(m.jsx)(v.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(Q.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(a.value,"/"),children:n.value||a.value})),Object(m.jsxs)(u.a.Fragment,{children:[s," ",o.value&&Object(T.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[Object(m.jsx)(b.a,{color:"blue"})])||""]})},isSortable:!0},{id:"measurementType",cell:function(e){var t=e.cloudProvider,i=void 0===t?{}:t,n=e.measurementType,r=void 0===n?{}:n;return Object(m.jsxs)(u.a.Fragment,{children:[Object(T.b)("curiosity-inventory.measurementType",{context:r.value})," ",i.value&&Object(m.jsx)(b.a,{color:"purple",children:Object(T.b)("curiosity-inventory.cloudProvider",{context:i.value})})||""]})},isSortable:!0,cellWidth:20},{id:"sockets",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"cores",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(m.jsx)(p.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&y.a.utc(null===e||void 0===e||null===(i=e.upcomingEventDate)||void 0===i?void 0:i.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:h.g.SLA}],t:T.b,viewId:"viewOpenShift"};var Y=I.e.view.makeView(U.defaultProps),k=Object(I.b)(Y)(U)}}]);
//# sourceMappingURL=8.c72e4599.chunk.js.map