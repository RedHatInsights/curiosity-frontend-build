(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[1],{1374:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(13),r=a(14),i=a(334),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(17),d=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).containerRef=c.a.createRef(),e.innerContainerRef=c.a.createRef(),e.updatedContainerWidth=0,e.resizeObserver=u.b.noop,e.onResizeContainer=function(){var t,a,n=Object(i.a)(e).updatedContainerWidth,r=e.props.updateOnResize,o=(null===(t=e.containerRef)||void 0===t||null===(a=t.current)||void 0===a?void 0:a.clientWidth)||0;r&&o!==n&&(e.updatedContainerWidth=o,e.setMinHeight(!0))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props.minHeight,n=this.containerRef.current,r=void 0===n?{}:n,i=this.innerContainerRef.current,o=void 0===i?{}:i;(null===r||void 0===r?void 0:r.style)&&(a>(e=t?(null===o||void 0===o?void 0:o.clientHeight)||0:(null===r||void 0===r?void 0:r.clientHeight)||0)&&(e=a),r.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return c.a.createElement("div",{className:"curiosity-minheight",ref:this.containerRef},c.a.createElement("div",{ref:this.innerContainerRef},e))}}]),a}(c.a.Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},1375:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(2),r=a(13),i=a(14),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(1045),d=a(3171),p=a(1778),v=a(1394),h=a.n(v),f=a(69),b=a.n(f),m=a(197),g=a.n(m),y=a(21),E=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={isExpanded:!1,options:null,selected:null},e.onSelect=function(t,a){var r=e.state.options,i=e.props,o=i.id,l=i.name,s=i.onSelect,c=i.variant,d=r,p=d.findIndex((function(e){return e.title===a}));d[p].selected=c===u.e.single||!d[p].selected,c===u.e.single&&d.forEach((function(e,t){p!==t&&(d[t].selected=!1)}));var v=c===u.e.single?a:d.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:d,selected:v},(function(){var t=h()(d),a={id:o,name:l||o,value:t[p].value,selected:c===u.e.single&&t[p]||h()(v),selectedIndex:p,type:"select-".concat(c===u.e.single?"one":"multiple"),options:t};c===u.e.checkbox&&(a.checked=t[p].selected);var r=Object(n.a)({},a,{target:Object(n.a)({},a),currentTarget:Object(n.a)({},a),persist:y.a.noop});s(Object(n.a)({},r),p,t),c===u.e.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.options,n=t.selectedOptions;b()(e.options,a)&&b()(e.selectedOptions,n)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t=this.props,a=t.options,r=t.selectedOptions,i=t.variant,o=g()(a)?Object.keys(a).map((function(e){return Object(n.a)({},a[e],{title:e,value:a[e]})})):h()(a),l=r&&"string"===typeof r||"number"===typeof r?[r]:r;o.forEach((function(e,t){var a=e;"string"===typeof a&&(a={title:e,value:e},o[t]=a),a.text=a.text||a.title,a.textContent=a.textContent||a.title,a.label=a.label||a.title,l&&(o[t].selected=l.includes(a.value)||l.includes(a.title))})),e=i===u.e.single?(o.find((function(e){return!0===e.selected}))||{}).title:o.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),this.setState({options:o,selected:e})}},{key:"render",value:function(){var e=this.state,t=e.options,a=e.selected,n=e.isExpanded,r=this.props,i=r.ariaLabel,o=r.className,l=r.isDisabled,s=r.isToggleText,u=r.placeholder,v=r.toggleIcon,h=r.variant,f={};return t&&t.length&&!l||(f.isDisabled=!0),c.a.createElement(d.a,Object.assign({className:"curiosity-select".concat(s?"":"__no-toggle-text"," ").concat(o),variant:h,"aria-label":i,onToggle:this.onToggle,onSelect:this.onSelect,selections:a,isOpen:n,toggleIcon:v,placeholderText:u},f),t&&t.map((function(e){return c.a.createElement(p.a,{key:window.btoa("".concat(e.title,"-").concat(e.value)),id:window.btoa("".concat(e.title,"-").concat(e.value)),value:e.title,"data-value":e.value,"data-title":e.title})}))||[])}}]),a}(c.a.Component);E.defaultProps={ariaLabel:"Select option",className:"",id:y.a.generateId(),isDisabled:!1,isToggleText:!0,name:null,onSelect:y.a.noop,options:[],placeholder:"Select option",selectedOptions:null,toggleIcon:null,variant:u.e.single}},1380:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(11),r=a(9),i=a(2),o=a(0),l=a.n(o),s=a(151),c=a(155),u=a(127),d=a(180),p=a.n(d),v=a(49),h=a(1),f=function(e){var t=e.filter,a=void 0===t?{}:t,n=e.onSort,r=e.query,o=void 0===r?{}:r,l=a.id,c=Object(i.a)({},a),u=c.onSort||n;if(!c.onSort&&n&&(c.onSort=n),u&&"boolean"!==typeof c.sortActive&&(null===o||void 0===o?void 0:o[h.g.SORT])&&p()(null===o||void 0===o?void 0:o[h.g.SORT])===l&&(c.sortActive=!0),u&&!c.sortDirection&&(null===o||void 0===o?void 0:o[h.g.DIRECTION]))switch(null===o||void 0===o?void 0:o[h.g.DIRECTION]){case h.d.DESCENDING:c.sortDirection=s.a.desc;break;default:c.sortDirection=s.a.asc}return!u||c.sortActive||(null===o||void 0===o?void 0:o[h.g.SORT])||!0!==c.isSortDefault||(c.sortActive=!0,c.sortDefaultInitialDirection&&(c.sortDirection=c.sortDefaultInitialDirection)),c},b=function(e){var t=e.filter,a=void 0===t?{}:t,n=Object(i.a)({},a);return Array.isArray(n.transforms)?n.transforms.push(c.a):n.transforms=[c.a],n},m={applySortFilters:f,applyWrappableFilters:b,parseInventoryFilters:function(e){var t=e.filters,a=void 0===t?[]:t,n=e.onSort,o=e.query,l=void 0===o?{}:o;return Object(r.a)(a).map((function(e){var t=Object(i.a)({},e);return t.isSortable&&Object.assign(t,f({filter:t,onSort:n,query:l})),t.isWrappable&&Object.assign(t,b({filter:t})),t}))},parseRowCellsListData:function(e){var t=e.filters,a=void 0===t?[]:t,o=e.cellData,s=void 0===o?{}:o,c=e.session,d=void 0===c?{}:c,p=[],h=[],f={};return Object.entries(s).forEach((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];f[a]={title:Object(v.b)("curiosity-inventory.header",{context:a}),value:r},p.push(f[a].title),h.push(r)})),(null===a||void 0===a?void 0:a.length)&&(p.length=0,h.length=0,a.forEach((function(e){var t,a,n,o,s,c,v=e.id,b=e.cell,m=e.cellWidth,g=e.header,y=e.onSort,E=e.sortActive,O=e.sortDirection,T=e.transforms;f[v]&&(t=null!==(n=null===(o=f[v])||void 0===o?void 0:o.title)&&void 0!==n?n:v,a=null!==(s=null===(c=f[v])||void 0===c?void 0:c.value)&&void 0!==s?s:"");g&&(t="function"===typeof g&&g(Object(i.a)({},f))||g),("string"===typeof t||"number"===typeof t||l.a.isValidElement(t))&&(t={title:t}),t.transforms=[],Array.isArray(T)&&(t.transforms=t.transforms.concat(Object(r.a)(T))),"number"===typeof m&&t.transforms.push(Object(u.a)(m)),"function"===typeof y&&(t=Object(i.a)({},t,{onSort:function(e){return y(Object(i.a)({},f),Object(i.a)({},e,{id:v}))},sortActive:E,sortDirection:O})),b&&(a="function"===typeof b&&b(Object(i.a)({},f),Object(i.a)({},d))||b),("string"===typeof a||"number"===typeof a||l.a.isValidElement(a))&&(a={title:a}),p.push(t),h.push(a)}))),{columnHeaders:p,cells:h,data:Object(i.a)({},f)}}}},1381:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=function(e,t){return e/t+1||1},r={calculateOffsetFromPage:function(e,t){return t*(e-1)||0},calculatePageFromOffset:n,isLastPage:function(e,t,a){return n(e,t)===Math.ceil(a/t)}}},1382:function(e,t,a){"use strict";a.d(t,"b",(function(){return P})),a.d(t,"a",(function(){return P}));var n=a(6),r=a(13),i=a(14),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(69),d=a.n(u),p=a(151),v=a(216),h=a(1378),f=a(3097),b=a(3156),m=a(3095),g=a(3151),y=a(3104),E=a(1773),O=a(180),T=a.n(O),S=a(17),D=a(61),I=a(280),k=a(178),j=a(1374),C=a(1380),R=a(1771),A=a(1381),_=a(1),L=a(49),N=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onColumnSort=function(t,a){var r,i=a.direction,o=a.id,l=e.props.productId,s=Object.values(_.f).find((function(e){return T()(e)===o}));if(s){switch(i){case p.a.desc:r=_.d.DESCENDING;break;default:r=_.d.ASCENDING}D.g.dispatch([Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.DIRECTION],viewId:l},_.g.DIRECTION,r),Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.SORT],viewId:l},_.g.SORT,s)])}},e.onPage=function(t){var a=t.offset,r=t.perPage,i=e.props.productId;D.g.dispatch([Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.OFFSET],viewId:i},_.g.OFFSET,a),Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[_.g.LIMIT],viewId:i},_.g.LIMIT,r)])},e.onUpdateInventoryData=function(){var t=e.props,a=t.getSubscriptionsInventory,n=t.isDisabled,r=t.productId,i=t.query;!n&&r&&a(r,i)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.productId,n=t.query;a===e.productId&&d()(n,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,a=t.filterInventoryData,n=t.listData,r=t.query,i=t.session,o=[],l=n.map((function(t){var n=Object.assign({},t),l=C.a.parseRowCellsListData({filters:C.a.parseInventoryFilters({filters:a,onSort:e.onColumnSort,query:r}),cellData:n,session:i}),s=l.columnHeaders,c=l.cells;return o=s,{cells:c}}));return c.a.createElement(I.b,{borders:!0,variant:v.b.compact,className:"curiosity-inventory-list",columnHeaders:o,rows:l})}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.filterInventoryData,n=e.fulfilled,r=e.isDisabled,i=e.itemCount,o=e.listData,l=e.pending,s=e.perPageDefault,u=e.query,d=e.t;if(r)return c.a.createElement(h.a,{className:"curiosity-inventory-card__disabled"},c.a.createElement(f.a,null,c.a.createElement(b.a,null,d("curiosity-inventory.tab",{context:"disabled"}))));var p=u[_.g.LIMIT]||s,O=u[_.g.OFFSET],T=A.a.isLastPage(O,p,i),S=!0===n&&i<p&&"bodyMinHeight-".concat(p,"-resize")||!0===n&&T&&"bodyMinHeight-".concat(p,"-resize")||"bodyMinHeight-".concat(p);return c.a.createElement(h.a,{className:"curiosity-inventory-card"},c.a.createElement(j.a,{key:"headerMinHeight",updateOnContent:!0},c.a.createElement(m.a,{className:t?"hidden":"","aria-hidden":t||!1},c.a.createElement(g.a,{className:i?"":"transparent","aria-hidden":!i||!1},c.a.createElement(R.a,{isCompact:!0,isDisabled:l||t,itemCount:i,offset:O,onPage:this.onPage,onPerPage:this.onPage,perPage:p})))),c.a.createElement(j.a,{key:S,updateOnContent:!0},c.a.createElement(f.a,null,c.a.createElement("div",{className:t?"blur":"fadein"},l&&c.a.createElement(k.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(e){return e.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||p,variant:v.b.compact}}),!l&&this.renderTable()))),c.a.createElement(j.a,{key:"footerMinHeight",updateOnContent:!0},c.a.createElement(y.a,{className:(t?"hidden":!i&&"transparent")||"","aria-hidden":t||!i||!1},c.a.createElement(E.TableToolbar,{isFooter:!0},c.a.createElement(R.a,{dropDirection:"up",isDisabled:l||t,itemCount:i,offset:O,onPage:this.onPage,onPerPage:this.onPage,perPage:p})))))}}]),a}(c.a.Component);N.defaultProps={error:!1,fulfilled:!1,filterInventoryData:[],getSubscriptionsInventory:S.b.noop,isDisabled:S.b.UI_DISABLED_TABLE_SUBSCRIPTIONS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},t:L.b};var x=D.e.subscriptionsList.makeSubscriptionsList(),P=Object(D.b)(x,(function(e){return{getSubscriptionsInventory:function(t,a){return e(D.d.rhsm.getSubscriptionsInventory(t,a))}}}))(N)},1383:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n=a(11),r=a(6),i=a(2),o=a(13),l=a(14),s=a(15),c=a(16),u=a(0),d=a.n(u),p=a(3172),v=a(3159),h=a(812),f=a(832),b=a(69),m=a.n(b),g=a(61),y=a(49),E=a(17),O=a(1),T=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={},e.onUpdateData=function(){var t=e.props,a=t.getMessageReports,n=t.productId,o=t.query,l=g.a.parseRhsmQuery(o).graphTallyQuery;if(n){var s,c=E.a.getRangedDateTime("CURRENT"),u=c.startDate,d=c.endDate;a(n,Object(i.a)({},l,(s={},Object(r.a)(s,O.g.GRANULARITY,O.b.DAILY),Object(r.a)(s,O.g.START_DATE,u.toISOString()),Object(r.a)(s,O.g.END_DATE,d.toISOString()),s)))}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.query;t.productId===e.productId&&m()(a,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,a=this.props,o=a.appMessages,l=a.messages,s=[];return l.length&&Object.entries(o).forEach((function(e){var a=Object(n.a)(e,2),r=a[0],o=a[1];if(!0!==t[r]&&!0===o){var c=l.find((function(e){return e.id===r}));c&&s.push(Object(i.a)({key:r},c))}})),s.map((function(t){var a=t.key,n=t.message,i=t.title,o=t.variant,l=void 0===o?p.b.info:o,s=d.a.createElement(v.a,{onClose:function(){return e.setState(Object(r.a)({},a,!0))}});return d.a.createElement(p.a,{actionClose:s,key:a,title:i,variant:l},n)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?d.a.createElement("div",{className:"curiosity-banner-messages"},e):null}}]),a}(d.a.Component);T.defaultProps={getMessageReports:E.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(y.b)("curiosity-banner.dataMismatchTitle"),message:Object(y.b)("curiosity-banner.dataMismatchMessage",{context:""!==E.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:E.b.UI_DISPLAY_NAME},[d.a.createElement(h.a,{isInline:!0,component:"a",variant:"link",icon:d.a.createElement(f.a,null),iconPosition:"right",target:"_blank",href:E.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var S=g.e.appMessages.makeAppMessages(),D=Object(g.b)(S,(function(e){return{getMessageReports:function(t,a){return e(g.d.rhsm.getMessageReports(t,a))}}}))(T)},1385:function(e,t,a){"use strict";a.d(t,"b",(function(){return J})),a.d(t,"a",(function(){return J}));var n=a(6),r=a(2),i=a(13),o=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(1378),p=a(3095),v=a(3096),h=a(836),f=a(3151),b=a(3097),m=a(3150),g=a(69),y=a.n(g),E=a(61),O=a(17),T=a(1),S=a(154),D=a.n(S),I=function(e){var t=e.date,a=e.granularity,n=D.a.utc(t);switch(a){case T.b.QUARTERLY:return"".concat(n.format(O.a.timestampQuarterFormats.yearShort)," - ").concat(n.add(1,"quarter").format(O.a.timestampQuarterFormats.yearShort));case T.b.MONTHLY:return n.format(O.a.timestampMonthFormats.yearLong);case T.b.WEEKLY:return"".concat(n.format(O.a.timestampDayFormats.short)," - ").concat(n.add(1,"week").format(O.a.timestampDayFormats.yearShort));case T.b.DAILY:default:return n.format(O.a.timestampDayFormats.long)}},k=function(e){var t=e.tick,a=Math.abs(t),n=t,r="";return a>=Math.pow(10,12)?(r="T",n=t/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(r="B",n=t/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(r="M",n=t/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(r="K",n=t/Math.pow(10,3)),"".concat(n).concat(r)},j={getChartXAxisLabelIncrement:function(e){switch(e){case T.b.DAILY:return 5;case T.b.WEEKLY:case T.b.MONTHLY:return 2;case T.b.QUARTERLY:default:return 1}},getTooltipDate:I,xAxisTickFormat:function(e){var t=e.date,a=e.granularity,n=e.tick,r=e.previousDate;if(t&&a){var i,o=D.a.utc(t),l=0!==n&&Number.parseInt(o.year(),10)!==Number.parseInt(D.a.utc(r).year(),10);switch(a){case T.b.QUARTERLY:i=(i=l?o.format(O.a.timestampQuarterFormats.yearShort):o.format(O.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case T.b.MONTHLY:i=(i=l?o.format(O.a.timestampMonthFormats.yearShort):o.format(O.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case T.b.WEEKLY:case T.b.DAILY:default:i=(i=l?o.format(O.a.timestampDayFormats.yearShort):o.format(O.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},yAxisTickFormat:function(e){var t=e.tick,a=e.locale,n=void 0===a?O.b.UI_LOCALE_DEFAULT:a,r="".concat(new Intl.NumberFormat(n,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(t));return r.length>3&&r.length>="".concat(t).length&&(r=k({tick:t})),r},yAxisTickFormatFallback:k},C=a(49),R=function(e){var t=e.datum,a=e.granularity,n=e.productLabel,r=e.t,i=null,o=[],l=(t||{}).itemsByKey,s=void 0===l?{}:l;return Object.keys(s).forEach((function(e,t){var l,c;0===t&&(i=I({date:null===(c=s[e])||void 0===c?void 0:c.data.date,granularity:a}));var u={color:null===(l=s[e])||void 0===l?void 0:l.color};if(/^threshold/.test(e)){var d,p,v,h=(null===(d=s[e])||void 0===d?void 0:d.data.hasInfinite)&&r("curiosity-graph.infiniteThresholdLabel")||(null!==(p=null===(v=s[e])||void 0===v?void 0:v.data.y)&&void 0!==p?p:r("curiosity-graph.noDataLabel"));u.label=r("curiosity-graph.thresholdLabel"),u.value=h}else{var f,b,m=!1===(null===(f=s[e])||void 0===f?void 0:f.data.hasData)&&r("curiosity-graph.noDataLabel")||(null===(b=s[e])||void 0===b?void 0:b.data.y)||0;u.label=r("curiosity-graph.".concat(e,"Label"),{product:n}),u.value=m}o.push(u)})),u.a.createElement("div",{className:"victory-tooltip"},u.a.createElement("table",{summary:r("curiosity-graph.tooltipSummary")},o.length&&i&&u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{colSpan:2},i)))||null,o.length&&u.a.createElement("tbody",null,o.map((function(e){return u.a.createElement("tr",{key:"tooltip-".concat(e.label)},u.a.createElement("th",null,u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:e.color||"transparent"}}),e.label),u.a.createElement("td",null,e.value))})))||null),!o.length&&r("curiosity-graph.noDataErrorLabel")||null)};R.defaultProps={datum:{},productLabel:"",t:C.b};var A=a(812),_=a(424),L=a(3144),N=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onClick=function(t){var a=e.props,r=a.chart,i=a.viewId,o=r.toggle(t);E.g.dispatch({type:E.f.graph.SET_GRAPH_LEGEND,legend:Object(n.a)({},"".concat(i,"-").concat(t),o)})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chart,a=e.datum,n=e.legend,r=e.viewId;a.dataSets.forEach((function(e){var a=e.id;(n["".concat(r,"-").concat(a)]||t.isToggled(a))&&t.hide(a)}))}},{key:"renderLegendItem",value:function(e){var t=this,a=e.chartId,n=e.color,r=e.isDisabled,i=e.isThreshold,o=e.labelContent,l=e.tooltipContent,s=this.props,c=s.chart,d=s.legend,p=s.viewId,v=d["".concat(p,"-").concat(a)]||c.isToggled(a),h=u.a.createElement(A.a,{onClick:function(){return t.onClick(a)},onKeyPress:function(){return t.onClick(a)},className:"victory-legend-item",tabIndex:0,key:"curiosity-button-".concat(a),variant:"link",component:"a",isDisabled:r,icon:(r||v)&&u.a.createElement(L.a,null)||i&&u.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:r||v?"hidden":"visible",borderTopColor:n}})||u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:r||v?"hidden":"visible",backgroundColor:n}})},o);return l?u.a.createElement(_.a,{key:"curiosity-tooltip-".concat(a),content:u.a.createElement("p",null,l),position:_.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},h):h}},{key:"render",value:function(){var e=this,t=this.props,a=t.datum,n=t.productLabel,r=t.t;return u.a.createElement(u.a.Fragment,null,a.dataSets.map((function(t){var a=t.id,i=t.isThreshold,o=t.stroke,l=t.data,s=!(void 0===l?[]:l).find((function(e){var t=e.y,a=e.hasData;return t>=0&&!0===a||t>=0&&!0===i}))||!1,c=i&&r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:n,context:n})||r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:n,context:n}),u=i&&r(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:n,context:n})||r("curiosity-graph.".concat(a,"LegendTooltip"),{product:n,context:n});return e.renderLegendItem({chartId:a,color:o,labelContent:c,isDisabled:s,isThreshold:i,tooltipContent:u})})))}}]),a}(u.a.Component);N.defaultProps={chart:{hide:O.b.noop,toggle:O.b.noop,isToggled:O.b.noop},datum:{dataSets:[]},legend:{},productLabel:"",t:C.b,viewId:"graphCardLegend"};var x=Object(E.b)((function(e){return{legend:e.graph.legend}}))(N),P=a(3164),w=a(3165),F=a(3166),M=a(3163),U=a(3148),Y=a(3168),H=a(1394),G=a.n(H),q=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={chartWidth:0},e.dataSetsToggle={},e.resizeObserver=O.b.noop,e.containerRef=u.a.createRef(),e.tooltipRef=u.a.createRef(),e.onHide=function(t){e.dataSetsToggle=Object(r.a)({},e.dataSetsToggle,Object(n.a)({},t,!0)),e.forceUpdate()},e.onRevert=function(){e.dataSetsToggle={},e.forceUpdate()},e.onToggle=function(t){var a=!e.dataSetsToggle[t];return e.dataSetsToggle=Object(r.a)({},e.dataSetsToggle,Object(n.a)({},t,a)),e.forceUpdate(),a},e.onResizeContainer=function(){var t=e.state.chartWidth,a=(e.containerRef.current||{}).clientWidth,n=void 0===a?0:a;n!==t&&e.setState({chartWidth:n})},e.getIsToggled=function(t){return e.dataSetsToggle[t]||!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var e=this,t=this.containerRef.current,a=window.ResizeObserver;if(t&&a){var n=new a(this.onResizeContainer);n.observe(t),this.resizeObserver=function(){return n.unobserve(t)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"setChartTicks",value:function(){var e=this.props,t=e.xAxisLabelIncrement,a=e.xAxisTickFormat,n=e.yAxisTickFormat,i=e.dataSets,o={},l={},s=i.length&&i[0].data||[];return i.forEach((function(e){e.xAxisLabelUseDataSet&&(s=e.data)})),o.xAxisTickValues=s.reduce((function(e,a,n){return n%t===0?e.concat(a.x):e}),[]),o.xAxisTickFormat=function(e){return s[e]&&s[e].xAxisLabel||e},"function"===typeof a&&(o.xAxisTickFormat=function(e){var t=o.xAxisTickValues,n=t.indexOf(e),i=Object(r.a)({},s[t[n-1]]||{}),l=Object(r.a)({},s[t[n+1]]||{}),c=Object(r.a)({},s[e]||{});return a({tick:e,previousItem:i,item:c,nextItem:l})}),"function"===typeof n&&(l.yAxisTickFormat=function(e){return n({tick:e})}),Object(r.a)({},o,{},l)}},{key:"getChartTicks",value:function(){var e=this.props.xAxisFixLabelOverlap,t=this.setChartTicks(),a=t.xAxisTickValues,n=t.xAxisTickFormat,r=t.yAxisTickFormat,i={fixLabelOverlap:e},o={dependentAxis:!0,showGrid:!0};return a&&(i.tickValues=a),n&&(i.tickFormat=n),r&&(o.tickFormat=r),{isXAxisTicks:!!a,xAxisProps:i,yAxisProps:o}}},{key:"getChartDomain",value:function(e){var t=e.isXAxisTicks,a=this.dataSetsToggle,n=this.props,i=n.domain,o=n.dataSets;if(Object.keys(i).length)return i;var l={},s={},c=0,u=0;o.filter((function(e){return!0===e.isStacked})).forEach((function(e){if(!a[e.id]&&e.data){var t=0;e.data.forEach((function(a,n){t=a&&a.y>t?a.y:t,n===e.data.length-1&&(u+=t)}))}})),o.forEach((function(e){!a[e.id]&&e.data&&(c=e.data.length>c?e.data.length:c,e.data.forEach((function(e){u=e&&e.y>u?e.y:u})))})),t||(l.x=[0,c||10]);var d=Math.pow(10,Math.floor(Math.log10(u>10&&u||10)));return l.y=[0,Math.ceil((u+1)/d)*d],Object.keys(l).length&&(s.domain=l),{maxY:u,chartDomain:Object(r.a)({},s)}}},{key:"getTooltipData",value:function(){var e=this.dataSetsToggle,t=this.props,a=t.dataSets,n=t.chartTooltip,i=[];return n&&a&&a[0]&&a[0].data&&(i=a[0].data.map((function(t,i){var o={};a.forEach((function(t){!e[t.id]&&t.data&&t.data[i]&&(o[t.id]={color:t.stroke||t.fill||t.color||"",data:G()(t.data[i])})}));var l={datum:{x:t.x,y:t.y,index:i,itemsByKey:o,dataSets:G()(a)}};return{x:t.x,y:null,itemsByKey:o,tooltip:u.a.isValidElement(n)&&u.a.cloneElement(n,Object(r.a)({},l))||n(Object(r.a)({},l))}}))),i}},{key:"renderTooltip",value:function(){var e=this,t=this.dataSetsToggle,a=this.props,n=a.chartTooltip,i=a.dataSets;if(!n||Object.values(t).filter((function(e){return!0===e})).length===i.length)return null;var o=Object(P.a)("voronoi","cursor"),l=this.getTooltipData(),s={},c={},d=function(t){var a=e.containerRef.current,n=e.tooltipRef.current,i=a&&a.getBoundingClientRect()||{},o=n&&n.getBoundingClientRect()||{};i.right&&(s=i),o.right&&(c=o);var d=t.x+10;(s.right<c.right||t.x+c.width>s.right/2)&&(d=t.x-10-c.width);var p=function(e){var t=e.datum,a=l.find((function(e){return e.x===t.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(r.a)({},t));return p?u.a.createElement("g",null,u.a.createElement("foreignObject",{x:d,y:t.y/2.2,width:"100%",height:"100%"},u.a.createElement("div",{ref:e.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml"},p))):u.a.createElement("g",null)};return u.a.createElement(o,{cursorDimension:"x",labels:function(e){return e},labelComponent:u.a.createElement(d,null),voronoiPadding:60})}},{key:"renderLegend",value:function(){var e=this.props,t=e.chartLegend,a=e.dataSets;if(!t)return null;var n={datum:{dataSets:G()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return u.a.isValidElement(t)&&u.a.cloneElement(t,Object(r.a)({},n))||t(Object(r.a)({},n))}},{key:"renderChart",value:function(e){var t=e.stacked,a=void 0!==t&&t,n=this.dataSetsToggle,i=this.props.dataSets,o=[],l=[];return i.forEach((function(e,t){if(!n[e.id]&&e.data&&e.data.length){var a=e.isThreshold&&function(e,t){var a={data:{}};return e.fill&&(a.data.fill=e.fill),e.stroke&&(a.data.stroke=e.stroke),e.strokeWidth&&(a.data.strokeWidth=e.strokeWidth),e.strokeDasharray&&(a.data.strokeDasharray=e.strokeDasharray),u.a.createElement(w.a,{animate:e.animate||!1,interpolation:e.interpolation||"step",key:O.b.generateId(),name:"chartArea-".concat(t,"-threshold"),data:e.data,style:Object(r.a)({},e.style||{},{},a),themeColor:e.themeColor,themeVariant:e.themeVariant})}(e,t)||function(e,t){var a={data:{}};return e.fill&&(a.data.fill=e.fill),e.stroke&&(a.data.stroke=e.stroke),e.strokeWidth&&(a.data.strokeWidth=e.strokeWidth),u.a.createElement(F.a,{animate:e.animate||!1,interpolation:e.interpolation||"monotoneX",key:O.b.generateId(),name:"chartArea-".concat(t,"-area"),data:e.data,style:Object(r.a)({},e.style||{},{},a),themeColor:e.themeColor,themeVariant:e.themeVariant})}(e,t);e.isStacked?l.push(a):o.push(a)}})),a&&l||o}},{key:"render",value:function(){var e=this.state.chartWidth,t=this.props,a=t.chartLegend,n=t.padding,i=t.themeColor,o=this.getChartTicks(),l=o.isXAxisTicks,s=o.xAxisProps,c=o.yAxisProps,d=this.getChartDomain({isXAxisTicks:l}),p=d.chartDomain,v={containerComponent:d.maxY>=0&&this.renderTooltip()||void 0},h=Object(r.a)({padding:n},p,{},v);return u.a.createElement("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef},u.a.createElement(M.a,Object.assign({animate:{duration:0},width:e,themeColor:i},h),u.a.createElement(U.a,Object.assign({},s,{animate:!1})),u.a.createElement(U.a,Object.assign({},c,{animate:!1})),this.renderChart({}),u.a.createElement(Y.a,null,this.renderChart({stacked:!0}))),a&&u.a.createElement("div",{className:"curiosity-chartarea-description victory-legend"},this.renderLegend()))}}]),a}(u.a.Component);q.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var Q=a(178),z=a(1374),V=a(1375),W=Object.values(T.b).map((function(e){return{title:Object(C.b)("curiosity-toolbar.granularity",{context:e}),value:e,selected:!1}})),B=function(e){var t=e.options,a=e.t,i=e.value,o=e.viewId,l=Object(E.h)((function(e){var t,a;return null===(t=e.view.graphTallyQuery)||void 0===t||null===(a=t[T.g.GRANULARITY])||void 0===a?void 0:a[o]}),i),s=t.map((function(e){return Object(r.a)({},e,{selected:e.value===l})}));return u.a.createElement(V.a,{"aria-label":a("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(e){return E.g.dispatch(Object(n.a)({type:E.f.query.SET_QUERY_RHSM_TYPES[T.g.GRANULARITY],viewId:o},T.g.GRANULARITY,e.value))},options:s,selectedOptions:l,placeholder:a("curiosity-toolbar.placeholder",{context:"granularity"})})};B.defaultProps={options:W,t:C.b,value:T.b.DAILY,viewId:"toolbarFieldGranularity"};var K=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).onUpdateGraphData=function(){var t=e.props,a=t.getGraphReportsCapacity,i=t.isDisabled,o=t.productId,l=t.query,s=e.getQueryGranularity();if(!i&&s&&o){var c,u=O.a.getRangedDateTime(s),d=u.startDate,p=u.endDate;a(o,Object(r.a)((c={},Object(n.a)(c,T.g.START_DATE,d.toISOString()),Object(n.a)(c,T.g.END_DATE,p.toISOString()),c),l))}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.productId,n=t.query;a===e.productId&&y()(n,e.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var e=this.props.query;return null===e||void 0===e?void 0:e[T.g.GRANULARITY]}},{key:"renderChart",value:function(){var e=this.props,t=e.filterGraphData,a=e.graphData,n=e.productLabel,r=e.query,i=e.viewId,o=this.getQueryGranularity(),l={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:j.getChartXAxisLabelIncrement(o),xAxisTickFormat:function(e){var t=e.item,a=e.previousItem,n=e.tick;return j.xAxisTickFormat({tick:n,date:t.date,previousDate:a.date,granularity:o})},yAxisTickFormat:j.yAxisTickFormat};return u.a.createElement(q,Object.assign({key:"chart_".concat(JSON.stringify(r))},l,{dataSets:function(e){var a=function(t){var a={data:e[t],id:t,animate:{duration:250,onLoad:{duration:250}},strokeWidth:2,isStacked:!/^threshold/.test(t),isThreshold:/^threshold/.test(t)};return/^threshold/.test(t)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=m.a.value,a.strokeDasharray="4,3",a.strokeWidth=3),a};return t.length?t.map((function(e){return Object.assign(a(e.id),e)})):Object.keys(e).map((function(e){return a(e)}))}(a),chartLegend:function(e){var t=e.chart,a=e.datum;return u.a.createElement(x,{chart:t,datum:a,productLabel:n,viewId:i})},chartTooltip:function(e){var t=e.datum;return u.a.createElement(R,{datum:t,granularity:o,productLabel:n})}}))}},{key:"render",value:function(){var e=this.props,t=e.cardTitle,a=e.children,n=e.error,r=e.isDisabled,i=e.pending,o=e.viewId;if(r)return null;var l=this.getQueryGranularity();return u.a.createElement(d.a,{className:"curiosity-usage-graph"},u.a.createElement(z.a,{key:"headerMinHeight"},u.a.createElement(p.a,null,u.a.createElement(v.a,null,u.a.createElement(h.a,{headingLevel:"h2",size:"lg"},t)),u.a.createElement(f.a,{className:n?"blur":""},a,u.a.createElement(B,{viewId:o,value:l})))),u.a.createElement(z.a,{key:"bodyMinHeight"},u.a.createElement(b.a,null,u.a.createElement("div",{className:n?"blur":"fadein"},i&&u.a.createElement(Q.a,{variant:"graph"}),!i&&this.renderChart()))))}}]),a}(u.a.Component);K.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:O.b.noop,graphData:{},isDisabled:O.b.UI_DISABLED_GRAPH,pending:!1,productLabel:"",t:C.b,viewId:"graphCard"};var X=E.e.graphCard.makeGraphCard(),J=Object(E.b)(X,(function(e){return{getGraphReportsCapacity:function(t,a){return e(E.d.rhsm.getGraphReportsCapacity(t,a))}}}))(K)},1386:function(e,t,a){"use strict";a.d(t,"b",(function(){return K})),a.d(t,"a",(function(){return K}));var n=a(2),r=a(6),i=a(13),o=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(69),p=a.n(d),v=a(151),h=a(216),f=a(1378),b=a(3097),m=a(3156),g=a(3095),y=a(3103),E=a(3151),O=a(3104),T=a(1773),S=a(180),D=a.n(S),I=a(17),k=a(61),j=a(280),C=a(178),R=a(1374),A=a(1770),_=a(1380),L=a(1771),N=a(3176),x=a(812),P=a(351),w=a.n(P),F=a(29),M=a(3155),U=a(21),Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(n.a)({},e),r=a.checked,i=a.currentTarget,o=void 0===i?{}:i,l=a.keyCode,s=a.persist,c=void 0===s?U.a.noop:s,u=a.target,d=void 0===u?{}:u;return t&&c(),{checked:r,currentTarget:o,keyCode:l,id:o.id||o.name,name:o.name,persist:c,value:o.value,target:d}},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"string"===typeof e&&e.length<t||"string"!==typeof e},G=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={updatedValue:null},e.onKeyUp=function(t){var a=e.props,n=a.onClear,r=a.onKeyUp,i=t.currentTarget,o=t.keyCode;r(Y(t,!0)),27===o&&""===i.value&&n(Y(t))},e.onMouseUp=function(t){var a=e.props,r=a.onClear,i=a.onMouseUp,o=t.currentTarget,l=Object(n.a)({},t);i(Y(t,!0)),""!==o.value&&setTimeout((function(){""===o.value&&r(Y(l))}))},e.onChange=function(t,a){var r=e.props.onChange,i=Object(n.a)({},a);e.setState({updatedValue:t},(function(){r(Y(i))}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this.state,a=t.name,n=t.updatedValue,r=this.props,i=r.className,o=r.isDisabled,l=(r.onChange,r.onClear,r.onKeyUp,r.onMouseUp,r.isReadOnly),s=r.type,c=r.value,d=Object(F.a)(r,["className","isDisabled","onChange","onClear","onKeyUp","onMouseUp","isReadOnly","type","value"]),p=a||I.b.generateId();return u.a.createElement(M.a,Object.assign({id:p,name:p,className:"curiosity-text-input ".concat(i),isDisabled:o||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:l||!1,type:s,value:null!==(e=null!==n&&void 0!==n?n:c)&&void 0!==e?e:""},d))}}]),a}(u.a.Component);G.defaultProps={className:"",isDisabled:!1,isReadOnly:!1,name:null,onChange:I.b.noop,onClear:I.b.noop,onKeyUp:I.b.noop,onKeyDown:I.b.noop,onMouseUp:I.b.noop,type:"text",value:""};var q=a(1),Q=a(49),z=function(e){var t=e.value,a=e.t,n=e.viewId,i=Object(k.h)((function(e){var t,a;return null===(t=e.view.inventoryHostsQuery)||void 0===t||null===(a=t[n])||void 0===a?void 0:a[q.g.DISPLAY_NAME]}),t),o=i,l=function(){H(o)||k.g.dispatch([{type:k.f.query.SET_QUERY_CLEAR_INVENTORY_LIST},Object(r.a)({type:k.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[q.g.DISPLAY_NAME],viewId:n},q.g.DISPLAY_NAME,o)])};return u.a.createElement(N.a,null,u.a.createElement(G,{"aria-label":a("curiosity-toolbar.placeholder",{context:"displayName"}),onChange:function(e){o=e.value},onClear:function(){""!==i&&i&&k.g.dispatch([{type:k.f.query.SET_QUERY_CLEAR_INVENTORY_LIST},Object(r.a)({type:k.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[q.g.DISPLAY_NAME],viewId:n},q.g.DISPLAY_NAME,"")])},onKeyUp:function(e){var t;13===e.keyCode&&((null===(t=e.value)||void 0===t?void 0:t.length)&&(o=null===e||void 0===e?void 0:e.value),l())},value:o,placeholder:a("curiosity-toolbar.placeholder",{context:"displayName"}),type:"search"}),u.a.createElement(x.a,{onClick:l,variant:x.b.control,"aria-label":a("curiosity-toolbar.button",{context:"displayName"})},u.a.createElement(w.a,null)))};z.defaultProps={t:Q.b,value:null,viewId:"toolbarFieldDisplayName"};var V=a(1381),W=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onColumnSort=function(t,a){var n,i=a.direction,o=a.id,l=e.props.productId,s=Object.values(q.e).find((function(e){return D()(e)===o}));if(s){switch(i){case v.a.desc:n=q.d.DESCENDING;break;default:n=q.d.ASCENDING}k.g.dispatch([Object(r.a)({type:k.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[q.g.DIRECTION],viewId:l},q.g.DIRECTION,n),Object(r.a)({type:k.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[q.g.SORT],viewId:l},q.g.SORT,s)])}},e.onPage=function(t){var a=t.offset,n=t.perPage,i=e.props.productId;k.g.dispatch([Object(r.a)({type:k.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[q.g.OFFSET],viewId:i},q.g.OFFSET,a),Object(r.a)({type:k.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[q.g.LIMIT],viewId:i},q.g.LIMIT,n)])},e.onUpdateInventoryData=function(){var t=e.props,a=t.getHostsInventory,n=t.isDisabled,r=t.productId,i=t.query;!n&&r&&a(r,i)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.productId,n=t.query;a===e.productId&&p()(n,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,a=t.filterGuestsData,r=t.filterInventoryData,i=t.listData,o=t.query,l=t.session,s=t.settings,c=[],d=i.map((function(t){var i=Object.assign({},t),d=_.a.parseRowCellsListData({filters:_.a.parseInventoryFilters({filters:r,onSort:e.onColumnSort,query:o}),cellData:i,session:l}),p=d.columnHeaders,v=d.cells;c=p;var h=null===i||void 0===i?void 0:i.subscriptionManagerId,f=(null===i||void 0===i?void 0:i.numberOfGuests)>0&&h;return"function"===typeof(null===s||void 0===s?void 0:s.hasGuests)&&(f=s.hasGuests(Object(n.a)({},i),Object(n.a)({},l))),{cells:v,expandedContent:f&&u.a.createElement(A.a,{key:h,filterGuestsData:a,numberOfGuests:null===i||void 0===i?void 0:i.numberOfGuests,id:h,query:o})||void 0}}));return u.a.createElement(j.b,{borders:!0,variant:h.b.compact,className:"curiosity-inventory-list",columnHeaders:c,rows:d})}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.filterInventoryData,n=e.fulfilled,r=e.isDisabled,i=e.itemCount,o=e.listData,l=e.pending,s=e.perPageDefault,c=e.query,d=e.t,p=e.viewId;if(r)return u.a.createElement(f.a,{className:"curiosity-inventory-card__disabled"},u.a.createElement(b.a,null,u.a.createElement(m.a,null,d("curiosity-inventory.tab",{context:"disabled"}))));var v=c[q.g.LIMIT]||s,S=c[q.g.OFFSET],D=V.a.isLastPage(S,v,i),I=!0===n&&i<v&&"bodyMinHeight-".concat(v,"-resize")||!0===n&&D&&"bodyMinHeight-".concat(v,"-resize")||"bodyMinHeight-".concat(v);return u.a.createElement(f.a,{className:"curiosity-inventory-card"},u.a.createElement(R.a,{key:"headerMinHeight",updateOnContent:!0},u.a.createElement(g.a,{className:t?"hidden":"","aria-hidden":t||!1},u.a.createElement(y.a,null,u.a.createElement(z,{viewId:p})),u.a.createElement(E.a,{className:i?"":"transparent","aria-hidden":!i||!1},u.a.createElement(L.a,{isCompact:!0,isDisabled:l||t,itemCount:i,offset:S,onPage:this.onPage,onPerPage:this.onPage,perPage:v})))),u.a.createElement(R.a,{key:I,updateOnContent:!0},u.a.createElement(b.a,null,u.a.createElement("div",{className:t?"blur":"fadein"},l&&u.a.createElement(C.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(e){return e.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||v,variant:h.b.compact}}),!l&&this.renderTable()))),u.a.createElement(R.a,{key:"footerMinHeight",updateOnContent:!0},u.a.createElement(O.a,{className:(t?"hidden":!i&&"transparent")||"","aria-hidden":t||!i||!1},u.a.createElement(T.TableToolbar,{isFooter:!0},u.a.createElement(L.a,{dropDirection:"up",isDisabled:l||t,itemCount:i,offset:S,onPage:this.onPage,onPerPage:this.onPage,perPage:v})))))}}]),a}(u.a.Component);W.defaultProps={error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getHostsInventory:I.b.noop,isDisabled:I.b.UI_DISABLED_TABLE_HOSTS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},settings:{},t:Q.b,viewId:"inventoryList"};var B=k.e.inventoryList.makeInventoryList(),K=Object(k.b)(B,(function(e){return{getHostsInventory:function(t,a){return e(k.d.rhsm.getHostsInventory(t,a))}}}))(W)},1387:function(e,t,a){"use strict";a.d(t,"b",(function(){return D})),a.d(t,"a",(function(){return T}));var n=a(6),r=a(13),i=a(14),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(836),d=a(61),p=a(3157),v=a(3158),h=a(3175),f=a(838),b=a(839),m=a(264),g=a.n(m),y=a(17),E=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={updatedActiveTab:null,updatedTabs:null},e.onTab=function(t){var a=t.index,n=e.props.onTab;e.setState({updatedActiveTab:a},(function(){return n({index:a})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.updatedTabs&&this.setTabData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tabs;g()(e.tabs,t,(function(e,t){if("function"===typeof e&&"function"===typeof t)return e.toString()===t.toString()}))||this.setTabData()}},{key:"setTabData",value:function(){var e=this.props,t=e.activeTab,a=e.defaultActiveTab,n=e.tabs,r=a,i=n.map((function(e,t){var a=e.active,n=e.content,i=e.title;return r=a?t:r,c.a.createElement(p.a,{key:i,eventKey:t,title:c.a.createElement(v.a,null,i)},n)}));"number"===typeof t&&(r=t),this.setState({updatedActiveTab:r,updatedTabs:i})}},{key:"renderTabs",value:function(){var e=this,t=this.state,a=t.updatedActiveTab,n=t.updatedTabs,r=this.props,i=r.className,o=r.hasOverflowScroll;return c.a.createElement(h.a,{className:"curiosity-tabs".concat(o?"":"__no-scroll"," ").concat(i||""),activeKey:a,onSelect:function(t,a){return e.onTab({event:t,index:a})},mountOnEnter:!0,unmountOnExit:!0,inset:{default:"insetNone",md:"insetLg"}},n)}},{key:"render",value:function(){return c.a.createElement(f.a,{className:"curiosity-tabs-container"},c.a.createElement(b.a,{span:12},this.renderTabs()))}}]),a}(c.a.Component);E.defaultProps={activeTab:null,className:"",defaultActiveTab:0,hasOverflowScroll:!1,onTab:y.b.noop,tabs:[]};var O=a(49),T=function(e){e.active;var t=e.children;e.title;return c.a.createElement(c.a.Fragment,null,t)};T.defaultProps={active:!1};var S=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onTab=function(t){var a=t.index,r=e.props.productId;d.g.dispatch({type:d.f.inventory.SET_INVENTORY_TAB,tabs:Object(n.a)({},r,a)})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activeTab,a=e.children,n=e.defaultActiveTab,r=e.isDisabled,i=e.t;if(r)return null;var o=c.a.Children.toArray(a).map((function(e){var t=e.props,a=void 0===t?{}:t;return{active:a.active||!1,content:a.children,title:a.title}}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{headingLevel:"h2",className:"sr-only"},i("curiosity-inventory.tabHeading",{count:o.length})),c.a.createElement(E,{activeTab:t,defaultActiveTab:n,onTab:this.onTab,tabs:o}))}}]),a}(c.a.Component);S.defaultProps={activeTab:0,defaultActiveTab:0,isDisabled:y.b.UI_DISABLED_TABLE,t:O.b};var D=Object(d.b)((function(e,t){var a,n=e.inventory,r=t.productId;return{activeTab:null===(a=n.tabs)||void 0===a?void 0:a[r]}}))(S)},1388:function(e,t,a){"use strict";a.d(t,"b",(function(){return I})),a.d(t,"a",(function(){return I}));var n=a(2),r=a(6),i=a(13),o=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(3152),p=a(3179),v=a(3180),h=a(3153),f=a(1769),b=a(1379),m=a(3154),g=a(1375),y=a(61),E=a(1),O=a(49),T=function(e){switch(e){case E.g.SLA:return{selected:null,options:[{title:Object(O.b)("curiosity-toolbar.slaPremium"),value:E.c.PREMIUM},{title:Object(O.b)("curiosity-toolbar.slaStandard"),value:E.c.STANDARD},{title:Object(O.b)("curiosity-toolbar.slaSelfSupport"),value:E.c.SELF},{title:Object(O.b)("curiosity-toolbar.slaNone"),value:E.c.NONE}]};case E.g.USAGE:return{selected:null,options:[{title:Object(O.b)("curiosity-toolbar.usageDevelopment"),value:E.i.DEVELOPMENT},{title:Object(O.b)("curiosity-toolbar.usageDisaster"),value:E.i.DISASTER},{title:Object(O.b)("curiosity-toolbar.usageProduction"),value:E.i.PRODUCTION},{title:Object(O.b)("curiosity-toolbar.usageUnspecified"),value:E.i.UNSPECIFIED}]};default:return{selected:null,options:[{title:Object(O.b)("curiosity-toolbar.category",{context:E.g.SLA}),value:E.g.SLA},{title:Object(O.b)("curiosity-toolbar.category",{context:E.g.USAGE}),value:E.g.USAGE}]}}},S=a(17),D=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onClear=function(){var t,a=e.props.hardFilterReset,n=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:new Set}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:(t={},Object(r.a)(t,E.g.SLA,null),Object(r.a)(t,E.g.USAGE,null),t)}}];a&&n.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:null}}),e.setDispatch(n,!0)},e.onClearFilter=function(t){var a=e.props,n=a.activeFilters,i=a.currentFilter,o=a.hardFilterReset,l=(T().options.find((function(e){return e.title===t}))||{}).value;if(l){var s=new Set(n);s.delete(l);var c=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:s}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:Object(r.a)({},l,null)}}];if(o){var u=s.size>0&&i||null;c.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:u}})}e.setDispatch(c,!0)}},e.onCategorySelect=function(t){var a=t.value;e.setDispatch({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:a}})},e.onSelect=function(t){var a=t.event,n=t.field,i=e.props.activeFilters,o=a.value,l=new Set(i).add(n);e.setDispatch([{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:l}},{type:y.f.query.SET_QUERY_RHSM_TYPES[n],data:Object(r.a)({},n,o)}],!0)},e}return Object(o.a)(a,[{key:"setDispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.viewId,r=(Array.isArray(e)&&e||[e]).map((function(e){var t=e.type,r=e.data;return Object(n.a)({type:t,viewId:a},r)}));t&&r.push({type:y.f.query.SET_QUERY_RESET_INVENTORY_LIST}),y.g.dispatch(r)}},{key:"setSelectFilter",value:function(e){var t,a,n=this.props.query,r=T(e),i=this.getCurrentFilter();return a=e?"string"===typeof(null===n||void 0===n?void 0:n[e])&&r.options.find((function(t){return t.value===(null===n||void 0===n?void 0:n[e])})):r.options.find((function(e){return e.value===i})),{options:r,optionsSelected:(null===(t=a)||void 0===t?void 0:t.title)&&[a.title]||(null===r||void 0===r?void 0:r.selected)&&[r.selected]||[]}}},{key:"getCurrentFilter",value:function(){var e,t,a=this.props,n=a.currentFilter,r=a.filterOptions;return n||(null===(e=r.find((function(e){return!0===e.selected})))||void 0===e?void 0:e.id)||1===r.length&&(null===(t=r[0])||void 0===t?void 0:t.id)}},{key:"renderSelectFilter",value:function(e){var t=this,a=e.id,n=this.props.t,r=this.setSelectFilter(a),i=r.options,o=r.optionsSelected,l=this.getCurrentFilter();return u.a.createElement(d.a,{key:a,chips:o,deleteChip:this.onClearFilter,categoryName:n("curiosity-toolbar.category",{context:a}),showToolbarItem:l===a},u.a.createElement(g.a,{"aria-label":n("curiosity-toolbar.category",{context:a}),onSelect:function(e){return t.onSelect({event:e,field:a})},selectedOptions:o,placeholder:n("curiosity-toolbar.placeholder",{context:a}),options:i.options}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.filterOptions,n=t.isDisabled,r=t.t;if(n)return null;var i=this.setSelectFilter(),o=i.options,l=i.optionsSelected;return u.a.createElement(p.a,{id:"curiosity-toolbar",className:"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"sm",clearAllFilters:this.onClear},u.a.createElement(v.a,null,u.a.createElement(h.a,{toggleIcon:u.a.createElement(m.a,null),breakpoint:"md"},u.a.createElement(f.a,{variant:"filter-group"},1!==a.length&&u.a.createElement(b.a,null,u.a.createElement(g.a,{"aria-label":r("curiosity-toolbar.category"),onSelect:this.onCategorySelect,selectedOptions:l,placeholder:r("curiosity-toolbar.placeholder"),options:o.options,toggleIcon:u.a.createElement(m.a,null)})),a.map((function(t){var a=t.id,n=t.selected;return e.renderSelectFilter({id:a,selected:n})}))))))}}]),a}(u.a.Component);D.defaultProps={query:{},activeFilters:new Set,currentFilter:null,filterOptions:[{id:E.g.SLA,filterType:"select"},{id:E.g.USAGE,filterType:"select",selected:!0}],hardFilterReset:!1,isDisabled:S.b.UI_DISABLED_TOOLBAR,t:O.b,viewId:"toolbar"};var I=Object(y.b)((function(e,t){var a,r=e.toolbar,i=t.viewId;return Object(n.a)({},null===(a=r.filters)||void 0===a?void 0:a[i])}))(D)},1770:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(9),r=a(6),i=a(2),o=a(13),l=a(14),s=a(15),c=a(16),u=a(0),d=a.n(u),p=a(216),v=a(17),h=a(61),f=a(178),b=a(1380),m=a(1),g=a(280),y=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={currentPage:0,limit:100,previousData:[]},e.onUpdateGuestsData=function(){var t=e.state,a=t.currentPage,n=t.limit,o=e.props,l=o.getHostsInventoryGuests,s=o.query,c=o.id;if(c){var u,d=Object(i.a)({},s,(u={},Object(r.a)(u,m.g.LIMIT,n),Object(r.a)(u,m.g.OFFSET,a*n||0),u));l(c,h.a.parseRhsmQuery(d).inventoryGuestsQuery)}},e.onScroll=function(t){var a=t.target,r=e.state,i=r.currentPage,o=r.limit,l=r.previousData,s=e.props,c=s.numberOfGuests,u=s.pending,d=s.listData,p=a.scrollHeight-a.scrollTop===a.clientHeight;if(c>(i+1)*o&&p&&!u){var v=i+1,h=[].concat(Object(n.a)(l),Object(n.a)(d||[]));e.setState({previousData:h,currentPage:v})}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(e,t){this.state.currentPage!==t.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var e=this.state.currentPage,t=this.props,a=t.filterGuestsData,n=t.listData,r=t.pending;if(e>0&&r){var i=d.a.createElement(f.a,{variant:"table",tableProps:{borders:!1,colCount:(null===a||void 0===a?void 0:a.length)||(null===n||void 0===n?void 0:n[0])&&Object.keys(n[0]).length||1,rowCount:0,variant:p.b.compact}});return d.a.createElement("div",{className:"curiosity-table-scroll-loader__custom"},i)}return null}},{key:"renderTable",value:function(){var e=this.state.previousData,t=this.props,a=t.filterGuestsData,r=t.listData,i=t.numberOfGuests,o=t.session,l=[],s=[].concat(Object(n.a)(e),Object(n.a)(r||[])).map((function(e){var t=Object.assign({},e),n=b.a.parseRowCellsListData({filters:a,cellData:t,session:o}),r=n.columnHeaders,i=n.cells;return l=r,{cells:i}})),c=42*(i+1);return c=c<275&&c||275,d.a.createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(c,"px")}},d.a.createElement("div",{className:"curiosity-table-scroll-list".concat(c<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),s.length&&d.a.createElement(g.a,{borders:!1,variant:p.b.compact,className:"curiosity-guests-list",columnHeaders:l,rows:s})||null))}},{key:"render",value:function(){var e=this.state.currentPage,t=this.props,a=t.error,n=t.filterGuestsData,r=t.listData,i=t.numberOfGuests,o=t.pending,l=t.perPageDefault;return d.a.createElement("div",{className:"fadein ".concat(a?"blur":"")},o&&0===e&&d.a.createElement(f.a,{variant:"table",tableProps:{borders:!1,colCount:(null===n||void 0===n?void 0:n.length)||(null===r||void 0===r?void 0:r[0])&&Object.keys(r[0]).length||1,colWidth:(null===n||void 0===n?void 0:n.length)&&n.map((function(e){return e.cellWidth}))||[],rowCount:i<l?i:l,variant:p.b.compact}}),(!o&&0===e||e>0)&&this.renderTable())}}]),a}(d.a.Component);y.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:v.b.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var E=h.e.guestsList.makeGuestsList(),O=Object(h.b)(E,(function(e){return{getHostsInventoryGuests:function(t,a){return e(h.d.rhsm.getHostsInventoryGuests(t,a))}}}))(y)},1771:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),i=a(3169),o=a(17),l=a(1381),s=function e(t){var a=t.dropDirection,n=t.isDisabled,o=t.isCompact,s=t.itemCount,c=t.offset,u=t.onPage,d=t.onPerPage,p=t.perPage,v=t.variant;return r.a.createElement(i.a,{dropDirection:a,isCompact:o,isDisabled:n||!s,itemCount:s,onSetPage:function(e,t,a){return u({event:e,perPage:a,offset:l.a.calculateOffsetFromPage(t,a)})},onPerPageSelect:function(t,a){return d({event:t,perPage:a,offset:e.defaultProps.offset})},page:l.a.calculatePageFromOffset(c||e.defaultProps.offset,p),perPage:p,variant:v})};s.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:o.b.noop,onPerPage:o.b.noop,perPage:10,variant:null}}}]);
//# sourceMappingURL=1.674ae53a.chunk.js.map