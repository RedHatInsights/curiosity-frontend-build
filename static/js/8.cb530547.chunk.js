(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[8],{2740:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R})),a.d(t,"ConnectedOpenshiftView",(function(){return R})),a.d(t,"OpenshiftView",(function(){return F}));var i,r=a(5),l=a(10),n=a(11),o=a(13),u=a(14),d=a(0),v=a.n(d),c=a(2737),s=a(2738),p=a(546),h=a(2739),y=a(1329),f=a(65),O=a(3),S=a(44),m=a(1331),b=a(1332),E=a(726),I=a(1334),g=a(1333),w=a(7),T=a(27),F=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={option:null,graphFilters:[],inventoryFilters:[]},e.onSelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.state.option,i=e.props,l=i.initialGraphFilters,n=i.initialInventoryFilters,o=i.viewId,u=t.value;if(u!==a){var d=function(e){var t=e.id;return!e.isOptional||new RegExp(u,"i").test(t)},v=l.filter(d),c=n.filter(d);e.setState({option:a,graphFilters:v,inventoryFilters:c},(function(){S.g.dispatch([{type:S.f.query.SET_QUERY_CLEAR_INVENTORY_LIST},Object(r.a)({type:S.f.query.SET_QUERY_RHSM_TYPES[O.f.UOM],viewId:o},O.f.UOM,u)])}))}},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.initialOption;this.onSelect({value:e})}},{key:"renderSelect",value:function(){var e=this.state.option,t=this.props,a=t.initialOption,i=t.t,r=[{title:i("curiosity-toolbar.uom",{context:O.g.CORES}),value:O.g.CORES},{title:i("curiosity-toolbar.uom",{context:O.g.SOCKETS}),value:O.g.SOCKETS}];return v.a.createElement(E.a,{onSelect:this.onSelect,options:r,selectedOptions:e||a})}},{key:"render",value:function(){var e,t=this.state,a=t.graphFilters,i=t.inventoryFilters,r=this.props,l=r.initialGuestsFilters,n=r.initialToolbarFilters,o=r.location,u=r.productLabel,d=r.query,c=r.routeDetail,s=r.t,p=r.viewId,h=""===(null===o||void 0===o||null===(e=o.parsedSearch)||void 0===e?void 0:e.c3),y=S.a.parseRhsmQuery(d),O=y.graphQuery,E=y.inventoryQuery,T=y.toolbarQuery;return v.a.createElement(f.b,null,v.a.createElement(f.a,{productLabel:u},s("curiosity-view.title",{appName:w.b.UI_DISPLAY_NAME,context:u})),v.a.createElement(f.d,null,v.a.createElement(I.a,{filterOptions:n,productId:c.pathParameter,query:T,viewId:p})),v.a.createElement(f.c,null,h&&v.a.createElement(b.a,{key:c.pathParameter,filterGraphData:a,query:O,productId:c.pathParameter,viewId:p,cardTitle:s("curiosity-graph.cardHeading"),productShortLabel:u},this.renderSelect())||v.a.createElement(m.a,{key:c.pathParameter,filterGraphData:a,query:O,productId:c.pathParameter,viewId:p,cardTitle:s("curiosity-graph.cardHeading"),productLabel:u},this.renderSelect())),v.a.createElement(f.c,null,v.a.createElement(g.a,{key:c.pathParameter,filterGuestsData:l,filterInventoryData:i,query:E,productId:c.pathParameter,viewId:p,cardTitle:s("curiosity-inventory.cardHeading")})))}}]),a}(v.a.Component);F.defaultProps={query:(i={},Object(r.a)(i,O.f.DIRECTION,O.d.DESCENDING),Object(r.a)(i,O.f.GRANULARITY,O.b.DAILY),Object(r.a)(i,O.f.LIMIT,10),Object(r.a)(i,O.f.OFFSET,0),Object(r.a)(i,O.f.UOM,O.g.CORES),Object(r.a)(i,O.f.SORT,O.e.DATE),i),initialOption:O.g.CORES,initialGraphFilters:[{id:"cores",isOptional:!0,fill:c.a.value,stroke:s.a.value,color:s.a.value},{id:"sockets",isOptional:!0,fill:c.a.value,stroke:s.a.value,color:s.a.value},{id:"thresholdSockets",isOptional:!0},{id:"thresholdCores",isOptional:!0}],initialGuestsFilters:[{id:"displayName",cell:function(e,t){var a=e.displayName,i=e.inventoryId,r=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===i||void 0===i?void 0:i.value)?r?v.a.createElement(p.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"/insights/inventory/".concat(i.value,"/")},a.value||i.value):(null===a||void 0===a?void 0:a.value)||(null===i||void 0===i?void 0:i.value):null===a||void 0===a?void 0:a.value}},{id:"inventoryId"},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&v.a.createElement(y.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""}}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var a=e.displayName,i=e.inventoryId,r=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===i||void 0===i?void 0:i.value)?r?v.a.createElement(p.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"/insights/inventory/".concat(i.value,"/")},a.value||i.value):(null===a||void 0===a?void 0:a.value)||(null===i||void 0===i?void 0:i.value):null===a||void 0===a?void 0:a.value},isSortable:!0},{id:"hardwareType",cell:function(e){var t=e.hardwareType,a=e.numberOfGuests;return v.a.createElement(v.a.Fragment,null,Object(T.b)("curiosity-inventory.hardwareType",{context:t.value})," ",a.value&&v.a.createElement(h.a,{isRead:!0},a.value)||"")},isSortable:!0},{id:"sockets",isOptional:!0,isSortable:!0},{id:"cores",isOptional:!0,isSortable:!0},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&v.a.createElement(y.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""},isSortable:!0}],initialToolbarFilters:[{id:O.f.SLA}],productLabel:"OpenShift",t:T.b,viewId:"viewOpenShift"};var k=S.e.view.makeView(F.defaultProps),R=Object(S.b)(k)(F)}}]);
//# sourceMappingURL=8.cb530547.chunk.js.map