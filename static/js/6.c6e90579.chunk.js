(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[6],{1025:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var r=a(1),i=a.n(r),n=a(85),o=a(1147),l=a.n(o),c=a(163),s=a(90),u=a(1149),d=a(1152),v=a(1150),b=a(27),p=a(13),y=a(11),j=a(4),h=a(6),O=a(7),g=a(9),f=a(8),I=a(289),m=a(261),D=a(54),S=a(183),T=a(117),x=a.n(T),E=a(61),_=a(5),A=a(10),N=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={},e.onUpdateData=function(){var t=e.props,a=t.getMessageReports,r=t.productId,i=t.query,n=s.a.parseRhsmQuery(i).graphTallyQuery;if(r){var o,l=b.a.getRangedDateTime("CURRENT"),c=l.startDate,u=l.endDate;a(r,Object(j.a)(Object(j.a)({},n),{},(o={},Object(y.a)(o,_.g.GRANULARITY,_.b.DAILY),Object(y.a)(o,_.g.START_DATE,c.toISOString()),Object(y.a)(o,_.g.END_DATE,u.toISOString()),o)))}},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.query;t.productId===e.productId&&x()(a,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,a=this.props,r=a.appMessages,i=a.messages,n=[];return i.length&&Object.entries(r).forEach((function(e){var a=Object(p.a)(e,2),r=a[0],o=a[1];if(!0!==t[r]&&!0===o){var l=i.find((function(e){return e.id===r}));l&&n.push(Object(j.a)({key:r},l))}})),n.map((function(t){var a=t.key,r=t.message,i=t.title,n=t.variant,o=void 0===n?I.b.info:n,l=Object(A.jsx)(m.a,{onClose:function(){return e.setState(Object(y.a)({},a,!0))}});return Object(A.jsx)(I.a,{actionClose:l,title:i,variant:o,children:r},a)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?Object(A.jsx)("div",{className:"curiosity-banner-messages",children:e}):null}}]),a}(i.a.Component);N.defaultProps={getMessageReports:b.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(E.b)("curiosity-banner.dataMismatchTitle"),message:Object(E.b)("curiosity-banner.dataMismatchMessage",{context:""!==b.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:b.b.UI_DISPLAY_NAME},[Object(A.jsx)(D.a,{isInline:!0,component:"a",variant:"link",icon:Object(A.jsx)(S.a,{}),iconPosition:"right",target:"_blank",href:b.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var R=s.e.appMessages.makeAppMessages(),M=Object(s.b)(R,(function(e){return{getMessageReports:function(t,a){return e(s.d.rhsm.getMessageReports(t,a))}}}))(N),P=a(1145),k=a(1151),C=a(1146),F=(a(1144),function(e){var t=e.productConfig,a=e.routeDetail,r=e.t,o=e.toolbarGraph,p=e.toolbarGraphDescription,y=e.toolbarProduct,j=t.graphTallyQuery,h=t.inventoryHostsQuery,O=t.inventorySubscriptionsQuery,g=t.query,f=t.initialToolbarFilters,I=t.initialGraphFilters,m=t.initialGuestsFilters,D=t.initialInventoryFilters,S=t.initialInventorySettings,T=t.initialSubscriptionsInventoryFilters,x=s.a.parseRhsmQuery(g,{graphTallyQuery:j,inventoryHostsQuery:h,inventorySubscriptionsQuery:O}),E=x.query,N=x.graphTallyQuery,R=x.inventoryHostsQuery,F=x.inventorySubscriptionsQuery,L=x.toolbarQuery,U=a.pathParameter,G=a.productParameter,Y=a.viewParameter;if(!U||!Y)return null;var Q=null;p&&(Q=Object(A.jsx)(n.a,{content:Object(A.jsx)("p",{children:r("curiosity-graph.cardHeadingDescription",{context:U})}),position:n.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:Object(A.jsx)("sup",{className:"curiosity-icon__info",children:Object(A.jsx)(l.a,{})})}));var q=Object(A.jsxs)(i.a.Fragment,{children:[r("curiosity-graph.cardHeading",{context:U}),Q]});return Object(A.jsxs)(c.c,{children:[Object(A.jsx)(c.b,{productLabel:G,includeTour:!0,children:r("curiosity-view.title",{appName:b.b.UI_DISPLAY_NAME,context:G})}),Object(A.jsx)(c.d,{children:Object(A.jsx)(M,{productId:U,viewId:Y,query:E})}),Object(A.jsx)(c.f,{children:i.a.isValidElement(y)&&y||!1!==y&&Object(A.jsx)(d.a,{filterOptions:f,productId:U,query:L,viewId:Y})}),Object(A.jsx)(c.e,{children:Object(A.jsx)(u.a,{filterGraphData:I,query:N,productId:U,viewId:Y,cardTitle:q,productLabel:G,children:i.a.isValidElement(o)&&o||!1!==o&&Object(A.jsx)(P.a,{viewId:Y,value:N[_.g.GRANULARITY]})},"graph_".concat(U))}),Object(A.jsx)(c.e,{children:Object(A.jsxs)(k.b,{productId:U,children:[Object(A.jsx)(k.a,{title:r("curiosity-inventory.tab",{context:"hosts"}),children:Object(A.jsx)(v.a,{filterGuestsData:m,filterInventoryData:D,productId:U,settings:S,query:R,viewId:Y},"inv_".concat(U))},"inventory_hosts_".concat(U)),!b.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(A.jsx)(k.a,{title:r("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(A.jsx)(C.a,{filterInventoryData:T,productId:U,query:F,viewId:Y},"subs_".concat(U))},"inventory_subs_".concat(U))]},"inventory_".concat(U))})]})});F.defaultProps={t:E.b,toolbarGraph:null,toolbarGraphDescription:!1,toolbarProduct:null}},2985:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={name:"--pf-chart-color-cyan-100",value:"#a2d9d9",var:"var(--pf-chart-color-cyan-100)"}},2986:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={name:"--pf-chart-color-cyan-300",value:"#009596",var:"var(--pf-chart-color-cyan-300)"}},2987:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={name:"--pf-chart-color-purple-100",value:"#b2b0ea",var:"var(--pf-chart-color-purple-100)"}},2988:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={name:"--pf-chart-color-purple-300",value:"#5752d1",var:"var(--pf-chart-color-purple-300)"}},866:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T})),a.d(t,"ProductViewSatellite",(function(){return T}));var r,i,n,o=a(11),l=a(1),c=a.n(l),s=a(3015),u=a(3016),d=a(2985),v=a(2986),b=a(2987),p=a(2988),y=a(54),j=a(430),h=a(1148),O=a(108),g=a.n(O),f=a(5),I=a(1025),m=a(61),D=a(27),S=a(10),T=function(e){var t=e.productConfig,a=e.routeDetail;return Object(S.jsx)(I.a,{routeDetail:a,productConfig:t})};T.defaultProps={productConfig:{query:(r={},Object(o.a)(r,f.g.START_DATE,D.a.getRangedDateTime(f.b.DAILY).startDate.toISOString()),Object(o.a)(r,f.g.END_DATE,D.a.getRangedDateTime(f.b.DAILY).endDate.toISOString()),r),graphTallyQuery:Object(o.a)({},f.g.GRANULARITY,f.b.DAILY),inventoryHostsQuery:(i={},Object(o.a)(i,f.g.SORT,f.e.LAST_SEEN),Object(o.a)(i,f.g.DIRECTION,f.d.DESCENDING),Object(o.a)(i,f.g.LIMIT,100),Object(o.a)(i,f.g.OFFSET,0),i),inventorySubscriptionsQuery:(n={},Object(o.a)(n,f.g.SORT,f.f.UPCOMING_EVENT_DATE),Object(o.a)(n,f.g.DIRECTION,f.d.DESCENDING),Object(o.a)(n,f.g.LIMIT,100),Object(o.a)(n,f.g.OFFSET,0),n),initialGraphFilters:[{id:"physicalSockets",fill:s.a.value,stroke:u.a.value,color:u.a.value},{id:"hypervisorSockets",fill:d.a.value,stroke:v.a.value,color:v.a.value},{id:"cloudSockets",fill:b.a.value,stroke:p.a.value,color:p.a.value},{id:"thresholdSockets"}],initialGuestsFilters:[{id:"displayName",header:Object(m.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var a=e.displayName,r=e.inventoryId,i=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===r||void 0===r?void 0:r.value)?i?Object(S.jsx)(y.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(D.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(r.value,"/"),children:a.value||r.value}):(null===a||void 0===a?void 0:a.value)||(null===r||void 0===r?void 0:r.value):null===a||void 0===a?void 0:a.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(S.jsx)(h.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var a=e.displayName,r=void 0===a?{}:a,i=e.inventoryId,n=void 0===i?{}:i,o=e.numberOfGuests,l=void 0===o?{}:o,s=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!n.value)return r.value;var u=r.value||n.value;return s&&(u=Object(S.jsx)(y.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(D.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(n.value,"/"),children:r.value||n.value})),Object(S.jsxs)(c.a.Fragment,{children:[u," ",l.value&&Object(m.b)("curiosity-inventory.label",{context:"numberOfGuests",count:l.value},[Object(S.jsx)(j.a,{color:"blue"})])||""]})},isSortable:!0},{id:"measurementType",cell:function(e){var t=e.cloudProvider,a=void 0===t?{}:t,r=e.measurementType,i=void 0===r?{}:r;return Object(S.jsxs)(c.a.Fragment,{children:[Object(m.b)("curiosity-inventory.measurementType",{context:i.value})," ",a.value&&Object(S.jsx)(j.a,{color:"purple",children:Object(m.b)("curiosity-inventory.cloudProvider",{context:a.value})})||""]})},isSortable:!0,cellWidth:20},{id:"sockets",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(S.jsx)(h.DateFormat,{date:null===e||void 0===e||null===(a=e.lastSeen)||void 0===a?void 0:a.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,a;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&g.a.utc(null===e||void 0===e||null===(a=e.upcomingEventDate)||void 0===a?void 0:a.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:f.g.SLA},{id:f.g.USAGE,selected:!0}]}}}}]);
//# sourceMappingURL=6.c6e90579.chunk.js.map