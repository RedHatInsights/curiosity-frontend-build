(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[9],{549:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return T})),i.d(t,"ProductViewRhel",(function(){return T}));var a,n,r,o=i(6),l=i(0),s=i.n(l),c=i(610),u=i(609),d=i(612),v=i(611),b=i(642),p=i(641),y=i(54),j=i(572),O=i(905),h=i(69),g=i.n(h),I=i(3),f=i(629),D=i(35),S=i(18),m=i(4),T=function(e){var t=e.productConfig,i=e.routeDetail;return Object(m.jsx)(f.a,{routeDetail:i,productConfig:t})};T.defaultProps={productConfig:{query:(a={},Object(o.a)(a,I.g.START_DATE,S.a.getRangedDateTime(I.b.DAILY).startDate.toISOString()),Object(o.a)(a,I.g.END_DATE,S.a.getRangedDateTime(I.b.DAILY).endDate.toISOString()),a),graphTallyQuery:Object(o.a)({},I.g.GRANULARITY,I.b.DAILY),inventoryHostsQuery:(n={},Object(o.a)(n,I.g.SORT,I.e.LAST_SEEN),Object(o.a)(n,I.g.DIRECTION,I.d.DESCENDING),Object(o.a)(n,I.g.LIMIT,100),Object(o.a)(n,I.g.OFFSET,0),n),inventorySubscriptionsQuery:(r={},Object(o.a)(r,I.g.SORT,I.f.UPCOMING_EVENT_DATE),Object(o.a)(r,I.g.DIRECTION,I.d.DESCENDING),Object(o.a)(r,I.g.LIMIT,100),Object(o.a)(r,I.g.OFFSET,0),r),initialGraphFilters:[{id:"physicalSockets",fill:c.a.value,stroke:u.a.value,color:u.a.value},{id:"hypervisorSockets",fill:d.a.value,stroke:v.a.value,color:v.a.value},{id:"cloudSockets",fill:b.a.value,stroke:p.a.value,color:p.a.value},{id:"thresholdSockets"}],initialGuestsFilters:[{id:"displayName",header:Object(D.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var i=e.displayName,a=e.inventoryId,n=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===a||void 0===a?void 0:a.value)?n?Object(m.jsx)(y.a,{isInline:!0,component:"a",variant:"link",href:"".concat(S.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(a.value,"/"),children:i.value||a.value}):(null===i||void 0===i?void 0:i.value)||(null===a||void 0===a?void 0:a.value):null===i||void 0===i?void 0:i.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(m.jsx)(O.a,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var i=e.displayName,a=void 0===i?{}:i,n=e.inventoryId,r=void 0===n?{}:n,o=e.numberOfGuests,l=void 0===o?{}:o,c=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!r.value)return a.value;var u=a.value||r.value;return c&&(u=Object(m.jsx)(y.a,{isInline:!0,component:"a",variant:"link",href:"".concat(S.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(r.value,"/"),children:a.value||r.value})),Object(m.jsxs)(s.a.Fragment,{children:[u," ",l.value&&Object(D.b)("curiosity-inventory.label",{context:"numberOfGuests",count:l.value},[Object(m.jsx)(j.a,{color:"blue"})])||""]})},isSortable:!0},{id:"measurementType",cell:function(e){var t=e.cloudProvider,i=void 0===t?{}:t,a=e.measurementType,n=void 0===a?{}:a;return Object(m.jsxs)(s.a.Fragment,{children:[Object(D.b)("curiosity-inventory.measurementType",{context:n.value})," ",i.value&&Object(m.jsx)(j.a,{color:"purple",children:Object(D.b)("curiosity-inventory.cloudProvider",{context:i.value})})||""]})},isSortable:!0,cellWidth:20},{id:"sockets",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(m.jsx)(O.a,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&g.a.utc(null===e||void 0===e||null===(i=e.upcomingEventDate)||void 0===i?void 0:i.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:I.g.SLA},{id:I.g.USAGE,selected:!0}]}}},629:function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var a=i(0),n=i.n(a),r=i(86),o=i(651),l=i.n(o),s=i(97),c=i(56),u=i(652),d=i(655),v=i(653),b=i(18),p=i(10),y=i(6),j=i(1),O=i(13),h=i(14),g=i(17),I=i(16),f=i(303),D=i(293),S=i(54),m=i(573),T=i(52),x=i.n(T),E=i(35),_=i(3),A=i(4),R=function(e){Object(g.a)(i,e);var t=Object(I.a)(i);function i(){var e;Object(O.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={},e.onUpdateData=function(){var t=e.props,i=t.getMessageReports,a=t.productId,n=t.query,r=c.a.parseRhsmQuery(n).graphTallyQuery;if(a){var o,l=b.a.getRangedDateTime("CURRENT"),s=l.startDate,u=l.endDate;i(a,Object(j.a)(Object(j.a)({},r),{},(o={},Object(y.a)(o,_.g.GRANULARITY,_.b.DAILY),Object(y.a)(o,_.g.START_DATE,s.toISOString()),Object(y.a)(o,_.g.END_DATE,u.toISOString()),o)))}},e}return Object(h.a)(i,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.query;t.productId===e.productId&&x()(i,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,i=this.props,a=i.appMessages,n=i.messages,r=[];return n.length&&Object.entries(a).forEach((function(e){var i=Object(p.a)(e,2),a=i[0],o=i[1];if(!0!==t[a]&&!0===o){var l=n.find((function(e){return e.id===a}));l&&r.push(Object(j.a)({key:a},l))}})),r.map((function(t){var i=t.key,a=t.message,n=t.title,r=t.variant,o=void 0===r?f.b.info:r,l=Object(A.jsx)(D.a,{onClose:function(){return e.setState(Object(y.a)({},i,!0))}});return Object(A.jsx)(f.a,{actionClose:l,title:n,variant:o,children:a},i)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?Object(A.jsx)("div",{className:"curiosity-banner-messages",children:e}):null}}]),i}(n.a.Component);R.defaultProps={getMessageReports:b.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(E.b)("curiosity-banner.dataMismatchTitle"),message:Object(E.b)("curiosity-banner.dataMismatchMessage",{context:""!==b.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:b.b.UI_DISPLAY_NAME},[Object(A.jsx)(S.a,{isInline:!0,component:"a",variant:"link",icon:Object(A.jsx)(m.a,{}),iconPosition:"right",target:"_blank",href:b.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var N=c.e.appMessages.makeAppMessages(),M=Object(c.b)(N,(function(e){return{getMessageReports:function(t,i){return e(c.d.rhsm.getMessageReports(t,i))}}}))(R),P=i(649),C=i(654),L=i(650),k=(i(648),function(e){var t=e.productConfig,i=e.routeDetail,a=e.t,o=e.toolbarGraph,p=e.toolbarGraphDescription,y=e.toolbarProduct,j=t.graphTallyQuery,O=t.inventoryHostsQuery,h=t.inventorySubscriptionsQuery,g=t.query,I=t.initialToolbarFilters,f=t.initialGraphFilters,D=t.initialGraphSettings,S=t.initialGuestsFilters,m=t.initialInventoryFilters,T=t.initialInventorySettings,x=t.initialSubscriptionsInventoryFilters,E=c.a.parseRhsmQuery(g,{graphTallyQuery:j,inventoryHostsQuery:O,inventorySubscriptionsQuery:h}),R=E.query,N=E.graphTallyQuery,k=E.inventoryHostsQuery,F=E.inventorySubscriptionsQuery,G=E.toolbarQuery,U=i.pathParameter,Y=i.productParameter,Q=i.viewParameter;if(!U||!Q)return null;var q=null;p&&(q=Object(A.jsx)(r.a,{content:Object(A.jsx)("p",{children:a("curiosity-graph.cardHeadingDescription",{context:U})}),position:r.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:Object(A.jsx)("sup",{className:"curiosity-icon__info",children:Object(A.jsx)(l.a,{})})}));var w=Object(A.jsxs)(n.a.Fragment,{children:[a("curiosity-graph.cardHeading",{context:U}),q]});return Object(A.jsxs)(s.c,{children:[Object(A.jsx)(s.b,{productLabel:Y,includeTour:!0,children:a("curiosity-view.title",{appName:b.b.UI_DISPLAY_NAME,context:Y})}),Object(A.jsx)(s.d,{children:Object(A.jsx)(M,{productId:U,viewId:Q,query:R})}),Object(A.jsx)(s.f,{children:n.a.isValidElement(y)&&y||!1!==y&&Object(A.jsx)(d.a,{filterOptions:I,productId:U,query:G,viewId:Q})}),Object(A.jsx)(s.e,{children:Object(A.jsx)(u.a,{filterGraphData:f,settings:D,query:N,productId:U,viewId:Q,cardTitle:w,productLabel:Y,children:n.a.isValidElement(o)&&o||!1!==o&&Object(A.jsx)(P.a,{viewId:Q,value:N[_.g.GRANULARITY]})},"graph_".concat(U))}),Object(A.jsx)(s.e,{children:Object(A.jsxs)(C.b,{productId:U,children:[Object(A.jsx)(C.a,{title:a("curiosity-inventory.tab",{context:"hosts"}),children:Object(A.jsx)(v.a,{filterGuestsData:S,filterInventoryData:m,productId:U,settings:T,query:k,viewId:Q},"inv_".concat(U))},"inventory_hosts_".concat(U)),!b.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(A.jsx)(C.a,{title:a("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(A.jsx)(L.a,{filterInventoryData:x,productId:U,query:F,viewId:Q},"subs_".concat(U))},"inventory_subs_".concat(U))]},"inventory_".concat(U))})]})});k.defaultProps={t:E.b,toolbarGraph:null,toolbarGraphDescription:!1,toolbarProduct:null}}}]);
//# sourceMappingURL=9.f1619833.chunk.js.map