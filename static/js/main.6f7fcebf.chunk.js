(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[0],{367:function(e,t,a){e.exports=a.p+"static/media/graph4x.4d450825.png"},624:function(e,t,a){e.exports=a.p+"static/media/graph2x.1e4428de.png"},637:function(e,t,a){e.exports=a(932)},930:function(e,t,a){},932:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(32),o=a(129),c=a(215),s=a(6),l=a(44),u=Function.prototype,p=Promise.resolve({}),d={browserExpose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t||{},r=a.limit,n=void 0===r||r,i=a.id,o=void 0===i?"curiosity":i;window[o]=n&&Object(s.a)({},window[o])||Object(s.a)({},window[o],{},e)},generateId:function(e){return"".concat(e||"generatedid","-").concat(Math.ceil(1e5*Math.random())||"")},isPromise:function(e){return"[object Promise]"===Object.prototype.toString.call(e)},noop:u,noopPromise:p,noopTranslate:function(e,t,a){return"t(".concat(e).concat(t&&", ".concat(t)||"").concat(a&&", ".concat(a)||"",")")},DEV_MODE:!1,PROD_MODE:!0,REVIEW_MODE:!1,TEST_MODE:!1,UI_DEPLOY_PATH_PREFIX:"/beta",UI_DISABLED:!1,UI_DISABLED_GRAPH:!1,UI_DISABLED_TABLE:!1,UI_DISABLED_TOOLBAR:!1,UI_DISPLAY_NAME:"Subscription Watch",UI_DISPLAY_CONFIG_NAME:"Subscription Watch",UI_DISPLAY_START_NAME:"Subscription Watch",UI_LOCALE_DEFAULT:"en-US",UI_LOCALE_DEFAULT_DESC:"English",UI_LOGGER_ID:"curiosity",UI_NAME:"subscriptions",UI_PATH:"/beta/apps/subscriptions",UI_VERSION:"0.1.17.975ec6e",UI_WINDOW_ID:"curiosity"};d.browserExpose(Object(s.a)({},d),{limit:!1});var _=a(222),E=a.n(_),h=a(19),A=a(10),m=a(11),S=a(12),f=a(13),R=a(969),T=a(970),v=a(955),O=a(357),P=function(e){var t=e.children;return(n.a.createElement(O.PageHeader,null,n.a.createElement(O.PageHeaderTitle,{title:t})))};P.defaultProps={};var I=a(123),g=a(262),y=function(e){var t=e.children,a=Object(I.a)(e,["children"]);return(n.a.createElement(g.Section,a,t))};y.defaultProps={};var b=function(e){var t=e.children,a=Object(I.a)(e,["children"]);return(n.a.createElement(g.Section,a,t))};b.defaultProps={};var C=function(e){var t=e.children;return(n.a.createElement(n.a.Fragment,null,n.a.Children.toArray(t).filter((function(e){return n.a.isValidElement(e)&&e.type===P})),n.a.Children.toArray(t).filter((function(e){return n.a.isValidElement(e)&&e.type===b})),n.a.createElement(v.a,{className:"curiosity"},n.a.Children.toArray(t).filter((function(e){return e.type!==P&&e.type!==b})))))};C.defaultProps={};var D={RHEL:"RHEL",RHEL_COMPUTE_NODE:"RHEL Compute Node",RHEL_DESKTOP:"RHEL Desktop",RHEL_SERVER:"RHEL Server",RHEL_WORKSTATION:"RHEL Workstation",RHEL_ARM:"RHEL for ARM",RHEL_IBM_POWER:"RHEL for IBM Power",RHEL_IBM_Z:"RHEL for IBM z",RHEL_X86:"RHEL for x86",OPENSHIFT:"OpenShift Container Platform"},N={DAILY:"daily",WEEKLY:"weekly",MONTHLY:"monthly",QUARTERLY:"quarterly"},L={PREMIUM:"premium",STANDARD:"standard",SELF:"self-support",NONE:""},M={RHSM_API_RESPONSE_CAPACITY_DATA:"data",RHSM_API_RESPONSE_CAPACITY_DATA_TYPES:{CLOUD_CORES:"cloud_cores",CLOUD_INSTANCES:"cloud_instance_count",CLOUD_SOCKETS:"cloud_sockets",CORES:"cores",DATE:"date",HYPERVISOR_CORES:"hypervisor_cores",HYPERVISOR_SOCKETS:"hypervisor_sockets",PHYSICAL_CORES:"physical_cores",PHYSICAL_SOCKETS:"physical_sockets",SOCKETS:"sockets",HAS_INFINITE:"has_infinite_quantity"},RHSM_API_RESPONSE_CAPACITY_META:"meta",RHSM_API_RESPONSE_CAPACITY_META_TYPES:{COUNT:"count"},RHSM_API_RESPONSE_ERROR_DATA:"errors",RHSM_API_RESPONSE_ERROR_DATA_TYPES:{CODE:"code",DETAIL:"detail"},RHSM_API_RESPONSE_ERROR_DATA_CODE_TYPES:{GENERIC:"SUBSCRIPTIONS1003",OPTIN:"SUBSCRIPTIONS1004"},RHSM_API_RESPONSE_INVENTORY_DATA:"data",RHSM_API_RESPONSE_INVENTORY_DATA_TYPES:{ID:"insights_id",NAME:"display_name",CORES:"cores",SOCKETS:"sockets",HARDWARE:"hardware_type",LAST_SEEN:"last_seen"},RHSM_API_RESPONSE_INVENTORY_META:"meta",RHSM_API_RESPONSE_INVENTORY_META_TYPES:{COUNT:"count"},RHSM_API_RESPONSE_PRODUCTS_DATA:"data",RHSM_API_RESPONSE_PRODUCTS_DATA_TYPES:{CLOUD_CORES:"cloud_cores",CLOUD_INSTANCES:"cloud_instance_count",CLOUD_SOCKETS:"cloud_sockets",CORES:"cores",DATE:"date",HYPERVISOR_CORES:"hypervisor_cores",HYPERVISOR_SOCKETS:"hypervisor_sockets",PHYSICAL_CORES:"physical_cores",PHYSICAL_SOCKETS:"physical_sockets",SOCKETS:"sockets",HAS_DATA:"has_data"},RHSM_API_RESPONSE_PRODUCTS_META:"meta",RHSM_API_RESPONSE_PRODUCTS_META_TYPES:{COUNT:"count"},RHSM_API_PATH_ID_TYPES:D,RHSM_API_QUERY_GRANULARITY:"granularity",RHSM_API_QUERY_GRANULARITY_TYPES:N,RHSM_API_QUERY_LIMIT:"limit",RHSM_API_QUERY_OFFSET:"offset",RHSM_API_QUERY_OPTIN_TALLY_SYNC:"enable_tally_sync",RHSM_API_QUERY_OPTIN_TALLY_REPORT:"enable_tally_reporting",RHSM_API_QUERY_OPTIN_CONDUIT_SYNC:"enable_conduit_sync",RHSM_API_QUERY_SLA:"sla",RHSM_API_QUERY_SLA_TYPES:L,RHSM_API_QUERY_START_DATE:"beginning",RHSM_API_QUERY_END_DATE:"ending"},U=a(39),k=a(998),j=a(40),Y=a(168),H=(a(372),a(349)),w=a(350),F=a(105),x=a(53),G=a.n(x),V=a(22),Q=a.n(V),B=a(61),W=a.n(B),z=function(){return(d.TEST_MODE?"20190720":d.DEV_MODE&&Object({NODE_ENV:"production",PUBLIC_URL:"/beta/apps/subscriptions",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_UI_VERSION:"0.1.17.975ec6e",REACT_APP_UI_DISABLED_TOOLBAR:"false",REACT_APP_UI_NAME:"subscriptions",REACT_APP_UI_DISPLAY_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_CONFIG_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_START_NAME:"Subscription Watch",REACT_APP_UI_DEPLOY_PATH_PREFIX:"/beta",REACT_APP_UI_DISABLED:"false",REACT_APP_UI_DISABLED_GRAPH:"false",REACT_APP_UI_DISABLED_TABLE:"false",REACT_APP_UI_LOGGER_ID:"curiosity",REACT_APP_UI_WINDOW_ID:"curiosity",REACT_APP_AJAX_TIMEOUT:"60000",REACT_APP_CONFIG_SERVICE_LOCALES_COOKIE:"rh_locale",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG:"en-US",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG_DESC:"English",REACT_APP_CONFIG_SERVICE_LOCALES:"/beta/apps/subscriptions/locales/locales.json",REACT_APP_CONFIG_SERVICE_LOCALES_PATH:"/beta/apps/subscriptions/locales/{{lng}}.json",REACT_APP_CONFIG_SERVICE_LOCALES_EXPIRE:"604800000",REACT_APP_INCLUDE_CONTENT_HEADER:'<esi:include src="/beta/apps/chrome/snippets/head.html" />',REACT_APP_INCLUDE_CONTENT_BODY:'<esi:include src="/beta/apps/chrome/snippets/body.html" />',REACT_APP_SERVICES_RHSM_VERSION:"/api/rhsm-subscriptions/v1/version",REACT_APP_SERVICES_RHSM_REPORT:"/api/rhsm-subscriptions/v1/tally/products/",REACT_APP_SERVICES_RHSM_CAPACITY:"/api/rhsm-subscriptions/v1/capacity/products/",REACT_APP_SERVICES_RHSM_INVENTORY:"/api/rhsm-subscriptions/v1/hosts/products/",REACT_APP_SERVICES_RHSM_OPTIN:"/api/rhsm-subscriptions/v1/opt-in"}).REACT_APP_DEBUG_DEFAULT_DATETIME)||new Date},K=function(e){var t=e.date,a=e.subtract,r=e.measurement;return{startDate:W.a.utc(t).startOf(r).subtract(a,r).toDate(),endDate:W.a.utc(t).startOf(r).endOf("days").toDate()}},X=K({date:z(),subtract:30,measurement:"days"}),q=K({date:z(),subtract:12,measurement:"weeks"}),J=K({date:z(),subtract:12,measurement:"months"}),$=K({date:z(),subtract:36,measurement:"months"}),Z={long:"MMMM",yearLong:"MMMM YYYY",short:"MMM",yearShort:"MMM YYYY"},ee=Object(s.a)({},Z),te={getCurrentDate:z,getRangedDateTime:function(e){switch(e){case N.WEEKLY:return Object(s.a)({},q);case N.MONTHLY:return Object(s.a)({},J);case N.QUARTERLY:return Object(s.a)({},$);case N.DAILY:default:return Object(s.a)({},X)}},setRangedDateTime:K,defaultDateTime:X,monthlyDateTime:J,quarterlyDateTime:$,weeklyDateTime:q,timestampDayFormats:{long:"MMMM D",yearLong:"MMMM D YYYY",short:"MMM D",yearShort:"MMM D YYYY"},timestampMonthFormats:Z,timestampQuarterFormats:ee},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"_FULFILLED")},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"_PENDING")},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"_REJECTED")},ie=function(e){var t=e.payload&&e.payload.response||e.payload||e.response||e,a=e.payload&&e.payload.message&&{message:e.payload.message}||e.message&&{message:e.message};if(Array.isArray(t)){var r=t.find((function(e){return G()(e,"response.status",e.status)>=300})),n=t.find((function(e){return G()(e,"response.status",e.status)<300}));return r&&Object(s.a)({},r,{},a)||n&&Object(s.a)({},n,{},a)}return Object(s.a)({},t,{},a)},oe=function(e){var t=ie(e);if(d.isPromise(t))return null;var a=t.status||0,r=t.statusText||"",n=t.message,i=t.data||null,o=a&&"".concat(a," ")||"";return n&&"string"===typeof n?n.trim():i&&"string"===typeof i?"".concat(o).concat(i).trim():a>=300&&Q()(i)?"".concat(o).concat(JSON.stringify(i)):r&&r.trim()||null},ce=function(e){var t=ie(e);return d.isPromise(t)?null:G()(t,"headers.date",null)},se=function(e){var t=ie(e);return d.isPromise(t)?0:t.status||0},le=function(e,t,a){var r=a.state,n=void 0===r?{}:r,i=a.initialState,o=void 0===i?{}:i,c=a.reset,l=void 0===c||c,u=Object(s.a)({},n);return l&&e?u[e]=Object(s.a)({},n[e],{},o[e],{},t):l&&!e?u=Object(s.a)({},n,{},o,{},t):e?u[e]=Object(s.a)({},n[e],{},t):u=Object(s.a)({},n,{},t),u},ue=function(e){var t=e.payload&&e.payload.response||e.payload||e.response||e;return Array.isArray(t)?t.map((function(e){return e.data||{}})):t.data||{}},pe=ae,de=ne,_e=function(e){return"".concat(e,"_STATUS_RANGE")},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){var a={};return(Array.isArray(e)&&e||Object.values(e)).forEach((function(e){a[e]=t})),a}))},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.type,n=[];e.forEach((function(e){return Array.isArray(e.type)&&e.type.forEach((function(t){return n.push({ref:e.ref,type:t})}))||n.push(e)}));var i=n.filter((function(e){return new RegExp("^(".concat(ne(e.type||e),"|").concat(re(e.type||e),"|").concat(ae(e.type||e),")$")).test(r)})),o=Object(l.a)(i,1),c=o[0];if(!c)return t;var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.a)({},e);return delete t.data,delete t.id,delete t.query,{meta:Object(s.a)({},t),metaData:e.data,metaId:e.id,metaQuery:e.query}},p=Object(s.a)({error:!1,errorMessage:"",fulfilled:!1,pending:!1},u(a.meta)),d=function(e){return a.meta&&a.meta.id&&Object(h.a)({},a.meta.id,Object(s.a)({},p,{},e))||Object(s.a)({},p,{},e)};switch(r){case ne(c.type||c):var _,E=oe(a);return _="cancelled request"===E?{date:ce(a),cancelled:!0}:{error:!0,errorMessage:E,status:se(a)},le(c.ref||null,d(_),{state:t});case re(c.type||c):return le(c.ref||null,d({pending:!0}),{state:t});case ae(c.type||c):return le(c.ref||null,d({date:ce(a),data:ue(a),fulfilled:!0,status:se(a)}),{state:t});default:return t}},Ae=function(e){return ue(e)},me=oe,Se=se,fe=le,Re={dispatchDefaultFailure:!1,pendingSuffix:re(),fulfilledSuffix:pe(),rejectedSuffix:de(),autoDismiss:!0,dismissDelay:3e3,errorTitleKey:"title",errorDescriptionKey:"detail"},Te=[w.a,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.statusSuffix||"STATUS",a=e.rangeSuffix||"STATUS_RANGE",r=e.rangeFiller||"XX",n=e.statusDelimiter||"_",i=e.statusRange||!0,o=e.dispatchStatus||!1;return function(e){var c=e.dispatch;return function(e){return function(l){if(l.payload){var u=Se(Object(s.a)({},l));if(u>99){var p=me(Object(s.a)({},l)),d=Ae(Object(s.a)({},l)),_=Object(s.a)({},l.payload.config||{}),E="".concat(Math.floor(u/100)).concat(r);i&&c({type:"".concat(E).concat(n).concat(a),config:_,data:d,message:p,range:E,status:u}),o&&c({type:"".concat(u).concat(n).concat(t),config:_,data:d,message:p,range:E,status:u})}}return e(l)}}}}(),H.a,Object(F.notificationsMiddleware)(Re)];var ve={STATUS_4XX:"4XX",STATUS_5XX:"5XX"},Oe={SET_GRAPH_LEGEND:"SET_GRAPH_LEGEND"},Pe={PLATFORM_ADD_NOTIFICATION:F.ADD_NOTIFICATION,PLATFORM_REMOVE_NOTIFICATION:F.REMOVE_NOTIFICATION,PLATFORM_CLEAR_NOTIFICATIONS:F.CLEAR_NOTIFICATIONS,PLATFORM_INIT:"PLATFORM_INIT",PLATFORM_APP_NAME:"PLATFORM_APP_NAME",PLATFORM_ON_NAV:"PLATFORM_ON_NAV",PLATFORM_SET_NAV:"PLATFORM_SET_NAV"},Ie={GET_GRAPH_CAPACITY_RHSM:"GET_GRAPH_CAPACITY_RHSM",GET_GRAPH_REPORT_RHSM:"GET_GRAPH_REPORT_RHSM",GET_GRAPH_REPORT_CAPACITY_RHSM:"GET_GRAPH_REPORT_CAPACITY_RHSM",GET_HOSTS_INVENTORY_RHSM:"GET_HOSTS_INVENTORY_RHSM",SET_GRAPH_GRANULARITY_RHSM:"SET_GRAPH_GRANULARITY_RHSM",SET_GRAPH_SLA_RHSM:"SET_GRAPH_SLA_RHSM"},ge={DELETE_USER_OPTIN:"DELETE_USER_OPTIN",GET_USER_OPTIN:"GET_USER_OPTIN",UPDATE_USER_OPTIN:"UPDATE_USER_OPTIN",USER_AUTH:"USER_AUTH",USER_LOCALE:"USER_LOCALE",USER_LOGOUT:"USER_LOGOUT"},ye=Oe,be=Ie,Ce={legend:{},reportCapacity:{}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.SET_GRAPH_LEGEND:return fe("legend",Object(s.a)({},t.legend),{state:e,reset:!1});default:return he([{ref:"reportCapacity",type:Ie.GET_GRAPH_REPORT_CAPACITY_RHSM}],e,t)}};De.initialState=Ce;var Ne={hostsInventory:{}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return he([{ref:"hostsInventory",type:Ie.GET_HOSTS_INVENTORY_RHSM}],e,t)};Le.initialState=Ne;var Me={graphQuery:{}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.SET_GRAPH_GRANULARITY_RHSM:return fe("graphQuery",Object(h.a)({},t.viewId,Object(s.a)({},e.graphQuery[t.viewId],Object(h.a)({},"granularity",t.granularity))),{state:e,reset:!1});case be.SET_GRAPH_SLA_RHSM:return fe("graphQuery",Object(h.a)({},t.viewId,Object(s.a)({},e.graphQuery[t.viewId],Object(h.a)({},"sla",t.sla))),{state:e,reset:!1});default:return e}};Ue.initialState=Me;var ke={optin:{},session:{errorCodes:[],locale:null}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe(ge.USER_LOCALE):return fe("session",{locale:t.payload.data},{state:e,reset:!1});case _e(ve.STATUS_4XX):var a=Se(t);if(401===a||403===a){var r=G()(Ae(t),[M.RHSM_API_RESPONSE_ERROR_DATA],[]);return fe("session",{error:!0,errorCodes:r.map((function(e){return e[M.RHSM_API_RESPONSE_ERROR_DATA_TYPES.CODE]})),errorMessage:me(t),locale:e.session.locale,status:Se(t)},{state:e,initialState:ke})}return e;default:return he([{ref:"optin",type:ge.DELETE_USER_OPTIN},{ref:"optin",type:ge.GET_USER_OPTIN},{ref:"optin",type:ge.UPDATE_USER_OPTIN},{ref:"session",type:ge.USER_AUTH}],e,t)}};je.initialState=ke;var Ye={notifications:F.notifications,graph:De,inventory:Le,user:je,view:Ue},He=Object(Y.c)(Ye),we=Object(Y.d)(He,Y.a.apply(void 0,Object(j.a)(Te))),Fe=a(283),xe=a(43),Ge=a.n(xe),Ve=a(99),Qe=a(455),Be=a.n(Qe),We={PLATFORM_API_RESPONSE_USER_ENTITLEMENTS:"entitlements",PLATFORM_API_RESPONSE_USER_ENTITLEMENTS_APP_TYPES:{ENTITLED:"is_entitled"},PLATFORM_API_RESPONSE_USER_IDENTITY:"identity",PLATFORM_API_RESPONSE_USER_IDENTITY_TYPES:{USER:"user"},PLATFORM_API_RESPONSE_USER_IDENTITY_USER_TYPES:{ORG_ADMIN:"is_org_admin"},PLATFORM_API_RESPONSE_USER_PERMISSION_TYPES:{PERMISSION:"permission",RESOURCE_DEFS:"resourceDefinitions"}},ze=function(){var e=Object(Ve.a)(Ge.a.mark((function e(){var t,a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,a=t.insights,e.prev=1,e.t0=d.DEV_MODE&&Be()({},[We.PLATFORM_API_RESPONSE_USER_IDENTITY,We.PLATFORM_API_RESPONSE_USER_IDENTITY_TYPES.USER,We.PLATFORM_API_RESPONSE_USER_IDENTITY_USER_TYPES.ORG_ADMIN],"true"===Object({NODE_ENV:"production",PUBLIC_URL:"/beta/apps/subscriptions",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_UI_VERSION:"0.1.17.975ec6e",REACT_APP_UI_DISABLED_TOOLBAR:"false",REACT_APP_UI_NAME:"subscriptions",REACT_APP_UI_DISPLAY_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_CONFIG_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_START_NAME:"Subscription Watch",REACT_APP_UI_DEPLOY_PATH_PREFIX:"/beta",REACT_APP_UI_DISABLED:"false",REACT_APP_UI_DISABLED_GRAPH:"false",REACT_APP_UI_DISABLED_TABLE:"false",REACT_APP_UI_LOGGER_ID:"curiosity",REACT_APP_UI_WINDOW_ID:"curiosity",REACT_APP_AJAX_TIMEOUT:"60000",REACT_APP_CONFIG_SERVICE_LOCALES_COOKIE:"rh_locale",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG:"en-US",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG_DESC:"English",REACT_APP_CONFIG_SERVICE_LOCALES:"/beta/apps/subscriptions/locales/locales.json",REACT_APP_CONFIG_SERVICE_LOCALES_PATH:"/beta/apps/subscriptions/locales/{{lng}}.json",REACT_APP_CONFIG_SERVICE_LOCALES_EXPIRE:"604800000",REACT_APP_INCLUDE_CONTENT_HEADER:'<esi:include src="/beta/apps/chrome/snippets/head.html" />',REACT_APP_INCLUDE_CONTENT_BODY:'<esi:include src="/beta/apps/chrome/snippets/body.html" />',REACT_APP_SERVICES_RHSM_VERSION:"/api/rhsm-subscriptions/v1/version",REACT_APP_SERVICES_RHSM_REPORT:"/api/rhsm-subscriptions/v1/tally/products/",REACT_APP_SERVICES_RHSM_CAPACITY:"/api/rhsm-subscriptions/v1/capacity/products/",REACT_APP_SERVICES_RHSM_INVENTORY:"/api/rhsm-subscriptions/v1/hosts/products/",REACT_APP_SERVICES_RHSM_OPTIN:"/api/rhsm-subscriptions/v1/opt-in"}).REACT_APP_DEBUG_ORG_ADMIN),e.t0){e.next=7;break}return e.next=6,a.chrome.auth.getUser();case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 10:throw e.prev=10,e.t1=e.catch(1),new Error("{ getUser } = insights.chrome.auth, ".concat(e.t1.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=window,a=t.insights;try{return d.DEV_MODE&&[Object(h.a)({},We.PLATFORM_API_RESPONSE_USER_PERMISSION_TYPES.PERMISSION,"".concat(d.UI_NAME,":").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/beta/apps/subscriptions",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_UI_VERSION:"0.1.17.975ec6e",REACT_APP_UI_DISABLED_TOOLBAR:"false",REACT_APP_UI_NAME:"subscriptions",REACT_APP_UI_DISPLAY_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_CONFIG_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_START_NAME:"Subscription Watch",REACT_APP_UI_DEPLOY_PATH_PREFIX:"/beta",REACT_APP_UI_DISABLED:"false",REACT_APP_UI_DISABLED_GRAPH:"false",REACT_APP_UI_DISABLED_TABLE:"false",REACT_APP_UI_LOGGER_ID:"curiosity",REACT_APP_UI_WINDOW_ID:"curiosity",REACT_APP_AJAX_TIMEOUT:"60000",REACT_APP_CONFIG_SERVICE_LOCALES_COOKIE:"rh_locale",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG:"en-US",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG_DESC:"English",REACT_APP_CONFIG_SERVICE_LOCALES:"/beta/apps/subscriptions/locales/locales.json",REACT_APP_CONFIG_SERVICE_LOCALES_PATH:"/beta/apps/subscriptions/locales/{{lng}}.json",REACT_APP_CONFIG_SERVICE_LOCALES_EXPIRE:"604800000",REACT_APP_INCLUDE_CONTENT_HEADER:'<esi:include src="/beta/apps/chrome/snippets/head.html" />',REACT_APP_INCLUDE_CONTENT_BODY:'<esi:include src="/beta/apps/chrome/snippets/body.html" />',REACT_APP_SERVICES_RHSM_VERSION:"/api/rhsm-subscriptions/v1/version",REACT_APP_SERVICES_RHSM_REPORT:"/api/rhsm-subscriptions/v1/tally/products/",REACT_APP_SERVICES_RHSM_CAPACITY:"/api/rhsm-subscriptions/v1/capacity/products/",REACT_APP_SERVICES_RHSM_INVENTORY:"/api/rhsm-subscriptions/v1/hosts/products/",REACT_APP_SERVICES_RHSM_OPTIN:"/api/rhsm-subscriptions/v1/opt-in"}).REACT_APP_DEBUG_PERMISSION_RESOURCE,":").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/beta/apps/subscriptions",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_UI_VERSION:"0.1.17.975ec6e",REACT_APP_UI_DISABLED_TOOLBAR:"false",REACT_APP_UI_NAME:"subscriptions",REACT_APP_UI_DISPLAY_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_CONFIG_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_START_NAME:"Subscription Watch",REACT_APP_UI_DEPLOY_PATH_PREFIX:"/beta",REACT_APP_UI_DISABLED:"false",REACT_APP_UI_DISABLED_GRAPH:"false",REACT_APP_UI_DISABLED_TABLE:"false",REACT_APP_UI_LOGGER_ID:"curiosity",REACT_APP_UI_WINDOW_ID:"curiosity",REACT_APP_AJAX_TIMEOUT:"60000",REACT_APP_CONFIG_SERVICE_LOCALES_COOKIE:"rh_locale",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG:"en-US",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG_DESC:"English",REACT_APP_CONFIG_SERVICE_LOCALES:"/beta/apps/subscriptions/locales/locales.json",REACT_APP_CONFIG_SERVICE_LOCALES_PATH:"/beta/apps/subscriptions/locales/{{lng}}.json",REACT_APP_CONFIG_SERVICE_LOCALES_EXPIRE:"604800000",REACT_APP_INCLUDE_CONTENT_HEADER:'<esi:include src="/beta/apps/chrome/snippets/head.html" />',REACT_APP_INCLUDE_CONTENT_BODY:'<esi:include src="/beta/apps/chrome/snippets/body.html" />',REACT_APP_SERVICES_RHSM_VERSION:"/api/rhsm-subscriptions/v1/version",REACT_APP_SERVICES_RHSM_REPORT:"/api/rhsm-subscriptions/v1/tally/products/",REACT_APP_SERVICES_RHSM_CAPACITY:"/api/rhsm-subscriptions/v1/capacity/products/",REACT_APP_SERVICES_RHSM_INVENTORY:"/api/rhsm-subscriptions/v1/hosts/products/",REACT_APP_SERVICES_RHSM_OPTIN:"/api/rhsm-subscriptions/v1/opt-in"}).REACT_APP_DEBUG_PERMISSION_OPERATION))]||a.chrome.getUserPermissions(e)}catch(r){throw new Error("{ getUserPermissions } = insights.chrome, ".concat(r.message))}},Xe={getUser:ze,getUserPermissions:Ke,initializeChrome:function(){var e=Object(Ve.a)(Ge.a.mark((function e(){var t,a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window,a=t.insights,e.prev=1,e.next=4,a.chrome.init();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("{ init } = insights.chrome, ".concat(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),onNavigation:function(e){var t=window.insights;try{return t.chrome.on("APP_NAVIGATION",e)}catch(a){throw new Error("{ on } = insights.chrome, ".concat(a.message))}},setAppName:function(){var e=Object(Ve.a)(Ge.a.mark((function e(){var t,a,r,n,i=arguments;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,a=window,r=a.insights,e.prev=2,e.next=5,r.chrome.identifyApp(t);case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),n="{ identifyApp } = insights.chrome, ".concat(e.t0.message),e.next=12,Promise.reject(n);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),setNavigation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=window,a=t.insights,r=t.location;try{return a.chrome.navigation(e.map((function(e){return Object(s.a)({},e,{active:e.id===r.pathname.split("/").slice(-1)[0]})})))}catch(n){throw new Error("{ navigation } = insights.chrome, ".concat(n.message))}}},qe={addNotification:function(e){return Object(Fe.addNotification)(e)},removeNotification:function(e){return Object(Fe.removeNotification)(e)},clearNotifications:function(){return Object(Fe.clearNotifications)()},initializeChrome:function(){return{type:Pe.PLATFORM_INIT,payload:Xe.initializeChrome()}},onNavigation:function(e){return function(t){return t({type:Pe.PLATFORM_ON_NAV}),Xe.onNavigation(e)}},setAppName:function(e){return{type:Pe.PLATFORM_APP_NAME,payload:Xe.setAppName(e),meta:{data:{name:e}}}},setNavigation:function(e){return function(t){return t({type:Pe.PLATFORM_SET_NAV}),Xe.setNavigation(e)}}},Je=a(358),$e=a.n(Je),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)({headers:{},timeout:"60000"},e)},et={},tt=function(){var e=Object(Ve.a)(Ge.a.mark((function e(t){var a,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.getUser();case 2:return a=Object(s.a)({},t),r=a.url,!0===a.cancel&&(et[r]&&et[r].cancel("cancelled request"),et[r]=Je.CancelToken.source(),a.cancelToken=et[r].token,delete a.cancel),e.abrupt("return",$e()(Ze(a)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at={getApiVersion:function(){return tt({url:"/api/rhsm-subscriptions/v1/version",cancel:!0})},getGraphCapacity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tt({url:"".concat("/api/rhsm-subscriptions/v1/capacity/products/").concat(e),params:t,cancel:!0})},getGraphReports:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tt({url:"".concat("/api/rhsm-subscriptions/v1/tally/products/").concat(e),params:t,cancel:!0})},getHostsInventory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tt({url:"".concat("/api/rhsm-subscriptions/v1/hosts/products/").concat(e),params:t,cancel:!0})}};d.browserExpose({rhsmServices:at});var rt={getGraphReportsCapacity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return a({type:Ie.GET_GRAPH_REPORT_CAPACITY_RHSM,payload:Promise.all([at.getGraphReports(e,t),at.getGraphCapacity(e,t)]),meta:{id:e,query:t,notifications:{}}})}},getHostsInventory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return a({type:Ie.GET_HOSTS_INVENTORY_RHSM,payload:at.getHostsInventory(e,t),meta:{id:e,query:t,notifications:{}}})}}},nt=a(456),it=a.n(nt),ot=a(625),ct=function(){var e=(it.a.get("rh_locale")||"").replace("_","-"),t=e&&ot.a.getLanguageName(e)||null;return t&&{value:e,key:t}||null},st={authorizeUser:function(){var e=Object(Ve.a)(Ge.a.mark((function e(){var t,a,r,n;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="{ auth.getUser, getUserPermissions } = insights.chrome",e.prev=1,e.next=4,ze();case 4:return a=e.sent,e.next=7,Ke(d.UI_NAME);case 7:r=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t=e.t0.message;case 13:if(!Q()(a)||!Object.keys(a).length){e.next=15;break}return e.abrupt("return",Promise.resolve({data:{user:a,permissions:r||[]},message:t,status:200}));case 15:return n=Object(s.a)({},new Error(t),{message:t,status:418}),e.abrupt("return",Promise.reject(n));case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),getLocale:function(){var e={value:d.UI_LOCALE_DEFAULT,key:d.UI_LOCALE_DEFAULT_DESC};return new Promise((function(t){return t({data:ct()||e})}))},logoutUser:function(){return new Promise((function(e){e({})}))},deleteAccountOptIn:function(){return tt({method:"delete",url:"/api/rhsm-subscriptions/v1/opt-in"})},getAccountOptIn:function(){return tt({url:"/api/rhsm-subscriptions/v1/opt-in",cancel:!0})},updateAccountOptIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt({method:"put",url:"/api/rhsm-subscriptions/v1/opt-in",params:e})}};d.browserExpose({userServices:st});var lt=a(281),ut=a(457),pt=a(956),dt=a(136),_t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return d.TEST_MODE?d.noopTranslate(e,t,a):a?n.a.createElement(pt.a,{i18nKey:e,values:t,components:a}):lt.a.t(e,t)},Et=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isLoaded:!1},e.i18nInit=Object(Ve.a)(Ge.a.mark((function t(){var a,r,n,i;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.fallbackLng,n=a.loadPath,i=a.locale,t.prev=1,t.next=4,lt.a.use(ut.a).use(dt.e).init({backend:{loadPath:n},fallbackLng:r,lng:i,debug:!d.PROD_MODE,ns:["default"],defaultNS:"default",react:{useSuspense:!1}});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:e.setState({isLoaded:!0});case 9:case"end":return t.stop()}}),t,null,[[1,6]])}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.i18nInit()}},{key:"componentDidUpdate",value:function(e){this.props.locale!==e.locale&&this.i18nInit()}},{key:"render",value:function(){var e=this.state.isLoaded,t=this.props.children;return e&&n.a.createElement(n.a.Fragment,null,t)||n.a.createElement(n.a.Fragment,null)}}]),a}(n.a.Component);Et.defaultProps={fallbackLng:"en-US",loadPath:"/beta/apps/subscriptions/locales/{{lng}}.json",locale:null};var ht={platform:qe,rhsm:rt,user:{authorizeUser:function(){return function(e){return e({type:ge.USER_AUTH,payload:st.authorizeUser()})}},getLocale:function(){return{type:ge.USER_LOCALE,payload:st.getLocale()}},deleteAccountOptIn:function(){return function(e){return e({type:ge.DELETE_USER_OPTIN,payload:st.deleteAccountOptIn(),meta:{notifications:{}}})}},getAccountOptIn:function(){return function(e){return e({type:ge.GET_USER_OPTIN,payload:st.getAccountOptIn(),meta:{notifications:{}}})}},updateAccountOptIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:ge.UPDATE_USER_OPTIN,payload:st.updateAccountOptIn(e),meta:{query:e,notifications:{rejected:{variant:"danger",title:_t("curiosity-optin.notificationsErrorTitle",{appName:d.UI_DISPLAY_NAME}),description:_t("curiosity-optin.notificationsErrorDescription"),dismissable:!0},fulfilled:{variant:"success",title:_t("curiosity-optin.notificationsSuccessTitle",{appName:d.UI_DISPLAY_NAME}),description:_t("curiosity-optin.notificationsSuccessDescription"),dismissable:!0,autoDismiss:!1}}}})}}}},At=Object(s.a)({},ht),mt=a(169),St=a(60),ft=a.n(St),Rt=a(461),Tt=a.n(Rt),vt={dataId:null,data:{}},Ot=Object(mt.a)([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)({},G()(e,["graph","reportCapacity",t.productId]),{},{viewId:t.viewId,productId:t.productId,graphQuery:t.graphQuery})}],(function(e){var t=e||{},a=t.viewId,r=void 0===a?null:a,n=t.productId,i=void 0===n?null:n,o=t.graphQuery,c=void 0===o?{}:o,u=t.metaId,p=t.metaQuery,d=void 0===p?{}:p,_=Object(I.a)(t,["viewId","productId","graphQuery","metaId","metaQuery"]),E={error:_.error||!1,fulfilled:!1,pending:_.pending||_.cancelled||!1,graphData:{},status:_.status},h=Object(s.a)({},d);delete h[M.RHSM_API_QUERY_START_DATE],delete h[M.RHSM_API_QUERY_END_DATE];var A=r&&i&&vt.data["".concat(r,"_").concat(i,"_").concat(JSON.stringify(c))]||void 0;if(Object.assign(E,Object(s.a)({},A)),r&&vt.dataId!==r&&(vt.dataId=r,vt.data={}),_.fulfilled&&i===u&&ft()(c,h)){var m=Object(l.a)(_.data,2),S=m[0],f=m[1],R=G()(S,[M.RHSM_API_RESPONSE_PRODUCTS_DATA],[]),T=G()(f,[M.RHSM_API_RESPONSE_CAPACITY_DATA],[]);Object.keys(E.graphData).forEach((function(e){E.graphData[e]=[]}));var v=Ee([M.RHSM_API_RESPONSE_PRODUCTS_DATA_TYPES,M.RHSM_API_RESPONSE_CAPACITY_DATA_TYPES]),O=Object(l.a)(v,2),P=O[0],g=void 0===P?{}:P,y=O[1],b=void 0===y?{}:y,C=function(e,t,a){return Object(s.a)({},a,{hasData:e[M.RHSM_API_RESPONSE_PRODUCTS_DATA_TYPES.HAS_DATA]})},D=function(e,t,a){var r=a.date,n=a.x,i=a.y;return{date:r,x:n,y:!0===e[M.RHSM_API_RESPONSE_CAPACITY_DATA_TYPES.HAS_INFINITE]?null:i,hasInfinite:e[M.RHSM_API_RESPONSE_CAPACITY_DATA_TYPES.HAS_INFINITE]}};R.forEach((function(e,t){var a=W.a.utc(e[M.RHSM_API_RESPONSE_PRODUCTS_DATA_TYPES.DATE]).startOf("day").toDate(),r=function(e){var r=e.graphDataObj,n=e.keyPrefix,i=void 0===n?"":n,o=e.customValue,c=void 0===o?null:o;Object.keys(r).forEach((function(e){if("number"===typeof r[e]||void 0===r[e]||null===r[e]){var n,o=Tt()("".concat(i," ").concat(e)).trim();E.graphData[o]||(E.graphData[o]=[]),"number"===typeof r[e]?n=Number.parseInt(r[e],10):void 0===r[e]?n=0:null===r[e]&&(n=r[e]);var l="function"===typeof c&&c(r,e,{date:a,x:t,y:n})||{};E.graphData[o][t]=Object(s.a)({date:a,x:t,y:n},l)}}))};r({graphDataObj:Object(s.a)({},g,{},e),customValue:C}),r({graphDataObj:Object(s.a)({},b,{},T[t]),keyPrefix:"threshold",customValue:D})})),E.fulfilled=!0,vt.data["".concat(r,"_").concat(i,"_").concat(JSON.stringify(c))]=Object(s.a)({},E)}return E})),Pt={graphCard:Ot,makeGraphCard:function(e){return function(t,a){return Object(s.a)({},Ot(t,a,e))}}},It=Object(mt.a)([function(e){var t;return Object(s.a)({},null===(t=e.user)||void 0===t?void 0:t.session)}],(function(e){var t=e||{},a=t.error,r=void 0!==a&&a,n=t.fulfilled,i=void 0!==n&&n,o=t.data,c=void 0===o?{}:o,u=Object(I.a)(t,["error","fulfilled","data"]),p=Object(s.a)({},u,{admin:!1,authorized:!1,entitled:!1,error:r,permissions:[]});if(!r&&i){var _=c.user,E=void 0===_?{}:_,h=c.permissions,A=void 0===h?[]:h,m=G()(E,[We.PLATFORM_API_RESPONSE_USER_IDENTITY,We.PLATFORM_API_RESPONSE_USER_IDENTITY_TYPES.USER,We.PLATFORM_API_RESPONSE_USER_IDENTITY_USER_TYPES.ORG_ADMIN],!1),S=G()(E,[We.PLATFORM_API_RESPONSE_USER_ENTITLEMENTS,d.UI_NAME,We.PLATFORM_API_RESPONSE_USER_ENTITLEMENTS_APP_TYPES.ENTITLED],!1),f=A.map((function(e){var t=e[We.PLATFORM_API_RESPONSE_USER_PERMISSION_TYPES.PERMISSION],a=t.split(":"),r=Object(l.a)(a,3);return{permission:{app:r[0],resource:r[1],operation:r[2],src:t},definitions:e[We.PLATFORM_API_RESPONSE_USER_PERMISSION_TYPES.RESOURCE_DEFS]}}));p.admin=m,p.entitled=S,p.permissions=f,f.find((function(e){var t=e.permission;return"*"===t.resource&&"*"===t.operation}))&&(p.authorized=!0)}return{session:p}})),gt={userSession:It,makeUserSession:function(e){return function(t,a){return Object(s.a)({},It(t,a,e))}}},yt=Object(mt.b)(mt.c,ft.a)([function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return{graphQuery:Object(s.a)({},t.graphQuery,{},G()(e,["view","graphQuery",t.viewId]))}}],(function(e){return{graphQuery:Object(s.a)({},e.graphQuery)}})),bt=Pt,Ct=gt,Dt={view:yt,makeView:function(e){return function(t,a){return Object(s.a)({},yt(t,a,e))}}},Nt=function(e,t){return function(a){return Object(o.connect)(e,t)(!d.TEST_MODE&&Object(k.a)()(a)||a)}},Lt=a(963),Mt=a(964),Ut=a(965),kt=a(966),jt=a(967),Yt=a(962),Ht=a(46),wt=a(15),Ft=a(991),xt=a(225),Gt=a(162),Vt=a.n(Gt),Qt=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isExpanded:!1,options:null,selected:null},e.onSelect=function(t,a){var r=e.state.options,n=e.props,i=n.id,o=n.name,c=n.onSelect,l=n.variant,u=r,p=u.findIndex((function(e){return e.title===a}));u[p].selected=l===wt.e.single||!u[p].selected,l===wt.e.single&&u.forEach((function(e,t){p!==t&&(u[t].selected=!1)}));var _=l===wt.e.single?a:u.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:u,selected:_},(function(){var t=Vt()(u),a={id:i,name:o||i,value:t[p].value,selected:l===wt.e.single&&t[p]||Vt()(_),selectedIndex:p,type:"select-".concat(l===wt.e.single?"one":"multiple"),options:t};l===wt.e.checkbox&&(a.checked=t[p].selected);var r=Object(s.a)({},a,{target:Object(s.a)({},a),currentTarget:Object(s.a)({},a),persist:d.noop});c(Object(s.a)({},r),p,t),l===wt.e.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.options,r=t.selectedOptions;ft()(e.options,a)&&ft()(e.selectedOptions,r)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t=this.props,a=t.options,r=t.selectedOptions,n=t.variant,i=Q()(a)?Object.keys(a).map((function(e){return Object(s.a)({},a[e],{title:e,value:a[e]})})):Vt()(a),o=r&&"string"===typeof r||"number"===typeof r?[r]:r;i.forEach((function(e,t){var a=e;"string"===typeof a&&(a={title:e,value:e},i[t]=a),a.text=a.text||a.title,a.textContent=a.textContent||a.title,a.label=a.label||a.title,o&&(i[t].selected=o.includes(a.value)||o.includes(a.title))})),e=n===wt.e.single?(i.find((function(e){return!0===e.selected}))||{}).title:i.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),this.setState({options:i,selected:e})}},{key:"render",value:function(){var e=this.state,t=e.options,a=e.selected,r=e.isExpanded,i=this.props,o=i.ariaLabel,c=i.className,s=i.isDisabled,l=i.placeholder,u=i.variant,p={};return t&&t.length&&!s||(p.isDisabled=!0),n.a.createElement(Ft.a,Object.assign({className:"curiosity-select ".concat(c),variant:u,"aria-label":o,onToggle:this.onToggle,onSelect:this.onSelect,selections:a,isOpen:r,placeholderText:l},p),t&&t.map((function(e){return n.a.createElement(xt.a,{key:window.btoa(e.title),value:e.title,"data-value":e.value,"data-title":e.title})}))||[])}}]),a}(n.a.Component);Qt.defaultProps={ariaLabel:"Select option",className:"",id:d.generateId(),isDisabled:!1,name:null,onSelect:d.noop,options:[],selectedOptions:null,placeholder:"Select option",variant:wt.e.single};var Bt=function(e){var t=e.date,a=e.granularity,r=W.a.utc(t);switch(a){case N.QUARTERLY:return"".concat(r.format(te.timestampQuarterFormats.yearShort)," - ").concat(r.add(1,"quarter").format(te.timestampQuarterFormats.yearShort));case N.MONTHLY:return r.format(te.timestampMonthFormats.yearLong);case N.WEEKLY:return"".concat(r.format(te.timestampDayFormats.short)," - ").concat(r.add(1,"week").format(te.timestampDayFormats.yearShort));case N.DAILY:default:return r.format(te.timestampDayFormats.long)}},Wt=function(e){var t=e.tick,a=Math.abs(t),r=t,n="";return a>=Math.pow(10,12)?(n="T",r=t/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(n="B",r=t/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(n="M",r=t/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(n="K",r=t/Math.pow(10,3)),"".concat(r).concat(n)},zt={getChartXAxisLabelIncrement:function(e){switch(e){case N.DAILY:return 5;case N.WEEKLY:case N.MONTHLY:return 2;case N.QUARTERLY:default:return 1}},getTooltipDate:Bt,xAxisTickFormat:function(e){var t=e.date,a=e.granularity,r=e.tick,n=e.previousDate;if(t&&a){var i,o=W.a.utc(t),c=0!==r&&Number.parseInt(o.year(),10)!==Number.parseInt(W.a.utc(n).year(),10);switch(a){case N.QUARTERLY:i=(i=c?o.format(te.timestampQuarterFormats.yearShort):o.format(te.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case N.MONTHLY:i=(i=c?o.format(te.timestampMonthFormats.yearShort):o.format(te.timestampMonthFormats.short)).replace(/\s/,"\n");break;case N.WEEKLY:case N.DAILY:default:i=(i=c?o.format(te.timestampDayFormats.yearShort):o.format(te.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},yAxisTickFormat:function(e){var t=e.tick,a=e.locale,r=void 0===a?d.UI_LOCALE_DEFAULT:a,n="".concat(new Intl.NumberFormat(r,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(t));return n.length>3&&n.length>="".concat(t).length&&(n=Wt({tick:t})),n},yAxisTickFormatFallback:Wt},Kt=function(e){return"default"===e?{selected:N.DAILY,options:[{title:_t("curiosity-graph.dropdownDaily"),value:N.DAILY,selected:!0},{title:_t("curiosity-graph.dropdownWeekly"),value:N.WEEKLY},{title:_t("curiosity-graph.dropdownMonthly"),value:N.MONTHLY},{title:_t("curiosity-graph.dropdownQuarterly"),value:N.QUARTERLY}]}:{options:[]}},Xt=function(e){var t=e.datum,a=e.granularity,r=e.product,i=e.t,o=null,c=[],s=(t||{}).itemsByKey,l=void 0===s?{}:s;return Object.keys(l).forEach((function(e,t){var n,s;0===t&&(o=Bt({date:null===(s=l[e])||void 0===s?void 0:s.data.date,granularity:a}));var u={color:null===(n=l[e])||void 0===n?void 0:n.color};if(/^threshold/.test(e)){var p,d,_,E=(null===(p=l[e])||void 0===p?void 0:p.data.hasInfinite)&&i("curiosity-graph.infiniteThresholdLabel")||(null!==(d=null===(_=l[e])||void 0===_?void 0:_.data.y)&&void 0!==d?d:i("curiosity-graph.noDataLabel"));u.label=i("curiosity-graph.thresholdLabel"),u.value=E}else{var h,A,m=!1===(null===(h=l[e])||void 0===h?void 0:h.data.hasData)&&i("curiosity-graph.noDataLabel")||(null===(A=l[e])||void 0===A?void 0:A.data.y)||0;u.label=i("curiosity-graph.".concat(e,"Label"),{product:r}),u.value=m}c.push(u)})),n.a.createElement("div",{className:"victory-tooltip"},n.a.createElement("table",{summary:i("curiosity-graph.tooltipSummary")},c.length&&o&&n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:2},o)))||null,c.length&&n.a.createElement("tbody",null,c.map((function(e){return n.a.createElement("tr",{key:"tooltip-".concat(e.label)},n.a.createElement("th",null,n.a.createElement("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:e.color||"transparent"}}),e.label),n.a.createElement("td",null,e.value))})))||null),!c.length&&i("curiosity-graph.noDataErrorLabel")||null)};Xt.defaultProps={datum:{},product:"",t:d.noopTranslate};var qt=Object(k.a)()(Xt),Jt=a(626),$t=a(627),Zt=a(957),ea=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).onClick=function(t){var a=e.props,r=a.chart,n=a.viewId,i=r.toggle(t);we.dispatch({type:ye.SET_GRAPH_LEGEND,legend:Object(h.a)({},"".concat(n,"-").concat(t),i)})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chart,a=e.datum,r=e.legend,n=e.viewId;a.dataSets.forEach((function(e){var a=e.id;(r["".concat(n,"-").concat(a)]||t.isToggled(a))&&t.hide(a)}))}},{key:"renderLegendItem",value:function(e){var t=this,a=e.chartId,r=e.color,i=e.isDisabled,o=e.isThreshold,c=e.labelContent,s=e.tooltipContent,l=this.props,u=l.chart,p=l.legend,d=l.viewId,_=p["".concat(d,"-").concat(a)]||u.isToggled(a),E=n.a.createElement(Jt.a,{onClick:function(){return t.onClick(a)},onKeyPress:function(){return t.onClick(a)},className:"victory-legend-item",tabIndex:0,key:"curiosity-button-".concat(a),variant:"link",component:"a",isDisabled:i,icon:(i||_)&&n.a.createElement(Zt.a,null)||o&&n.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:i||_?"hidden":"visible",borderTopColor:r}})||n.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:i||_?"hidden":"visible",backgroundColor:r}})},c);return s?n.a.createElement($t.a,{key:"curiosity-tooltip-".concat(a),content:n.a.createElement("p",null,s),position:$t.b.top,distance:0,entryDelay:100,exitDelay:0},E):E}},{key:"render",value:function(){var e=this,t=this.props,a=t.datum,r=t.product,i=t.t;return n.a.createElement(n.a.Fragment,null,a.dataSets.map((function(t){var a=t.id,n=t.isThreshold,o=t.stroke,c=t.data,s=!(void 0===c?[]:c).find((function(e){var t=e.y,a=e.hasData;return t>=0&&!0===a||t>=0&&!0===n}))||!1,l=n&&i(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:r,context:r})||i(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:r,context:r}),u=n&&i(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:r,context:r})||i("curiosity-graph.".concat(a,"LegendTooltip"),{product:r,context:r});return e.renderLegendItem({chartId:a,color:o,labelContent:l,isDisabled:s,isThreshold:n,tooltipContent:u})})))}}]),a}(n.a.Component);ea.defaultProps={chart:{hide:d.noop,toggle:d.noop,isToggled:d.noop},datum:{dataSets:[]},legend:{},product:"",t:d.noopTranslate,viewId:"graphCardLegend"};var ta=Nt((function(e){return{legend:e.graph.legend}}))(ea),aa=a(990),ra=a(992),na=a(994),ia=a(989),oa=a(961),ca=a(997),sa=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={chartWidth:0},e.dataSetsToggle={},e.resizeObserver=d.noop,e.containerRef=n.a.createRef(),e.tooltipRef=n.a.createRef(),e.onHide=function(t){e.dataSetsToggle=Object(s.a)({},e.dataSetsToggle,Object(h.a)({},t,!0)),e.forceUpdate()},e.onRevert=function(){e.dataSetsToggle={},e.forceUpdate()},e.onToggle=function(t){var a=!e.dataSetsToggle[t];return e.dataSetsToggle=Object(s.a)({},e.dataSetsToggle,Object(h.a)({},t,a)),e.forceUpdate(),a},e.onResizeContainer=function(){var t=e.state.chartWidth,a=(e.containerRef.current||{}).clientWidth,r=void 0===a?0:a;r!==t&&e.setState({chartWidth:r})},e.getIsToggled=function(t){return e.dataSetsToggle[t]||!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var e=this,t=this.containerRef.current,a=window.ResizeObserver;if(t&&a){var r=new a(this.onResizeContainer);r.observe(t),this.resizeObserver=function(){return r.unobserve(t)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"setChartTicks",value:function(){var e=this.props,t=e.xAxisLabelIncrement,a=e.xAxisTickFormat,r=e.yAxisTickFormat,n=e.dataSets,i={},o={},c=n.length&&n[0].data||[];return n.forEach((function(e){e.xAxisLabelUseDataSet&&(c=e.data)})),i.xAxisTickValues=c.reduce((function(e,a,r){return r%t===0?e.concat(a.x):e}),[]),i.xAxisTickFormat=function(e){return c[e]&&c[e].xAxisLabel||e},"function"===typeof a&&(i.xAxisTickFormat=function(e){var t=i.xAxisTickValues,r=t.indexOf(e),n=Object(s.a)({},c[t[r-1]]||{}),o=Object(s.a)({},c[t[r+1]]||{}),l=Object(s.a)({},c[e]||{});return a({tick:e,previousItem:n,item:l,nextItem:o})}),"function"===typeof r&&(o.yAxisTickFormat=function(e){return r({tick:e})}),Object(s.a)({},i,{},o)}},{key:"getChartTicks",value:function(){var e=this.props.xAxisFixLabelOverlap,t=this.setChartTicks(),a=t.xAxisTickValues,r=t.xAxisTickFormat,n=t.yAxisTickFormat,i={fixLabelOverlap:e},o={dependentAxis:!0,showGrid:!0};return a&&(i.tickValues=a),r&&(i.tickFormat=r),n&&(o.tickFormat=n),{isXAxisTicks:!!a,xAxisProps:i,yAxisProps:o}}},{key:"getChartDomain",value:function(e){var t=e.isXAxisTicks,a=this.dataSetsToggle,r=this.props,n=r.domain,i=r.dataSets;if(Object.keys(n).length)return n;var o={},c={},l=0,u=0;i.filter((function(e){return!0===e.isStacked})).forEach((function(e){if(!a[e.id]&&e.data){var t=0;e.data.forEach((function(a,r){t=a&&a.y>t?a.y:t,r===e.data.length-1&&(u+=t)}))}})),i.forEach((function(e){!a[e.id]&&e.data&&(l=e.data.length>l?e.data.length:l,e.data.forEach((function(e){u=e&&e.y>u?e.y:u})))})),t||(o.x=[0,l||10]);var p=Math.pow(10,Math.floor(Math.log10(u>10&&u||10)));return o.y=[0,Math.ceil((u+1)/p)*p],Object.keys(o).length&&(c.domain=o),{maxY:u,chartDomain:Object(s.a)({},c)}}},{key:"getTooltipData",value:function(){var e=this.dataSetsToggle,t=this.props,a=t.dataSets,r=t.chartTooltip,i=[];return r&&a&&a[0]&&a[0].data&&(i=a[0].data.map((function(t,i){var o={};a.forEach((function(t){!e[t.id]&&t.data&&t.data[i]&&(o[t.id]={color:t.stroke||t.fill||t.color||"",data:Vt()(t.data[i])})}));var c={datum:{x:t.x,y:t.y,index:i,itemsByKey:o,dataSets:Vt()(a)}};return{x:t.x,y:null,itemsByKey:o,tooltip:n.a.isValidElement(r)&&n.a.cloneElement(r,Object(s.a)({},c))||r(Object(s.a)({},c))}}))),i}},{key:"renderTooltip",value:function(){var e=this,t=this.dataSetsToggle,a=this.props,r=a.chartTooltip,i=a.dataSets;if(!r||Object.values(t).filter((function(e){return!0===e})).length===i.length)return null;var o=Object(aa.a)("voronoi","cursor"),c=this.getTooltipData(),l={},u={},p=function(t){var a=e.containerRef.current,r=e.tooltipRef.current,i=a&&a.getBoundingClientRect()||{},o=r&&r.getBoundingClientRect()||{};i.right&&(l=i),o.right&&(u=o);var p=t.x+10;(l.right<u.right||t.x+u.width>l.right/2)&&(p=t.x-10-u.width);var d=function(e){var t=e.datum,a=c.find((function(e){return e.x===t.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(s.a)({},t));return d?n.a.createElement("g",null,n.a.createElement("foreignObject",{x:p,y:t.y/2.2,width:"100%",height:"100%"},n.a.createElement("div",{ref:e.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml"},d))):n.a.createElement("g",null)};return n.a.createElement(o,{cursorDimension:"x",labels:function(e){return e},labelComponent:n.a.createElement(p,null),voronoiPadding:60})}},{key:"renderLegend",value:function(){var e=this.props,t=e.chartLegend,a=e.dataSets;if(!t)return null;var r={datum:{dataSets:Vt()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return n.a.isValidElement(t)&&n.a.cloneElement(t,Object(s.a)({},r))||t(Object(s.a)({},r))}},{key:"renderChart",value:function(e){var t=e.stacked,a=void 0!==t&&t,r=this.dataSetsToggle,i=this.props.dataSets,o=[],c=[];return i.forEach((function(e,t){if(!r[e.id]&&e.data&&e.data.length){var a=e.isThreshold&&function(e,t){var a={data:{}};return e.fill&&(a.data.fill=e.fill),e.stroke&&(a.data.stroke=e.stroke),e.strokeWidth&&(a.data.strokeWidth=e.strokeWidth),e.strokeDasharray&&(a.data.strokeDasharray=e.strokeDasharray),n.a.createElement(ra.a,{animate:e.animate||!1,interpolation:e.interpolation||"step",key:d.generateId(),name:"chartArea-".concat(t,"-threshold"),data:e.data,style:Object(s.a)({},e.style||{},{},a),themeColor:e.themeColor,themeVariant:e.themeVariant})}(e,t)||function(e,t){var a={data:{}};return e.fill&&(a.data.fill=e.fill),e.stroke&&(a.data.stroke=e.stroke),n.a.createElement(na.a,{animate:e.animate||!1,interpolation:e.interpolation||"monotoneX",key:d.generateId(),name:"chartArea-".concat(t,"-area"),data:e.data,style:Object(s.a)({},e.style||{},{},a),themeColor:e.themeColor,themeVariant:e.themeVariant})}(e,t);e.isStacked?c.push(a):o.push(a)}})),a&&c||o}},{key:"render",value:function(){var e=this.state.chartWidth,t=this.props,a=t.chartLegend,r=t.padding,i=t.themeColor,o=this.getChartTicks(),c=o.isXAxisTicks,l=o.xAxisProps,u=o.yAxisProps,p=this.getChartDomain({isXAxisTicks:c}),d=p.chartDomain,_={containerComponent:p.maxY>=0&&this.renderTooltip()||void 0},E=Object(s.a)({padding:r},d,{},_);return n.a.createElement("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef},n.a.createElement(ia.a,Object.assign({animate:{duration:0},width:e,themeColor:i},E),n.a.createElement(oa.a,Object.assign({},l,{animate:!1})),n.a.createElement(oa.a,Object.assign({},u,{animate:!1})),this.renderChart({}),n.a.createElement(ca.a,null,this.renderChart({stacked:!0}))),a&&n.a.createElement("div",{className:"curiosity-chartarea-description victory-legend"},this.renderLegend()))}}]),a}(n.a.Component);sa.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var la=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).onUpdateGraphData=function(){var t=e.props,a=t.getGraphReportsCapacity,r=t.graphQuery,n=t.isDisabled,i=t.productId,o=r&&r[M.RHSM_API_QUERY_GRANULARITY];if(!n&&o&&i){var c,l=te.getRangedDateTime(o),u=l.startDate,p=l.endDate;a(i,Object(s.a)((c={},Object(h.a)(c,M.RHSM_API_QUERY_START_DATE,u.toISOString()),Object(h.a)(c,M.RHSM_API_QUERY_END_DATE,p.toISOString()),c),r))}},e.onGranularitySelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.value,r=e.props.viewId;we.dispatch(Object(h.a)({type:be.SET_GRAPH_GRANULARITY_RHSM,viewId:r},M.RHSM_API_QUERY_GRANULARITY,a))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.graphQuery;t.productId===e.productId&&ft()(a,e.graphQuery)||this.onUpdateGraphData()}},{key:"renderChart",value:function(){var e=this.props,t=e.filterGraphData,a=e.graphData,r=e.graphQuery,i=e.selectOptionsType,o=e.productShortLabel,c=e.viewId,s=r&&r[M.RHSM_API_QUERY_GRANULARITY],l=Kt(i).selected,u=s||l,p={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:zt.getChartXAxisLabelIncrement(u),xAxisTickFormat:function(e){var t=e.item,a=e.previousItem,r=e.tick;return zt.xAxisTickFormat({tick:r,date:t.date,previousDate:a.date,granularity:u})},yAxisTickFormat:zt.yAxisTickFormat};return n.a.createElement(sa,Object.assign({key:d.generateId()},p,{dataSets:function(e){var a=function(t){var a={data:e[t],id:t,animate:{duration:250,onLoad:{duration:250}},isStacked:!/^threshold/.test(t),isThreshold:/^threshold/.test(t)};return/^threshold/.test(t)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=Yt.a.value,a.strokeDasharray="4,3",a.strokeWidth=2.5),a};return t.length?t.map((function(e){return Object.assign(a(e.id),e)})):Object.keys(e).map((function(e){return a(e)}))}(a),chartLegend:function(e){var t=e.chart,a=e.datum;return(n.a.createElement(ta,{chart:t,datum:a,product:o,viewId:c}))},chartTooltip:function(e){var t=e.datum;return(n.a.createElement(qt,{datum:t,granularity:u,product:o}))}}))}},{key:"render",value:function(){var e=this.props,t=e.cardTitle,a=e.children,r=e.error,i=e.graphQuery,o=e.isDisabled,c=e.selectOptionsType,s=e.pending,l=e.t;if(o)return null;var u=Kt(c).options,p=i&&i[M.RHSM_API_QUERY_GRANULARITY];return n.a.createElement(Lt.a,{className:"curiosity-usage-graph fadein"},n.a.createElement(Mt.a,null,n.a.createElement(Ut.a,null,t),n.a.createElement(kt.a,null,a,n.a.createElement(Qt,{"aria-label":l("curiosity-graph.dropdownPlaceholder"),onSelect:this.onGranularitySelect,options:u,selectedOptions:p,placeholder:l("curiosity-graph.dropdownPlaceholder")}))),n.a.createElement(jt.a,null,n.a.createElement("div",{className:"curiosity-skeleton-container ".concat(r?"blur":"")},s&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.xs}),n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.sm}),n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.md}),n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.lg})),!s&&this.renderChart())))}}]),a}(n.a.Component);la.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:d.noop,graphData:{},isDisabled:d.UI_DISABLED_GRAPH,pending:!1,selectOptionsType:"default",t:d.noopTranslate,productShortLabel:"",viewId:"graphCard"};var ua=bt.makeGraphCard(),pa=Nt(ua,(function(e){return{getGraphReportsCapacity:function(t,a){return e(At.rhsm.getGraphReportsCapacity(t,a))}}}))(la),da=function(e){var t=e.date,a=e.granularity,r=W.a.utc(t);switch(a){case N.QUARTERLY:return"".concat(r.format(te.timestampQuarterFormats.yearShort)," - ").concat(r.add(1,"quarter").format(te.timestampQuarterFormats.yearShort));case N.MONTHLY:return r.format(te.timestampMonthFormats.yearLong);case N.WEEKLY:return"".concat(r.format(te.timestampDayFormats.short)," - ").concat(r.add(1,"week").format(te.timestampDayFormats.yearShort));case N.DAILY:default:return r.format(te.timestampDayFormats.long)}},_a=function(e){var t=e.date,a=e.granularity,r=e.tick,n=e.previousDate;if(t&&a){var i,o=W.a.utc(t),c=0!==r&&Number.parseInt(o.year(),10)!==Number.parseInt(W.a.utc(n).year(),10);switch(a){case N.QUARTERLY:i=(i=c?o.format(te.timestampQuarterFormats.yearShort):o.format(te.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case N.MONTHLY:i=(i=c?o.format(te.timestampMonthFormats.yearShort):o.format(te.timestampMonthFormats.short)).replace(/\s/,"\n");break;case N.WEEKLY:case N.DAILY:default:i=(i=c?o.format(te.timestampDayFormats.yearShort):o.format(te.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},Ea=function(e){var t=e.tick,a=e.locale;return new Intl.NumberFormat(a,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(t)},ha=function(e){var t=e.data,a=void 0===t?[]:t,r=e.granularity,n=e.productShortLabel,i=[],o={x:"x",colors:{},columns:[],groups:[[]],names:{},types:{}},c=function(e){return(d.TEST_MODE&&W.a.utc(e)||W.a.utc(e).local()).format("YYYY-MM-DD")};return a.forEach((function(e){/^threshold/.test(e.id)?(o.colors[e.id]=e.color||Yt.a.value,o.types[e.id]="step",o.names[e.id]=_t("curiosity-graph.thresholdLabel")):(o.colors[e.id]=e.color,o.types[e.id]="area-spline",o.groups[0].push(e.id),o.names[e.id]=_t("curiosity-graph.".concat(e.id,"Label"),{product:n})),o.columns[0]=["x"],o.columns.push([e.id]);var t=0;e.data.forEach((function(e){o.columns[0].push(c(e.date)),o.columns[o.columns.length-1].push(e.y),t+=e.y||0})),t<=0&&(o.columns.pop(),i.push(e.id))})),{hiddenDataFacets:i,configuration:{tooltip:{order:function(e,t){return o.columns.indexOf(e.id)-o.columns.indexOf(t.id)},format:{title:function(e){return da({date:e,granularity:r})},value:function(e,t,r,n){var i,o,c,s=null===(i=a.find((function(e){return r===e.id})))||void 0===i?void 0:i.data[n];/^threshold/.test(r)?o=(null===s||void 0===s?void 0:s.hasInfinite)&&_t("curiosity-graph.infiniteThresholdLabel")||(null!==(c=null===s||void 0===s?void 0:s.y)&&void 0!==c?c:_t("curiosity-graph.noDataLabel")):o=!1===(null===s||void 0===s?void 0:s.hasData)&&_t("curiosity-graph.noDataLabel")||(null===s||void 0===s?void 0:s.y)||0;return o}}},unloadBeforeLoad:!0,padding:{left:40,right:40,top:10,bottom:10},legend:{show:!1},spline:{interpolation:{type:"monotone"}},data:Object(s.a)({},o),point:{show:!1},grid:{y:{show:!0}},axis:{x:{type:"timeseries",tick:{format:function(e){var t=o.columns[0].slice(1),a=c(e),n=t.indexOf(a),i=n>-1&&t[n-1];return _a({tick:n,date:a,previousDate:i,granularity:r})}},padding:0},y:{default:[0,50],padding:{bottom:0},min:0,tick:{show:!1,outer:!1,format:function(e){return 0===e?"":Ea({tick:e})}}}}}}},Aa=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={updatedIsToggled:null},e.onFocus=function(){var t=e.state.updatedIsToggled,a=e.props,r=a.chart,n=a.chartId,i=a.getToggle,o=a.isToggled;("function"!==typeof i||o)&&t||r.focus(n)},e.onRevert=function(){var t=e.state.updatedIsToggled,a=e.props,r=a.chart,n=a.getToggle,i=a.isToggled;("function"!==typeof n||i)&&t||r.revert()},e.onToggle=function(){var t=e.state.updatedIsToggled,a=e.props,r=a.chart,n=a.chartId,i=a.getToggle,o=a.isToggled;r.toggle(n),"function"===typeof i?i({isToggled:!o}):e.setState({updatedIsToggled:!t}),e.onRevert()},e.getColor=function(){var t=e.props,a=t.chart,r=t.chartId;return a.color(r)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.updatedIsToggled,t=this.props,a=t.children,r=t.chart,i=t.chartId,o=t.isDisabled,c=t.isThreshold,s=t.isToggled,l=t.tooltipContent,u=null===e&&"boolean"===typeof s&&s||e||!1;u&&r.hide(i);var p=n.a.createElement(Jt.a,{tabIndex:0,key:"curiosity-button-".concat(i),variant:"link",onClick:this.onToggle,onFocus:this.onFocus,onMouseOver:this.onFocus,onBlur:this.onRevert,onMouseOut:this.onRevert,onKeyPress:this.onToggle,component:"a",isDisabled:o,icon:(o||u)&&n.a.createElement(Zt.a,null)||c&&n.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:o||u?"hidden":"visible",borderTopColor:this.getColor()}})||n.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:o||u?"hidden":"visible",backgroundColor:this.getColor()}})},a);return l?n.a.createElement($t.a,{key:"curiosity-tooltip-".concat(i),content:l,position:$t.b.top,distance:0,entryDelay:100,exitDelay:0},p):p}}]),a}(n.a.Component);Aa.defaultProps={chart:{color:d.noop,focus:d.noop,hide:d.noop,revert:d.noop,toggle:d.noop},children:null,isDisabled:!1,isThreshold:!1,isToggled:!1,tooltipContent:null,getToggle:null};var ma=a(619),Sa=a.n(ma),fa=(a(923),function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={chart:null},e.node=n.a.createRef(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.generateChart()}},{key:"componentDidUpdate",value:function(e){var t=this.props.config;ft()(e.config.data,t.data)||this.generateChart()}},{key:"componentWillUnmount",value:function(){var e=this.state.chart;e&&e.destroy(),this.setState({chart:null})}},{key:"generateChart",value:function(){var e=this,t=this.state.chart,a=this.props,r=a.config,n=a.onComplete,i=t;i||(i=Sa.a.generate(Object(s.a)({bindto:this.node.current},r))),i.load(Object(s.a)({},r.data,{unload:r.unloadBeforeLoad||!1,done:function(){e.setState({chart:i},(function(){r.done?r.done({chart:i,config:r}):n({chart:i,config:r})}))}}))}},{key:"render",value:function(){var e=this.state.chart,t=this.props,a=t.className,r=t.children,i=t.config,o=t.style;return n.a.createElement("div",{className:"curiosity-c3chart ".concat(a),style:o},n.a.createElement("div",{ref:this.node,className:"curiosity-c3chart-container"}),e&&n.a.createElement("div",{className:"curiosity-c3chart-description"},"function"===typeof r&&r({chart:e,config:i})||r))}}]),a}(n.a.Component));fa.defaultProps={children:null,className:null,config:{},onComplete:d.noop,style:{}};var Ra=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e.onUpdateGraphData=function(){var t=e.props,a=t.getGraphReportsCapacity,r=t.graphQuery,n=t.isDisabled,i=t.productId,o=r&&r[M.RHSM_API_QUERY_GRANULARITY];if(!n&&o&&i){var c,l=te.getRangedDateTime(o),u=l.startDate,p=l.endDate;a(i,Object(s.a)((c={},Object(h.a)(c,M.RHSM_API_QUERY_START_DATE,u.toISOString()),Object(h.a)(c,M.RHSM_API_QUERY_END_DATE,p.toISOString()),c),r))}},e.onGranularitySelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.value,r=e.props.viewId;we.dispatch(Object(h.a)({type:be.SET_GRAPH_GRANULARITY_RHSM,viewId:r},M.RHSM_API_QUERY_GRANULARITY,a))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.graphQuery;t.productId===e.productId&&ft()(a,e.graphQuery)||this.onUpdateGraphData()}},{key:"renderLegend",value:function(e){var t=this,a=e.chart,r=e.filteredData,i=void 0===r?[]:r,o=e.granularity,c=e.hiddenDataFacets,s=void 0===c?[]:c,l=this.state,u=this.props,p=u.productId,d=u.productShortLabel,_=u.t;return i.map((function(e){var r=e.id,i=/^threshold/.test(r),c=s.includes(r),u=n.a.createElement("p",null,i&&_("curiosity-graph.thresholdLegendTooltip")||_("curiosity-graph.".concat(r,"LegendTooltip"))),E=l["".concat(p,"-").concat(o,"-").concat(r)]||!1;return n.a.createElement(Aa,{key:"legend-".concat(p,"-").concat(o,"-").concat(r),chart:a,chartId:r,tooltipContent:u,isDisabled:c,isThreshold:i,isToggled:E,getToggle:function(e){var a=e.isToggled;return t.setState(Object(h.a)({},"".concat(p,"-").concat(o,"-").concat(r),a))}},i&&_("curiosity-graph.thresholdLabel")||_("curiosity-graph.".concat(r,"Label"),{product:d}))}))}},{key:"renderChart",value:function(){var e=this,t=this.props,a=t.filterGraphData,r=t.graphData,i=t.graphQuery,o=t.selectOptionsType,c=t.productId,l=t.productShortLabel,u=i&&i[M.RHSM_API_QUERY_GRANULARITY],p=Kt(o).selected,d=u||p;if(!r||!Object.values(r).length)return null;var _=[];a.length?a.forEach((function(e){r[e.id]&&_.push(Object(s.a)({},e,{data:Object(j.a)(r[e.id])}))})):Object.keys(r).forEach((function(e){_.push({id:e,data:Object(j.a)(r[e])})}));var E=ha({data:_,granularity:d,productShortLabel:l}),h=E.configuration,A=void 0===h?{}:h,m=E.hiddenDataFacets,S=void 0===m?[]:m;return(n.a.createElement(fa,{key:"chart-".concat(c,"-").concat(d),config:A},(function(t){var a=t.chart;return e.renderLegend({chart:a,filteredData:_,granularity:d,hiddenDataFacets:S})})))}},{key:"render",value:function(){var e=this.props,t=e.cardTitle,a=e.children,r=e.error,i=e.graphQuery,o=e.isDisabled,c=e.selectOptionsType,s=e.pending,l=e.t;if(o)return null;var u=Kt(c).options,p=i&&i[M.RHSM_API_QUERY_GRANULARITY];return n.a.createElement(Lt.a,{className:"curiosity-usage-graph fadein"},n.a.createElement(Mt.a,null,n.a.createElement(Ut.a,null,t),n.a.createElement(kt.a,null,a,n.a.createElement(Qt,{"aria-label":l("curiosity-graph.dropdownPlaceholder"),onSelect:this.onGranularitySelect,options:u,selectedOptions:p,placeholder:l("curiosity-graph.dropdownPlaceholder")}))),n.a.createElement(jt.a,null,n.a.createElement("div",{className:"curiosity-skeleton-container ".concat(r?"blur":"")},s&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.xs}),n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.sm}),n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.md}),n.a.createElement(Ht.Skeleton,{size:Ht.SkeletonSize.lg})),!s&&this.renderChart())))}}]),a}(n.a.Component);Ra.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:d.noop,graphData:{},isDisabled:d.UI_DISABLED_GRAPH,pending:!1,selectOptionsType:"default",t:d.noopTranslate,productShortLabel:"",viewId:"graphCard"};var Ta=bt.makeGraphCard(),va=Nt(Ta,(function(e){return{getGraphReportsCapacity:function(t,a){return e(At.rhsm.getGraphReportsCapacity(t,a))}}}))(Ra),Oa=a(999),Pa=a(1e3),Ia=a(175),ga=a(968),ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sla";return"sla"===e?{selected:null,options:[{title:_t("curiosity-toolbar.slaPremium"),value:L.PREMIUM},{title:_t("curiosity-toolbar.slaStandard"),value:L.STANDARD},{title:_t("curiosity-toolbar.slaSelfSupport"),value:L.SELF},{title:_t("curiosity-toolbar.slaNone"),value:L.NONE}]}:{options:[]}},ba=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).onClear=function(){e.dispatchFilter(be.SET_GRAPH_SLA_RHSM,Object(h.a)({},M.RHSM_API_QUERY_SLA,null))},e.onSlaSelect=function(t){var a=t.value;e.dispatchFilter(be.SET_GRAPH_SLA_RHSM,Object(h.a)({},M.RHSM_API_QUERY_SLA,a))},e}return Object(m.a)(a,[{key:"dispatchFilter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.props.viewId;e&&we.dispatch(Object(s.a)({type:e,viewId:a},t))}},{key:"filterSla",value:function(){var e=this.props.graphQuery,t=ya(),a="string"===typeof e[M.RHSM_API_QUERY_SLA]&&t.options.find((function(t){return t.value===e[M.RHSM_API_QUERY_SLA]}));return{slaOptions:t,slaOptionsSelected:a&&a.title&&[a.title]||t.selected&&[t.selected]||[]}}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,a=e.t;if(t)return null;var r=this.filterSla(),i=r.slaOptions,o=r.slaOptionsSelected;return(n.a.createElement(Oa.a,{id:"curiosity-toolbar",className:"pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"xl",clearAllFilters:this.onClear},n.a.createElement(Pa.a,null,n.a.createElement(Ia.a,{variant:"filter-group"},n.a.createElement(ga.a,{chips:o,deleteChip:this.onClear,categoryName:a("curiosity-toolbar.slaCategory")},n.a.createElement(Qt,{"aria-label":a("curiosity-toolbar.slaCategory"),onSelect:this.onSlaSelect,selectedOptions:o,placeholder:a("curiosity-toolbar.slaPlaceholder"),options:i.options}))))))}}]),a}(n.a.Component);ba.defaultProps={graphQuery:{},isDisabled:d.UI_DISABLED_TOOLBAR,t:d.noopTranslate,viewId:"toolbar"};var Ca=Object(k.a)()(ba),Da=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={option:null,filters:[]},e.onSelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.state.option,r=e.props.initialFilters,n=t.value;if(n!==a){var i=r.filter((function(e){return new RegExp(n,"i").test(e.id)}));e.setState({option:a,filters:i})}},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.initialOption;this.onSelect({value:e})}},{key:"renderSelect",value:function(){var e=this.state.option,t=this.props.initialOption;return n.a.createElement(Qt,{onSelect:this.onSelect,options:[{title:"Cores",value:"cores"},{title:"Sockets",value:"sockets"}],selectedOptions:e||t})}},{key:"render",value:function(){var e,t=this.state.filters,a=this.props,r=a.graphQuery,i=a.location,o=a.routeDetail,c=a.t,s=a.viewId,l=""===(null===i||void 0===i||null===(e=i.parsedSearch)||void 0===e?void 0:e.c3);return n.a.createElement(C,null,n.a.createElement(P,null,c("curiosity-view.openshift",d.UI_DISPLAY_CONFIG_NAME)),n.a.createElement(b,null,n.a.createElement(Ca,{graphQuery:r,viewId:s})),n.a.createElement(y,null,l&&n.a.createElement(va,{key:o.pathParameter,filterGraphData:t,graphQuery:r,productId:o.pathParameter,viewId:s,cardTitle:c("curiosity-graph.cardHeading"),productShortLabel:s},this.renderSelect())||n.a.createElement(pa,{key:o.pathParameter,filterGraphData:t,graphQuery:r,productId:o.pathParameter,viewId:s,cardTitle:c("curiosity-graph.cardHeading"),productShortLabel:s},this.renderSelect())))}}]),a}(n.a.Component);Da.defaultProps={graphQuery:Object(h.a)({},M.RHSM_API_QUERY_GRANULARITY,N.DAILY),initialOption:"cores",initialFilters:[{id:"cores",fill:R.a.value,stroke:T.a.value,color:T.a.value},{id:"sockets",fill:R.a.value,stroke:T.a.value,color:T.a.value},{id:"thresholdSockets"},{id:"thresholdCores"}],t:d.noopTranslate,viewId:"OpenShift"};var Na=Dt.makeView(Da.defaultProps),La=Nt(Na)(Da),Ma=a(971),Ua=a(972),ka=a(973),ja=a(974),Ya=a(975),Ha=a(976),wa=a(977),Fa=a(978),xa=a(979),Ga=a(624),Va=a.n(Ga),Qa=a(367),Ba=a.n(Qa),Wa=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).onSubmitOptIn=function(){(0,e.props.updateAccountOptIn)()},e}return Object(m.a)(a,[{key:"renderOptinForm",value:function(){var e=this.props,t=e.error,a=e.fulfilled,r=e.pending,i=e.session,o=e.t,c=403!==i.status;return r?n.a.createElement(Ma.a,null,n.a.createElement(Ua.a,null,n.a.createElement(Jt.a,{variant:"primary",isDisabled:!0},n.a.createElement(ka.a,{size:"sm"})," ",o("curiosity-optin.buttonActivate",{appName:d.UI_DISPLAY_NAME})))):t?n.a.createElement("p",null,_t("curiosity-optin.cardIsErrorDescription",{appName:d.UI_DISPLAY_NAME},[n.a.createElement(Jt.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"https://access.redhat.com/account-team"})])):c||a?n.a.createElement(Ma.a,null,n.a.createElement(Ua.a,null,n.a.createElement(Jt.a,{variant:"primary",isDisabled:!0},o("curiosity-optin.buttonIsActive",{appName:d.UI_DISPLAY_NAME}))),a&&n.a.createElement("p",null,o("curiosity-optin.cardIsActiveDescription"))):n.a.createElement(Ma.a,null,n.a.createElement(Ua.a,null,n.a.createElement(Jt.a,{variant:"primary",onClick:this.onSubmitOptIn},o("curiosity-optin.buttonActivate",{appName:d.UI_DISPLAY_NAME}))))}},{key:"renderTour",value:function(){var e=this.props.t;return(n.a.createElement(Lt.a,{className:"curiosity-optin-tour"},n.a.createElement(Mt.a,null,n.a.createElement(ja.a,null,n.a.createElement(Ya.a,{srcSet:"".concat(Ba.a," 1064w, ").concat(Va.a," 600w"),src:Ba.a,alt:e("curiosity-optin.tourTitleImageAlt"),"aria-hidden":!0,className:"curiosity-optin-image"}))),n.a.createElement(Ut.a,null,n.a.createElement(Ha.a,{headingLevel:"h3",size:"2xl"},e("curiosity-optin.tourTitle"))),n.a.createElement(jt.a,null,e("curiosity-optin.tourDescription")),n.a.createElement(wa.a,null,n.a.createElement(Jt.a,{variant:"secondary",className:"uxui-curiosity__button-tour"},e("curiosity-optin.buttonTour")))))}},{key:"render",value:function(){var e=this.props.t;return(n.a.createElement(C,null,n.a.createElement(Lt.a,null,n.a.createElement(Fa.a,null,n.a.createElement(Fa.a,{flex:{default:"flex_2"}},n.a.createElement(xa.a,null,n.a.createElement(Ut.a,{key:"heading1Title"},n.a.createElement(Ha.a,{headingLevel:"h1",size:"2xl"},e("curiosity-optin.cardTitle",{appName:d.UI_DISPLAY_NAME}))),n.a.createElement(jt.a,{key:"heading1Desc"},e("curiosity-optin.cardDescription",{appName:d.UI_DISPLAY_NAME})),n.a.createElement(Ut.a,{key:"heading2Title"},n.a.createElement(Ha.a,{headingLevel:"h2",size:"xl"},e("curiosity-optin.cardSeeTitle"))),n.a.createElement(jt.a,{key:"heading2Desc"},e("curiosity-optin.cardSeeDescription")),n.a.createElement(Ut.a,{key:"heading3Title"},n.a.createElement(Ha.a,{headingLevel:"h2",size:"xl"},e("curiosity-optin.cardReportTitle"))),n.a.createElement(jt.a,{key:"heading3Desc"},e("curiosity-optin.cardReportDescription")),n.a.createElement(Ut.a,{key:"heading4Title"},n.a.createElement(Ha.a,{headingLevel:"h2",size:"xl"},e("curiosity-optin.cardFilterTitle"))),n.a.createElement(jt.a,{key:"heading4Desc"},e("curiosity-optin.cardFilterDescription")),n.a.createElement(wa.a,null,this.renderOptinForm()))),n.a.createElement(Fa.a,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfCenter"}},n.a.createElement(xa.a,null,n.a.createElement(jt.a,null,this.renderTour())))))))}}]),a}(n.a.Component);Wa.defaultProps={error:!1,fulfilled:!1,pending:!1,session:{status:null},t:d.noopTranslate,updateAccountOptIn:d.noop};var za=Nt((function(e){var t=e.user;return Object(s.a)({},t.optin,{session:t.session})}),(function(e){return{updateAccountOptIn:function(t){return e(At.user.updateAccountOptIn(t))}}}))(Wa),Ka=a(980),Xa=a(981),qa=a(982),Ja=a(983),$a=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this.props,a=t.graphQuery,r=t.initialFilters,i=t.location,o=t.routeDetail,c=t.t,s=t.viewId,l=""===(null===i||void 0===i||null===(e=i.parsedSearch)||void 0===e?void 0:e.c3);return n.a.createElement(C,null,n.a.createElement(P,null,c("curiosity-view.rhel",d.UI_DISPLAY_CONFIG_NAME)),n.a.createElement(b,null,n.a.createElement(Ca,{graphQuery:a,viewId:s})),n.a.createElement(y,null,l&&n.a.createElement(va,{key:o.pathParameter,filterGraphData:r,graphQuery:a,productId:o.pathParameter,viewId:s,cardTitle:c("curiosity-graph.socketsHeading"),productShortLabel:s})||n.a.createElement(pa,{key:o.pathParameter,filterGraphData:r,graphQuery:a,productId:o.pathParameter,viewId:s,cardTitle:c("curiosity-graph.socketsHeading"),productShortLabel:s})))}}]),a}(n.a.Component);$a.defaultProps={graphQuery:Object(h.a)({},M.RHSM_API_QUERY_GRANULARITY,N.DAILY),initialFilters:[{id:"physicalSockets",fill:R.a.value,stroke:T.a.value,color:T.a.value},{id:"hypervisorSockets",fill:Ka.a.value,stroke:Xa.a.value,color:Xa.a.value},{id:"cloudSockets",fill:qa.a.value,stroke:Ja.a.value,color:Ja.a.value},{id:"thresholdSockets"}],t:d.noopTranslate,viewId:"RHEL"};var Za=Dt.makeView($a.defaultProps),er=Nt(Za)($a),tr=d.UI_NAME,ar=E.a.join(d.UI_DEPLOY_PATH_PREFIX,"/"),rr=E.a.join(d.UI_DEPLOY_PATH_PREFIX,"/?not_entitled=subscriptions"),nr=[{to:"/rhel-sw/all",redirect:!0,component:er,exact:!0,render:!0,disabled:d.UI_DISABLED},{id:"rhel-sw",to:"/rhel-sw/:variant",component:er,exact:!0,render:!0,disabled:d.UI_DISABLED},{id:"openshift-sw",to:"/openshift-sw",component:La,exact:!0,render:!0,disabled:d.UI_DISABLED},{id:"optin",to:"/optin",component:za,exact:!0,render:!0,activateOnError:!0,disabled:d.UI_DISABLED}],ir=[{id:"all",path:"/rhel-sw/all",pathId:"rhel-sw",pathParameter:D.RHEL,default:!0},{id:"arm",path:"/rhel-sw/arm",pathId:"rhel-sw",pathParameter:D.RHEL_ARM},{id:"ibmpower",path:"/rhel-sw/ibmpower",pathId:"rhel-sw",pathParameter:D.RHEL_IBM_POWER},{id:"ibmz",path:"/rhel-sw/ibmz",pathId:"rhel-sw",pathParameter:D.RHEL_IBM_Z},{id:"x86",path:"/rhel-sw/x86",pathId:"rhel-sw",pathParameter:D.RHEL_X86},{id:"openshift-sw",path:"/openshift-sw",pathId:"openshift-sw",pathParameter:D.OPENSHIFT}],or={appName:tr,navigation:ir,platformLandingRedirect:ar,platformModalRedirect:rr,routes:nr},cr=function(e){var t=e.pathName,a=e.pathPrefix,r=t.split("/");r.shift();var n=a&&new RegExp(r[0]).test(a)?2:1;return"/".concat(r.slice(0,n).join("/"))},sr=d.TEST_MODE||d.DEV_MODE?"/":cr({pathName:window.location.pathname,pathPrefix:d.UI_DEPLOY_PATH_PREFIX}),lr=nr.find((function(e){return!0===e.activateOnError}))||{},ur=function(e){var t,a=e.id,r=void 0===a?null:a,n=e.pathname,i=void 0===n?null:n,o=e.returnDefault,c=void 0!==o&&o,u=c&&ir.find((function(e){return!0===e.default}));if(r&&(t=ir.find((function(e){return e.id===r}))),!t&&i&&(t=ir.find((function(e){return e.path.replace(/\/$/,"")===i.replace(/\/$/,"")}))||c&&u),!t&&c&&(t=u),t){var p=window.location.href.split(t.path),d=Object(l.a)(p,2)[1];t.routeHref="".concat(t.path).concat(d||"")}return Object(s.a)({},t||{})},pr=function(e){var t,a=e.id,r=void 0===a?null:a,n=e.pathname,i=void 0===n?null:n;return r&&(t=nr.find((function(e){return r===e.id}))),!t&&i&&(t=(t=nr.find((function(e){return i===e.to})))||nr.find((function(e){return i.includes(e.to.split(":")[0])}))),Object(s.a)({},t||{})},dr={baseName:sr,dynamicBaseName:cr,getErrorRoute:lr,getNavigationDetail:ur,getRouteDetail:pr,getNavRouteDetail:function(e){var t=e.id,a=void 0===t?null:t,r=e.pathname,n=void 0===r?null:r,i=e.returnDefault,o=ur({id:a,pathname:n,returnDefault:void 0!==i&&i}),c=pr({pathname:o.path||n});return Object(s.a)({},c,{},o)}},_r=function(e){var t,a=e.baseName,r=e.history,i=e.isRedirect,o=e.isReplace,c=e.url,s=e.route;if(!0===i){if(s&&r){var l=dr.getRouteDetail({pathname:s});return(n.a.createElement(U.b,{path:"*"},l&&n.a.createElement(l.component,null)))}var u=c||s&&E.a.join(a,s);return t=u,d.DEV_MODE||d.TEST_MODE||(o?window.location.replace(t):window.location.href=t),(d.DEV_MODE||d.TEST_MODE)&&n.a.createElement(n.a.Fragment,null,"Redirected towards ",u)||null}return null};_r.defaultProps={history:null,isReplace:!1,url:null,baseName:dr.baseName,route:null};var Er=Object(U.g)(_r),hr=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderRoutes",value:function(){var e=this.props.routes,t=e.find((function(e){return!0===e.activateOnError})),a=null;return{renderRoutes:e.map((function(r){return r.disabled?null:(!0===r.redirect&&(a=n.a.createElement(U.a,{to:r.to})),!0===r.render?n.a.createElement(U.b,{exact:r.hasParameters||r.exact,key:r.to,path:r.to,strict:r.strict,render:function(a){var i=a.location,o=Object(I.a)(a,["location"]),c=dr.getNavigationDetail({pathname:i&&i.pathname,returnDefault:!1}),u=window,p=u.URLSearchParams,d=u.decodeURIComponent,_={};Object(j.a)(new Set(Object(j.a)(new p(d(i.search))).map((function(e){var t=Object(l.a)(e,2),a=t[0],r=t[1];return"".concat(a,"~").concat(r)})))).forEach((function(e){var t=e.split("~"),a=Object(l.a)(t,2),r=a[0],n=a[1];_[r]=n}));var E=Object(s.a)({},i,{parsedSearch:_});return(n.a.createElement(r.component,Object.assign({routeDetail:Object(s.a)({baseName:dr.baseName,errorRoute:t,routes:e,routeItem:Object(s.a)({},r)},c),location:E},o)))}}):n.a.createElement(U.b,{exact:r.hasParameters||r.exact,key:r.to,path:r.to,component:r.component}))})),redirectRoot:a}}},{key:"render",value:function(){var e=this.renderRoutes(),t=e.renderRoutes,a=e.redirectRoot;return(n.a.createElement(U.d,null,t,a))}}]),a}(n.a.Component);hr.defaultProps={routes:or.routes};var Ar=a(987),mr=a(988),Sr=a(984),fr=a(985),Rr=a(986),Tr=function(e){var t=e.icon,a=e.message,r=e.pageTitle,i=e.title;return(n.a.createElement(C,null,n.a.createElement(P,null,r||d.UI_DISPLAY_NAME),n.a.createElement(Sr.a,{variant:Sr.b.full,className:"fadein"},i&&n.a.createElement(Ha.a,{headingLevel:"h2",size:"lg"},i),t&&n.a.createElement(fr.a,{icon:t}),a&&n.a.createElement(Rr.a,null,a))))};Tr.defaultProps={icon:null,message:null,pageTitle:null,title:null};var vr=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).appName=or.appName,e.removeListeners=d.noop,e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Ve.a)(Ge.a.mark((function e(){var t,a,r,n,i,o,c;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.authorizeUser,r=t.history,n=t.initializeChrome,i=t.onNavigation,o=t.setAppName,t.session.authorized){e.next=4;break}return e.next=4,a();case 4:(d.PROD_MODE||d.REVIEW_MODE)&&(n(),o(this.appName),c=i((function(e){var t=dr.getNavRouteDetail({id:e.navId,returnDefault:!0}).routeHref;r.push(t)})),this.removeListeners=function(){c()});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.session,r=e.t;return a.authorized?n.a.createElement(n.a.Fragment,null,t):a.pending?n.a.createElement(Tr,{pageTitle:"\xa0",message:r("curiosity-auth.pending","..."),icon:Ar.a}):a.errorCodes&&a.errorCodes.includes(M.RHSM_API_RESPONSE_ERROR_DATA_CODE_TYPES.OPTIN)||418===a.status?d.TEST_MODE?n.a.createElement(n.a.Fragment,null,a.status," redirect"):n.a.createElement(Er,{isRedirect:!0,route:dr.getErrorRoute.to}):n.a.createElement(Tr,{title:r("curiosity-auth.authorizedTitle",{appName:d.UI_DISPLAY_NAME}),message:r("curiosity-auth.authorizedCopy","..."),icon:mr.a})}}]),a}(r.Component);vr.defaultProps={authorizeUser:d.noop,initializeChrome:d.noop,onNavigation:d.noop,setAppName:d.noop,session:{authorized:!1,error:!1,errorCodes:[],errorMessage:"",pending:!1,status:null},t:d.noopTranslate};var Or,Pr,Ir=Ct.makeUserSession(),gr=(Or=Ir,Pr=function(e){return{authorizeUser:function(){return e(At.user.authorizeUser())},initializeChrome:function(){return e(At.platform.initializeChrome())},onNavigation:function(t){return e(At.platform.onNavigation(t))},setAppName:function(t){return e(At.platform.setAppName(t))}}},function(e){return Object(U.g)(Nt(Or,Pr)(e))})(vr),yr=function(e){Object(f.a)(a,e);var t=Object(S.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getLocale)()}},{key:"render",value:function(){var e=this.props.locale;return(n.a.createElement(Et,{locale:e&&e.value||null},n.a.createElement(F.NotificationsPortal,null),n.a.createElement(gr,null,n.a.createElement(hr,null))))}}]),a}(n.a.Component);yr.defaultProps={getLocale:d.noop,locale:{}};var br=function(e,t){return function(a){return Object(U.g)(Object(o.connect)(e,t)(a))}}((function(e){return{locale:e.user.session.locale}}),(function(e){return{getLocale:function(){return e(At.user.getLocale())}}}))(yr);a(928),a(929),a(930);Object(i.render)(n.a.createElement(o.Provider,{store:we},n.a.createElement(c.a,{basename:sr},n.a.createElement(br,null))),document.getElementById("root"))}},[[637,1,2]]]);
//# sourceMappingURL=main.6f7fcebf.chunk.js.map