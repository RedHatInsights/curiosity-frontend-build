(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[1],{826:function(t,e,a){"use strict";a.d(e,"a",(function(){return p}));var n=a(5),r=a(6),i=a(370),o=a(8),s=a(7),c=a(1),l=a.n(c),u=a(28),d=a(10),p=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).containerRef=l.a.createRef(),t.innerContainerRef=l.a.createRef(),t.updatedContainerWidth=0,t.resizeObserver=u.b.noop,t.onResizeContainer=function(){var e,a,n=Object(i.a)(t).updatedContainerWidth,r=t.props.updateOnResize,o=(null===(e=t.containerRef)||void 0===e||null===(a=e.current)||void 0===a?void 0:a.clientWidth)||0;r&&o!==n&&(t.updatedContainerWidth=o,t.setMinHeight(!0))},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.updateOnResize;window.setTimeout((function(){t.setMinHeight()})),e&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var t=this;this.props.updateOnContent&&window.setTimeout((function(){t.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props.minHeight,n=this.containerRef.current,r=void 0===n?{}:n,i=this.innerContainerRef.current,o=void 0===i?{}:i;(null===r||void 0===r?void 0:r.style)&&(a>(t=e?(null===o||void 0===o?void 0:o.clientHeight)||0:(null===r||void 0===r?void 0:r.clientHeight)||0)&&(t=a),r.style.minHeight="".concat(t,"px"))}},{key:"setResizeObserver",value:function(){var t=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"render",value:function(){var t=this.props.children;return Object(d.jsx)("div",{className:"curiosity-minheight",ref:this.containerRef,children:Object(d.jsx)("div",{ref:this.innerContainerRef,children:t})})}}]),a}(l.a.Component);p.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},827:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));var n=a(4),r=a(5),i=a(6),o=a(8),s=a(7),c=a(1),l=a.n(c),u=a(18),d=a(437),p=a(138),b=a(796),h=a.n(b),v=a(73),f=a.n(v),g=a(211),y=a.n(g),O=a(32),j=a(10),m=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={isExpanded:!1,options:null,selected:null},t.onSelect=function(e,a){var r=t.state.options,i=t.props,o=i.id,s=i.name,c=i.onSelect,l=i.variant,d=r,p=d.findIndex((function(t){return t.title===a}));d[p].selected=l===u.f.single||!d[p].selected,l===u.f.single&&d.forEach((function(t,e){p!==e&&(d[e].selected=!1)}));var b=l===u.f.single?a:d.filter((function(t){return!0===t.selected})).map((function(t){return t.title}));t.setState({options:d,selected:b},(function(){var e=h()(d),a={id:o,name:s||o,value:e[p].value,selected:l===u.f.single&&e[p]||h()(b),selectedIndex:p,type:"select-".concat(l===u.f.single?"one":"multiple"),options:e};l===u.f.checkbox&&(a.checked=e[p].selected);var r=Object(n.a)(Object(n.a)({},a),{},{target:Object(n.a)({},a),currentTarget:Object(n.a)({},a),persist:O.a.noop});c(Object(n.a)({},r),p,e),l===u.f.single&&t.setState({isExpanded:!1})}))},t.onToggle=function(e){t.setState({isExpanded:e})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.options,n=e.selectedOptions;f()(t.options,a)&&f()(t.selectedOptions,n)||this.formatOptions()}},{key:"formatOptions",value:function(){var t,e=this.props,a=e.options,r=e.selectedOptions,i=e.variant,o=y()(a)?Object.keys(a).map((function(t){return Object(n.a)(Object(n.a)({},a[t]),{},{title:t,value:a[t]})})):h()(a),s=r&&"string"===typeof r||"number"===typeof r?[r]:r;o.forEach((function(t,e){var a=t;"string"===typeof a&&(a={title:t,value:t},o[e]=a),a.text=a.text||a.title,a.textContent=a.textContent||a.title,a.label=a.label||a.title,s&&(o[e].selected=s.includes(a.value)||s.includes(a.title))})),t=i===u.f.single?(o.find((function(t){return!0===t.selected}))||{}).title:o.filter((function(t){return!0===t.selected})).map((function(t){return t.title})),this.setState({options:o,selected:t})}},{key:"render",value:function(){var t=this.state,e=t.options,a=t.selected,r=t.isExpanded,i=this.props,o=i.ariaLabel,s=i.className,c=i.isDisabled,l=i.isToggleText,u=i.placeholder,b=i.toggleIcon,h=i.variant,v={};return e&&e.length&&!c||(v.isDisabled=!0),Object(j.jsx)(d.a,Object(n.a)(Object(n.a)({className:"curiosity-select".concat(l?"":"__no-toggle-text"," ").concat(s),variant:h,"aria-label":o,onToggle:this.onToggle,onSelect:this.onSelect,selections:a,isOpen:r,toggleIcon:b,placeholderText:u},v),{},{children:e&&e.map((function(t){return Object(j.jsx)(p.a,{id:window.btoa("".concat(t.title,"-").concat(t.value)),value:t.title,"data-value":t.value,"data-title":t.title},window.btoa("".concat(t.title,"-").concat(t.value)))}))||[]}))}}]),a}(l.a.Component);m.defaultProps={ariaLabel:"Select option",className:"",id:O.a.generateId(),isDisabled:!1,isToggleText:!0,name:null,onSelect:O.a.noop,options:[],placeholder:"Select option",selectedOptions:null,toggleIcon:null,variant:u.f.single}},828:function(t,e,a){"use strict";a.d(e,"a",(function(){return T}));var n=a(14),r=a(13),i=a(4),o=a(5),s=a(6),c=a(8),l=a(7),u=a(1),d=a.n(u),p=a(301),b=a(28),h=a(89),v=a(243),f=a(829),g=a(9),y=a(364),O=a(10),j=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return(t=e.call.apply(e,[this].concat(c))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,a=e.currentPage,n=e.limit,o=t.props,s=o.getHostsInventoryGuests,c=o.query,l=o.id;if(l){var u,d=Object(i.a)(Object(i.a)({},c),{},(u={},Object(r.a)(u,g.g.LIMIT,n),Object(r.a)(u,g.g.OFFSET,a*n||0),u));s(l,h.a.parseRhsmQuery(d).inventoryGuestsQuery)}},t.onScroll=function(e){var a=e.target,r=t.state,i=r.currentPage,o=r.limit,s=r.previousData,c=t.props,l=c.numberOfGuests,u=c.pending,d=c.listData,p=a.scrollHeight-a.scrollTop===a.clientHeight;if(l>(i+1)*o&&p&&!u){var b=i+1,h=[].concat(Object(n.a)(s),Object(n.a)(d||[]));t.setState({previousData:h,currentPage:b})}},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,a=e.filterGuestsData,n=e.listData,r=e.pending;if(t>0&&r){var i=Object(O.jsx)(v.a,{variant:"table",tableProps:{borders:!1,colCount:(null===a||void 0===a?void 0:a.length)||(null===n||void 0===n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:0,variant:p.b.compact}});return Object(O.jsx)("div",{className:"curiosity-table-scroll-loader__custom",children:i})}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,a=e.filterGuestsData,r=e.listData,i=e.numberOfGuests,o=e.session,s=[],c=[].concat(Object(n.a)(t),Object(n.a)(r||[])).map((function(t){var e=Object.assign({},t),n=f.a.parseRowCellsListData({filters:a,cellData:e,session:o}),r=n.columnHeaders,i=n.cells;return s=r,{cells:i}})),l=42*(i+1);return l=l<275&&l||275,Object(O.jsx)("div",{className:"curiosity-table-scroll",style:{height:"".concat(l,"px")},children:Object(O.jsxs)("div",{className:"curiosity-table-scroll-list".concat(l<275?"__no-scroll":""),onScroll:this.onScroll,children:[this.renderLoader(),c.length&&Object(O.jsx)(y.a,{borders:!1,variant:p.b.compact,className:"curiosity-guests-list",columnHeaders:s,rows:c})||null]})})}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,a=e.error,n=e.filterGuestsData,r=e.listData,i=e.numberOfGuests,o=e.pending,s=e.perPageDefault;return Object(O.jsxs)("div",{className:"fadein ".concat(a?"blur":""),children:[o&&0===t&&Object(O.jsx)(v.a,{variant:"table",tableProps:{borders:!1,colCount:(null===n||void 0===n?void 0:n.length)||(null===r||void 0===r?void 0:r[0])&&Object.keys(r[0]).length||1,colWidth:(null===n||void 0===n?void 0:n.length)&&n.map((function(t){return t.cellWidth}))||[],rowCount:i<s?i:s,variant:p.b.compact}}),(!o&&0===t||t>0)&&this.renderTable()]})}}]),a}(d.a.Component);j.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:b.b.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var m=h.e.guestsList.makeGuestsList(),T=Object(h.b)(m,(function(t){return{getHostsInventoryGuests:function(e,a){return t(h.d.rhsm.getHostsInventoryGuests(e,a))}}}))(j)},829:function(t,e,a){"use strict";a.d(e,"a",(function(){return g}));var n=a(12),r=a(14),i=a(4),o=a(1),s=a.n(o),c=a(209),l=a(214),u=a(185),d=a(244),p=a.n(d),b=a(76),h=a(9),v=function(t){var e=t.filter,a=void 0===e?{}:e,n=t.onSort,r=t.query,o=void 0===r?{}:r,s=a.id,l=Object(i.a)({},a),u=l.onSort||n;if(!l.onSort&&n&&(l.onSort=n),u&&"boolean"!==typeof l.sortActive&&(null===o||void 0===o?void 0:o[h.g.SORT])&&p()(null===o||void 0===o?void 0:o[h.g.SORT])===s&&(l.sortActive=!0),u&&!l.sortDirection&&(null===o||void 0===o?void 0:o[h.g.DIRECTION]))switch(null===o||void 0===o?void 0:o[h.g.DIRECTION]){case h.d.DESCENDING:l.sortDirection=c.a.desc;break;default:l.sortDirection=c.a.asc}return!u||l.sortActive||(null===o||void 0===o?void 0:o[h.g.SORT])||!0!==l.isSortDefault||(l.sortActive=!0,l.sortDefaultInitialDirection&&(l.sortDirection=l.sortDefaultInitialDirection)),l},f=function(t){var e=t.filter,a=void 0===e?{}:e,n=Object(i.a)({},a);return Array.isArray(n.transforms)?n.transforms.push(l.a):n.transforms=[l.a],n},g={applySortFilters:v,applyWrappableFilters:f,parseInventoryFilters:function(t){var e=t.filters,a=void 0===e?[]:e,n=t.onSort,o=t.query,s=void 0===o?{}:o;return Object(r.a)(a).map((function(t){var e=Object(i.a)({},t);return e.isSortable&&Object.assign(e,v({filter:e,onSort:n,query:s})),e.isWrappable&&Object.assign(e,f({filter:e})),e}))},parseRowCellsListData:function(t){var e=t.filters,a=void 0===e?[]:e,o=t.cellData,c=void 0===o?{}:o,l=t.session,d=void 0===l?{}:l,p=[],h=[],v={};return Object.entries(c).forEach((function(t){var e=Object(n.a)(t,2),a=e[0],r=e[1];v[a]={title:Object(b.b)("curiosity-inventory.header",{context:a}),value:r},p.push(v[a].title),h.push(r)})),(null===a||void 0===a?void 0:a.length)&&(p.length=0,h.length=0,a.forEach((function(t){var e,a,n,o,c,l,b=t.id,f=t.cell,g=t.cellWidth,y=t.header,O=t.onSort,j=t.sortActive,m=t.sortDirection,T=t.transforms;v[b]&&(e=null!==(n=null===(o=v[b])||void 0===o?void 0:o.title)&&void 0!==n?n:b,a=null!==(c=null===(l=v[b])||void 0===l?void 0:l.value)&&void 0!==c?c:"");y&&(e="function"===typeof y&&y(Object(i.a)({},v))||y),("string"===typeof e||"number"===typeof e||s.a.isValidElement(e))&&(e={title:e}),e.transforms=[],Array.isArray(T)&&(e.transforms=e.transforms.concat(Object(r.a)(T))),"number"===typeof g&&e.transforms.push(Object(u.a)(g)),"function"===typeof O&&(e=Object(i.a)(Object(i.a)({},e),{},{onSort:function(t){return O(Object(i.a)({},v),Object(i.a)(Object(i.a)({},t),{},{id:b}))},sortActive:j,sortDirection:m})),f&&(a="function"===typeof f&&f(Object(i.a)({},v),Object(i.a)({},d))||f),("string"===typeof a||"number"===typeof a||s.a.isValidElement(a))&&(a={title:a}),p.push(e),h.push(a)}))),{columnHeaders:p,cells:h,data:Object(i.a)({},v)}}}},830:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=function(t,e){return t/e+1||1},r={calculateOffsetFromPage:function(t,e){return e*(t-1)||0},calculatePageFromOffset:n,isLastPage:function(t,e,a){return n(t,e)===Math.ceil(a/e)}}},831:function(t,e,a){"use strict";a.d(e,"a",(function(){return D}));var n=a(12),r=a(13),i=a(4),o=a(5),s=a(6),c=a(8),l=a(7),u=a(1),d=a.n(u),p=a(283),b=a(256),h=a(54),v=a(178),f=a(73),g=a.n(f),y=a(89),O=a(76),j=a(28),m=a(9),T=a(10),x=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={},t.onUpdateData=function(){var e=t.props,a=e.getMessageReports,n=e.productId,o=e.query,s=y.a.parseRhsmQuery(o).graphTallyQuery;if(n){var c,l=j.a.getRangedDateTime("CURRENT"),u=l.startDate,d=l.endDate;a(n,Object(i.a)(Object(i.a)({},s),{},(c={},Object(r.a)(c,m.g.GRANULARITY,m.b.DAILY),Object(r.a)(c,m.g.START_DATE,u.toISOString()),Object(r.a)(c,m.g.END_DATE,d.toISOString()),c)))}},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.query;e.productId===t.productId&&g()(a,t.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var t=this,e=this.state,a=this.props,o=a.appMessages,s=a.messages,c=[];return s.length&&Object.entries(o).forEach((function(t){var a=Object(n.a)(t,2),r=a[0],o=a[1];if(!0!==e[r]&&!0===o){var l=s.find((function(t){return t.id===r}));l&&c.push(Object(i.a)({key:r},l))}})),c.map((function(e){var a=e.key,n=e.message,i=e.title,o=e.variant,s=void 0===o?p.b.info:o,c=Object(T.jsx)(b.a,{onClose:function(){return t.setState(Object(r.a)({},a,!0))}});return Object(T.jsx)(p.a,{actionClose:c,title:i,variant:s,children:n},a)}))}},{key:"render",value:function(){var t=this.renderAlerts();return t.length?Object(T.jsx)("div",{className:"curiosity-banner-messages",children:t}):null}}]),a}(d.a.Component);x.defaultProps={getMessageReports:j.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(O.b)("curiosity-banner.dataMismatchTitle"),message:Object(O.b)("curiosity-banner.dataMismatchMessage",{context:""!==j.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:j.b.UI_DISPLAY_NAME},[Object(T.jsx)(h.a,{isInline:!0,component:"a",variant:"link",icon:Object(T.jsx)(v.a,{}),iconPosition:"right",target:"_blank",href:j.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var S=y.e.appMessages.makeAppMessages(),D=Object(y.b)(S,(function(t){return{getMessageReports:function(e,a){return t(y.d.rhsm.getMessageReports(e,a))}}}))(x)},832:function(t,e,a){"use strict";a.d(e,"b",(function(){return w})),a.d(e,"a",(function(){return w}));var n=a(13),r=a(5),i=a(6),o=a(8),s=a(7),c=a(1),l=a.n(c),u=a(73),d=a.n(u),p=a(209),b=a(301),h=a(148),v=a(258),f=a(423),g=a(409),y=a(406),O=a(407),j=a(883),m=a(244),T=a.n(m),x=a(28),S=a(89),D=a(364),I=a(243),E=a(826),C=a(829),k=a(882),R=a(830),A=a(9),_=a(76),L=a(10),N=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onColumnSort=function(e,a){var r,i=a.direction,o=a.id,s=t.props.productId,c=Object.values(A.f).find((function(t){return T()(t)===o}));if(c){switch(i){case p.a.desc:r=A.d.DESCENDING;break;default:r=A.d.ASCENDING}S.g.dispatch([Object(n.a)({type:S.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[A.g.DIRECTION],viewId:s},A.g.DIRECTION,r),Object(n.a)({type:S.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[A.g.SORT],viewId:s},A.g.SORT,c)])}},t.onPage=function(e){var a=e.offset,r=e.perPage,i=t.props.productId;S.g.dispatch([Object(n.a)({type:S.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[A.g.OFFSET],viewId:i},A.g.OFFSET,a),Object(n.a)({type:S.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[A.g.LIMIT],viewId:i},A.g.LIMIT,r)])},t.onUpdateInventoryData=function(){var e=t.props,a=e.getSubscriptionsInventory,n=e.isDisabled,r=e.productId,i=e.query;!n&&r&&a(r,i)},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,n=e.query;a===t.productId&&d()(n,t.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var t=this,e=this.props,a=e.filterInventoryData,n=e.listData,r=e.query,i=e.session,o=[],s=n.map((function(e){var n=Object.assign({},e),s=C.a.parseRowCellsListData({filters:C.a.parseInventoryFilters({filters:a,onSort:t.onColumnSort,query:r}),cellData:n,session:i}),c=s.columnHeaders,l=s.cells;return o=c,{cells:l}}));return Object(L.jsx)(D.b,{borders:!0,variant:b.b.compact,className:"curiosity-inventory-list",columnHeaders:o,rows:s})}},{key:"render",value:function(){var t=this.props,e=t.error,a=t.filterInventoryData,n=t.fulfilled,r=t.isDisabled,i=t.itemCount,o=t.listData,s=t.pending,c=t.perPageDefault,l=t.query,u=t.t;if(r)return Object(L.jsx)(h.a,{className:"curiosity-inventory-card__disabled",children:Object(L.jsx)(v.a,{children:Object(L.jsx)(f.a,{children:u("curiosity-inventory.tab",{context:"disabled"})})})});var d=l[A.g.LIMIT]||c,p=l[A.g.OFFSET],m=R.a.isLastPage(p,d,i),T=!0===n&&i<d&&"bodyMinHeight-".concat(d,"-resize")||!0===n&&m&&"bodyMinHeight-".concat(d,"-resize")||!0===e&&"bodyMinHeight-".concat(d,"-resize")||"bodyMinHeight-".concat(d);return Object(L.jsxs)(h.a,{className:"curiosity-inventory-card",children:[Object(L.jsx)(E.a,{updateOnContent:!0,children:Object(L.jsx)(g.a,{className:e?"hidden":"","aria-hidden":e||!1,children:Object(L.jsx)(y.a,{className:i?"":"transparent","aria-hidden":!i||!1,children:Object(L.jsx)(k.a,{isCompact:!0,isDisabled:s||e,itemCount:i,offset:p,onPage:this.onPage,onPerPage:this.onPage,perPage:d})})})},"headerMinHeight"),Object(L.jsx)(E.a,{updateOnContent:!0,children:Object(L.jsx)(v.a,{children:Object(L.jsxs)("div",{className:(e?"blur":s&&"fadein")||"",children:[s&&Object(L.jsx)(I.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||d,variant:b.b.compact}}),!s&&this.renderTable()]})})},T),Object(L.jsx)(E.a,{updateOnContent:!0,children:Object(L.jsx)(O.a,{className:(e?"hidden":!i&&"transparent")||"","aria-hidden":e||!i||!1,children:Object(L.jsx)(j.TableToolbar,{isFooter:!0,children:Object(L.jsx)(k.a,{dropDirection:"up",isDisabled:s||e,itemCount:i,offset:p,onPage:this.onPage,onPerPage:this.onPage,perPage:d})})})},"footerMinHeight")]})}}]),a}(l.a.Component);N.defaultProps={error:!1,fulfilled:!1,filterInventoryData:[],getSubscriptionsInventory:x.b.noop,isDisabled:x.b.UI_DISABLED_TABLE_SUBSCRIPTIONS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},t:_.b};var P=S.e.subscriptionsList.makeSubscriptionsList(),w=Object(S.b)(P,(function(t){return{getSubscriptionsInventory:function(e,a){return t(S.d.rhsm.getSubscriptionsInventory(e,a))}}}))(N)},835:function(t,e,a){"use strict";a.d(e,"b",(function(){return $})),a.d(e,"a",(function(){return $}));var n=a(13),r=a(4),i=a(5),o=a(6),s=a(8),c=a(7),l=a(1),u=a.n(l),d=a(148),p=a(409),b=a(408),h=a(403),v=a(406),f=a(258),g=a(786),y=a(73),O=a.n(y),j=a(89),m=a(28),T=a(9),x=a(160),S=a.n(x),D=function(t){var e=t.date,a=t.granularity,n=S.a.utc(e);switch(a){case T.b.QUARTERLY:return"".concat(n.format(m.a.timestampQuarterFormats.yearShort)," - ").concat(n.add(1,"quarter").format(m.a.timestampQuarterFormats.yearShort));case T.b.MONTHLY:return n.format(m.a.timestampMonthFormats.yearLong);case T.b.WEEKLY:return"".concat(n.format(m.a.timestampDayFormats.short)," - ").concat(n.add(1,"week").format(m.a.timestampDayFormats.yearShort));case T.b.DAILY:default:return n.format(m.a.timestampDayFormats.long)}},I=function(t){var e=t.tick,a=Math.abs(e),n=e,r="";return a>=Math.pow(10,12)?(r="T",n=e/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(r="B",n=e/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(r="M",n=e/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(r="K",n=e/Math.pow(10,3)),"".concat(n).concat(r)},E={getChartXAxisLabelIncrement:function(t){switch(t){case T.b.DAILY:return 5;case T.b.WEEKLY:case T.b.MONTHLY:return 2;case T.b.QUARTERLY:default:return 1}},getTooltipDate:D,xAxisTickFormat:function(t){var e=t.date,a=t.granularity,n=t.tick,r=t.previousDate;if(e&&a){var i,o=S.a.utc(e),s=0!==n&&Number.parseInt(o.year(),10)!==Number.parseInt(S.a.utc(r).year(),10);switch(a){case T.b.QUARTERLY:i=(i=s?o.format(m.a.timestampQuarterFormats.yearShort):o.format(m.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case T.b.MONTHLY:i=(i=s?o.format(m.a.timestampMonthFormats.yearShort):o.format(m.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case T.b.WEEKLY:case T.b.DAILY:default:i=(i=s?o.format(m.a.timestampDayFormats.yearShort):o.format(m.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},yAxisTickFormat:function(t){var e=t.tick,a=t.locale,n=void 0===a?m.b.UI_LOCALE_DEFAULT:a,r="".concat(new Intl.NumberFormat(n,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(e));return r.length>3&&r.length>="".concat(e).length&&(r=I({tick:e})),r},yAxisTickFormatFallback:I},C=a(76),k=a(10),R=function(t){var e=t.datum,a=t.granularity,n=t.productLabel,r=t.t,i=null,o=[],s=(e||{}).itemsByKey,c=void 0===s?{}:s;return Object.keys(c).forEach((function(t,e){var s,l;0===e&&(i=D({date:null===(l=c[t])||void 0===l?void 0:l.data.date,granularity:a}));var u={color:null===(s=c[t])||void 0===s?void 0:s.color};if(/^threshold/.test(t)){var d,p,b,h=(null===(d=c[t])||void 0===d?void 0:d.data.hasInfinite)&&r("curiosity-graph.infiniteThresholdLabel")||(null!==(p=null===(b=c[t])||void 0===b?void 0:b.data.y)&&void 0!==p?p:r("curiosity-graph.noDataLabel"));u.label=r("curiosity-graph.thresholdLabel"),u.value=h}else{var v,f,g=!1===(null===(v=c[t])||void 0===v?void 0:v.data.hasData)&&r("curiosity-graph.noDataLabel")||(null===(f=c[t])||void 0===f?void 0:f.data.y)||0;u.label=r("curiosity-graph.".concat(t,"Label"),{product:n}),u.value=g}o.push(u)})),Object(k.jsxs)("div",{className:"victory-tooltip",children:[Object(k.jsxs)("table",{summary:r("curiosity-graph.tooltipSummary"),children:[o.length&&i&&Object(k.jsx)("thead",{children:Object(k.jsx)("tr",{children:Object(k.jsx)("th",{colSpan:2,children:i})})})||null,o.length&&Object(k.jsx)("tbody",{children:o.map((function(t){return Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{children:[Object(k.jsx)("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:t.color||"transparent"}}),t.label]}),Object(k.jsx)("td",{children:t.value})]},"tooltip-".concat(t.label))}))})||null]}),!o.length&&r("curiosity-graph.noDataErrorLabel")||null]})};R.defaultProps={datum:{},productLabel:"",t:C.b};var A=a(54),_=a(86),L=a(432),N=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onClick=function(e){var a=t.props,r=a.chart,i=a.viewId,o=r.toggle(e);j.g.dispatch({type:j.f.graph.SET_GRAPH_LEGEND,legend:Object(n.a)({},"".concat(i,"-").concat(e),o)})},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.chart,a=t.datum,n=t.legend,r=t.viewId;a.dataSets.forEach((function(t){var a=t.id;(n["".concat(r,"-").concat(a)]||e.isToggled(a))&&e.hide(a)}))}},{key:"renderLegendItem",value:function(t){var e=this,a=t.chartId,n=t.color,r=t.isDisabled,i=t.isThreshold,o=t.labelContent,s=t.tooltipContent,c=this.props,l=c.chart,u=c.legend,d=c.viewId,p=u["".concat(d,"-").concat(a)]||l.isToggled(a),b=Object(k.jsx)(A.a,{onClick:function(){return e.onClick(a)},onKeyPress:function(){return e.onClick(a)},className:"victory-legend-item",tabIndex:0,variant:"link",component:"a",isDisabled:r,icon:(r||p)&&Object(k.jsx)(L.a,{})||i&&Object(k.jsx)("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:r||p?"hidden":"visible",borderTopColor:n}})||Object(k.jsx)("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:r||p?"hidden":"visible",backgroundColor:n}}),children:o},"curiosity-button-".concat(a));return s?Object(k.jsx)(_.a,{content:Object(k.jsx)("p",{children:s}),position:_.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:b},"curiosity-tooltip-".concat(a)):b}},{key:"render",value:function(){var t=this,e=this.props,a=e.datum,n=e.productLabel,r=e.t;return Object(k.jsx)(u.a.Fragment,{children:a.dataSets.map((function(e){var a=e.id,i=e.isThreshold,o=e.stroke,s=e.data,c=!(void 0===s?[]:s).find((function(t){var e=t.y,a=t.hasData;return e>=0&&!0===a||e>=0&&!0===i}))||!1,l=i&&r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:n,context:n})||r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:n,context:n}),u=i&&r(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:n,context:n})||r("curiosity-graph.".concat(a,"LegendTooltip"),{product:n,context:n});return t.renderLegendItem({chartId:a,color:o,labelContent:l,isDisabled:c,isThreshold:i,tooltipContent:u})}))})}}]),a}(u.a.Component);N.defaultProps={chart:{hide:m.b.noop,toggle:m.b.noop,isToggled:m.b.noop},datum:{dataSets:[]},legend:{},productLabel:"",t:C.b,viewId:"graphCardLegend"};var P=Object(j.b)((function(t){return{legend:t.graph.legend}}))(N),w=a(1004),F=a(1006),M=a(1007),U=a(1002),Y=a(999),H=a(1011),G=a(796),q=a.n(G),z=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={chartWidth:0},t.dataSetsToggle={},t.resizeObserver=m.b.noop,t.containerRef=u.a.createRef(),t.tooltipRef=u.a.createRef(),t.onHide=function(e){t.dataSetsToggle=Object(r.a)(Object(r.a)({},t.dataSetsToggle),{},Object(n.a)({},e,!0)),t.forceUpdate()},t.onRevert=function(){t.dataSetsToggle={},t.forceUpdate()},t.onToggle=function(e){var a=!t.dataSetsToggle[e];return t.dataSetsToggle=Object(r.a)(Object(r.a)({},t.dataSetsToggle),{},Object(n.a)({},e,a)),t.forceUpdate(),a},t.onResizeContainer=function(){var e=t.state.chartWidth,a=(t.containerRef.current||{}).clientWidth,n=void 0===a?0:a;n!==e&&t.setState({chartWidth:n})},t.getIsToggled=function(e){return t.dataSetsToggle[e]||!1},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var t=this,e=this.containerRef.current,a=window.ResizeObserver;if(e&&a){var n=new a(this.onResizeContainer);n.observe(e),this.resizeObserver=function(){return n.unobserve(e)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"setChartTicks",value:function(){var t=this.props,e=t.xAxisLabelIncrement,a=t.xAxisTickFormat,n=t.yAxisTickFormat,i=t.dataSets,o={},s={},c=i.length&&i[0].data||[];return i.forEach((function(t){t.xAxisLabelUseDataSet&&(c=t.data)})),o.xAxisTickValues=c.reduce((function(t,a,n){return n%e===0?t.concat(a.x):t}),[]),o.xAxisTickFormat=function(t){return c[t]&&c[t].xAxisLabel||t},"function"===typeof a&&(o.xAxisTickFormat=function(t){var e=o.xAxisTickValues,n=e.indexOf(t),i=Object(r.a)({},c[e[n-1]]||{}),s=Object(r.a)({},c[e[n+1]]||{}),l=Object(r.a)({},c[t]||{});return a({tick:t,previousItem:i,item:l,nextItem:s})}),"function"===typeof n&&(s.yAxisTickFormat=function(t){return n({tick:t})}),Object(r.a)(Object(r.a)({},o),s)}},{key:"getChartTicks",value:function(){var t=this.props.xAxisFixLabelOverlap,e=this.setChartTicks(),a=e.xAxisTickValues,n=e.xAxisTickFormat,r=e.yAxisTickFormat,i={fixLabelOverlap:t},o={dependentAxis:!0,showGrid:!0};return a&&(i.tickValues=a),n&&(i.tickFormat=n),r&&(o.tickFormat=r),{isXAxisTicks:!!a,xAxisProps:i,yAxisProps:o}}},{key:"getChartDomain",value:function(t){var e=t.isXAxisTicks,a=this.dataSetsToggle,n=this.props,i=n.domain,o=n.dataSets;if(Object.keys(i).length)return i;var s={},c={},l=0,u=0;o.filter((function(t){return!0===t.isStacked})).forEach((function(t){if(!a[t.id]&&t.data){var e=0;t.data.forEach((function(a,n){e=a&&a.y>e?a.y:e,n===t.data.length-1&&(u+=e)}))}})),o.forEach((function(t){!a[t.id]&&t.data&&(l=t.data.length>l?t.data.length:l,t.data.forEach((function(t){u=t&&t.y>u?t.y:u})))})),e||(s.x=[0,l||10]);var d=Math.pow(10,Math.floor(Math.log10(u>10&&u||10)));return s.y=[0,Math.ceil((u+1)/d)*d],Object.keys(s).length&&(c.domain=s),{maxY:u,chartDomain:Object(r.a)({},c)}}},{key:"getTooltipData",value:function(){var t=this.dataSetsToggle,e=this.props,a=e.dataSets,n=e.chartTooltip,i=[];return n&&a&&a[0]&&a[0].data&&(i=a[0].data.map((function(e,i){var o={};a.forEach((function(e){!t[e.id]&&e.data&&e.data[i]&&(o[e.id]={color:e.stroke||e.fill||e.color||"",data:q()(e.data[i])})}));var s={datum:{x:e.x,y:e.y,index:i,itemsByKey:o,dataSets:q()(a)}};return{x:e.x,y:null,itemsByKey:o,tooltip:u.a.isValidElement(n)&&u.a.cloneElement(n,Object(r.a)({},s))||n(Object(r.a)({},s))}}))),i}},{key:"renderTooltip",value:function(){var t=this,e=this.dataSetsToggle,a=this.props,n=a.chartTooltip,i=a.dataSets;if(!n||Object.values(e).filter((function(t){return!0===t})).length===i.length)return null;var o=Object(w.a)("voronoi","cursor"),s=this.getTooltipData(),c={},l={},u=function(e){var a=t.containerRef.current,n=t.tooltipRef.current,i=a&&a.getBoundingClientRect()||{},o=n&&n.getBoundingClientRect()||{};i.right&&(c=i),o.right&&(l=o);var u=e.x+10;(c.right<l.right||e.x+l.width>c.right/2)&&(u=e.x-10-l.width);var d=function(t){var e=t.datum,a=s.find((function(t){return t.x===e.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(r.a)({},e));return d?Object(k.jsx)("g",{children:Object(k.jsx)("foreignObject",{x:u,y:e.y/2.2,width:"100%",height:"100%",children:Object(k.jsx)("div",{ref:t.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml",children:d})})}):Object(k.jsx)("g",{})};return Object(k.jsx)(o,{cursorDimension:"x",labels:function(t){return t},labelComponent:Object(k.jsx)(u,{}),voronoiPadding:60})}},{key:"renderLegend",value:function(){var t=this.props,e=t.chartLegend,a=t.dataSets;if(!e)return null;var n={datum:{dataSets:q()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return u.a.isValidElement(e)&&u.a.cloneElement(e,Object(r.a)({},n))||e(Object(r.a)({},n))}},{key:"renderChart",value:function(t){var e=t.stacked,a=void 0!==e&&e,n=this.dataSetsToggle,i=this.props.dataSets,o=[],s=[];return i.forEach((function(t,e){if(!n[t.id]&&t.data&&t.data.length){var a=t.isThreshold&&function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),t.strokeDasharray&&(a.data.strokeDasharray=t.strokeDasharray),Object(k.jsx)(F.a,{animate:t.animate||!1,interpolation:t.interpolation||"step",name:"chartArea-".concat(e,"-threshold"),data:t.data,style:Object(r.a)(Object(r.a)({},t.style||{}),a),themeColor:t.themeColor,themeVariant:t.themeVariant},m.b.generateId())}(t,e)||function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),Object(k.jsx)(M.a,{animate:t.animate||!1,interpolation:t.interpolation||"monotoneX",name:"chartArea-".concat(e,"-area"),data:t.data,style:Object(r.a)(Object(r.a)({},t.style||{}),a),themeColor:t.themeColor,themeVariant:t.themeVariant},m.b.generateId())}(t,e);t.isStacked?s.push(a):o.push(a)}})),a&&s||o}},{key:"render",value:function(){var t=this.state.chartWidth,e=this.props,a=e.chartLegend,n=e.padding,i=e.themeColor,o=this.getChartTicks(),s=o.isXAxisTicks,c=o.xAxisProps,l=o.yAxisProps,u=this.getChartDomain({isXAxisTicks:s}),d=u.chartDomain,p={containerComponent:u.maxY>=0&&this.renderTooltip()||void 0},b=Object(r.a)(Object(r.a)({padding:n},d),p);return Object(k.jsxs)("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef,children:[Object(k.jsxs)(U.a,Object(r.a)(Object(r.a)({animate:{duration:0},width:t,themeColor:i},b),{},{children:[Object(k.jsx)(Y.a,Object(r.a)(Object(r.a)({},c),{},{animate:!1})),Object(k.jsx)(Y.a,Object(r.a)(Object(r.a)({},l),{},{animate:!1})),this.renderChart({}),Object(k.jsx)(H.a,{children:this.renderChart({stacked:!0})})]})),a&&Object(k.jsx)("div",{className:"curiosity-chartarea-description victory-legend",children:this.renderLegend()})]})}}]),a}(u.a.Component);z.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var V=a(243),Q=a(826),W=a(827),B=Object.values(T.b).map((function(t){return{title:Object(C.b)("curiosity-toolbar.granularity",{context:t}),value:t,selected:!1}})),K=function(t){var e=t.options,a=t.t,i=t.value,o=t.viewId,s=Object(j.h)((function(t){var e,a;return null===(e=t.view.graphTallyQuery)||void 0===e||null===(a=e[o])||void 0===a?void 0:a[T.g.GRANULARITY]}),i),c=e.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{selected:t.value===s})}));return Object(k.jsx)(W.a,{"aria-label":a("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(t){return j.g.dispatch(Object(n.a)({type:j.f.query.SET_QUERY_RHSM_TYPES[T.g.GRANULARITY],viewId:o},T.g.GRANULARITY,t.value))},options:c,selectedOptions:s,placeholder:a("curiosity-toolbar.placeholder",{context:"granularity"})})};K.defaultProps={options:B,t:C.b,value:T.b.DAILY,viewId:"toolbarFieldGranularity"};var X=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).onUpdateGraphData=function(){var e=t.props,a=e.getGraphReportsCapacity,i=e.isDisabled,o=e.productId,s=e.query,c=t.getQueryGranularity();if(!i&&c&&o){var l,u=m.a.getRangedDateTime(c),d=u.startDate,p=u.endDate;a(o,Object(r.a)((l={},Object(n.a)(l,T.g.START_DATE,d.toISOString()),Object(n.a)(l,T.g.END_DATE,p.toISOString()),l),s))}},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,n=e.query;a===t.productId&&O()(n,t.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var t=this.props.query;return null===t||void 0===t?void 0:t[T.g.GRANULARITY]}},{key:"renderChart",value:function(){var t=this.props,e=t.filterGraphData,a=t.graphData,n=t.productLabel,i=t.query,o=t.viewId,s=this.getQueryGranularity(),c={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:E.getChartXAxisLabelIncrement(s),xAxisTickFormat:function(t){var e=t.item,a=t.previousItem,n=t.tick;return E.xAxisTickFormat({tick:n,date:e.date,previousDate:a.date,granularity:s})},yAxisTickFormat:E.yAxisTickFormat};return Object(k.jsx)(z,Object(r.a)(Object(r.a)({},c),{},{dataSets:function(t){var a=function(e){var a={data:t[e],id:e,animate:{duration:250,onLoad:{duration:250}},strokeWidth:2,isStacked:!/^threshold/.test(e),isThreshold:/^threshold/.test(e)};return/^threshold/.test(e)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=g.a.value,a.strokeDasharray="4,3",a.strokeWidth=3),a};return e.length?e.map((function(t){return Object.assign(a(t.id),t)})):Object.keys(t).map((function(t){return a(t)}))}(a),chartLegend:function(t){var e=t.chart,a=t.datum;return Object(k.jsx)(P,{chart:e,datum:a,productLabel:n,viewId:o})},chartTooltip:function(t){var e=t.datum;return Object(k.jsx)(R,{datum:e,granularity:s,productLabel:n})}}),"chart_".concat(JSON.stringify(i)))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.children,n=t.error,r=t.isDisabled,i=t.pending,o=t.viewId;if(r)return null;var s=this.getQueryGranularity();return Object(k.jsxs)(d.a,{className:"curiosity-usage-graph",children:[Object(k.jsx)(Q.a,{children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(b.a,{children:Object(k.jsx)(h.a,{headingLevel:"h2",size:"lg",children:e})}),Object(k.jsxs)(v.a,{className:n?"blur":"",children:[a,Object(k.jsx)(K,{viewId:o,value:s})]})]})},"headerMinHeight"),Object(k.jsx)(Q.a,{children:Object(k.jsx)(f.a,{children:Object(k.jsxs)("div",{className:n?"blur":"fadein",children:[i&&Object(k.jsx)(V.a,{variant:"graph"}),!i&&this.renderChart()]})})},"bodyMinHeight")]})}}]),a}(u.a.Component);X.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:m.b.noop,graphData:{},isDisabled:m.b.UI_DISABLED_GRAPH,pending:!1,productLabel:"",t:C.b,viewId:"graphCard"};var J=j.e.graphCard.makeGraphCard(),$=Object(j.b)(J,(function(t){return{getGraphReportsCapacity:function(e,a){return t(j.d.rhsm.getGraphReportsCapacity(e,a))}}}))(X)},836:function(t,e,a){"use strict";a.d(e,"b",(function(){return B})),a.d(e,"a",(function(){return B}));var n=a(4),r=a(13),i=a(5),o=a(6),s=a(8),c=a(7),l=a(1),u=a.n(l),d=a(73),p=a.n(d),b=a(209),h=a(301),v=a(148),f=a(258),g=a(423),y=a(409),O=a(410),j=a(406),m=a(407),T=a(883),x=a(244),S=a.n(x),D=a(28),I=a(89),E=a(364),C=a(243),k=a(826),R=a(828),A=a(829),_=a(882),L=a(265),N=a(864),P=a.n(N),w=a(45),F=a(163),M=a(32),U=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(n.a)({},t),r=a.checked,i=a.currentTarget,o=void 0===i?{}:i,s=a.keyCode,c=a.persist,l=void 0===c?M.a.noop:c,u=a.target,d=void 0===u?{}:u;return e&&l(),{checked:r,currentTarget:o,keyCode:s,id:o.id||o.name,name:o.name,persist:l,value:o.value,target:d}},Y=a(10),H=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={updatedValue:null},t.onKeyUp=function(e){var a=t.props,r=a.onClear,i=a.onKeyUp,o=a.type,s=e.currentTarget,c=e.keyCode,l=Object(n.a)({},e);i(U(e,!0)),27===c&&("search"===o&&""===s.value?r(U(l)):t.setState({updatedValue:""},(function(){r(U(Object(n.a)(Object(n.a)({},l),{currentTarget:Object(n.a)(Object(n.a)({},l.currentTarget),{},{value:""})})))})))},t.onMouseUp=function(e){var a=t.props,r=a.onClear,i=a.onMouseUp,o=a.type,s=e.currentTarget,c=Object(n.a)({},e);i(U(e,!0)),"search"===o&&""!==s.value&&setTimeout((function(){""===s.value&&r(U(c))}))},t.onChange=function(e,a){var r=t.props.onChange,i=Object(n.a)({},a);t.setState({updatedValue:e},(function(){r(U(i))}))},t}return Object(o.a)(a,[{key:"render",value:function(){var t,e=this.state.updatedValue,a=this.props,r=a.className,i=a.id,o=a.isDisabled,s=a.name,c=(a.onChange,a.onClear,a.onKeyUp,a.onMouseUp,a.isReadOnly),l=a.type,u=a.value,d=Object(w.a)(a,["className","id","isDisabled","name","onChange","onClear","onKeyUp","onMouseUp","isReadOnly","type","value"]),p=s||D.b.generateId(),b=i||p;return Object(Y.jsx)(F.a,Object(n.a)({id:b,name:p,className:"curiosity-text-input ".concat(r),isDisabled:o||!1,onChange:this.onChange,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp,isReadOnly:c||!1,type:l,value:null!==(t=null!==e&&void 0!==e?e:u)&&void 0!==t?t:""},d))}}]),a}(u.a.Component);H.defaultProps={className:"",id:null,isDisabled:!1,isReadOnly:!1,name:null,onChange:D.b.noop,onClear:D.b.noop,onKeyUp:D.b.noop,onMouseUp:D.b.noop,type:"text",value:""};var G=a(9),q=a(76),z=function(t){var e=t.value,a=t.t,n=t.viewId,i=Object(I.h)((function(t){var e,a;return null===(e=t.view.inventoryHostsQuery)||void 0===e||null===(a=e[n])||void 0===a?void 0:a[G.g.DISPLAY_NAME]}),e),o=function(t){return I.g.dispatch([{type:I.f.query.SET_QUERY_CLEAR_INVENTORY_LIST},Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.DISPLAY_NAME],viewId:n},G.g.DISPLAY_NAME,(null===t||void 0===t?void 0:t.trim())||null)])},s=P()(o,700);return Object(Y.jsx)(L.a,{children:Object(Y.jsx)(H,{"aria-label":a("curiosity-toolbar.placeholder",{context:"displayName"}),className:"curiosity-input__display-name",iconVariant:"search",maxLength:255,onClear:function(){""!==i&&i&&I.g.dispatch([{type:I.f.query.SET_QUERY_CLEAR_INVENTORY_LIST},Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.DISPLAY_NAME],viewId:n},G.g.DISPLAY_NAME,null)])},onKeyUp:function(t){switch(t.keyCode){case 13:o(t.value);break;case 27:break;default:s(t.value)}},value:i,placeholder:a("curiosity-toolbar.placeholder",{context:"displayName"})})})};z.defaultProps={t:q.b,value:null,viewId:"toolbarFieldDisplayName"};var V=a(830),Q=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onColumnSort=function(e,a){var n,i=a.direction,o=a.id,s=t.props.productId,c=Object.values(G.e).find((function(t){return S()(t)===o}));if(c){switch(i){case b.a.desc:n=G.d.DESCENDING;break;default:n=G.d.ASCENDING}I.g.dispatch([Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.DIRECTION],viewId:s},G.g.DIRECTION,n),Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.SORT],viewId:s},G.g.SORT,c)])}},t.onPage=function(e){var a=e.offset,n=e.perPage,i=t.props.productId;I.g.dispatch([Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.OFFSET],viewId:i},G.g.OFFSET,a),Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[G.g.LIMIT],viewId:i},G.g.LIMIT,n)])},t.onUpdateInventoryData=function(){var e=t.props,a=e.getHostsInventory,n=e.isDisabled,r=e.productId,i=e.query;!n&&r&&a(r,i)},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,n=e.query;a===t.productId&&p()(n,t.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var t=this,e=this.props,a=e.filterGuestsData,r=e.filterInventoryData,i=e.listData,o=e.query,s=e.session,c=e.settings,l=[],u=i.map((function(e){var i=Object.assign({},e),u=A.a.parseRowCellsListData({filters:A.a.parseInventoryFilters({filters:r,onSort:t.onColumnSort,query:o}),cellData:i,session:s}),d=u.columnHeaders,p=u.cells;l=d;var b=null===i||void 0===i?void 0:i.subscriptionManagerId,h=(null===i||void 0===i?void 0:i.numberOfGuests)>0&&b;return"function"===typeof(null===c||void 0===c?void 0:c.hasGuests)&&(h=c.hasGuests(Object(n.a)({},i),Object(n.a)({},s))),{cells:p,expandedContent:h&&Object(Y.jsx)(R.a,{filterGuestsData:a,numberOfGuests:null===i||void 0===i?void 0:i.numberOfGuests,id:b,query:o},b)||void 0}}));return Object(Y.jsx)(E.b,{borders:!0,variant:h.b.compact,className:"curiosity-inventory-list",columnHeaders:l,rows:u})}},{key:"render",value:function(){var t=this.props,e=t.error,a=t.filterInventoryData,n=t.fulfilled,r=t.isDisabled,i=t.itemCount,o=t.listData,s=t.pending,c=t.perPageDefault,l=t.query,u=t.t,d=t.viewId;if(r)return Object(Y.jsx)(v.a,{className:"curiosity-inventory-card__disabled",children:Object(Y.jsx)(f.a,{children:Object(Y.jsx)(g.a,{children:u("curiosity-inventory.tab",{context:"disabled"})})})});var p=l[G.g.LIMIT]||c,b=l[G.g.OFFSET],x=V.a.isLastPage(b,p,i),S=!0===n&&i<p&&"bodyMinHeight-".concat(p,"-resize")||!0===n&&x&&"bodyMinHeight-".concat(p,"-resize")||!0===e&&"bodyMinHeight-".concat(p,"-resize")||"bodyMinHeight-".concat(p);return Object(Y.jsxs)(v.a,{className:"curiosity-inventory-card",children:[Object(Y.jsx)(k.a,{updateOnContent:!0,children:Object(Y.jsxs)(y.a,{className:e?"hidden":"","aria-hidden":e||!1,children:[Object(Y.jsx)(O.a,{children:Object(Y.jsx)(z,{viewId:d})}),Object(Y.jsx)(j.a,{className:i?"":"transparent","aria-hidden":!i||!1,children:Object(Y.jsx)(_.a,{isCompact:!0,isDisabled:s||e,itemCount:i,offset:b,onPage:this.onPage,onPerPage:this.onPage,perPage:p})})]})},"headerMinHeight"),Object(Y.jsx)(k.a,{updateOnContent:!0,children:Object(Y.jsx)(f.a,{children:Object(Y.jsxs)("div",{className:(e?"blur":s&&"fadein")||"",children:[s&&Object(Y.jsx)(C.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||p,variant:h.b.compact}}),!s&&this.renderTable()]})})},S),Object(Y.jsx)(k.a,{updateOnContent:!0,children:Object(Y.jsx)(m.a,{className:(e?"hidden":!i&&"transparent")||"","aria-hidden":e||!i||!1,children:Object(Y.jsx)(T.TableToolbar,{isFooter:!0,children:Object(Y.jsx)(_.a,{dropDirection:"up",isDisabled:s||e,itemCount:i,offset:b,onPage:this.onPage,onPerPage:this.onPage,perPage:p})})})},"footerMinHeight")]})}}]),a}(u.a.Component);Q.defaultProps={error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getHostsInventory:D.b.noop,isDisabled:D.b.UI_DISABLED_TABLE_HOSTS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},settings:{},t:q.b,viewId:"inventoryList"};var W=I.e.inventoryList.makeInventoryList(),B=Object(I.b)(W,(function(t){return{getHostsInventory:function(e,a){return t(I.d.rhsm.getHostsInventory(e,a))}}}))(Q)},837:function(t,e,a){"use strict";a.d(e,"b",(function(){return D})),a.d(e,"a",(function(){return x}));var n=a(13),r=a(5),i=a(6),o=a(8),s=a(7),c=a(1),l=a.n(c),u=a(403),d=a(89),p=a(419),b=a(420),h=a(438),v=a(426),f=a(427),g=a(225),y=a.n(g),O=a(28),j=a(10),m=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={updatedActiveTab:null,updatedTabs:null},t.onTab=function(e){var a=e.index,n=t.props.onTab;t.setState({updatedActiveTab:a},(function(){return n({index:a})}))},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.updatedTabs&&this.setTabData()}},{key:"componentDidUpdate",value:function(t){var e=this.props.tabs;y()(t.tabs,e,(function(t,e){if("function"===typeof t&&"function"===typeof e)return t.toString()===e.toString()}))||this.setTabData()}},{key:"setTabData",value:function(){var t=this.props,e=t.activeTab,a=t.defaultActiveTab,n=t.tabs,r=a,i=n.map((function(t,e){var a=t.active,n=t.content,i=t.title;return r=a?e:r,Object(j.jsx)(p.a,{eventKey:e,title:Object(j.jsx)(b.a,{children:i}),children:n},i)}));"number"===typeof e&&(r=e),this.setState({updatedActiveTab:r,updatedTabs:i})}},{key:"renderTabs",value:function(){var t=this,e=this.state,a=e.updatedActiveTab,n=e.updatedTabs,r=this.props,i=r.className,o=r.hasOverflowScroll;return Object(j.jsx)(h.a,{className:"curiosity-tabs".concat(o?"":"__no-scroll"," ").concat(i||""),activeKey:a,onSelect:function(e,a){return t.onTab({event:e,index:a})},mountOnEnter:!0,unmountOnExit:!0,inset:{default:"insetNone",md:"insetLg"},children:n})}},{key:"render",value:function(){return Object(j.jsx)(v.a,{className:"curiosity-tabs-container",children:Object(j.jsx)(f.a,{span:12,children:this.renderTabs()})})}}]),a}(l.a.Component);m.defaultProps={activeTab:null,className:"",defaultActiveTab:0,hasOverflowScroll:!1,onTab:O.b.noop,tabs:[]};var T=a(76),x=function(t){t.active;var e=t.children;t.title;return Object(j.jsx)(l.a.Fragment,{children:e})};x.defaultProps={active:!1};var S=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onTab=function(e){var a=e.index,r=t.props.productId;d.g.dispatch({type:d.f.inventory.SET_INVENTORY_TAB,tabs:Object(n.a)({},r,a)})},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props,e=t.activeTab,a=t.children,n=t.defaultActiveTab,r=t.isDisabled,i=t.t;if(r)return null;var o=l.a.Children.toArray(a).map((function(t){var e=t.props,a=void 0===e?{}:e;return{active:a.active||!1,content:a.children,title:a.title}}));return Object(j.jsxs)(l.a.Fragment,{children:[Object(j.jsx)(u.a,{headingLevel:"h2",className:"sr-only",children:i("curiosity-inventory.tabHeading",{count:o.length})}),Object(j.jsx)(m,{activeTab:e,defaultActiveTab:n,onTab:this.onTab,tabs:o})]})}}]),a}(l.a.Component);S.defaultProps={activeTab:0,defaultActiveTab:0,isDisabled:O.b.UI_DISABLED_TABLE,t:T.b};var D=Object(d.b)((function(t,e){var a,n=t.inventory,r=e.productId;return{activeTab:null===(a=n.tabs)||void 0===a?void 0:a[r]}}))(S)},839:function(t,e,a){"use strict";a.d(e,"b",(function(){return I})),a.d(e,"a",(function(){return I}));var n=a(4),r=a(13),i=a(5),o=a(6),s=a(8),c=a(7),l=a(1),u=a.n(l),d=a(421),p=a(439),b=a(440),h=a(422),v=a(140),f=a(110),g=a(433),y=a(827),O=a(89),j=a(9),m=a(76),T=function(t){switch(t){case j.g.SLA:return{selected:null,options:[{title:Object(m.b)("curiosity-toolbar.slaPremium"),value:j.c.PREMIUM},{title:Object(m.b)("curiosity-toolbar.slaStandard"),value:j.c.STANDARD},{title:Object(m.b)("curiosity-toolbar.slaSelfSupport"),value:j.c.SELF},{title:Object(m.b)("curiosity-toolbar.slaNone"),value:j.c.NONE}]};case j.g.USAGE:return{selected:null,options:[{title:Object(m.b)("curiosity-toolbar.usageDevelopment"),value:j.i.DEVELOPMENT},{title:Object(m.b)("curiosity-toolbar.usageDisaster"),value:j.i.DISASTER},{title:Object(m.b)("curiosity-toolbar.usageProduction"),value:j.i.PRODUCTION},{title:Object(m.b)("curiosity-toolbar.usageUnspecified"),value:j.i.UNSPECIFIED}]};default:return{selected:null,options:[{title:Object(m.b)("curiosity-toolbar.category",{context:j.g.SLA}),value:j.g.SLA},{title:Object(m.b)("curiosity-toolbar.category",{context:j.g.USAGE}),value:j.g.USAGE}]}}},x=a(28),S=a(10),D=function(t){Object(s.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onClear=function(){var e,a=t.props.hardFilterReset,n=[{type:O.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:new Set}},{type:O.f.query.SET_QUERY_CLEAR,data:{clearFilters:(e={},Object(r.a)(e,j.g.SLA,null),Object(r.a)(e,j.g.USAGE,null),e)}}];a&&n.push({type:O.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:null}}),t.setDispatch(n,!0)},t.onClearFilter=function(e){var a=t.props,n=a.activeFilters,i=a.currentFilter,o=a.hardFilterReset,s=(T().options.find((function(t){return t.title===e}))||{}).value;if(s){var c=new Set(n);c.delete(s);var l=[{type:O.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:c}},{type:O.f.query.SET_QUERY_CLEAR,data:{clearFilters:Object(r.a)({},s,null)}}];if(o){var u=c.size>0&&i||null;l.push({type:O.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:u}})}t.setDispatch(l,!0)}},t.onCategorySelect=function(e){var a=e.value;t.setDispatch({type:O.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:a}})},t.onSelect=function(e){var a=e.event,n=e.field,i=t.props.activeFilters,o=a.value,s=new Set(i).add(n);t.setDispatch([{type:O.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:s}},{type:O.f.query.SET_QUERY_RHSM_TYPES[n],data:Object(r.a)({},n,o)}],!0)},t}return Object(o.a)(a,[{key:"setDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.viewId,r=(Array.isArray(t)&&t||[t]).map((function(t){var e=t.type,r=t.data;return Object(n.a)({type:e,viewId:a},r)}));e&&r.push({type:O.f.query.SET_QUERY_RESET_INVENTORY_LIST}),O.g.dispatch(r)}},{key:"setSelectFilter",value:function(t){var e,a,n=this.props.query,r=T(t),i=this.getCurrentFilter();return a=t?"string"===typeof(null===n||void 0===n?void 0:n[t])&&r.options.find((function(e){return e.value===(null===n||void 0===n?void 0:n[t])})):r.options.find((function(t){return t.value===i})),{options:r,optionsSelected:(null===(e=a)||void 0===e?void 0:e.title)&&[a.title]||(null===r||void 0===r?void 0:r.selected)&&[r.selected]||[]}}},{key:"getCurrentFilter",value:function(){var t,e,a=this.props,n=a.currentFilter,r=a.filterOptions;return n||(null===(t=r.find((function(t){return!0===t.selected})))||void 0===t?void 0:t.id)||1===r.length&&(null===(e=r[0])||void 0===e?void 0:e.id)}},{key:"renderSelectFilter",value:function(t){var e=this,a=t.id,n=this.props.t,r=this.setSelectFilter(a),i=r.options,o=r.optionsSelected,s=this.getCurrentFilter();return Object(S.jsx)(d.a,{chips:o,deleteChip:this.onClearFilter,categoryName:n("curiosity-toolbar.category",{context:a}),showToolbarItem:s===a,children:Object(S.jsx)(y.a,{"aria-label":n("curiosity-toolbar.category",{context:a}),onSelect:function(t){return e.onSelect({event:t,field:a})},selectedOptions:o,placeholder:n("curiosity-toolbar.placeholder",{context:a}),options:i.options})},a)}},{key:"render",value:function(){var t=this,e=this.props,a=e.filterOptions,n=e.isDisabled,r=e.t;if(n)return null;var i=this.setSelectFilter(),o=i.options,s=i.optionsSelected;return Object(S.jsx)(p.a,{id:"curiosity-toolbar",className:"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"sm",clearAllFilters:this.onClear,clearFiltersButtonText:r("curiosity-toolbar.clearFilters"),children:Object(S.jsx)(b.a,{children:Object(S.jsx)(h.a,{toggleIcon:Object(S.jsx)(g.a,{}),breakpoint:"md",children:Object(S.jsxs)(v.a,{variant:"filter-group",children:[1!==a.length&&Object(S.jsx)(f.a,{children:Object(S.jsx)(y.a,{"aria-label":r("curiosity-toolbar.category"),onSelect:this.onCategorySelect,selectedOptions:s,placeholder:r("curiosity-toolbar.placeholder"),options:o.options,toggleIcon:Object(S.jsx)(g.a,{})})}),a.map((function(e){var a=e.id,n=e.selected;return t.renderSelectFilter({id:a,selected:n})}))]})})})})}}]),a}(u.a.Component);D.defaultProps={query:{},activeFilters:new Set,currentFilter:null,filterOptions:[{id:j.g.SLA,filterType:"select"},{id:j.g.USAGE,filterType:"select",selected:!0}],hardFilterReset:!1,isDisabled:x.b.UI_DISABLED_TOOLBAR,t:m.b,viewId:"toolbar"};var I=Object(O.b)((function(t,e){var a,r,i=t.toolbar,o=t.view,s=e.query,c=e.viewId;return Object(n.a)(Object(n.a)({},null===(a=i.filters)||void 0===a?void 0:a[c]),{},{query:(null===(r=o.query)||void 0===r?void 0:r[c])||s})}))(D)},882:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a(1);var n=a(186),r=a(28),i=a(830),o=a(10),s=function t(e){var a=e.dropDirection,r=e.isDisabled,s=e.isCompact,c=e.itemCount,l=e.offset,u=e.onPage,d=e.onPerPage,p=e.perPage,b=e.variant;return Object(o.jsx)(n.a,{dropDirection:a,isCompact:s,isDisabled:r||!c,itemCount:c,onSetPage:function(t,e,a){return u({event:t,perPage:a,offset:i.a.calculateOffsetFromPage(e,a)})},onPerPageSelect:function(e,a){return d({event:e,perPage:a,offset:t.defaultProps.offset})},page:i.a.calculatePageFromOffset(l||t.defaultProps.offset,p),perPage:p,variant:b})};s.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:r.b.noop,onPerPage:r.b.noop,perPage:10,variant:null}}}]);
//# sourceMappingURL=1.a6750840.chunk.js.map