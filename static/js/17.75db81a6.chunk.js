(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[17,27,31,34,35,38],{583:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return h})),a.d(e,"MinHeight",(function(){return h}));var r=a(15),n=a(16),i=a(241),o=a(18),c=a(17),s=a(0),l=a.n(s),d=a(13),u=a(4),h=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).containerRef=l.a.createRef(),t.innerContainerRef=l.a.createRef(),t.updatedContainerWidth=0,t.resizeObserver=d.b.noop,t.onResizeContainer=function(){var e,a,r=Object(i.a)(t).updatedContainerWidth,n=t.props.updateOnResize,o=(null===(e=t.containerRef)||void 0===e||null===(a=e.current)||void 0===a?void 0:a.clientWidth)||0;n&&o!==r&&(t.updatedContainerWidth=o,t.setMinHeight(!0))},t}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.updateOnResize;window.setTimeout((function(){t.setMinHeight()})),e&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var t=this;this.props.updateOnContent&&window.setTimeout((function(){t.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props.minHeight,r=this.containerRef.current,n=void 0===r?{}:r,i=this.innerContainerRef.current,o=void 0===i?{}:i;(null===n||void 0===n?void 0:n.style)&&(a>(t=e?(null===o||void 0===o?void 0:o.clientHeight)||0:(null===n||void 0===n?void 0:n.clientHeight)||0)&&(t=a),n.style.minHeight="".concat(t,"px"))}},{key:"setResizeObserver",value:function(){var t=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"render",value:function(){var t=this.props.children;return Object(u.jsx)("div",{className:"curiosity-minheight",ref:this.containerRef,children:Object(u.jsx)("div",{ref:this.innerContainerRef,children:t})})}}]),a}(l.a.Component);h.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},584:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return h})),a.d(e,"graphCardHelpers",(function(){return h})),a.d(e,"getChartXAxisLabelIncrement",(function(){return c})),a.d(e,"getTooltipDate",(function(){return s})),a.d(e,"xAxisTickFormat",(function(){return l})),a.d(e,"yAxisTickFormat",(function(){return u})),a.d(e,"yAxisTickFormatFallback",(function(){return d}));var r=a(70),n=a.n(r),i=a(3),o=a(13),c=function(t){switch(t){case i.b.DAILY:return 5;case i.b.WEEKLY:case i.b.MONTHLY:return 2;case i.b.QUARTERLY:default:return 1}},s=function(t){var e=t.date,a=t.granularity,r=n.a.utc(e);switch(a){case i.b.QUARTERLY:return"".concat(r.format(o.a.timestampQuarterFormats.yearShort)," - ").concat(r.add(1,"quarter").format(o.a.timestampQuarterFormats.yearShort));case i.b.MONTHLY:return r.format(o.a.timestampMonthFormats.yearLong);case i.b.WEEKLY:return"".concat(r.format(o.a.timestampDayFormats.short)," - ").concat(r.add(1,"week").format(o.a.timestampDayFormats.yearShort));case i.b.DAILY:default:return r.format(o.a.timestampDayFormats.long)}},l=function(t){var e=t.date,a=t.granularity,r=t.tick,c=t.previousDate;if(e&&a){var s,l=n.a.utc(e),d=0!==r&&Number.parseInt(l.year(),10)!==Number.parseInt(n.a.utc(c).year(),10);switch(a){case i.b.QUARTERLY:s=(s=d?l.format(o.a.timestampQuarterFormats.yearShort):l.format(o.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case i.b.MONTHLY:s=(s=d?l.format(o.a.timestampMonthFormats.yearShort):l.format(o.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case i.b.WEEKLY:case i.b.DAILY:default:s=(s=d?l.format(o.a.timestampDayFormats.yearShort):l.format(o.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return s}},d=function(t){var e=t.tick,a=Math.abs(e),r=e,n="";return a>=Math.pow(10,12)?(n="T",r=e/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(n="B",r=e/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(n="M",r=e/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(n="K",r=e/Math.pow(10,3)),"".concat(r).concat(n)},u=function(t){var e=t.tick,a=t.locale,r=void 0===a?o.b.UI_LOCALE_DEFAULT:a,n="".concat(new Intl.NumberFormat(r,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(e));return n.length>3&&n.length>="".concat(e).length&&(n=d({tick:e})),n},h={getChartXAxisLabelIncrement:c,getTooltipDate:s,xAxisTickFormat:l,yAxisTickFormat:u,yAxisTickFormatFallback:d}},590:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return k})),a.d(e,"ChartArea",(function(){return k}));var r=a(6),n=a(1),i=a(15),o=a(16),c=a(18),s=a(17),l=a(0),d=a.n(l),u=a(912),h=a(916),p=a(866),f=a(917),b=a(919),m=a(913),g=a(907),v=a(922),y=a(634),j=a.n(y),O=a(13),x=a(4),k=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(i.a)(this,a);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).state={chartWidth:0},t.dataSetsToggle={},t.resizeObserver=O.b.noop,t.containerRef=d.a.createRef(),t.tooltipRef=d.a.createRef(),t.onHide=function(e){t.dataSetsToggle=Object(n.a)(Object(n.a)({},t.dataSetsToggle),{},Object(r.a)({},e,!0)),t.forceUpdate()},t.onRevert=function(){t.dataSetsToggle={},t.forceUpdate()},t.onToggle=function(e){var a=!t.dataSetsToggle[e];return t.dataSetsToggle=Object(n.a)(Object(n.a)({},t.dataSetsToggle),{},Object(r.a)({},e,a)),t.forceUpdate(),a},t.onResizeContainer=function(){var e=t.state.chartWidth,a=(t.containerRef.current||{}).clientWidth,r=void 0===a?0:a;r!==e&&t.setState({chartWidth:r})},t.getIsToggled=function(e){return t.dataSetsToggle[e]||!1},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var t=this,e=this.containerRef.current,a=window.ResizeObserver;if(e&&a){var r=new a(this.onResizeContainer);r.observe(e),this.resizeObserver=function(){return r.unobserve(e)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"setChartTicks",value:function(){var t=this.props,e=t.xAxisLabelIncrement,a=t.xAxisTickFormat,r=t.yAxisTickFormat,i=t.dataSets,o={},c={},s=i.length&&i[0].data||[];return i.forEach((function(t){t.xAxisLabelUseDataSet&&(s=t.data)})),o.xAxisTickValues=s.reduce((function(t,a,r){return r%e===0?t.concat(a.x):t}),[]),o.xAxisTickFormat=function(t){return s[t]&&s[t].xAxisLabel||t},"function"===typeof a&&(o.xAxisTickFormat=function(t){var e=o.xAxisTickValues,r=e.indexOf(t),i=Object(n.a)({},s[e[r-1]]||{}),c=Object(n.a)({},s[e[r+1]]||{}),l=Object(n.a)({},s[t]||{});return a({tick:t,previousItem:i,item:l,nextItem:c})}),"function"===typeof r&&(c.yAxisTickFormat=function(t){return r({tick:t})}),Object(n.a)(Object(n.a)({},o),c)}},{key:"getChartTicks",value:function(){var t=this.props.xAxisFixLabelOverlap,e=this.setChartTicks(),a=e.xAxisTickValues,r=e.xAxisTickFormat,n=e.yAxisTickFormat,i={fixLabelOverlap:t},o={dependentAxis:!0,showGrid:!0};return a&&(i.tickValues=a),r&&(i.tickFormat=r),n&&(o.tickFormat=n),{isXAxisTicks:!!a,xAxisProps:i,yAxisProps:o}}},{key:"getChartDomain",value:function(t){var e=t.isXAxisTicks,a=this.dataSetsToggle,r=this.props,i=r.domain,o=r.dataSets;if(Object.keys(i).length)return i;var c={},s={},l=0,d=0;o.filter((function(t){return!0===t.isStacked})).forEach((function(t){if(!a[t.id]&&t.data){var e=0;t.data.forEach((function(a,r){e=a&&a.y>e?a.y:e,r===t.data.length-1&&(d+=e)}))}})),o.forEach((function(t){!a[t.id]&&t.data&&(l=t.data.length>l?t.data.length:l,t.data.forEach((function(t){d=t&&t.y>d?t.y:d})))})),e||(c.x=[0,l||10]);var u=Math.pow(10,Math.floor(Math.log10(d>10&&d||10)));return c.y=[0,Math.ceil((d+1)/u)*u],Object.keys(c).length&&(s.domain=c),{maxY:d,chartDomain:Object(n.a)({},s)}}},{key:"getTooltipData",value:function(){var t=this.dataSetsToggle,e=this.props,a=e.dataSets,r=e.chartTooltip,i=[];return r&&a&&a[0]&&a[0].data&&(i=a[0].data.map((function(e,i){var o={};a.forEach((function(e){!t[e.id]&&e.data&&e.data[i]&&(o[e.id]={color:e.stroke||e.fill||e.color||"",data:j()(e.data[i])})}));var c={datum:{x:e.x,y:e.y,index:i,itemsByKey:o,dataSets:j()(a)}};return{x:e.x,y:null,itemsByKey:o,tooltip:d.a.isValidElement(r)&&d.a.cloneElement(r,Object(n.a)({},c))||r(Object(n.a)({},c))}}))),i}},{key:"renderTooltip",value:function(){var t=this,e=this.dataSetsToggle,a=this.props,r=a.chartTooltip,i=a.dataSets;if(!r||Object.values(e).filter((function(t){return!0===t})).length===i.length)return null;var o=Object(u.a)("voronoi","cursor"),c=this.getTooltipData(),s=function(t,e,a){var r=t+10;return t>e/2&&(r=t-10-a/2),r},l=function(t,e,a){var r=t+10;return t>e/2&&(r=t-10-a),r},d=function(e){var a=t.containerRef.current,r=t.tooltipRef.current,i=a&&a.getBoundingClientRect()||{width:0,height:0},o=r&&r.getBoundingClientRect()||{width:0,height:0},d=function(t){var e=t.datum,a=c.find((function(t){return t.x===e.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(n.a)({},e));return d?Object(x.jsx)("g",{children:Object(x.jsx)("foreignObject",{x:s(e.x,i.width,o.width),y:l(e.y,i.height,o.height),width:"100%",height:"100%",children:Object(x.jsx)("div",{ref:t.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml",children:d})})}):Object(x.jsx)("g",{})},f=Object(x.jsx)(h.a,{flyout:Object(x.jsx)(p.a,{}),flyoutStyle:{fill:"transparent"},labelComponent:Object(x.jsx)(d,{}),renderInPortal:!0});return Object(x.jsx)(o,{cursorDimension:"x",labels:function(t){return t},labelComponent:f,voronoiPadding:50,mouseFollowTooltips:!0})}},{key:"renderLegend",value:function(){var t=this.props,e=t.chartLegend,a=t.dataSets;if(!e)return null;var r={datum:{dataSets:j()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return d.a.isValidElement(e)&&d.a.cloneElement(e,Object(n.a)({},r))||e(Object(n.a)({},r))}},{key:"renderChart",value:function(t){var e=t.stacked,a=void 0!==e&&e,r=this.dataSetsToggle,i=this.props.dataSets,o=[],c=[];return i.forEach((function(t,e){if(!r[t.id]&&t.data&&t.data.length){var a=t.isThreshold&&function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),t.strokeDasharray&&(a.data.strokeDasharray=t.strokeDasharray),Object(x.jsx)(f.a,{animate:t.animate||!1,interpolation:t.interpolation||"step",name:"chartArea-".concat(e,"-threshold"),data:t.data,style:Object(n.a)(Object(n.a)({},t.style||{}),a),themeColor:t.themeColor,themeVariant:t.themeVariant},O.b.generateId())}(t,e)||function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),Object(x.jsx)(b.a,{animate:t.animate||!1,interpolation:t.interpolation||"monotoneX",name:"chartArea-".concat(e,"-area"),data:t.data,style:Object(n.a)(Object(n.a)({},t.style||{}),a),themeColor:t.themeColor,themeVariant:t.themeVariant},O.b.generateId())}(t,e);t.isStacked?c.push(a):o.push(a)}})),a&&c||o}},{key:"render",value:function(){var t=this.state.chartWidth,e=this.props,a=e.chartLegend,r=e.padding,i=e.themeColor,o=this.getChartTicks(),c=o.isXAxisTicks,s=o.xAxisProps,l=o.yAxisProps,d=this.getChartDomain({isXAxisTicks:c}),u=d.chartDomain,h={containerComponent:d.maxY>=0&&this.renderTooltip()||void 0},p=Object(n.a)(Object(n.a)({padding:r},u),h);return Object(x.jsxs)("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef,children:[Object(x.jsxs)(m.a,Object(n.a)(Object(n.a)({animate:{duration:0},width:t,themeColor:i},p),{},{children:[Object(x.jsx)(g.a,Object(n.a)(Object(n.a)({},s),{},{animate:!1})),Object(x.jsx)(g.a,Object(n.a)(Object(n.a)({},l),{},{animate:!1})),this.renderChart({}),Object(x.jsx)(v.a,{children:this.renderChart({stacked:!0})})]})),a&&Object(x.jsx)("div",{className:"curiosity-chartarea-description victory-legend",children:this.renderLegend()})]})}}]),a}(d.a.Component);k.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null}},591:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return o})),a.d(e,"GraphCardChartTooltip",(function(){return o}));a(0);var r=a(584),n=a(30),i=a(4),o=function(t){var e=t.datum,a=t.granularity,n=t.productLabel,o=t.t,c=null,s=[],l=(e||{}).itemsByKey,d=void 0===l?{}:l;return Object.keys(d).forEach((function(t,e){var i,l;0===e&&(c=Object(r.getTooltipDate)({date:null===(l=d[t])||void 0===l?void 0:l.data.date,granularity:a}));var u={color:null===(i=d[t])||void 0===i?void 0:i.color};if(/^threshold/.test(t)){var h,p,f,b=(null===(h=d[t])||void 0===h?void 0:h.data.hasInfinite)&&o("curiosity-graph.infiniteThresholdLabel")||(null!==(p=null===(f=d[t])||void 0===f?void 0:f.data.y)&&void 0!==p?p:o("curiosity-graph.noDataLabel"));u.label=o("curiosity-graph.thresholdLabel"),u.value=b}else{var m,g,v=!1===(null===(m=d[t])||void 0===m?void 0:m.data.hasData)&&o("curiosity-graph.noDataLabel")||(null===(g=d[t])||void 0===g?void 0:g.data.y)||0;u.label=o("curiosity-graph.".concat(t,"Label"),{product:n}),u.value=v}s.push(u)})),Object(i.jsxs)("div",{className:"victory-tooltip",children:[Object(i.jsxs)("table",{summary:o("curiosity-graph.tooltipSummary"),children:[s.length&&c&&Object(i.jsx)("thead",{children:Object(i.jsx)("tr",{children:Object(i.jsx)("th",{colSpan:2,children:c})})})||null,s.length&&Object(i.jsx)("tbody",{children:s.map((function(t){return Object(i.jsxs)("tr",{children:[Object(i.jsxs)("th",{children:[Object(i.jsx)("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:t.color||"transparent"}}),t.label]}),Object(i.jsx)("td",{children:t.value})]},"tooltip-".concat(t.label))}))})||null]}),!s.length&&o("curiosity-graph.noDataErrorLabel")||null]})};o.defaultProps={datum:{},productLabel:"",t:n.translate}},595:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return y})),a.d(e,"ConnectedGraphCardChartLegend",(function(){return y})),a.d(e,"GraphCardChartLegend",(function(){return v}));var r=a(6),n=a(15),i=a(16),o=a(18),c=a(17),s=a(0),l=a.n(s),d=a(40),u=a(85),h=a(14),p=Object(h.a)({name:"EyeSlashIcon",height:512,width:640,svgPath:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z",yOffset:0,xOffset:0}),f=a(57),b=a(13),m=a(30),g=a(4),v=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).onClick=function(e){var a=t.props,n=a.chart,i=a.viewId,o=n.toggle(e);f.g.dispatch({type:f.f.graph.SET_GRAPH_LEGEND,legend:Object(r.a)({},"".concat(i,"-").concat(e),o)})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.chart,a=t.datum,r=t.legend,n=t.viewId;a.dataSets.forEach((function(t){var a=t.id;(r["".concat(n,"-").concat(a)]||e.isToggled(a))&&e.hide(a)}))}},{key:"renderLegendItem",value:function(t){var e=this,a=t.chartId,r=t.color,n=t.isDisabled,i=t.isThreshold,o=t.labelContent,c=t.tooltipContent,s=this.props,l=s.chart,h=s.legend,f=s.viewId,b=h["".concat(f,"-").concat(a)]||l.isToggled(a),m=Object(g.jsx)(d.a,{onClick:function(){return e.onClick(a)},onKeyPress:function(){return e.onClick(a)},className:"victory-legend-item",tabIndex:0,variant:"link",component:"a",isDisabled:n,icon:(n||b)&&Object(g.jsx)(p,{})||i&&Object(g.jsx)("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:n||b?"hidden":"visible",borderTopColor:r}})||Object(g.jsx)("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:n||b?"hidden":"visible",backgroundColor:r}}),children:o},"curiosity-button-".concat(a));return c?Object(g.jsx)(u.a,{content:Object(g.jsx)("p",{children:c}),position:u.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0,children:m},"curiosity-tooltip-".concat(a)):m}},{key:"render",value:function(){var t=this,e=this.props,a=e.datum,r=e.productLabel,n=e.t;return Object(g.jsx)(l.a.Fragment,{children:a.dataSets.map((function(e){var a=e.id,i=e.isThreshold,o=e.stroke,c=e.data,s=!(void 0===c?[]:c).find((function(t){var e=t.y,a=t.hasData;return e>=0&&!0===a||e>=0&&!0===i}))||!1,l=i&&n(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:r,context:r})||n(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:r,context:r}),d=i&&n(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:r,context:r})||n("curiosity-graph.".concat(a,"LegendTooltip"),{product:r,context:r});return t.renderLegendItem({chartId:a,color:o,labelContent:l,isDisabled:s,isThreshold:i,tooltipContent:d})}))})}}]),a}(l.a.Component);v.defaultProps={chart:{hide:b.b.noop,toggle:b.b.noop,isToggled:b.b.noop},datum:{dataSets:[]},legend:{},productLabel:"",t:m.translate,viewId:"graphCardLegend"};var y=Object(f.b)((function(t){return{legend:t.graph.legend}}))(v)},596:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return F})),a.d(e,"ConnectedGraphCard",(function(){return F})),a.d(e,"GraphCard",(function(){return R}));var r=a(1),n=a(15),i=a(16),o=a(18),c=a(17),s=a(0),l=a.n(s),d=a(242),u=a(657),h=a(664),p=a(100),f=a(665),b=a(311),m=a(681),g=a(55),v=a.n(g),y=a(57),j=a(13),O=a(3),x=a(584),k=a(591),T=a(595),C=a(590),A=a(126),L=a(583),D=a(30),w=a(4),R=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onUpdateGraphData=function(){var e=t.props,a=e.getGraphReportsCapacity,r=e.isDisabled,n=e.productId,i=e.query,o=t.getQueryGranularity(),c=i[O.g.START_DATE],s=i[O.g.END_DATE];!r&&o&&c&&s&&n&&a(n,i)},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,r=e.query;a===t.productId&&v()(r,t.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var t=this.props.query;return null===t||void 0===t?void 0:t[O.g.GRANULARITY]}},{key:"renderChart",value:function(){var t=this.props,e=t.filterGraphData,a=t.graphData,n=t.productLabel,i=t.query,o=t.viewId,c=this.getQueryGranularity(),s={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:x.graphCardHelpers.getChartXAxisLabelIncrement(c),xAxisTickFormat:function(t){var e=t.item,a=t.previousItem,r=t.tick;return x.graphCardHelpers.xAxisTickFormat({tick:r,date:e.date,previousDate:a.date,granularity:c})},yAxisTickFormat:x.graphCardHelpers.yAxisTickFormat};return Object(w.jsx)(C.ChartArea,Object(r.a)(Object(r.a)({},s),{},{dataSets:function(t){var a=function(e){var a={data:t[e],id:e,animate:{duration:250,onLoad:{duration:250}},strokeWidth:2,isStacked:!/^threshold/.test(e),isThreshold:/^threshold/.test(e)};return/^threshold/.test(e)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=m.a.value,a.strokeDasharray="4,3",a.strokeWidth=3),a};return e.length?e.map((function(t){return Object.assign(a(t.id),t)})):Object.keys(t).map((function(t){return a(t)}))}(a),chartLegend:function(t){var e=t.chart,a=t.datum;return Object(w.jsx)(T.default,{chart:e,datum:a,productLabel:n,viewId:o})},chartTooltip:function(t){var e=t.datum;return Object(w.jsx)(k.default,{datum:e,granularity:c,productLabel:n})}}),"chart_".concat(JSON.stringify(i)))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.children,n=t.error,i=t.graphData,o=t.meta,c=t.isDisabled,s=t.pending,m=t.settings;if(c)return null;var g=null;return"function"===typeof(null===m||void 0===m?void 0:m.actionDisplay)&&(g=m.actionDisplay({data:Object(r.a)({},i),meta:Object(r.a)({},o)})),Object(w.jsxs)(d.a,{className:"curiosity-usage-graph",children:[Object(w.jsx)(L.MinHeight,{children:Object(w.jsxs)(u.a,{children:[Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{headingLevel:"h2",size:"lg",children:e})}),Object(w.jsxs)(f.a,{className:n?"blur":"",children:[Object(w.jsx)(l.a.Fragment,{children:g},"actionDisplay"),a]})]})},"headerMinHeight"),Object(w.jsx)(L.MinHeight,{children:Object(w.jsx)(b.a,{children:Object(w.jsxs)("div",{className:(n?"blur":s&&"fadein")||"",children:[s&&Object(w.jsx)(A.Loader,{variant:"graph"}),!s&&this.renderChart()]})})},"bodyMinHeight")]})}}]),a}(l.a.Component);R.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:j.b.noop,graphData:{},meta:{},isDisabled:j.b.UI_DISABLED_GRAPH,pending:!1,productLabel:"",settings:{},t:D.translate,viewId:"graphCard"};var E=y.e.graphCard.makeGraphCard(),F=Object(y.b)(E,(function(t){return{getGraphReportsCapacity:function(e,a){return t(y.d.rhsm.getGraphReportsCapacity(e,a))}}}))(R)},657:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var r=a(5),n=a(0),i=a(2),o=a(48),c=a.n(o),s=a(242),l=a(40),d=a(240),u=function(t){var e=t.children,a=void 0===e?null:e,o=t.className,u=void 0===o?"":o,h=t.id,p=t.onExpand,f=t.toggleButtonProps,b=t.isToggleRightAligned,m=Object(r.__rest)(t,["children","className","id","onExpand","toggleButtonProps","isToggleRightAligned"]);return n.createElement(s.b.Consumer,null,(function(t){var e=t.cardId,r=n.createElement("div",{className:Object(i.css)(c.a.cardHeaderToggle)},n.createElement(l.a,Object.assign({variant:"plain",type:"button",onClick:function(t){p(t,e)}},f),n.createElement("span",{className:Object(i.css)(c.a.cardHeaderToggleIcon)},n.createElement(d.a,{"aria-hidden":"true"}))));return n.createElement("div",Object.assign({className:Object(i.css)(c.a.cardHeader,b&&c.a.modifiers.toggleRight,u),id:h},m),p&&!b&&r,a,p&&b&&r)}))};u.displayName="CardHeader"},664:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a(5),n=a(0),i=a(2),o=a(48),c=a.n(o),s=function(t){var e=t.children,a=void 0===e?null:e,o=t.className,s=void 0===o?"":o,l=t.component,d=void 0===l?"div":l,u=Object(r.__rest)(t,["children","className","component"]),h=d;return n.createElement(h,Object.assign({className:Object(i.css)(c.a.cardTitle,s)},u),a)};s.displayName="CardTitle"},665:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a(5),n=a(0),i=a(2),o=a(48),c=a.n(o),s=function(t){var e=t.children,a=void 0===e?null:e,o=t.className,s=void 0===o?"":o,l=Object(r.__rest)(t,["children","className"]);return n.createElement("div",Object.assign({className:Object(i.css)(c.a.cardActions,s)},l),a)};s.displayName="CardActions"}}]);
//# sourceMappingURL=17.75db81a6.chunk.js.map