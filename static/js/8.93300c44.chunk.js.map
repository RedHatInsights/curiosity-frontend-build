{"version":3,"sources":["components/chart/chartContext.js","components/pagination/paginationHelpers.js","../../../../../../src/components/Table/utils/decorators/wrappable.tsx","components/inventoryList/inventoryListHelpers.js","components/form/select.js","components/minHeight/minHeight.js","../node_modules/@patternfly/react-icons/dist/esm/icons/eye-icon.js","../node_modules/@patternfly/react-icons/dist/esm/icons/eye-slash-icon.js","../node_modules/@patternfly/react-icons/dist/esm/icons/infinity-icon.js","../node_modules/@patternfly/react-icons/dist/esm/icons/square-icon.js","components/chart/chartIcon.js","components/graphCard/graphCardHelpers.js","components/pagination/pagination.js","components/form/formHelpers.js","components/inventoryTabs/inventoryTab.js","components/chart/chartTooltip.js","components/guestsList/guestsList.js","components/chart/chartElements.js","components/chart/chartLegend.js","components/chart/chartHelpers.js","components/form/textInput.js","components/graphCard/graphCardChartTooltip.js","components/graphCard/graphCardChartLegend.js","components/tabs/tabs.js","components/toolbar/toolbarHelpers.js","../../../../../src/components/FormSelect/FormSelect.tsx","../node_modules/@patternfly/react-tokens/dist/esm/c_form_control_textarea_Height.js","../../../../../src/components/TextArea/TextArea.tsx","../../../../../src/components/InputGroup/InputGroup.tsx","components/toolbar/toolbarFieldDisplayName.js","hooks/useWindow.js","components/chart/chart.js","components/graphCard/graphCard.js","components/inventoryList/inventoryList.js","components/inventorySubscriptions/inventorySubscriptions.js","components/inventoryTabs/inventoryTabs.js","components/toolbar/toolbarFieldGranularity.js","../../../../../src/components/Toolbar/ToolbarFilter.tsx","../../../../../src/components/Toolbar/ToolbarExpandableContent.tsx","../../../../../src/components/Toolbar/ToolbarContent.tsx","../../../../../src/components/Toolbar/ToolbarToggleGroup.tsx","../node_modules/@patternfly/react-icons/dist/esm/icons/filter-icon.js","components/toolbar/toolbar.js","components/bannerMessages/bannerMessages.js","components/productView/productView.js","components/toolbar/toolbarFieldRangedMonthly.js","components/productView/productViewOpenShiftDedicated.js","../node_modules/@patternfly/react-styles/css/components/Tabs/tabs.js","../node_modules/@patternfly/react-styles/css/components/InputGroup/input-group.js","../node_modules/@patternfly/react-styles/css/components/TabContent/tab-content.js","../node_modules/@patternfly/react-icons/dist/js/icons/info-circle-icon.js","../../../../../src/components/Card/CardHeader.tsx","../../../../../src/components/Card/CardFooter.tsx","../../../../../src/components/TextInput/TextInput.tsx","../../../../../src/components/Card/CardTitle.tsx","../../../../../src/components/Card/CardActions.tsx","../../../../../src/components/Card/CardHeaderMain.tsx","../node_modules/@redhat-cloud-services/frontend-components/esm/TableToolbar/TableToolbar.js","../../../../../src/components/Tabs/Tab.tsx","../../../../../src/components/Tabs/TabTitleText.tsx","../../../../../src/components/Tabs/TabButton.tsx","../../../../../src/components/Tabs/Tabs.tsx","../../../../../src/components/Tabs/TabsContext.ts","../../../../../src/components/Tabs/TabContent.tsx","../node_modules/browser-pack/_prelude.js","../node_modules/bignumber.js/bignumber.js","en-US.js","formatting.js","globalState.js","loading.js","manipulating.js","numbro.js","parsing.js","unformatting.js","validating.js","../node_modules/@redhat-cloud-services/frontend-components/esm/DateFormat/helper.js","../node_modules/@redhat-cloud-services/frontend-components/esm/DateFormat/DateFormat.js"],"names":["DEFAULT_CONTEXT","chartContainerRef","helpers","noop","chartSettings","chartTooltipRef","dataSetsToggle","ChartContext","React","createContext","useChartContext","useContext","useToggleData","useAliasChartContext","contextDataSetsToggle","setDataSetsToggle","onHide","useCallback","id","prevState","onRevert","onToggle","updatedToggle","getIsToggled","context","calculateOffsetFromPage","page","perPage","calculatePageFromOffset","offset","isLastPage","itemCount","Math","ceil","paginationHelpers","applySortFilters","filter","onSort","query","updatedFilter","hasSort","sortActive","RHSM_API_QUERY_TYPES","SORT","_camelCase","sortDirection","DIRECTION","SORT_DIRECTION_TYPES","DESCENDING","SortByDirection","desc","asc","isSortDefault","sortDefaultInitialDirection","applyWrappableFilters","Array","isArray","transforms","push","wrappable","parseInventoryFilters","filters","map","isSortable","Object","assign","isWrappable","parseRowCellsListData","cellData","session","updatedColumnHeaders","updatedCells","allCells","entries","forEach","key","value","title","translate","length","headerUpdated","cellUpdated","cell","cellWidth","header","isValidElement","concat","PfCellWidth","obj","columnHeaders","cells","data","inventoryListHelpers","SelectDirection","DropdownDirection","SelectPosition","DropdownPosition","Select","state","isExpanded","options","selected","selectField","createRef","onSelect","event","titleSelection","props","name","variant","updatedOptions","optionsIndex","findIndex","option","SelectVariant","single","index","updateSelected","opt","setState","mockUpdatedOptions","_cloneDeep","mockTarget","selectedIndex","type","checkbox","checked","mockEvent","target","currentTarget","persist","expanded","this","formatOptions","prevProps","selectedOptions","_isEqual","current","domElement","dataAttributes","test","_isPlainObject","activateOptions","convertedOption","text","textContent","label","isSelected","_findIndex","find","activeOption","values","includes","parentRef","setAttribute","ariaLabel","className","direction","isDisabled","isToggleText","maxHeight","placeholder","position","toggleIcon","pfSelectOptions","right","aria-label","selections","isOpen","placeholderText","ref","window","btoa","data-value","JSON","stringify","data-title","Component","defaultProps","down","generateId","left","MinHeight","containerRef","innerContainerRef","updatedContainerWidth","resizeObserver","onResizeContainer","updateOnResize","clientWidth","setMinHeight","setTimeout","setResizeObserver","updateOnContent","clientHeight","reset","overrideMinHeight","minHeight","innerDomElement","style","addEventListener","removeEventListener","children","EyeIcon","createIcon","height","width","svgPath","yOffset","xOffset","EyeSlashIcon","InfinityIcon","SquareIcon","ChartIcon","fill","symbol","size","svgProps","iconProps","emSvgSize","getSize","color","Number","parseFloat","viewBox","role","y","x","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","setIcon","getChartXAxisLabelIncrement","granularity","GRANULARITY_TYPES","DAILY","WEEKLY","MONTHLY","QUARTERLY","getTooltipDate","date","momentDate","moment","utc","format","dateHelpers","timestampQuarterFormats","yearShort","add","timestampMonthFormats","yearLong","timestampDayFormats","short","long","xAxisTickFormat","tick","previousDate","formattedDate","isNewYear","parseInt","year","replace","yAxisTickFormatFallback","abs","updatedTick","updatedAbbr","pow","yAxisTickFormat","locale","UI_LOCALE_DEFAULT","Intl","NumberFormat","maximumFractionDigits","notation","compactDisplay","graphCardHelpers","Pagination","dropDirection","isCompact","onPage","onPerPage","onSetPage","limit","onPerPageSelect","createMockEvent","persistEvent","keyCode","doesNotHaveMinimumCharacters","characters","formHelpers","InventoryTab","active","Fragment","chartTooltip","minChartWidth","getXCoordinate","tooltipWidth","padding","minWidth","getYCoordinate","tooltipHeight","tailPosition","datum","tooltipDataSetLookUp","tooltipRef","content","tooltip","containerPaddingBottom","bottom","containerBounds","querySelector","getBoundingClientRect","tooltipBounds","updatedClassName","display","xmlns","GuestsList","currentPage","previousData","onUpdateGuestsData","getHostsInventoryGuests","updatedQuery","LIMIT","OFFSET","apiQueries","parseRhsmQuery","inventoryGuestsQuery","onScroll","numberOfGuests","pending","listData","scrollHeight","scrollTop","newPage","updatedData","filterGuestsData","scrollLoader","tableProps","borders","colCount","keys","colWidth","rowCount","TableVariant","compact","updatedRows","updatedHeight","renderLoader","rows","error","perPageDefault","renderTable","makeMapStateToProps","reduxSelectors","guestsList","makeGuestsList","ConnectedGuestsList","connect","dispatch","reduxActions","rhsm","ChartElements","chartElements","stackedChartElements","chartTypeDefaults","chartDomain","chartElementsProps","chartWidth","hasData","themeColor","xAxisProps","yAxisProps","containerComponent","yAxis","VictoryVoronoiCursorContainer","createContainer","TooltipLabelComponent","cursorDimension","voronoiDimension","labels","labelComponent","dx","dy","centerOffset","flyoutStyle","voronoiPadding","mouseFollowTooltips","axisProps","animate","orientation","setChartElement","chartType","area","component","elements","stackedElements","duration","ChartArea","onLoad","interpolation","line","ChartLine","threshold","ChartThreshold","ChartLegend","chartLegend","dataSets","legendProps","chart","hide","revert","toggle","isToggled","cloneElement","generateMaxXY","individualDataSetsMaxY","combinedDataSetMaxX","combinedDataSetsMaxY","isStacked","max","dataSetMaxY","maxX","maxY","individualMaxY","generateDomains","updatedChartDomain","generatedDomain","floored","floor","log10","domain","generateElementsProps","xValueFormat","yValueFormat","elementsById","stackedElementsById","dataSet","dataColorStroke","chartElementProps","themeVariant","undefined","isMultiAxis","updatedProps","generateTooltipData","itemsByKey","mockDatum","generateXAxisProps","xAxisLabelIncrement","xAxisPropDefaults","tickValues","reduce","acc","tickFormat","xAxisLabel","tickIndex","indexOf","previousItem","nextItem","item","generateYAxisProps","yAxisPropDefaults","updatedAxisProps","axis","tickLabels","updatedMaxY","generateAxisProps","xAxisDataSet","xAxisFixLabelOverlap","fixLabelOverlap","dependentAxis","showGrid","yAxisDataSets","yAxisUseDataSet","xAxisUseDataSet","slice","chartHelpers","TextInput","updatedValue","onKeyUp","onClear","clonedEvent","onMouseUp","onChange","isReadOnly","updatedName","updatedId","GraphCardChartTooltip","productLabel","t","reverse","tempDataFacet","thresholdStringValue","hasInfinite","dataFactsValue","product","summary","colSpan","dataFacet","GraphCardChartLegend","onClick","viewId","store","reduxTypes","graph","SET_GRAPH_LEGEND","legend","chartId","isThreshold","labelContent","tooltipContent","checkIsToggled","button","onKeyPress","tabIndex","icon","visibility","TooltipPosition","top","enableFlip","distance","renderLegendItem","ConnectedGraphCardChartLegend","Tabs","updatedActiveTab","updatedTabs","onTab","setTabData","tabs","_isEqualWith","valueA","valueB","toString","activeTab","defaultActiveTab","eventKey","hasOverflowScroll","activeKey","mountOnEnter","unmountOnExit","inset","default","md","span","renderTabs","getOptionsType","optionsType","SLA","SLA_TYPES","PREMIUM","STANDARD","SELF","NONE","USAGE","USAGE_TYPES","DEVELOPMENT","DISASTER","PRODUCTION","UNSPECIFIED","toolbarHelpers","getOptions","c_form_control_textarea_Height","TextAreResizeOrientation","ToolbarFieldDisplayName","currentValue","useSelector","view","inventoryHostsQuery","DISPLAY_NAME","onSubmit","submitValue","SET_QUERY_CLEAR_INVENTORY_LIST","SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES","trim","debounced","_debounce","iconVariant","maxLength","data-test","useResizeObserver","useState","dimensions","setDimensions","useEffect","isElementResize","ResizeObserver","element","removeObserver","handler","innerHeight","innerWidth","observe","unobserve","Chart","setContext","useRef","toggledDataSets","isMultiYAxis","updateChartSettings","updatedSettings","Provider","GraphCard","onUpdateGraphData","getGraphReportsCapacity","productId","graphGranularity","getQueryGranularity","startDate","START_DATE","endDate","END_DATE","GRANULARITY","filterGraphData","graphData","chartAreaProps","filtered","tempFiltered","chartColorGreenDark","filteredGraphData","cardTitle","meta","settings","actionDisplay","headingLevel","renderChart","UI_DISABLED_GRAPH","graphCard","makeGraphCard","ConnectedGraphCard","InventoryList","onColumnSort","updatedDirection","updatedSortColumn","SORT_TYPES","ASCENDING","DEV_MODE","REVIEW_MODE","console","warn","onUpdateInventoryData","getHostsInventory","filterInventoryData","guestsId","subscriptionManagerId","hasGuests","expandedContent","fulfilled","updatedPerPage","updatedOffset","minHeightContentRefreshKey","aria-hidden","isFooter","UI_DISABLED_TABLE_HOSTS","inventoryList","makeInventoryList","ConnectedInventoryList","InventorySubscriptions","SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES","getSubscriptionsInventory","UI_DISABLED_TABLE_SUBSCRIPTIONS","subscriptionsList","makeSubscriptionsList","ConnectedInventorySubscriptions","InventoryTabs","inventory","SET_INVENTORY_TAB","updatedChildren","Children","toArray","child","count","UI_DISABLED_TABLE","ConnectedInventoryTabs","toolbarFieldOptions","FIELD_TYPES","ToolbarFieldGranularity","graphTallyQuery","getRangedDateTime","SET_QUERY_RHSM_TYPES","toISOString","ToolbarFilter","FilterIcon","Toolbar","hardFilterReset","dispatchActions","toolbar","SET_ACTIVE_FILTERS","activeFilters","Set","SET_QUERY_CLEAR","clearFilters","SET_FILTER_TYPE","currentFilter","setDispatch","onClearFilter","categoryTitle","categoryValue","updatedActiveFilters","delete","updatedCurrentFilter","onCategorySelect","field","actions","resetPage","updatedActions","SET_QUERY_RESET_INVENTORY_LIST","getCurrentFilter","optionsSelected","filterOptions","setSelectFilter","chips","deleteChip","categoryName","showToolbarItem","categoryOptions","categoryOptionsSelected","collapseListedFiltersBreakpoint","clearAllFilters","clearFiltersButtonText","breakpoint","ToolbarGroup","ToolbarItem","renderSelectFilter","filterType","UI_DISABLED_TOOLBAR","ConnectedToolbar","initialQuery","BannerMessages","onUpdateData","getMessageReports","appMessages","messages","updatedMessages","message","AlertVariant","info","actionClose","onClose","alerts","renderAlerts","UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS","appName","UI_DISPLAY_NAME","isInline","iconPosition","href","makeAppMessages","ConnectedBannerMessages","ProductView","productConfig","routeDetail","toolbarGraph","toolbarGraphDescription","toolbarProduct","inventorySubscriptionsQuery","initialToolbarFilters","initialGraphFilters","initialGraphSettings","initialGuestsFilters","initialInventoryFilters","initialInventorySettings","initialSubscriptionsInventoryFilters","initialGraphTallyQuery","initialInventoryHostsQuery","initialInventorySubscriptionsQuery","initialToolbarQuery","toolbarQuery","pathParameter","productParameter","viewParameter","graphCardTooltip","entryDelay","exitDelay","graphCardTitle","includeTour","getRangedMonthDateTime","listDateTimeRanges","dateTime","ToolbarFieldRangedMonthly","ProductViewOpenShiftDedicated","RHSM_API_QUERY_SORT_TYPES","LAST_SEEN","chartColorBlueLight","chartColorBlueDark","chartColorCyanLight","chartColorCyanDark","displayContent","totalCoreHours","total","numbro","average","mantissa","trimMantissa","lowPrecision","toUpperCase","displayName","inventoryId","updatedDisplayName","coreHours","toFixed","instanceHours","lastSeen","exports","__esModule","require","InfoCircleIconConfig","InfoCircleIcon","TextInputTypes","TableToolbar","_ref","results","ouiaId","_ref$ouiaSafe","ouiaSafe","_objectWithoutProperties","tableToolbarClasses","classNames","_defineProperty","ouiaComponentType","ouiaFinalId","useOUIAId","createElement","_extends","generateCount","propTypes","bool","number","any","string","TabsComponent","isNumeric","hasSymbol","mathceil","mathfloor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","i","j","r","s","z","xc","yc","k","l","a","b","n","e","str","len","BigNumber","pow2_53","random53bitInt","decimal","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","P","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","prefix","groupSize","secondaryGroupSize","groupSeparator","decimalSeparator","fractionGroupSize","fractionGroupSeparator","suffix","ALPHABET","v","intCheck","alphabet","caseChanged","isNum","arrL","arr","carry","klo","khi","temp","xlo","m","xhi","cmp","c0","ne","toExponential","toFixedPoint","method","pows10","out","rd","ni","d","rm","sd","crypto","EXPONENTIAL_AT","RANGE","c","rand","dp","args","sum","convertBase","div","yL","qc","q","base","more","xL","xi","remL","rem","yz","yc0","rem0","prodL","prod","subtract","round","parseNumeric","nIsBig","nIsNeg","isModExp","nIsOdd","half","ye","xe","xLTy","normalise","xcL","ycL","zc","sqrtBase","ylo","yhi","rep","g1","g2","intPart","fractionPart","isNeg","intDigits","isInteger","n1","d1","exp","n0","d2","d0","module","globalObject","languageTag","delimiters","thousands","abbreviations","thousand","million","billion","trillion","spaceSeparated","ordinal","bytes","binarySuffixes","decimalSuffixes","currency","code","currencyFormat","thousandSeparated","totalLength","spaceSeparatedCurrency","formats","fourDigits","fullWithTwoDecimals","output","fullWithTwoDecimalsNoCurrency","fullWithNoDecimals","globalState","validating","parsing","powers","defaultOptions","characteristic","forceAverage","optionalMantissa","negative","forceSign","roundingFunction","spaceSeparatedAbbreviation","currentBytes","general","scale","suffixes","marker","binary","_format","instance","providedFormat","parseFormat","validateFormat","postfix","currentCurrency","space","currencyPosition","currencySymbol","formatNumber","_value","formatOrDefault","currentCurrencyDefaultFormat","prefixSymbol","currentPercentageDefaultFormat","_state$currentBytes","localBinarySuffixes","localDecimalSuffixes","baseInfo","getFormatByteUnits","defaults","currentByteDefaultFormat","currentTimeDefaultFormat","hours","minutes","seconds","ordinalFn","currentOrdinal","currentOrdinalDefaultFormat","power","min","zeroes","result","precision","_result$split2","split","substr","replaceDelimiters","currentDelimiters","thousandSeparator","thousandsSize","hasNegativeSign","counter","unshift","currentDefaults","hasZeroFormat","getZeroFormat","isFinite","_ref2","_ref2$characteristicP","characteristicPrecision","numberString","exponential","optionalCharacteristic","mantissaPrecision","abbreviation","isNegative","characteristicLength","currentAbbreviations","_data","_result$toString$spli2","currentCharacteristic","currentMantissa","match","hasTrailingZeroes","_result$toString$spli5","missingZeros","defaultFormat","apply","getByteUnit","getBinaryByteUnit","getDecimalByteUnit","enUS","currentLanguageTag","languages","zeroFormat","globalDefaults","chooseLanguage","tag","currentLanguageData","currentLanguage","ordinalFormat","byteFormat","percentageFormat","timeFormat","setDefaults","setZeroFormat","languageData","Error","registerLanguage","useLanguage","validateLanguage","setLanguage","fallbackTag","matchingLanguageTag","each","loadLanguagesInNode","tags","_subtract","other","otherValue","isNumbro","minus","toNumber","plus","multiply","times","divide","dividedBy","set","difference","clone","validator","loader","unformatter","formatter","manipulate","Numbro","_classCallCheck","input","normalizeInput","unformat","isNaN","NaN","version","object","language","defaultCurrencyFormat","validate","allSuffixes","factor","escapeRegExp","unformatValue","inputString","computeUnformattedValue","stripped","newInput","possibleOrdinalValue","ordinalString","RegExp","inversedAbbreviations","abbreviationValues","sort","numberOfAbbreviations","_i","segments","bcp47RegExp","validFormat","validValues","restriction","mandatory","restrictions","validLanguage","timeDefaults","validateInput","validateSpec","toValidate","spec","skipMandatoryCheck","_typeof","_toConsumableArray","validInput","isFormatValid","minute","second","hour","day","month","formatTime","unit","relativeTimeTable","rightBound","Infinity","description","_exact","toUTCString","dateStringByType","exact","onlyDate","relative","Date","now","invalid","dateByType","tooltipProps","extraTitle","arguments","Tooltip","addTooltip","DateFormat","_ref$type","_ref$tooltipProps","dateObj","dateType","PropTypes","oneOfType","instanceOf","oneOf","node"],"mappings":"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ACA+mB,mBAGA,MAGA,GADAA,QACA,cACAA,SACAE,IAMA,oCAIAjnB,MACAA,aAGAA,QACAA,aAIA,SAIA,eACA,MACAsnB,MAEA,8BAEAC,SAEAA,aACAiD,OACAC,WAEApD,eAiqCA,OAv0EAI,UAEAA,aACAA,eACAA,eACAA,gBACAA,kBACAA,oBACAA,oBACAA,oBACAA,qBACAA,WAqCAA,2BACA,QAEA,YAEA,sBA2HA,YACAvB,yBAtFA,GAlCA7uB,uCAEAmyB,EADAD,OACAC,OACApB,KAKA/wB,sCAEAmyB,EADAD,OACAC,OACAnB,KAOAhxB,wCACAkyB,SACAA,OACAC,eACAA,cACAlB,OACAC,SAEAiB,YACAlB,kBAOA,4BAEA,IADAiB,SACA,MACAC,gBACAA,cACAhB,OACAC,WACA,CAEA,GADAe,aACA,EAGA,YACAtD,2BAHgBsC,IAAhBA,YAWA,iCAEA,IADAe,YACA,EAcA,YACArD,8BAdA,MACA,yCACAgF,4CAIA,MADAxC,KACA,MACAxC,wBAJkBwC,EAAlBA,OAOAA,IA0BA,GAhBArxB,oCAEAmyB,EADAD,OACAC,OACAb,KAKAtxB,sCAEAmyB,EADAD,OACAC,OACAZ,KAKA,8BAEA,oBADAW,QAEA,YACArD,0BAFA,IAOA,mCAKA,oBAJAqD,SAIA,8BAGA,YACArD,oBAHAoD,KAeA,OACAlB,iBACAC,gBACA8C,qBACAC,YACA1C,SACAC,cACAC,gBACAC,SACAS,aAcA7B,0BACA,oCACA,qBAEA,QACA4D,MACA/D,MACAT,MAEA+D,4CAEA,2CAGA,aACA,gCACA,QASA,IALAlE,WACA,UAIA,wBAEA,uBAEA,IADAW,QACA,0BAIA,yBAKA,iDACA,SAGA,YACAnB,4BASAuB,2BACA,0BASAA,2BACA,0BAcAA,UACAC,mBAMAC,0BACA,sCACA,wDACA,0BAEA,YACA,cACAjB,IACA2E,KACAC,WAOA,GALA,YACA9B,SAEAvC,SAEA,EAGA,2BAIA,IAFAE,gDAEA,KAcA,OANAoC,8BAOAnC,6CACAD,UACAA,cAKAkE,eACA3E,MAGAA,UAGA,wBA2BA,MADAgC,KACA,MACAxC,w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","file":"static/js/8.93300c44.chunk.js","sourcesContent":["import React, { useCallback, useContext } from 'react';\nimport { helpers } from '../../common';\n\n/**\n * Chart context.\n *\n * @type {React.Context<{}>}\n */\nconst DEFAULT_CONTEXT = [\n  { chartContainerRef: helpers.noop, chartSettings: {}, chartTooltipRef: helpers.noop, dataSetsToggle: [] },\n  helpers.noop\n];\n\nconst ChartContext = React.createContext(DEFAULT_CONTEXT);\n\n/**\n * Get an updated chart context.\n *\n * @returns {React.Context<{}>}\n */\nconst useChartContext = () => useContext(ChartContext);\n\n/**\n * ToDo: reevaluate this alternative pattern of passing hooks as options, helps testing\n */\n/**\n * Track, show, and hide chart data layers.\n *\n * @param {object} hooks\n * @param {Function} hooks.useChartContext\n * @returns {{onRevert: Function, onToggle: Function, getIsToggled: Function, dataSetsToggle: object,\n *     onHide: Function}}\n */\nconst useToggleData = ({ useChartContext: useAliasChartContext = useChartContext } = {}) => {\n  const { dataSetsToggle: contextDataSetsToggle = [] } = useAliasChartContext();\n  const [dataSetsToggle, setDataSetsToggle] = contextDataSetsToggle;\n\n  /**\n   * Hide a graph layer.\n   *\n   * @type {(function(*): void)|*}\n   */\n  const onHide = useCallback(\n    id => {\n      setDataSetsToggle(prevState => ({ ...prevState, [id]: true }));\n    },\n    [setDataSetsToggle]\n  );\n\n  // ToDo: re-evaluate useCallback here.\n  /**\n   * Reset graph layers.\n   *\n   * @type {(function(): void)|*}\n   */\n  const onRevert = useCallback(() => {\n    setDataSetsToggle(() => ({}));\n  }, [setDataSetsToggle]);\n\n  /**\n   * Hide/show graph layers.\n   *\n   * @type {function(*): boolean}\n   */\n  const onToggle = useCallback(\n    id => {\n      const updatedToggle = !dataSetsToggle?.[id];\n      setDataSetsToggle(prevState => ({ ...prevState, [id]: updatedToggle }));\n      return updatedToggle;\n    },\n    [dataSetsToggle, setDataSetsToggle]\n  );\n\n  // ToDo: review return undefined if doesn't exist\n  /**\n   * Graph layer status.\n   *\n   * @type {function(*): boolean}\n   */\n  const getIsToggled = useCallback(id => dataSetsToggle?.[id] || false, [dataSetsToggle]);\n\n  return {\n    ...{ dataSetsToggle },\n    onHide,\n    onRevert,\n    onToggle,\n    getIsToggled\n  };\n};\n\nconst context = {\n  ChartContext,\n  DEFAULT_CONTEXT,\n  useChartContext,\n  useToggleData\n};\n\nexport { context as default, context, ChartContext, DEFAULT_CONTEXT, useChartContext, useToggleData };\n","/**\n * Calculate offset from page and perPage/limit.\n *\n * @param {number} page\n * @param {number} perPage\n * @returns {number}\n */\nconst calculateOffsetFromPage = (page, perPage) => perPage * (page - 1) || 0;\n\n/**\n * Calculate page from offset and perPage/limit\n *\n * @param {number} offset\n * @param {number} perPage\n * @returns {number}\n */\nconst calculatePageFromOffset = (offset, perPage) => offset / perPage + 1 || 1;\n\n/**\n * Determine if paging is on the last page.\n *\n * @param {number} offset\n * @param {number} perPage\n * @param {number} itemCount\n * @returns {boolean}\n */\nconst isLastPage = (offset, perPage, itemCount) =>\n  calculatePageFromOffset(offset, perPage) === Math.ceil(itemCount / perPage);\n\nconst paginationHelpers = {\n  calculateOffsetFromPage,\n  calculatePageFromOffset,\n  isLastPage\n};\n\nexport {\n  paginationHelpers as default,\n  paginationHelpers,\n  calculateOffsetFromPage,\n  calculatePageFromOffset,\n  isLastPage\n};\n","import styles from '@patternfly/react-styles/css/components/Table/table';\nexport const breakWord = () => ({\n    className: styles.modifiers.breakWord\n});\nexport const fitContent = () => ({\n    className: styles.modifiers.fitContent\n});\nexport const nowrap = () => ({\n    className: styles.modifiers.nowrap\n});\nexport const truncate = () => ({\n    className: styles.modifiers.truncate\n});\nexport const wrappable = () => ({\n    className: styles.modifiers.wrap\n});\n//# sourceMappingURL=wrappable.js.map","import React from 'react';\nimport { cellWidth as PfCellWidth, SortByDirection, wrappable } from '@patternfly/react-table';\nimport _camelCase from 'lodash/camelCase';\nimport { translate } from '../i18n/i18n';\nimport {\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_TYPES\n} from '../../types/rhsmApiTypes';\n\n/**\n * Apply sort filter to filters.\n *\n * @param {object} params\n * @param {{ onSort: Function, sortActive: boolean, sortDirection: string, isSortDefault: boolean,\n *     sortDefaultInitialDirection: string }} params.filter\n * @param {Function} params.onSort\n * @param {object} params.query\n * @returns {object}\n */\nconst applySortFilters = ({ filter = {}, onSort, query = {} }) => {\n  const { id } = filter;\n  const updatedFilter = { ...filter };\n  const hasSort = updatedFilter.onSort || onSort;\n\n  if (!updatedFilter.onSort && onSort) {\n    updatedFilter.onSort = onSort;\n  }\n\n  // set fallback for the active sorted column based on query\n  if (\n    hasSort &&\n    typeof updatedFilter.sortActive !== 'boolean' &&\n    query?.[RHSM_API_QUERY_TYPES.SORT] &&\n    _camelCase(query?.[RHSM_API_QUERY_TYPES.SORT]) === id\n  ) {\n    updatedFilter.sortActive = true;\n  }\n\n  // set sort direction\n  if (hasSort && !updatedFilter.sortDirection && query?.[RHSM_API_QUERY_TYPES.DIRECTION]) {\n    switch (query?.[RHSM_API_QUERY_TYPES.DIRECTION]) {\n      case SORT_DIRECTION_TYPES.DESCENDING:\n        updatedFilter.sortDirection = SortByDirection.desc;\n        break;\n      default:\n        updatedFilter.sortDirection = SortByDirection.asc;\n        break;\n    }\n  }\n\n  if (\n    hasSort &&\n    !updatedFilter.sortActive &&\n    !query?.[RHSM_API_QUERY_TYPES.SORT] &&\n    updatedFilter.isSortDefault === true\n  ) {\n    updatedFilter.sortActive = true;\n\n    if (updatedFilter.sortDefaultInitialDirection) {\n      updatedFilter.sortDirection = updatedFilter.sortDefaultInitialDirection;\n    }\n  }\n\n  return updatedFilter;\n};\n\nconst applyWrappableFilters = ({ filter = {} }) => {\n  const updatedFilter = { ...filter };\n\n  if (Array.isArray(updatedFilter.transforms)) {\n    updatedFilter.transforms.push(wrappable);\n  } else {\n    updatedFilter.transforms = [wrappable];\n  }\n\n  return updatedFilter;\n};\n\n/**\n * Apply additional properties to filters.\n *\n * @param {object} params\n * @param {Array} params.filters\n * @param {Function} params.onSort\n * @param {object} params.query\n * @returns {Array}\n */\nconst parseInventoryFilters = ({ filters = [], onSort, query = {} }) =>\n  [...filters].map(filter => {\n    const updatedFilter = { ...filter };\n\n    if (updatedFilter.isSortable) {\n      Object.assign(updatedFilter, applySortFilters({ filter: updatedFilter, onSort, query }));\n    }\n\n    if (updatedFilter.isWrappable) {\n      Object.assign(updatedFilter, applyWrappableFilters({ filter: updatedFilter }));\n    }\n\n    return updatedFilter;\n  });\n\n/**\n * Parse and return formatted/filtered table cells, and apply table filters.\n *\n * @param {object} params\n * @param {Array} params.filters\n * @param {object} params.cellData\n * @param {object} params.session\n * @returns {{columnHeaders: Array, cells: Array, data: object}}\n */\nconst parseRowCellsListData = ({ filters = [], cellData = {}, session = {} }) => {\n  const updatedColumnHeaders = [];\n  const updatedCells = [];\n  const allCells = {};\n\n  // Apply basic translation and value\n  Object.entries(cellData).forEach(([key, value]) => {\n    allCells[key] = {\n      title: translate('curiosity-inventory.header', { context: key }),\n      value\n    };\n\n    updatedColumnHeaders.push(allCells[key].title);\n    updatedCells.push(value);\n  });\n\n  // Apply filters to header and cell values\n  if (filters?.length) {\n    updatedColumnHeaders.length = 0;\n    updatedCells.length = 0;\n\n    filters.forEach(({ id, cell, cellWidth, header, onSort, sortActive, sortDirection, transforms }) => {\n      let headerUpdated;\n      let cellUpdated;\n\n      if (allCells[id]) {\n        headerUpdated = allCells[id]?.title ?? id;\n        cellUpdated = allCells[id]?.value ?? '';\n      } else if (id) {\n        headerUpdated = translate('curiosity-inventory.header', { context: id });\n        cellUpdated = '';\n      }\n\n      // set table header cell filter params\n      if (header) {\n        headerUpdated = (typeof header === 'function' && header({ ...allCells })) || header;\n      }\n\n      if (\n        typeof headerUpdated === 'string' ||\n        typeof headerUpdated === 'number' ||\n        React.isValidElement(headerUpdated)\n      ) {\n        headerUpdated = {\n          title: headerUpdated\n        };\n      }\n\n      if (headerUpdated) {\n        headerUpdated.transforms = [];\n\n        if (Array.isArray(transforms)) {\n          headerUpdated.transforms = headerUpdated.transforms.concat([...transforms]);\n        }\n\n        if (typeof cellWidth === 'number') {\n          headerUpdated.transforms.push(PfCellWidth(cellWidth));\n        }\n      }\n\n      if (typeof onSort === 'function') {\n        headerUpdated = {\n          ...headerUpdated,\n          onSort: obj => onSort({ ...allCells }, { ...obj, id }),\n          sortActive,\n          sortDirection\n        };\n      }\n\n      // set table row cell filter params\n      if (cell) {\n        cellUpdated = (typeof cell === 'function' && cell({ ...allCells }, { ...session })) || cell;\n      }\n\n      if (typeof cellUpdated === 'string' || typeof cellUpdated === 'number' || React.isValidElement(cellUpdated)) {\n        cellUpdated = {\n          title: cellUpdated\n        };\n      }\n\n      updatedColumnHeaders.push(headerUpdated);\n      updatedCells.push(cellUpdated);\n    });\n  }\n\n  return {\n    columnHeaders: updatedColumnHeaders,\n    cells: updatedCells,\n    data: { ...allCells }\n  };\n};\n\nconst inventoryListHelpers = {\n  applySortFilters,\n  applyWrappableFilters,\n  parseInventoryFilters,\n  parseRowCellsListData\n};\n\nexport {\n  inventoryListHelpers as default,\n  inventoryListHelpers,\n  applySortFilters,\n  applyWrappableFilters,\n  parseInventoryFilters,\n  parseRowCellsListData\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  DropdownDirection,\n  DropdownPosition,\n  Select as PfSelect,\n  SelectOption as PfSelectOption,\n  SelectVariant\n} from '@patternfly/react-core';\nimport _cloneDeep from 'lodash/cloneDeep';\nimport _isEqual from 'lodash/isEqual';\nimport _findIndex from 'lodash/findIndex';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport { helpers } from '../../common/helpers';\n\n/**\n * Pass direction as select component variant option.\n *\n * @type {DropdownDirection}\n */\nconst SelectDirection = DropdownDirection;\n\n/**\n * Pass position as select component variant option.\n *\n * @type {DropdownPosition}\n */\nconst SelectPosition = DropdownPosition;\n\n/**\n * A wrapper for Patternfly Select. Provides restructured event data for onSelect callback.\n *\n * @augments React.Component\n * @fires onSelect\n * @fires onToggle\n */\nclass Select extends React.Component {\n  state = { isExpanded: false, options: null, selected: null };\n\n  selectField = React.createRef();\n\n  componentDidMount() {\n    const { options } = this.state;\n\n    if (options === null) {\n      this.formatOptions();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { options, selectedOptions } = this.props;\n\n    if (!_isEqual(prevProps.options, options) || !_isEqual(prevProps.selectedOptions, selectedOptions)) {\n      this.formatOptions();\n    }\n  }\n\n  /**\n   * Emulate select event object, apply to provided onSelect prop.\n   *\n   * @event onSelect\n   * @param {object} event\n   * @param {string} titleSelection\n   */\n  onSelect = (event, titleSelection) => {\n    const { options } = this.state;\n    const { id, name, onSelect, variant } = this.props;\n\n    const updatedOptions = options;\n    const optionsIndex = updatedOptions.findIndex(option => option.title === titleSelection);\n    updatedOptions[optionsIndex].selected =\n      variant === SelectVariant.single ? true : !updatedOptions[optionsIndex].selected;\n\n    if (variant === SelectVariant.single) {\n      updatedOptions.forEach((option, index) => {\n        if (optionsIndex !== index) {\n          updatedOptions[index].selected = false;\n        }\n      });\n    }\n\n    const updateSelected =\n      variant === SelectVariant.single\n        ? titleSelection\n        : updatedOptions.filter(opt => opt.selected === true).map(opt => opt.title);\n\n    this.setState(\n      {\n        options: updatedOptions,\n        selected: updateSelected\n      },\n      () => {\n        const mockUpdatedOptions = _cloneDeep(updatedOptions);\n\n        const mockTarget = {\n          id,\n          name: name || id,\n          value: mockUpdatedOptions[optionsIndex].value,\n          selected:\n            (variant === SelectVariant.single && mockUpdatedOptions[optionsIndex]) || _cloneDeep(updateSelected),\n          selectedIndex: optionsIndex,\n          type: `select-${(variant === SelectVariant.single && 'one') || 'multiple'}`,\n          options: mockUpdatedOptions\n        };\n\n        if (variant === SelectVariant.checkbox) {\n          mockTarget.checked = mockUpdatedOptions[optionsIndex].selected;\n        }\n\n        const mockEvent = {\n          ...mockTarget,\n          target: { ...mockTarget },\n          currentTarget: { ...mockTarget },\n          persist: helpers.noop\n        };\n\n        onSelect({ ...mockEvent }, optionsIndex, mockUpdatedOptions);\n\n        if (variant === SelectVariant.single) {\n          this.setState({\n            isExpanded: false\n          });\n        }\n      }\n    );\n  };\n\n  /**\n   * Patternfly Select's open/closed state.\n   *\n   * @event onToggle\n   * @param {boolean} expanded\n   */\n  onToggle = expanded => {\n    this.setState({\n      isExpanded: expanded\n    });\n  };\n\n  // FixMe: attributes filtered on PF select component. allow data- attributes\n  /**\n   * Format options into a consumable array of objects format.\n   */\n  formatOptions() {\n    const { current: domElement = {} } = this.selectField;\n    const { options, selectedOptions, variant } = this.props;\n    const dataAttributes = Object.entries(this.props).filter(([key]) => /^data-/i.test(key));\n    const updatedOptions = _isPlainObject(options)\n      ? Object.entries(options).map(([key, value]) => ({ ...value, title: key, value }))\n      : _cloneDeep(options);\n\n    const activateOptions =\n      (selectedOptions && typeof selectedOptions === 'string') || typeof selectedOptions === 'number'\n        ? [selectedOptions]\n        : selectedOptions;\n\n    updatedOptions.forEach((option, index) => {\n      let convertedOption = option;\n\n      if (typeof convertedOption === 'string') {\n        convertedOption = {\n          title: option,\n          value: option\n        };\n\n        updatedOptions[index] = convertedOption;\n      }\n\n      convertedOption.text = convertedOption.text || convertedOption.title;\n      convertedOption.textContent = convertedOption.textContent || convertedOption.title;\n      convertedOption.label = convertedOption.label || convertedOption.title;\n\n      if (activateOptions) {\n        let isSelected;\n\n        if (_isPlainObject(convertedOption.value)) {\n          isSelected = _findIndex(activateOptions, convertedOption.value) > -1;\n\n          if (!isSelected) {\n            const tempSearch = activateOptions.find(activeOption =>\n              Object.values(convertedOption.value).includes(activeOption)\n            );\n            isSelected = !!tempSearch;\n          }\n        } else {\n          isSelected = activateOptions.includes(convertedOption.value);\n        }\n\n        if (!isSelected) {\n          isSelected = activateOptions.includes(convertedOption.title);\n        }\n\n        updatedOptions[index].selected = isSelected;\n      }\n    });\n\n    let updateSelected;\n\n    if (variant === SelectVariant.single) {\n      updateSelected = (updatedOptions.find(opt => opt.selected === true) || {}).title;\n    } else {\n      updateSelected = updatedOptions.filter(opt => opt.selected === true).map(opt => opt.title);\n    }\n\n    if (domElement?.parentRef?.current) {\n      dataAttributes.forEach(([key, value]) => domElement?.parentRef?.current.setAttribute(key, value));\n    }\n\n    this.setState({\n      options: updatedOptions,\n      selected: updateSelected\n    });\n  }\n\n  /**\n   * Render a select/dropdown list.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { options, selected, isExpanded } = this.state;\n    const {\n      ariaLabel,\n      className,\n      direction,\n      isDisabled,\n      isToggleText,\n      maxHeight,\n      placeholder,\n      position,\n      toggleIcon,\n      variant\n    } = this.props;\n\n    const pfSelectOptions = {\n      direction,\n      maxHeight\n    };\n\n    // FixMe: investigate \"isDisabled\", PFReact quirks?\n    if (!options || !options.length || isDisabled) {\n      pfSelectOptions.isDisabled = true;\n    }\n\n    /**\n     * FixMe: PFReact quirks around PfSelect, requires children\n     * \"Null\" is a typical fallback we use across the board on a multitude of React apps.\n     * In this case \"null\" is a fallback for scenarios where an \"undefined\" list is passed\n     * during initial mount. Converted to an empty list/array \"[]\" to compensate.\n     */\n    /**\n     * Note: PFReact missing select border on compile\n     * Related https://github.com/patternfly/patternfly-react/issues/5650 and\n     * https://github.com/cssnano/cssnano/issues/1051\n     */\n    return (\n      <PfSelect\n        className={`curiosity-select${(!isToggleText && '__no-toggle-text') || ''} ${\n          (position === DropdownPosition.right && 'curiosity-select__position-right') || ''\n        } ${className}`}\n        variant={variant}\n        aria-label={ariaLabel}\n        onToggle={this.onToggle}\n        onSelect={this.onSelect}\n        selections={selected}\n        isOpen={isExpanded}\n        toggleIcon={toggleIcon}\n        placeholderText={placeholder}\n        ref={this.selectField}\n        {...pfSelectOptions}\n      >\n        {(options &&\n          options.map(option => (\n            <PfSelectOption\n              key={window.btoa(`${option.title}-${option.value}`)}\n              id={window.btoa(`${option.title}-${option.value}`)}\n              value={option.title}\n              data-value={(_isPlainObject(option.value) && JSON.stringify([option.value])) || option.value}\n              data-title={option.title}\n            />\n          ))) ||\n          []}\n      </PfSelect>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{toggleIcon: (Node|Function), className: string, ariaLabel: string, onSelect: Function,\n *     isToggleText: boolean, maxHeight: number, name: string, options: (Array|object),\n *     selectedOptions: (number|string|Array), variant: string, id: string, isDisabled: boolean,\n *     placeholder: string, position: string, direction: string}}\n */\nSelect.propTypes = {\n  ariaLabel: PropTypes.string,\n  className: PropTypes.string,\n  direction: PropTypes.oneOf(Object.values(SelectDirection)),\n  id: PropTypes.string,\n  isDisabled: PropTypes.bool,\n  isToggleText: PropTypes.bool,\n  maxHeight: PropTypes.number,\n  name: PropTypes.string,\n  onSelect: PropTypes.func,\n  options: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        title: PropTypes.any,\n        value: PropTypes.any.isRequired,\n        selected: PropTypes.bool\n      })\n    ),\n    PropTypes.shape({\n      title: PropTypes.any,\n      value: PropTypes.any.isRequired,\n      selected: PropTypes.bool\n    }),\n    PropTypes.object\n  ]),\n  placeholder: PropTypes.string,\n  position: PropTypes.oneOf(Object.values(SelectPosition)),\n  selectedOptions: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))\n  ]),\n  toggleIcon: PropTypes.element,\n  variant: PropTypes.oneOf([...Object.values(SelectVariant)])\n};\n\n/**\n * Default props.\n *\n * @type {{toggleIcon: (Node|Function), className: string, ariaLabel: string, onSelect: Function, isToggleText: boolean,\n *     maxHeight: number, name: string, options: (Array|object), selectedOptions: (number|string|Array),\n *     variant: SelectVariant.single, id: string, isDisabled: boolean, placeholder: string,\n *     position: DropdownPosition.left, direction: DropdownDirection.down}}\n */\nSelect.defaultProps = {\n  ariaLabel: 'Select option',\n  className: '',\n  direction: SelectDirection.down,\n  id: helpers.generateId(),\n  isDisabled: false,\n  isToggleText: true,\n  maxHeight: null,\n  name: null,\n  onSelect: helpers.noop,\n  options: [],\n  placeholder: 'Select option',\n  position: SelectPosition.left,\n  selectedOptions: null,\n  toggleIcon: null,\n  variant: SelectVariant.single\n};\n\nexport { Select as default, Select, SelectDirection, SelectPosition };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { helpers } from '../../common';\n\n/**\n * Set a min-height to prevent page jump component.\n *\n * @augments React.Component\n * @fires onResizeContainer\n */\nclass MinHeight extends React.Component {\n  containerRef = React.createRef();\n\n  innerContainerRef = React.createRef();\n\n  updatedContainerWidth = 0;\n\n  resizeObserver = helpers.noop;\n\n  componentDidMount() {\n    const { updateOnResize } = this.props;\n    window.setTimeout(() => {\n      this.setMinHeight();\n    });\n\n    if (updateOnResize) {\n      this.setResizeObserver();\n    }\n  }\n\n  componentDidUpdate() {\n    const { updateOnContent } = this.props;\n\n    if (updateOnContent) {\n      window.setTimeout(() => {\n        this.setMinHeight();\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.resizeObserver();\n  }\n\n  /**\n   * On resize adjust graph display.\n   *\n   * @event onResizeContainer\n   */\n  onResizeContainer = () => {\n    const { updatedContainerWidth } = this;\n    const { updateOnResize } = this.props;\n    const clientWidth = this.containerRef?.current?.clientWidth || 0;\n\n    if (updateOnResize && clientWidth !== updatedContainerWidth) {\n      this.updatedContainerWidth = clientWidth;\n      this.setMinHeight(true);\n    }\n  };\n\n  /**\n   * Set minHeight on mount or update.\n   *\n   * @param {boolean} reset\n   */\n  setMinHeight(reset = false) {\n    const { minHeight: overrideMinHeight } = this.props;\n    const { current: domElement = {} } = this.containerRef;\n    const { current: innerDomElement = {} } = this.innerContainerRef;\n\n    if (domElement?.style) {\n      let clientHeight;\n\n      if (reset) {\n        clientHeight = innerDomElement?.clientHeight || 0;\n      } else {\n        clientHeight = domElement?.clientHeight || 0;\n      }\n\n      if (overrideMinHeight > clientHeight) {\n        clientHeight = overrideMinHeight;\n      }\n\n      domElement.style.minHeight = `${clientHeight}px`;\n    }\n  }\n\n  /**\n   * Set ResizeObserver for scenarios when min-height needs to be updated.\n   */\n  setResizeObserver() {\n    window.addEventListener('resize', this.onResizeContainer);\n    this.resizeObserver = () => window.removeEventListener('resize', this.onResizeContainer);\n  }\n\n  /**\n   * Render a min-height div with children.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { children } = this.props;\n\n    return (\n      <div className=\"curiosity-minheight\" ref={this.containerRef}>\n        <div ref={this.innerContainerRef}>{children}</div>\n      </div>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{minHeight: number, children: Node, updateOnContent: boolean, updateOnResize: boolean}}\n */\nMinHeight.propTypes = {\n  updateOnContent: PropTypes.bool,\n  updateOnResize: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  minHeight: PropTypes.number\n};\n\n/**\n * Default props.\n *\n * @type {{minHeight: number, updateOnContent: boolean, updateOnResize: boolean}}\n */\nMinHeight.defaultProps = {\n  updateOnContent: false,\n  updateOnResize: true,\n  minHeight: 0\n};\n\nexport { MinHeight as default, MinHeight };\n","import { createIcon } from '../createIcon';\n\nexport const EyeIconConfig = {\n  name: 'EyeIcon',\n  height: 512,\n  width: 576,\n  svgPath: 'M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const EyeIcon = createIcon(EyeIconConfig);\n\nexport default EyeIcon;","import { createIcon } from '../createIcon';\n\nexport const EyeSlashIconConfig = {\n  name: 'EyeSlashIcon',\n  height: 512,\n  width: 640,\n  svgPath: 'M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const EyeSlashIcon = createIcon(EyeSlashIconConfig);\n\nexport default EyeSlashIcon;","import { createIcon } from '../createIcon';\n\nexport const InfinityIconConfig = {\n  name: 'InfinityIcon',\n  height: 512,\n  width: 640,\n  svgPath: 'M471.1 96C405 96 353.3 137.3 320 174.6 286.7 137.3 235 96 168.9 96 75.8 96 0 167.8 0 256s75.8 160 168.9 160c66.1 0 117.8-41.3 151.1-78.6 33.3 37.3 85 78.6 151.1 78.6 93.1 0 168.9-71.8 168.9-160S564.2 96 471.1 96zM168.9 320c-40.2 0-72.9-28.7-72.9-64s32.7-64 72.9-64c38.2 0 73.4 36.1 94 64-20.4 27.6-55.9 64-94 64zm302.2 0c-38.2 0-73.4-36.1-94-64 20.4-27.6 55.9-64 94-64 40.2 0 72.9 28.7 72.9 64s-32.7 64-72.9 64z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const InfinityIcon = createIcon(InfinityIconConfig);\n\nexport default InfinityIcon;","import { createIcon } from '../createIcon';\n\nexport const SquareIconConfig = {\n  name: 'SquareIcon',\n  height: 512,\n  width: 448,\n  svgPath: 'M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const SquareIcon = createIcon(SquareIconConfig);\n\nexport default SquareIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { EyeIcon, EyeSlashIcon, InfinityIcon, SquareIcon, IconSize } from '@patternfly/react-icons';\n\n/**\n * Emulate pf icon sizing for custom SVGs\n *\n * @param {string} size\n * @returns {string} em measurement\n */\nconst getSize = size => {\n  switch (size) {\n    case 'md':\n      return '1.5em';\n    case 'lg':\n      return '2em';\n    case 'xl':\n      return '3em';\n    case 'sm':\n    default:\n      return '1em';\n  }\n};\n\n/**\n * Render an icon for use outside of Victory charts.\n *\n * @param {object} props\n * @param {string} props.fill\n * @param {string} props.symbol\n * @param {string} props.size\n * @param {string} props.title\n * @returns {Node}\n */\nconst ChartIcon = ({ fill, symbol, size, title }) => {\n  const svgProps = {};\n  const iconProps = { size, title };\n  const emSvgSize = getSize(size);\n\n  if (title) {\n    svgProps['aria-labelledby'] = title;\n  } else {\n    svgProps['aria-hidden'] = true;\n  }\n\n  if (fill) {\n    iconProps.color = fill;\n  }\n\n  const setIcon = () => {\n    switch (symbol) {\n      case 'dash':\n        return (\n          <span\n            style={{\n              width: emSvgSize,\n              height: `${Number.parseFloat(emSvgSize) / 2}em`\n            }}\n          >\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 38 10\" role=\"img\" {...svgProps}>\n              <rect y=\"5\" width=\"10\" height=\"10\" fill={fill} />\n              <rect x=\"14\" y=\"5\" width=\"10\" height=\"10\" fill={fill} />\n              <rect x=\"28\" y=\"5\" width=\"10\" height=\"10\" fill={fill} />\n            </svg>\n          </span>\n        );\n      case 'threshold':\n        return (\n          <span style={{ width: `${Number.parseFloat(emSvgSize) * 2}em`, height: emSvgSize }}>\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 18 10\" role=\"img\" {...svgProps}>\n              <line\n                x1={0}\n                y1={(Number.parseFloat(emSvgSize) * 16) / 2}\n                x2={Number.parseFloat(emSvgSize) * 16 * 3}\n                y2={(Number.parseFloat(emSvgSize) * 16) / 2}\n                stroke={fill}\n                strokeWidth={3}\n                strokeDasharray=\"4,3\"\n              />\n            </svg>\n          </span>\n        );\n      case 'eye':\n        return <EyeIcon {...iconProps} />;\n      case 'eyeSlash':\n        return <EyeSlashIcon {...iconProps} />;\n      case 'infinity':\n        return <InfinityIcon {...iconProps} />;\n      case 'square':\n      default:\n        return <SquareIcon {...iconProps} />;\n    }\n  };\n\n  return <span className={`curiosity-chartarea__icon curiosity-chartarea__icon-${symbol}`}>{setIcon()}</span>;\n};\n\nChartIcon.propTypes = {\n  fill: PropTypes.string,\n  size: PropTypes.oneOf([...Object.keys(IconSize)]),\n  symbol: PropTypes.oneOf(['dash', 'eye', 'eyeSlash', 'infinity', 'square', 'threshold']),\n  title: PropTypes.string\n};\n\nChartIcon.defaultProps = {\n  fill: null,\n  size: 'sm',\n  symbol: 'square',\n  title: null\n};\n\nexport { ChartIcon as default, ChartIcon };\n","import moment from 'moment';\nimport { RHSM_API_QUERY_GRANULARITY_TYPES as GRANULARITY_TYPES } from '../../types/rhsmApiTypes';\nimport { dateHelpers, helpers } from '../../common';\n\n/**\n * Returns x axis ticks/intervals array for the xAxisTickInterval\n *\n * @param {string} granularity See enum of RHSM_API_QUERY_GRANULARITY_TYPES\n * @returns {number}\n */\nconst getChartXAxisLabelIncrement = granularity => {\n  switch (granularity) {\n    case GRANULARITY_TYPES.DAILY:\n      return 5;\n    case GRANULARITY_TYPES.WEEKLY:\n    case GRANULARITY_TYPES.MONTHLY:\n      return 2;\n    case GRANULARITY_TYPES.QUARTERLY:\n    default:\n      return 1;\n  }\n};\n\n/**\n * Return a formatted date string.\n *\n * @param {object} params\n * @param {Date} params.date\n * @param {string} params.granularity See enum of RHSM_API_QUERY_GRANULARITY_TYPES\n * @returns {string}\n */\nconst getTooltipDate = ({ date, granularity }) => {\n  const momentDate = moment.utc(date);\n\n  switch (granularity) {\n    case GRANULARITY_TYPES.QUARTERLY:\n      return `${momentDate.format(dateHelpers.timestampQuarterFormats.yearShort)} - ${momentDate\n        .add(1, 'quarter')\n        .format(dateHelpers.timestampQuarterFormats.yearShort)}`;\n\n    case GRANULARITY_TYPES.MONTHLY:\n      return momentDate.format(dateHelpers.timestampMonthFormats.yearLong);\n\n    case GRANULARITY_TYPES.WEEKLY:\n      return `${momentDate.format(dateHelpers.timestampDayFormats.short)} - ${momentDate\n        .add(1, 'week')\n        .format(dateHelpers.timestampDayFormats.yearShort)}`;\n\n    case GRANULARITY_TYPES.DAILY:\n    default:\n      return momentDate.format(dateHelpers.timestampDayFormats.long);\n  }\n};\n\n/**\n * Format x axis ticks.\n *\n * @param {object} params\n * @param {Date} params.date\n * @param {string} params.granularity See enum of RHSM_API_QUERY_GRANULARITY_TYPES\n * @param {number|string} params.tick\n * @param {Date} params.previousDate\n * @returns {string|undefined}\n */\nconst xAxisTickFormat = ({ date, granularity, tick, previousDate }) => {\n  if (!date || !granularity) {\n    return undefined;\n  }\n\n  const momentDate = moment.utc(date);\n  const isNewYear =\n    tick !== 0 && Number.parseInt(momentDate.year(), 10) !== Number.parseInt(moment.utc(previousDate).year(), 10);\n  let formattedDate;\n\n  switch (granularity) {\n    case GRANULARITY_TYPES.QUARTERLY:\n      formattedDate = isNewYear\n        ? momentDate.format(dateHelpers.timestampQuarterFormats.yearShort)\n        : momentDate.format(dateHelpers.timestampQuarterFormats.short);\n\n      formattedDate = formattedDate.replace(/\\s/, '\\n');\n      break;\n    case GRANULARITY_TYPES.MONTHLY:\n      formattedDate = isNewYear\n        ? momentDate.format(dateHelpers.timestampMonthFormats.yearShort)\n        : momentDate.format(dateHelpers.timestampMonthFormats.short);\n\n      formattedDate = formattedDate.replace(/\\s/, '\\n');\n      break;\n    case GRANULARITY_TYPES.WEEKLY:\n    case GRANULARITY_TYPES.DAILY:\n    default:\n      formattedDate = isNewYear\n        ? momentDate.format(dateHelpers.timestampDayFormats.yearShort)\n        : momentDate.format(dateHelpers.timestampDayFormats.short);\n\n      formattedDate = formattedDate.replace(/\\s(\\d{4})$/, '\\n$1');\n      break;\n  }\n\n  return formattedDate;\n};\n\n/**\n * ToDo: Remove yAxisTickFormatFallback.\n * Appears Linux combined with Firefox has an issue using `Intl.NumberFormat` method.\n * We've applied shim code from NumeralJS and Numbro as a fallback. Up-to-date\n * browsers still have the optimal version with locale. If the original package used\n * corrects its rounding behavior we may consider re-implementing it.\n */\n/**\n * Fallback method for Linux and Firefox.\n *\n * @param {object} params\n * @param {number|string} params.tick\n * @returns {string}\n */\nconst yAxisTickFormatFallback = ({ tick }) => {\n  const abs = Math.abs(tick);\n  let updatedTick = tick;\n  let updatedAbbr = '';\n\n  if (abs >= Math.pow(10, 12)) {\n    updatedAbbr = 'T';\n    updatedTick = tick / Math.pow(10, 12);\n  } else if (abs < Math.pow(10, 12) && abs >= Math.pow(10, 9)) {\n    updatedAbbr = 'B';\n    updatedTick = tick / Math.pow(10, 9);\n  } else if (abs < Math.pow(10, 9) && abs >= Math.pow(10, 6)) {\n    updatedAbbr = 'M';\n    updatedTick = tick / Math.pow(10, 6);\n  } else if (abs < Math.pow(10, 6) && abs >= Math.pow(10, 3)) {\n    updatedAbbr = 'K';\n    updatedTick = tick / Math.pow(10, 3);\n  }\n\n  return `${updatedTick}${updatedAbbr}`;\n};\n\n// ToDo: remove yAxisTickFormatFallback check.\n/**\n * Format y axis ticks.\n *\n * @param {object} params\n * @param {number|string} params.tick\n * @param {string} params.locale\n * @returns {string}\n */\nconst yAxisTickFormat = ({ tick, locale = helpers.UI_LOCALE_DEFAULT }) => {\n  let updatedTick = `${new Intl.NumberFormat(locale, {\n    maximumFractionDigits: 1,\n    notation: 'compact',\n    compactDisplay: 'short'\n  }).format(tick)}`;\n\n  if (updatedTick.length > 3 && updatedTick.length >= `${tick}`.length) {\n    updatedTick = yAxisTickFormatFallback({ tick });\n  }\n\n  return updatedTick;\n};\n\nconst graphCardHelpers = {\n  getChartXAxisLabelIncrement,\n  getTooltipDate,\n  xAxisTickFormat,\n  yAxisTickFormat,\n  yAxisTickFormatFallback\n};\n\nexport {\n  graphCardHelpers as default,\n  graphCardHelpers,\n  getChartXAxisLabelIncrement,\n  getTooltipDate,\n  xAxisTickFormat,\n  yAxisTickFormat,\n  yAxisTickFormatFallback\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Pagination as PfPagination } from '@patternfly/react-core';\nimport { helpers } from '../../common';\nimport { paginationHelpers } from './paginationHelpers';\n\n/**\n * ToDo: Apply locale/translation to the PF Pagination \"titles\" prop.\n */\n/**\n * FixMe: PF Pagination component offset property is either broken, confusing to implement, ...\n * or requires an equivalent effort to using page. There appears to be confusing behavior in how\n * the next offset range is calculated. It fails to update when passing in the next expected\n * sequence using the returned starting index. We'll continue emulating the use of \"offset\"\n * by performing our own calculation and applying it to the page property instead.\n */\n/**\n * Pagination component.\n *\n * @param {object} props\n * @param {string} props.dropDirection\n * @param {boolean} props.isDisabled\n * @param {boolean} props.isCompact\n * @param {number} props.itemCount\n * @param {number} props.offset\n * @param {Function} props.onPage\n * @param {Function} props.onPerPage\n * @param {number} props.perPage\n * @param {string} props.variant\n * @returns {Node}\n */\nconst Pagination = ({\n  dropDirection,\n  isDisabled,\n  isCompact,\n  itemCount,\n  offset,\n  onPage,\n  onPerPage,\n  perPage,\n  variant\n}) => (\n  <PfPagination\n    dropDirection={dropDirection}\n    isCompact={isCompact}\n    isDisabled={isDisabled || !itemCount}\n    itemCount={itemCount}\n    onSetPage={(event, page, limit) =>\n      onPage({ event, perPage: limit, offset: paginationHelpers.calculateOffsetFromPage(page, limit) })\n    }\n    onPerPageSelect={(event, limit) => onPerPage({ event, perPage: limit, offset: Pagination.defaultProps.offset })}\n    page={paginationHelpers.calculatePageFromOffset(offset || Pagination.defaultProps.offset, perPage)}\n    perPage={perPage}\n    variant={variant}\n  />\n);\n\n/**\n * Prop types\n *\n * @type {{isCompact: boolean, onPage: Function, perPage: number, offset: number,\n *     dropDirection: string, onPerPage: Function, variant: null, isDisabled: boolean,\n *     itemCount: number}}\n */\nPagination.propTypes = {\n  dropDirection: PropTypes.oneOf(['up', 'down']),\n  isCompact: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  itemCount: PropTypes.number,\n  offset: PropTypes.number,\n  onPage: PropTypes.func,\n  onPerPage: PropTypes.func,\n  perPage: PropTypes.number,\n  variant: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{isCompact: boolean, onPage: Function, perPage: number, offset: number,\n *     dropDirection: string, onPerPage: Function, variant: null, isDisabled: boolean,\n *     itemCount: number}}\n */\nPagination.defaultProps = {\n  dropDirection: 'down',\n  isCompact: false,\n  isDisabled: false,\n  itemCount: 0,\n  offset: 0,\n  onPage: helpers.noop,\n  onPerPage: helpers.noop,\n  perPage: 10,\n  variant: null\n};\n\nexport { Pagination as default, Pagination };\n","import { helpers } from '../../common/helpers';\n\n/**\n * Create a consistent mock event object.\n *\n * @param {object} event\n * @param {boolean} persistEvent\n * @returns {{keyCode, currentTarget, name, id: *, persist: Function, value, target}}\n */\nconst createMockEvent = (event, persistEvent = false) => {\n  const { checked, currentTarget = {}, keyCode, persist = helpers.noop, target = {} } = { ...event };\n  if (persistEvent) {\n    persist();\n  }\n\n  return {\n    checked,\n    currentTarget,\n    keyCode,\n    id: currentTarget.id || currentTarget.name,\n    name: currentTarget.name,\n    persist,\n    value: currentTarget.value,\n    target\n  };\n};\n\n/**\n * Confirm a string has minimum length.\n *\n * @param {string} value\n * @param {number} characters\n * @returns {boolean}\n */\nconst doesNotHaveMinimumCharacters = (value, characters = 1) =>\n  (typeof value === 'string' && value.length < characters) || typeof value !== 'string';\n\nconst formHelpers = {\n  createMockEvent,\n  doesNotHaveMinimumCharacters\n};\n\nexport { formHelpers as default, formHelpers, createMockEvent, doesNotHaveMinimumCharacters };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * A tab pass-through component for passing props to InventoryTabs.\n *\n * @param {object} props\n * @param {boolean} props.active\n * @param {Node} props.children\n * @param {string} props.title\n * @returns {Node}\n */\n// eslint-disable-next-line no-unused-vars\nconst InventoryTab = ({ active, children, title }) => <React.Fragment>{children}</React.Fragment>;\n\n/**\n * Prop types.\n *\n * @type {{children: Node, className: string}}\n */\nInventoryTab.propTypes = {\n  children: PropTypes.node.isRequired,\n  active: PropTypes.bool,\n  title: PropTypes.node.isRequired\n};\n\n/**\n * Default props.\n *\n * @type {{className: string}}\n */\nInventoryTab.defaultProps = {\n  active: false\n};\n\nexport { InventoryTab as default, InventoryTab };\n","import React from 'react';\nimport { helpers } from '../../common';\n\n/**\n * Note: Victory Charts components require a form of extended \"something\" applied by the consuming component.\n * This leads to odd implementations, like returning a function component.\n */\n/**\n * Return a compatible Victory tooltip component.\n *\n * @param {object} params\n * @param {object} params.chartSettings\n * @param {Function} params.chartContainerRef\n * @param {Function} params.chartTooltipRef\n * @param {number} params.minChartWidth\n * @returns {Function}\n */\nconst chartTooltip = ({\n  chartSettings = {},\n  chartContainerRef = helpers.noop,\n  chartTooltipRef = helpers.noop,\n  minChartWidth = 500\n} = {}) => {\n  // ToDo: evaluate using \"width\" in place of \"minWidth\" for scenarios where the graph size is smaller\n  /**\n   * Return a tooltip x coordinate.\n   *\n   * @param {object} params\n   * @param {number} params.x\n   * @param {number} params.width\n   * @param {number} params.tooltipWidth\n   * @param {number} params.padding\n   * @param {number} params.minWidth\n   * @returns {number}\n   */\n  const getXCoordinate = ({ x, width, tooltipWidth, padding = 0, minWidth = minChartWidth } = {}) => {\n    if (width <= minWidth && x > tooltipWidth / 2 + padding && x < minWidth - tooltipWidth + padding) {\n      return x + padding - tooltipWidth / 2;\n    }\n\n    return x > width / 2 ? x - tooltipWidth + padding : x + padding;\n  };\n\n  /**\n   * Return a tooltip y coordinate.\n   *\n   * @param {object} params\n   * @param {number} params.y\n   * @param {number} params.height\n   * @param {number} params.tooltipHeight\n   * @param {number} params.width\n   * @param {number} params.padding\n   * @param {number} params.minWidth\n   * @returns {number}\n   */\n  const getYCoordinate = ({ y, height, tooltipHeight, width, padding = 15, minWidth = minChartWidth } = {}) => {\n    if (width <= minWidth) {\n      return y > height / 2 ? y - tooltipHeight - padding : y + padding;\n    }\n\n    return height * 0.25;\n  };\n\n  // ToDo: evaluate using \"width\" in place of \"minWidth\" for scenarios where the graph size is smaller\n  /**\n   * Return a tooltip tail position CSS class.\n   *\n   * @param {object} params\n   * @param {number} params.x\n   * @param {number} params.width\n   * @param {number} params.tooltipWidth\n   * @param {number} params.padding\n   * @param {number} params.minWidth\n   * @returns {number}\n   */\n  const tailPosition = ({ x, width, tooltipWidth, padding = 0, minWidth = minChartWidth } = {}) => {\n    if (width <= minWidth && x > tooltipWidth / 2 + padding && x < minWidth - tooltipWidth + padding) {\n      return 'middle';\n    }\n\n    return x > width / 2 ? 'right' : 'left';\n  };\n\n  return ({ x, y, datum = {} }) => { // eslint-disable-line\n    const { padding = {}, tooltipDataSetLookUp = {} } = chartSettings;\n\n    const containerRef = chartContainerRef();\n    const tooltipRef = chartTooltipRef();\n    const content = tooltipDataSetLookUp?.[datum.x]?.tooltip || '';\n    const containerPaddingBottom = padding.bottom ?? 0;\n    const containerBounds = containerRef?.current?.querySelector('svg')?.getBoundingClientRect() || {\n      width: 0,\n      height: 0\n    };\n    const tooltipBounds = tooltipRef?.current?.getBoundingClientRect() || { width: 0, height: 0 };\n\n    if (content) {\n      const updatedClassName = `${(tooltipBounds.height <= 0 && 'fadein') || ''}`;\n\n      return (\n        <g>\n          <foreignObject\n            x={getXCoordinate({ x, width: containerBounds.width, tooltipWidth: tooltipBounds.width })}\n            y={getYCoordinate({\n              y,\n              height: containerBounds.height,\n              tooltipHeight: tooltipBounds.height,\n              width: containerBounds.width\n            })}\n            width=\"100%\"\n            height=\"100%\"\n          >\n            <div\n              className={`curiosity-chartarea__tooltip-container ${updatedClassName}`}\n              ref={tooltipRef}\n              style={{ display: (y > containerBounds.height - containerPaddingBottom && 'none') || 'inline-block' }}\n              xmlns=\"http://www.w3.org/1999/xhtml\"\n            >\n              <div\n                className={`curiosity-chartarea__tooltip curiosity-chartarea__tooltip-${tailPosition({\n                  x,\n                  y,\n                  width: containerBounds.width,\n                  tooltipWidth: tooltipBounds.width\n                })}`}\n              >\n                {content}\n              </div>\n            </div>\n          </foreignObject>\n        </g>\n      );\n    }\n\n    return <g />;\n  };\n};\n\nexport { chartTooltip as default, chartTooltip };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TableVariant } from '@patternfly/react-table';\nimport { helpers } from '../../common';\nimport { apiQueries, connect, reduxActions, reduxSelectors } from '../../redux';\nimport { Loader } from '../loader/loader';\nimport { inventoryListHelpers } from '../inventoryList/inventoryListHelpers';\nimport { RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { Table } from '../table/table';\n\n/**\n * ToDo: Consider removing the query prop entirely.\n * The current API doesn't allow setting more than \"offset\" and \"limit\"\n */\n/**\n * ToDo: Review moving the \"onScroll\" layout into a standalone component.\n */\n/**\n * A system inventory guests component.\n *\n * @augments React.Component\n * @fires onUpdateGuestsData\n * @fires onScroll\n */\nclass GuestsList extends React.Component {\n  state = { currentPage: 0, limit: 100, previousData: [] };\n\n  componentDidMount() {\n    this.onUpdateGuestsData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage } = this.state;\n\n    if (currentPage !== prevState.currentPage) {\n      this.onUpdateGuestsData();\n    }\n  }\n\n  /**\n   * Call the RHSM APIs, apply filters.\n   *\n   * @event onUpdateGuestsData\n   */\n  onUpdateGuestsData = () => {\n    const { currentPage, limit } = this.state;\n    const { getHostsInventoryGuests, query, id } = this.props;\n\n    if (id) {\n      const updatedQuery = {\n        ...query,\n        [RHSM_API_QUERY_TYPES.LIMIT]: limit,\n        [RHSM_API_QUERY_TYPES.OFFSET]: currentPage * limit || 0\n      };\n\n      const { inventoryGuestsQuery } = apiQueries.parseRhsmQuery(updatedQuery);\n      getHostsInventoryGuests(id, inventoryGuestsQuery);\n    }\n  };\n\n  /**\n   * Update page state.\n   *\n   * @event onScroll\n   * @param {object} event\n   */\n  onScroll = event => {\n    const { target } = event;\n    const { currentPage, limit, previousData } = this.state;\n    const { numberOfGuests, pending, listData } = this.props;\n\n    const bottom = target.scrollHeight - target.scrollTop === target.clientHeight;\n\n    if (numberOfGuests > (currentPage + 1) * limit && bottom && !pending) {\n      const newPage = currentPage + 1;\n      const updatedData = [...previousData, ...(listData || [])];\n\n      this.setState({\n        previousData: updatedData,\n        currentPage: newPage\n      });\n    }\n  };\n\n  renderLoader() {\n    const { currentPage } = this.state;\n    const { filterGuestsData, listData, pending } = this.props;\n\n    if (currentPage > 0 && pending) {\n      const scrollLoader = (\n        <Loader\n          variant=\"table\"\n          tableProps={{\n            borders: false,\n            colCount: filterGuestsData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n            colWidth: (filterGuestsData?.length && filterGuestsData.map(({ cellWidth }) => cellWidth)) || [],\n            rowCount: 0,\n            variant: TableVariant.compact\n          }}\n        />\n      );\n\n      return <div className=\"curiosity-table-scroll-loader__custom\">{scrollLoader}</div>;\n    }\n\n    return null;\n  }\n\n  /**\n   * ToDo: Consider moving the \"meaning of life\" into the default props on iteration.\n   * For everyone else... move the 42 into default props, possibly the 275.\n   */\n  /**\n   * Render a guests table.\n   *\n   * @returns {Node}\n   */\n  renderTable() {\n    const { previousData } = this.state;\n    const { filterGuestsData, listData, numberOfGuests, session } = this.props;\n    let updatedColumnHeaders = [];\n\n    const updatedRows = [...previousData, ...(listData || [])].map(({ ...cellData }) => {\n      const { columnHeaders, cells } = inventoryListHelpers.parseRowCellsListData({\n        filters: filterGuestsData,\n        cellData,\n        session\n      });\n\n      updatedColumnHeaders = columnHeaders;\n\n      return {\n        cells\n      };\n    });\n\n    // Include the table header\n    let updatedHeight = (numberOfGuests + 1) * 42;\n    updatedHeight = (updatedHeight < 275 && updatedHeight) || 275;\n\n    return (\n      <div className=\"curiosity-table-scroll\" style={{ height: `${updatedHeight}px` }}>\n        <div\n          className={`curiosity-table-scroll-list${(updatedHeight < 275 && '__no-scroll') || ''}`}\n          onScroll={this.onScroll}\n        >\n          {this.renderLoader()}\n          {(updatedRows.length && (\n            <Table\n              borders={false}\n              variant={TableVariant.compact}\n              className=\"curiosity-guests-list\"\n              columnHeaders={updatedColumnHeaders}\n              rows={updatedRows}\n            />\n          )) ||\n            null}\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Render a guest list table.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { currentPage } = this.state;\n    const { error, filterGuestsData, listData, numberOfGuests, pending, perPageDefault } = this.props;\n\n    return (\n      <div className={`fadein ${(error && 'blur') || ''}`}>\n        {pending && currentPage === 0 && (\n          <Loader\n            variant=\"table\"\n            tableProps={{\n              borders: false,\n              colCount: filterGuestsData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n              colWidth: (filterGuestsData?.length && filterGuestsData.map(({ cellWidth }) => cellWidth)) || [],\n              rowCount: numberOfGuests < perPageDefault ? numberOfGuests : perPageDefault,\n              variant: TableVariant.compact\n            }}\n          />\n        )}\n        {((!pending && currentPage === 0) || currentPage > 0) && this.renderTable()}\n      </div>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{listData: Array, getHostsInventoryGuests: Function, session: object, filterGuestsData: object,\n *     pending: boolean, query: object, numberOfGuests: number, perPageDefault: number, id: string,\n *     error: boolean}}\n */\nGuestsList.propTypes = {\n  error: PropTypes.bool,\n  filterGuestsData: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      header: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ]),\n      cell: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ])\n    }).isRequired\n  ),\n  getHostsInventoryGuests: PropTypes.func,\n  listData: PropTypes.array,\n  id: PropTypes.string.isRequired,\n  numberOfGuests: PropTypes.number.isRequired,\n  pending: PropTypes.bool,\n  perPageDefault: PropTypes.number,\n  query: PropTypes.object,\n  session: PropTypes.object\n};\n\n/**\n * Default props.\n *\n * @type {{listData: Array, getHostsInventoryGuests: Function, session: object, filterGuestsData: Array,\n *     pending: boolean, query: object, perPageDefault: number, error: boolean}}\n */\nGuestsList.defaultProps = {\n  error: false,\n  filterGuestsData: [],\n  getHostsInventoryGuests: helpers.noop,\n  listData: [],\n  pending: false,\n  perPageDefault: 5,\n  query: {},\n  session: {}\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  getHostsInventoryGuests: (id, query) => dispatch(reduxActions.rhsm.getHostsInventoryGuests(id, query))\n});\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst makeMapStateToProps = reduxSelectors.guestsList.makeGuestsList();\n\nconst ConnectedGuestsList = connect(makeMapStateToProps, mapDispatchToProps)(GuestsList);\n\nexport { ConnectedGuestsList as default, ConnectedGuestsList, GuestsList };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { VictoryStack as ChartStack, VictoryTooltip as ChartCursorTooltip } from 'victory';\nimport { createContainer } from 'victory-create-container';\nimport { Chart, ChartArea, ChartAxis, ChartContainer, ChartLine, ChartThreshold } from '@patternfly/react-charts';\nimport { useChartContext } from './chartContext';\nimport { chartTooltip } from './chartTooltip';\n\n/**\n * Generate a compatible Victory chart element/facet component.\n *\n * @param {object} props\n * @param {object} props.chartTypeDefaults\n * @returns {Node}\n */\nconst ChartElements = ({ chartTypeDefaults }) => {\n  const { chartSettings = {}, chartContainerRef, chartTooltipRef } = useChartContext();\n  const {\n    chartDomain,\n    chartElementsProps,\n    chartWidth,\n    hasData,\n    padding,\n    themeColor,\n    xAxisProps,\n    yAxisProps\n  } = chartSettings;\n\n  let containerComponent = <ChartContainer />;\n  let yAxis = null;\n  let chartElements = [];\n  let stackedChartElements = [];\n\n  if (hasData) {\n    /**\n     * Note: both cursor and voronoiDimension attrs required if the need is to have...\n     * the tooltip populate consistently without being \"near\" a chart element y axis point\n     */\n    const VictoryVoronoiCursorContainer = createContainer('voronoi', 'cursor');\n    const TooltipLabelComponent = chartTooltip({ chartSettings, chartContainerRef, chartTooltipRef });\n\n    containerComponent = (\n      <VictoryVoronoiCursorContainer\n        cursorDimension=\"x\"\n        voronoiDimension=\"x\"\n        labels={obj => obj}\n        labelComponent={\n          <ChartCursorTooltip\n            dx={0}\n            dy={0}\n            centerOffset={{ x: 0, y: 0 }}\n            flyoutStyle={{ fill: 'transparent', stroke: 'transparent' }}\n            labelComponent={<TooltipLabelComponent />}\n          />\n        }\n        voronoiPadding={50}\n        mouseFollowTooltips\n      />\n    );\n  }\n\n  if (Array.isArray(yAxisProps)) {\n    yAxis = yAxisProps.map(axisProps => (\n      <ChartAxis key={`yaxis-${axisProps.orientation}`} {...axisProps} animate={false} />\n    ));\n  }\n\n  const setChartElement = ({ chartType, props }) => {\n    const { component: Component, ...defaultProps } = chartTypeDefaults[chartType] || chartTypeDefaults.area;\n    return <Component {...{ ...defaultProps, ...props }} />;\n  };\n\n  chartElements = chartElementsProps?.elements.map(setChartElement);\n  stackedChartElements = chartElementsProps?.stackedElements.map(setChartElement);\n\n  return (\n    <Chart\n      animate={{ duration: 0 }}\n      width={chartWidth}\n      themeColor={themeColor}\n      {...{ padding, containerComponent, ...chartDomain }}\n    >\n      <ChartAxis {...xAxisProps} animate={false} />\n      {yAxis}\n      {chartElements}\n      <ChartStack>{stackedChartElements}</ChartStack>\n    </Chart>\n  );\n};\n\nChartElements.propTypes = {\n  chartTypeDefaults: PropTypes.objectOf(\n    PropTypes.shape({\n      component: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n      animate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n      interpolation: PropTypes.oneOf(['monotoneX', 'step'])\n    })\n  )\n};\n\nChartElements.defaultProps = {\n  chartTypeDefaults: {\n    area: {\n      component: ChartArea,\n      animate: {\n        duration: 250,\n        onLoad: { duration: 250 }\n      },\n      interpolation: 'monotoneX'\n    },\n    line: {\n      component: ChartLine,\n      animate: {\n        duration: 250,\n        onLoad: { duration: 250 }\n      },\n      interpolation: 'monotoneX'\n    },\n    threshold: {\n      component: ChartThreshold,\n      animate: {\n        duration: 100,\n        onLoad: { duration: 100 }\n      },\n      interpolation: 'step'\n    }\n  }\n};\n\nexport { ChartElements as default, ChartElements };\n","import React from 'react';\nimport _cloneDeep from 'lodash/cloneDeep';\nimport { useChartContext, useToggleData } from './chartContext';\n\n/**\n * Wrapper for rendering an HTML based legend.\n *\n * @returns {Node}\n */\nconst ChartLegend = () => {\n  const { getIsToggled, onHide, onRevert, onToggle } = useToggleData();\n  const { chartSettings = {} } = useChartContext();\n  const { chartLegend, dataSets } = chartSettings;\n\n  if (!chartLegend) {\n    return null;\n  }\n\n  const legendProps = {\n    datum: { dataSets: _cloneDeep(dataSets) },\n    chart: {\n      hide: onHide,\n      revert: onRevert,\n      toggle: onToggle,\n      isToggled: getIsToggled\n    }\n  };\n\n  return (\n    <div className=\"curiosity-chartarea__legend\">\n      {(React.isValidElement(chartLegend) && React.cloneElement(chartLegend, { ...legendProps })) ||\n        chartLegend({ ...legendProps })}\n    </div>\n  );\n};\n\n/**\n * Prop types.\n */\nChartLegend.propTypes = {};\n\n/**\n * Default props.\n */\nChartLegend.defaultProps = {};\n\nexport { ChartLegend as default, ChartLegend };\n","import React from 'react';\nimport _cloneDeep from 'lodash/cloneDeep';\nimport { helpers } from '../../common';\n\n/**\n * Generate max X and Y values from datasets.\n *\n * @param {object} params\n * @param {Array} params.dataSets\n * @returns {{individualMaxY: object, maxY: number, maxX: number}}\n */\nconst generateMaxXY = ({ dataSets = [] } = {}) => {\n  const individualDataSetsMaxY = {};\n  let combinedDataSetMaxX = 0;\n  let combinedDataSetsMaxY = 0;\n\n  dataSets\n    .filter(({ isStacked }) => isStacked === true)\n    .forEach(({ data }) => {\n      if (Array.isArray(data)) {\n        combinedDataSetsMaxY += Math.max(...data.map(value => value?.y ?? 0));\n      }\n    });\n\n  dataSets.forEach(({ id, data }) => {\n    let dataSetMaxY = 0;\n\n    if (Array.isArray(data)) {\n      combinedDataSetMaxX = data.length > combinedDataSetMaxX ? data.length : combinedDataSetMaxX;\n\n      dataSetMaxY = Math.max(...data.map(value => value?.y ?? 0));\n      combinedDataSetsMaxY = dataSetMaxY > combinedDataSetsMaxY ? dataSetMaxY : combinedDataSetsMaxY;\n    }\n\n    if (id) {\n      individualDataSetsMaxY[id] = dataSetMaxY;\n    }\n  });\n\n  return {\n    maxX: combinedDataSetMaxX,\n    maxY: combinedDataSetsMaxY,\n    individualMaxY: individualDataSetsMaxY\n  };\n};\n\n/**\n * Generate Y axis domain ranges from dataSets, ignore X axis.\n *\n * @param {object} params\n * @param {number|object} params.maxY\n * @returns {{ domain: { y: Array } }}\n */\nconst generateDomains = ({ maxY } = {}) => {\n  const updatedChartDomain = {};\n  const generatedDomain = {};\n\n  if (Object.values(maxY).length) {\n    generatedDomain.y = [0, 1.25];\n  } else {\n    const floored = Math.pow(10, Math.floor(Math.log10(maxY || 10)));\n    generatedDomain.y = [0, Math.ceil((maxY + 1) / floored) * floored];\n  }\n\n  if (Object.keys(generatedDomain).length) {\n    updatedChartDomain.domain = generatedDomain;\n  }\n\n  return {\n    ...updatedChartDomain\n  };\n};\n\n/**\n * Generate chart element props.\n *\n * @param {object} params\n * @param {Array} params.dataSets\n * @param {number} params.maxX\n * @param {number} params.maxY\n * @param {Function} params.xValueFormat\n * @param {Function} params.yValueFormat\n * @returns {{elementsById: object, stackedElements: Array, stackedElementsById: object, elements: Array}}\n */\nconst generateElementsProps = ({ dataSets = [], maxX, maxY, xValueFormat, yValueFormat }) => {\n  const elements = [];\n  const stackedElements = [];\n  const elementsById = {};\n  const stackedElementsById = {};\n\n  dataSets.forEach(dataSet => {\n    const {\n      animate,\n      chartType,\n      data,\n      fill,\n      id,\n      isStacked,\n      interpolation,\n      stroke,\n      strokeDasharray,\n      strokeWidth\n    } = dataSet;\n\n    if (data?.length) {\n      const dataColorStroke = {\n        data: {}\n      };\n\n      if (fill && chartType !== 'line' && chartType !== 'threshold') {\n        dataColorStroke.data.fill = fill;\n      }\n\n      if (stroke) {\n        dataColorStroke.data.stroke = stroke;\n      }\n\n      if (strokeDasharray) {\n        dataColorStroke.data.strokeDasharray = strokeDasharray;\n      }\n\n      if (strokeWidth) {\n        dataColorStroke.data.strokeWidth = strokeWidth;\n      }\n\n      const defaultProps = {};\n\n      if (animate) {\n        defaultProps.animate = animate;\n      }\n\n      if (interpolation) {\n        defaultProps.interpolation = interpolation;\n      }\n\n      const chartElementProps = {\n        ...defaultProps,\n        key: `chart-${dataSet.id}-${chartType || ''}`,\n        name: `chart-${dataSet.id}-${chartType || ''}`,\n        data: dataSet.data,\n        style: { ...(dataSet.style || {}), ...dataColorStroke },\n        themeColor: dataSet.themeColor,\n        themeVariant: dataSet.themeVariant,\n        x: (xValueFormat && (datum => xValueFormat({ datum, maxX }))) || undefined,\n        y:\n          (yValueFormat &&\n            (datum =>\n              yValueFormat({\n                datum,\n                isMultiAxis: typeof maxY !== 'number',\n                maxY: typeof maxY === 'number' ? maxY : maxY?.[dataSet.id]\n              }))) ||\n          (datum => (typeof maxY === 'number' ? datum.y : datum.y / maxY?.[dataSet.id]))\n      };\n\n      const props = { ...chartElementProps };\n      const updatedProps = { chartType, props };\n\n      if (isStacked) {\n        stackedElementsById[id] = updatedProps;\n        stackedElements.push(updatedProps);\n      } else {\n        elementsById[id] = updatedProps;\n        elements.push(updatedProps);\n      }\n    }\n  });\n\n  return {\n    elements,\n    elementsById,\n    stackedElements,\n    stackedElementsById\n  };\n};\n\n/**\n * Preprocess datasets for tooltips.\n *\n * @param {object} params\n * @param {Node|Function} params.content\n * @param {Array} params.dataSets\n * @returns {{}}\n */\nconst generateTooltipData = ({ content = helpers.noop, dataSets = [] } = {}) => {\n  const tooltipDataSetLookUp = {};\n\n  if (content && dataSets?.[0]?.data) {\n    dataSets[0].data.forEach((dataSet, index) => {\n      const itemsByKey = {};\n\n      dataSets.forEach(data => {\n        if (data?.data[index]) {\n          itemsByKey[data.id] = {\n            color: data.stroke || data.fill || data.color || '',\n            chartType: data.chartType,\n            data: _cloneDeep(data.data[index])\n          };\n        }\n      });\n\n      const mockDatum = {\n        datum: { x: dataSet.x, y: dataSet.y, index, itemsByKey }\n      };\n\n      tooltipDataSetLookUp[dataSet.x] = {\n        x: dataSet.x,\n        y: null,\n        itemsByKey,\n        tooltip:\n          (React.isValidElement(content) && React.cloneElement(content, { ...mockDatum })) || content({ ...mockDatum })\n      };\n    });\n  }\n\n  return tooltipDataSetLookUp;\n};\n\n/**\n * Generate X axis props, ticks, tick formatting.\n *\n * @param {object} params\n * @param {object} params.dataSet\n * @param {number} params.maxX\n * @param {number} params.xAxisLabelIncrement\n * @param {object} params.xAxisPropDefaults\n * @param {Function} params.xAxisTickFormat\n * @returns {{tickFormat: (function(*)), tickValues: *}}\n */\nconst generateXAxisProps = ({\n  dataSet = {},\n  maxX,\n  xAxisLabelIncrement,\n  xAxisPropDefaults = {},\n  xAxisTickFormat\n} = {}) => {\n  const { data = [] } = dataSet;\n  const axisProps = {\n    ...xAxisPropDefaults,\n    tickValues: data.reduce(\n      (acc, current, index) => (index % xAxisLabelIncrement === 0 ? acc.concat(current.x) : acc),\n      []\n    ),\n    tickFormat: tick => data[tick]?.xAxisLabel || tick\n  };\n\n  if (typeof xAxisTickFormat === 'function') {\n    axisProps.tickFormat = tick => {\n      const tickIndex = axisProps.tickValues.indexOf(tick);\n      const previousItem = { ...data[axisProps.tickValues[tickIndex - 1]] };\n      const nextItem = { ...data[axisProps.tickValues[tickIndex + 1]] };\n      const item = { ...data[tick] };\n\n      return xAxisTickFormat({ tick, previousItem, item, nextItem, maxX });\n    };\n  }\n\n  return axisProps;\n};\n\n/**\n * Generate Y axis props, ticks, tick formatting.\n *\n * @param {object} params\n * @param {Array} params.dataSets\n * @param {number|object} params.maxY\n * @param {object} params.yAxisPropDefaults\n * @param {Function} params.yAxisTickFormat\n * @returns {Array}\n */\nconst generateYAxisProps = ({ dataSets = [], maxY, yAxisPropDefaults = {}, yAxisTickFormat } = {}) => {\n  const axisProps = [];\n  const isMultiAxis = dataSets.length > 1;\n\n  dataSets.forEach(({ id, stroke, strokeWidth } = {}, index) => {\n    const updatedAxisProps = {\n      style: { axis: {}, tickLabels: {} },\n      tickFormat: tick => tick\n    };\n\n    if (isMultiAxis && stroke) {\n      updatedAxisProps.style.axis.stroke = stroke;\n    }\n\n    if (isMultiAxis && strokeWidth) {\n      updatedAxisProps.style.axis.strokeWidth = strokeWidth;\n    }\n\n    if (typeof yAxisTickFormat === 'function') {\n      const updatedMaxY = (typeof maxY === 'number' && maxY) || maxY?.[id];\n\n      updatedAxisProps.tickFormat = tick => {\n        const normalizedTick = (isMultiAxis && tick * updatedMaxY) || tick;\n\n        return yAxisTickFormat({\n          tick: normalizedTick,\n          isMultiAxis,\n          maxY: updatedMaxY\n        });\n      };\n    }\n\n    axisProps.push({\n      ...yAxisPropDefaults,\n      ...updatedAxisProps,\n      orientation: (index === 0 && 'left') || 'right'\n    });\n  });\n\n  return axisProps;\n};\n\n/**\n * Generate x,y props.\n *\n * @param {object} params\n * @param {Array} params.dataSets\n * @param {object} params.individualMaxY\n * @param {number} params.maxX\n * @param {number} params.maxY\n * @param {boolean} params.xAxisFixLabelOverlap\n * @param {number} params.xAxisLabelIncrement\n * @param {Function} params.xAxisTickFormat\n * @param {Function} params.yAxisTickFormat\n * @returns {{xAxisProps: object, yAxisProps: Array}}\n */\nconst generateAxisProps = ({\n  dataSets = [],\n  individualMaxY = {},\n  maxX,\n  maxY,\n  xAxisFixLabelOverlap = true,\n  xAxisLabelIncrement = 1,\n  xAxisTickFormat,\n  yAxisTickFormat\n} = {}) => {\n  const xAxisPropDefaults = {\n    fixLabelOverlap: xAxisFixLabelOverlap\n  };\n\n  const yAxisPropDefaults = {\n    dependentAxis: true,\n    showGrid: true\n  };\n\n  let yAxisDataSets = [];\n  let xAxisDataSet;\n\n  dataSets.forEach(dataSet => {\n    if (dataSet.yAxisUseDataSet) {\n      yAxisDataSets.push(dataSet);\n    }\n    if (dataSet.xAxisUseDataSet) {\n      xAxisDataSet = dataSet;\n    }\n  });\n\n  if (!yAxisDataSets.length) {\n    yAxisDataSets.push(dataSets?.[0]);\n  } else {\n    yAxisDataSets = yAxisDataSets.slice(0, 2);\n  }\n\n  if (!xAxisDataSet) {\n    xAxisDataSet = dataSets?.[0] || [];\n  }\n\n  const updatedMaxY = (yAxisDataSets.length > 1 && individualMaxY) || maxY;\n\n  return {\n    xAxisProps: generateXAxisProps({\n      dataSet: xAxisDataSet,\n      maxX,\n      xAxisLabelIncrement,\n      xAxisPropDefaults,\n      xAxisTickFormat\n    }),\n    yAxisProps: generateYAxisProps({ dataSets: yAxisDataSets, maxY: updatedMaxY, yAxisPropDefaults, yAxisTickFormat })\n  };\n};\n\nconst chartHelpers = {\n  generateAxisProps,\n  generateDomains,\n  generateElementsProps,\n  generateMaxXY,\n  generateTooltipData,\n  generateXAxisProps,\n  generateYAxisProps\n};\n\nexport {\n  chartHelpers as default,\n  chartHelpers,\n  generateAxisProps,\n  generateDomains,\n  generateElementsProps,\n  generateMaxXY,\n  generateTooltipData,\n  generateXAxisProps,\n  generateYAxisProps\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextInput as PfTextInput } from '@patternfly/react-core';\nimport { createMockEvent } from './formHelpers';\nimport { helpers } from '../../common';\n\n/**\n * A wrapper for Patternfly TextInput. Provides restructured event data,\n * and an onClear event for the search type.\n *\n * @augments React.Component\n * @fires onKeyUp\n * @fires onMouseUp\n * @fires onChange\n */\nclass TextInput extends React.Component {\n  state = {\n    updatedValue: null\n  };\n\n  /**\n   * onKeyUp event, provide additional functionality for onClear event.\n   *\n   * @event onKeyUp\n   * @param {object} event\n   */\n  onKeyUp = event => {\n    const { onClear, onKeyUp, type } = this.props;\n    const { currentTarget, keyCode } = event;\n    const clonedEvent = { ...event };\n\n    onKeyUp(createMockEvent(event, true));\n\n    if (keyCode === 27) {\n      if (type === 'search' && currentTarget.value === '') {\n        onClear(createMockEvent(clonedEvent));\n      } else {\n        this.setState({ updatedValue: '' }, () => {\n          onClear(\n            createMockEvent({ ...clonedEvent, ...{ currentTarget: { ...clonedEvent.currentTarget, value: '' } } })\n          );\n        });\n      }\n    }\n  };\n\n  /**\n   * onMouseUp event, provide additional functionality for onClear event.\n   *\n   * @event onMouseUp\n   * @param {object} event\n   */\n  onMouseUp = event => {\n    const { onClear, onMouseUp, type } = this.props;\n    const { currentTarget } = event;\n    const clonedEvent = { ...event };\n\n    onMouseUp(createMockEvent(event, true));\n\n    if (type !== 'search' || currentTarget.value === '') {\n      return;\n    }\n\n    setTimeout(() => {\n      if (currentTarget.value === '') {\n        onClear(createMockEvent(clonedEvent));\n      }\n    });\n  };\n\n  /**\n   * onChange event, provide restructured event.\n   *\n   * @param {string} value\n   * @param {object} event\n   */\n  onChange = (value, event) => {\n    const { onChange } = this.props;\n    const clonedEvent = { ...event };\n\n    this.setState({ updatedValue: value }, () => {\n      onChange(createMockEvent(clonedEvent));\n    });\n  };\n\n  /**\n   * Render a text input.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { updatedValue } = this.state;\n    const {\n      className,\n      id,\n      isDisabled,\n      name,\n      onChange,\n      onClear,\n      onKeyUp,\n      onMouseUp,\n      isReadOnly,\n      type,\n      value,\n      ...props\n    } = this.props;\n    const updatedName = name || helpers.generateId();\n    const updatedId = id || updatedName;\n\n    return (\n      <PfTextInput\n        id={updatedId}\n        name={updatedName}\n        className={`curiosity-text-input ${className}`}\n        isDisabled={isDisabled || false}\n        onChange={this.onChange}\n        onKeyUp={this.onKeyUp}\n        onMouseUp={this.onMouseUp}\n        isReadOnly={isReadOnly || false}\n        type={type}\n        value={updatedValue ?? value ?? ''}\n        {...props}\n      />\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{onKeyUp: Function, isReadOnly: boolean, onChange: Function, onClear: Function,\n *     name: string, className: string, id: string, isDisabled: boolean, onMouseUp: Function,\n *     type: string, value: string}}\n */\nTextInput.propTypes = {\n  className: PropTypes.string,\n  id: PropTypes.string,\n  isDisabled: PropTypes.bool,\n  isReadOnly: PropTypes.bool,\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  onClear: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  type: PropTypes.string,\n  value: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{onKeyUp: Function, isReadOnly: boolean, onChange: Function, onClear: Function,\n *     name: string, className: string, id: string, isDisabled: boolean, onMouseUp: Function,\n *     type: string, value: string}}\n */\nTextInput.defaultProps = {\n  className: '',\n  id: null,\n  isDisabled: false,\n  isReadOnly: false,\n  name: null,\n  onChange: helpers.noop,\n  onClear: helpers.noop,\n  onKeyUp: helpers.noop,\n  onMouseUp: helpers.noop,\n  type: 'text',\n  value: ''\n};\n\nexport { TextInput as default, TextInput };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getTooltipDate } from './graphCardHelpers';\nimport { translate } from '../i18n/i18n';\nimport { ChartIcon } from '../chart/chartIcon';\n\n/**\n * A custom chart tooltip.\n *\n * @param {object} props\n * @param {object} props.datum\n * @param {string} props.granularity\n * @param {string} props.productLabel\n * @param {Function} props.t\n * @returns {Node}\n */\nconst GraphCardChartTooltip = ({ datum, granularity, productLabel, t }) => {\n  let header = null;\n  const data = [];\n  const { itemsByKey = {} } = datum || {};\n\n  Object.keys(itemsByKey)\n    .reverse()\n    .forEach((key, index) => {\n      if (index === 0) {\n        header = getTooltipDate({\n          date: itemsByKey[key]?.data.date,\n          granularity\n        });\n      }\n\n      const tempDataFacet = {\n        color: itemsByKey[key]?.color\n      };\n\n      if (itemsByKey[key]?.chartType === 'threshold') {\n        let thresholdStringValue = itemsByKey[key]?.data.y ?? t('curiosity-graph.noDataLabel');\n\n        if (itemsByKey[key]?.data.hasInfinite) {\n          if (tempDataFacet.color) {\n            thresholdStringValue = (\n              <ChartIcon symbol=\"infinity\" fill=\"#ffffff\" title={t('curiosity-graph.infiniteThresholdLabel')} />\n            );\n          } else {\n            thresholdStringValue = t('curiosity-graph.infiniteThresholdLabel');\n          }\n        }\n\n        tempDataFacet.label = t('curiosity-graph.label', { context: 'threshold' });\n        tempDataFacet.value = thresholdStringValue;\n      } else {\n        const dataFactsValue =\n          (itemsByKey[key]?.data.hasData === false && t('curiosity-graph.noDataLabel')) || itemsByKey[key]?.data.y || 0;\n\n        tempDataFacet.label = t(`curiosity-graph.${key}Label`, { product: productLabel });\n        tempDataFacet.value = dataFactsValue;\n      }\n\n      tempDataFacet.chartType = itemsByKey[key]?.chartType;\n      data.push(tempDataFacet);\n    });\n\n  return (\n    <div className=\"curiosity-usage-graph__tooltip\">\n      <table summary={t('curiosity-graph.tooltipSummary')}>\n        {(data.length && header && (\n          <thead>\n            <tr>\n              <th colSpan={2}>{header}</th>\n            </tr>\n          </thead>\n        )) ||\n          null}\n        {(data.length && (\n          <tbody>\n            {data.map(dataFacet => (\n              <tr key={`tooltip-${dataFacet.label}`}>\n                <th>\n                  {dataFacet.chartType === 'threshold' && (\n                    <ChartIcon size=\"sm\" symbol=\"dash\" fill={dataFacet.color || 'transparent'} />\n                  )}\n                  {dataFacet.chartType !== 'threshold' && (\n                    <ChartIcon size=\"sm\" fill={dataFacet.color || 'transparent'} />\n                  )}{' '}\n                  {dataFacet.label}\n                </th>\n                <td>{dataFacet.value}</td>\n              </tr>\n            ))}\n          </tbody>\n        )) ||\n          null}\n      </table>\n      {(!data.length && t('curiosity-graph.noDataErrorLabel')) || null}\n    </div>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{datum, productLabel: string, t: Function, granularity: string}}\n */\nGraphCardChartTooltip.propTypes = {\n  datum: PropTypes.shape({\n    itemsByKey: PropTypes.objectOf(\n      PropTypes.shape({\n        chartType: PropTypes.string,\n        color: PropTypes.string,\n        data: PropTypes.shape({\n          date: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\n          hasData: PropTypes.bool,\n          hasInfinite: PropTypes.bool,\n          y: PropTypes.number\n        })\n      })\n    )\n  }),\n  granularity: PropTypes.string.isRequired,\n  productLabel: PropTypes.string,\n  t: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{datum: object, productLabel: string, t: translate}}\n */\nGraphCardChartTooltip.defaultProps = {\n  datum: {},\n  productLabel: '',\n  t: translate\n};\n\nexport { GraphCardChartTooltip as default, GraphCardChartTooltip };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Tooltip, TooltipPosition } from '@patternfly/react-core';\nimport { connect, store, reduxTypes } from '../../redux';\nimport { helpers } from '../../common';\nimport { translate } from '../i18n/i18n';\nimport { ChartIcon } from '../chart/chartIcon';\n\n/**\n * A custom chart legend.\n *\n * @augments React.Component\n * @fires onClick\n */\nclass GraphCardChartLegend extends React.Component {\n  componentDidMount() {\n    const { chart, datum, legend, viewId } = this.props;\n    datum.dataSets.forEach(({ id }) => {\n      const checkIsToggled = legend[`${viewId}-${id}`] || chart.isToggled(id);\n\n      if (checkIsToggled) {\n        chart.hide(id);\n      }\n    });\n  }\n\n  /**\n   * Toggle legend item and chart.\n   *\n   * @event onClick\n   * @param {string} id\n   */\n  onClick = id => {\n    const { chart, viewId } = this.props;\n    const updatedToggle = chart.toggle(id);\n\n    store.dispatch({\n      type: reduxTypes.graph.SET_GRAPH_LEGEND,\n      legend: {\n        [`${viewId}-${id}`]: updatedToggle\n      }\n    });\n  };\n\n  /**\n   * Return a legend item.\n   *\n   * @param {object} options\n   * @param {string} options.chartId\n   * @param {string} options.color\n   * @param {boolean} options.isDisabled\n   * @param {boolean} options.isThreshold\n   * @param {string} options.labelContent\n   * @param {string} options.tooltipContent\n   * @returns {Node}\n   */\n  renderLegendItem({ chartId, color, isDisabled, isThreshold, labelContent, tooltipContent }) {\n    const { chart, legend, viewId } = this.props;\n    const checkIsToggled = legend[`${viewId}-${chartId}`] || chart.isToggled(chartId);\n\n    const button = (\n      <Button\n        onClick={() => this.onClick(chartId)}\n        onKeyPress={() => this.onClick(chartId)}\n        className=\"curiosity-usage-graph__legend-item\"\n        tabIndex={0}\n        key={`curiosity-button-${chartId}`}\n        variant=\"link\"\n        component=\"a\"\n        isDisabled={isDisabled}\n        icon={\n          ((isDisabled || checkIsToggled) && <ChartIcon symbol=\"eyeSlash\" />) || (\n            <ChartIcon\n              symbol={(isThreshold && 'dash') || 'square'}\n              style={{ visibility: (isDisabled && 'hidden') || (checkIsToggled && 'hidden') || 'visible' }}\n              fill={color}\n            />\n          )\n        }\n      >\n        {labelContent}\n      </Button>\n    );\n\n    if (tooltipContent) {\n      return (\n        <Tooltip\n          key={`curiosity-tooltip-${chartId}`}\n          content={<p>{tooltipContent}</p>}\n          position={TooltipPosition.top}\n          enableFlip={false}\n          distance={5}\n        >\n          {button}\n        </Tooltip>\n      );\n    }\n\n    return button;\n  }\n\n  /**\n   * Render a graph legend.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { datum, productLabel, t } = this.props;\n\n    return (\n      <React.Fragment>\n        {datum.dataSets.map(({ id, isThreshold, stroke, data = [] }) => {\n          const isDisabled =\n            !data.find(({ y, hasData }) => (y >= 0 && hasData === true) || (y >= 0 && isThreshold === true)) || false;\n\n          const labelContent =\n            (isThreshold &&\n              t('curiosity-graph.label_threshold', {\n                product: productLabel,\n                context: [id, productLabel]\n              })) ||\n            t([`curiosity-graph.${id}Label`, `curiosity-graph.noLabel`], {\n              product: productLabel,\n              context: productLabel\n            });\n\n          const tooltipContent =\n            (isThreshold &&\n              t('curiosity-graph.legendTooltip_threshold', {\n                product: productLabel,\n                context: [id, productLabel]\n              })) ||\n            t(`curiosity-graph.${id}LegendTooltip`, { product: productLabel, context: productLabel });\n\n          return this.renderLegendItem({\n            chartId: id,\n            color: stroke,\n            labelContent,\n            isDisabled,\n            isThreshold,\n            tooltipContent\n          });\n        })}\n      </React.Fragment>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{datum: object, productLabel: string, viewId: string, t: Function, legend: object,\n *     chart: object}}\n */\nGraphCardChartLegend.propTypes = {\n  chart: PropTypes.shape({\n    hide: PropTypes.func,\n    toggle: PropTypes.func,\n    isToggled: PropTypes.func\n  }),\n  datum: PropTypes.shape({\n    dataSets: PropTypes.arrayOf(\n      PropTypes.shape({\n        stroke: PropTypes.string.isRequired,\n        id: PropTypes.string.isRequired,\n        isThreshold: PropTypes.bool\n      })\n    )\n  }),\n  legend: PropTypes.objectOf(PropTypes.bool),\n  productLabel: PropTypes.string,\n  t: PropTypes.func,\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{datum: object, productLabel: string, viewId: string, t: translate, legend: object,\n *     chart: object}}\n */\nGraphCardChartLegend.defaultProps = {\n  chart: {\n    hide: helpers.noop,\n    toggle: helpers.noop,\n    isToggled: helpers.noop\n  },\n  datum: {\n    dataSets: []\n  },\n  legend: {},\n  productLabel: '',\n  t: translate,\n  viewId: 'graphCardLegend'\n};\n\nconst mapStateToProps = ({ graph }) => ({ legend: graph.legend });\n\nconst ConnectedGraphCardChartLegend = connect(mapStateToProps)(GraphCardChartLegend);\n\nexport { ConnectedGraphCardChartLegend as default, ConnectedGraphCardChartLegend, GraphCardChartLegend };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Tabs as PfTabs, Tab, TabTitleText, Grid, GridItem } from '@patternfly/react-core';\nimport _isEqualWith from 'lodash/isEqualWith';\nimport { helpers } from '../../common';\n\n/**\n * FixMe: PF tabs misinterprets \"isElementInView\" when tab title nodes are loaded dynamically\n * It appears the use of isElementInView within PF tabs is trying to be predicative in using\n * \"getBoundingClientRect\" but produces questionable results in scenarios where content is\n * async created. isElementInView assumes some form of the content will always be there\n * instead of scenarios where someone tries to dynamically apply components. It may be good to\n * review using a window.setTimeout(() => handleScrollButtons()) in componentDidMount.\n *\n * Our temporary solution is to simply hide the buttons with a manual set flag affecting the\n * CSS class. This will most likely cause long-term issues.\n */\n/**\n * ToDo: Insights frontend components uses a custom tabs layout, investigate related CSS classes\n * Originally we applied the CSS classes, but they appeared to provide nothing. Since Insights\n * rolled its own tabs we're hesitant to apply said classes without understanding what they provide.\n */\n/**\n * A set of tabs.\n *\n * @augments React.Component\n * @fires onTab\n */\nclass Tabs extends React.Component {\n  state = {\n    updatedActiveTab: null,\n    updatedTabs: null\n  };\n\n  componentDidMount() {\n    const { updatedTabs } = this.state;\n\n    if (updatedTabs === null) {\n      this.setTabData();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { tabs } = this.props;\n    const customizer = (valueA, valueB) => {\n      if (typeof valueA === 'function' && typeof valueB === 'function') {\n        return valueA.toString() === valueB.toString();\n      }\n\n      return undefined;\n    };\n\n    if (!_isEqualWith(prevProps.tabs, tabs, customizer)) {\n      this.setTabData();\n    }\n  }\n\n  /**\n   * On tab selected\n   *\n   * @event onTab\n   * @param {object} params\n   * @param {number} params.index\n   */\n  onTab = ({ index }) => {\n    const { onTab } = this.props;\n\n    this.setState(\n      {\n        updatedActiveTab: index\n      },\n      () => onTab({ index })\n    );\n  };\n\n  /**\n   * Convert tab objects into the required PF Tab format.\n   */\n  setTabData() {\n    const { activeTab, defaultActiveTab, tabs } = this.props;\n    let updatedActiveTab = defaultActiveTab;\n\n    const updatedTabs = tabs.map(({ active, content, title }, index) => {\n      updatedActiveTab = active ? index : updatedActiveTab;\n\n      return (\n        <Tab key={title} eventKey={index} title={<TabTitleText>{title}</TabTitleText>}>\n          {content}\n        </Tab>\n      );\n    });\n\n    if (typeof activeTab === 'number') {\n      updatedActiveTab = activeTab;\n    }\n\n    this.setState({\n      updatedActiveTab,\n      updatedTabs\n    });\n  }\n\n  /**\n   * Apply props to tabs.\n   *\n   * @returns {Node}\n   */\n  renderTabs() {\n    const { updatedActiveTab, updatedTabs } = this.state;\n    const { className, hasOverflowScroll } = this.props;\n\n    return (\n      <PfTabs\n        className={`curiosity-tabs${(!hasOverflowScroll && '__no-scroll') || ''} ${className || ''}`}\n        activeKey={updatedActiveTab}\n        onSelect={(event, index) => this.onTab({ event, index })}\n        mountOnEnter\n        unmountOnExit\n        inset={{\n          default: 'insetNone',\n          md: 'insetLg'\n        }}\n      >\n        {updatedTabs}\n      </PfTabs>\n    );\n  }\n\n  /**\n   * Render tabs.\n   *\n   * @returns {Node}\n   */\n  render() {\n    return (\n      <Grid className=\"curiosity-tabs-container\">\n        <GridItem span={12}>{this.renderTabs()}</GridItem>\n      </Grid>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{tabs: Array, hasOverflowScroll: boolean, onTab: Function, className: string,\n *     defaultActiveTab: number, activeTab: number}}\n */\nTabs.propTypes = {\n  activeTab: PropTypes.number,\n  className: PropTypes.string,\n  defaultActiveTab: PropTypes.number,\n  hasOverflowScroll: PropTypes.bool,\n  onTab: PropTypes.func,\n  tabs: PropTypes.arrayOf(\n    PropTypes.shape({\n      active: PropTypes.bool,\n      content: PropTypes.node.isRequired,\n      title: PropTypes.node.isRequired\n    })\n  )\n};\n\n/**\n * Default props.\n *\n * @type {{tabs: Array, hasOverflowScroll: boolean, onTab: Function, className: string,\n *     defaultActiveTab: number, activeTab: number}}\n */\nTabs.defaultProps = {\n  activeTab: null,\n  className: '',\n  defaultActiveTab: 0,\n  hasOverflowScroll: false,\n  onTab: helpers.noop,\n  tabs: []\n};\n\nexport { Tabs as default, Tabs };\n","import { translate } from '../i18n/i18n';\nimport {\n  RHSM_API_QUERY_TYPES,\n  RHSM_API_QUERY_SLA_TYPES as SLA_TYPES,\n  RHSM_API_QUERY_USAGE_TYPES as USAGE_TYPES\n} from '../../types/rhsmApiTypes';\n\n/**\n * Get filter options to display by type.\n *\n * @param {string} optionsType\n * @returns {object}\n */\nconst getOptionsType = optionsType => {\n  switch (optionsType) {\n    case RHSM_API_QUERY_TYPES.SLA:\n      return {\n        selected: null,\n        options: [\n          {\n            title: translate('curiosity-toolbar.slaPremium'),\n            value: SLA_TYPES.PREMIUM\n          },\n          {\n            title: translate('curiosity-toolbar.slaStandard'),\n            value: SLA_TYPES.STANDARD\n          },\n          {\n            title: translate('curiosity-toolbar.slaSelfSupport'),\n            value: SLA_TYPES.SELF\n          },\n          {\n            title: translate('curiosity-toolbar.slaNone'),\n            value: SLA_TYPES.NONE\n          }\n        ]\n      };\n    case RHSM_API_QUERY_TYPES.USAGE:\n      return {\n        selected: null,\n        options: [\n          {\n            title: translate('curiosity-toolbar.usageDevelopment'),\n            value: USAGE_TYPES.DEVELOPMENT\n          },\n          {\n            title: translate('curiosity-toolbar.usageDisaster'),\n            value: USAGE_TYPES.DISASTER\n          },\n          {\n            title: translate('curiosity-toolbar.usageProduction'),\n            value: USAGE_TYPES.PRODUCTION\n          },\n          {\n            title: translate('curiosity-toolbar.usageUnspecified'),\n            value: USAGE_TYPES.UNSPECIFIED\n          }\n        ]\n      };\n    default:\n      return {\n        selected: null,\n        options: [\n          {\n            title: translate('curiosity-toolbar.category', { context: RHSM_API_QUERY_TYPES.SLA }),\n            value: RHSM_API_QUERY_TYPES.SLA\n          },\n          {\n            title: translate('curiosity-toolbar.category', { context: RHSM_API_QUERY_TYPES.USAGE }),\n            value: RHSM_API_QUERY_TYPES.USAGE\n          }\n        ]\n      };\n  }\n};\n\nconst toolbarHelpers = {\n  getOptions: getOptionsType\n};\n\nexport { toolbarHelpers as default, toolbarHelpers, getOptionsType };\n","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/FormControl/form-control';\nimport { css } from '@patternfly/react-styles';\nimport { ValidatedOptions } from '../../helpers/constants';\nimport { getOUIAProps, getDefaultOUIAId } from '../../helpers';\nexport class FormSelect extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = (event) => {\n            this.props.onChange(event.currentTarget.value, event);\n        };\n        if (!props.id && !props['aria-label']) {\n            // eslint-disable-next-line no-console\n            console.error('FormSelect requires either an id or aria-label to be specified');\n        }\n        this.state = {\n            ouiaStateId: getDefaultOUIAId(FormSelect.displayName, props.validated)\n        };\n    }\n    render() {\n        const _a = this.props, { children, className, value, validated, isDisabled, isRequired, ouiaId, ouiaSafe } = _a, props = __rest(_a, [\"children\", \"className\", \"value\", \"validated\", \"isDisabled\", \"isRequired\", \"ouiaId\", \"ouiaSafe\"]);\n        /* find selected option and get placeholder flag */\n        const selectedOption = React.Children.toArray(children).find((option) => option.props.value === value);\n        const isSelectedPlaceholder = selectedOption && selectedOption.props.isPlaceholder;\n        return (React.createElement(\"select\", Object.assign({}, props, { className: css(styles.formControl, className, validated === ValidatedOptions.success && styles.modifiers.success, validated === ValidatedOptions.warning && styles.modifiers.warning, isSelectedPlaceholder && styles.modifiers.placeholder), \"aria-invalid\": validated === ValidatedOptions.error }, getOUIAProps(FormSelect.displayName, ouiaId !== undefined ? ouiaId : this.state.ouiaStateId, ouiaSafe), { onChange: this.handleChange, disabled: isDisabled, required: isRequired, value: value }), children));\n    }\n}\nFormSelect.displayName = 'FormSelect';\nFormSelect.defaultProps = {\n    className: '',\n    value: '',\n    validated: 'default',\n    isDisabled: false,\n    isRequired: false,\n    onBlur: () => undefined,\n    onFocus: () => undefined,\n    onChange: () => undefined,\n    ouiaSafe: true\n};\n//# sourceMappingURL=FormSelect.js.map","export const c_form_control_textarea_Height = {\n  \"name\": \"--pf-c-form-control--textarea--Height\",\n  \"value\": \"auto\",\n  \"var\": \"var(--pf-c-form-control--textarea--Height)\"\n};\nexport default c_form_control_textarea_Height;","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/FormControl/form-control';\nimport heightToken from \"@patternfly/react-tokens/dist/esm/c_form_control_textarea_Height\";\nimport { css } from '@patternfly/react-styles';\nimport { capitalize, ValidatedOptions, canUseDOM } from '../../helpers';\nexport var TextAreResizeOrientation;\n(function (TextAreResizeOrientation) {\n    TextAreResizeOrientation[\"horizontal\"] = \"horizontal\";\n    TextAreResizeOrientation[\"vertical\"] = \"vertical\";\n    TextAreResizeOrientation[\"both\"] = \"both\";\n})(TextAreResizeOrientation || (TextAreResizeOrientation = {}));\nexport class TextAreaBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = (event) => {\n            // https://gomakethings.com/automatically-expand-a-textarea-as-the-user-types-using-vanilla-javascript/\n            const field = event.currentTarget;\n            if (this.props.autoResize && canUseDOM) {\n                field.style.setProperty(heightToken.name, 'inherit');\n                const computed = window.getComputedStyle(field);\n                // Calculate the height\n                const height = parseInt(computed.getPropertyValue('border-top-width')) +\n                    parseInt(computed.getPropertyValue('padding-top')) +\n                    field.scrollHeight +\n                    parseInt(computed.getPropertyValue('padding-bottom')) +\n                    parseInt(computed.getPropertyValue('border-bottom-width'));\n                field.style.setProperty(heightToken.name, `${height}px`);\n            }\n            if (this.props.onChange) {\n                this.props.onChange(field.value, event);\n            }\n        };\n        if (!props.id && !props['aria-label']) {\n            // eslint-disable-next-line no-console\n            console.error('TextArea: TextArea requires either an id or aria-label to be specified');\n        }\n    }\n    render() {\n        const _a = this.props, { className, value, validated, isRequired, isDisabled, isReadOnly, resizeOrientation, innerRef, readOnly, disabled, \n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        autoResize, onChange } = _a, \n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        props = __rest(_a, [\"className\", \"value\", \"validated\", \"isRequired\", \"isDisabled\", \"isReadOnly\", \"resizeOrientation\", \"innerRef\", \"readOnly\", \"disabled\", \"autoResize\", \"onChange\"]);\n        const orientation = `resize${capitalize(resizeOrientation)}`;\n        return (React.createElement(\"textarea\", Object.assign({ className: css(styles.formControl, className, resizeOrientation !== TextAreResizeOrientation.both && styles.modifiers[orientation], validated === ValidatedOptions.success && styles.modifiers.success, validated === ValidatedOptions.warning && styles.modifiers.warning), onChange: this.handleChange }, (typeof this.props.defaultValue !== 'string' && { value }), { \"aria-invalid\": validated === ValidatedOptions.error, required: isRequired, disabled: isDisabled || disabled, readOnly: isReadOnly || readOnly, ref: innerRef }, props)));\n    }\n}\nTextAreaBase.displayName = 'TextArea';\nTextAreaBase.defaultProps = {\n    innerRef: React.createRef(),\n    className: '',\n    isRequired: false,\n    isDisabled: false,\n    validated: 'default',\n    resizeOrientation: 'both',\n    'aria-label': null\n};\nexport const TextArea = React.forwardRef((props, ref) => (React.createElement(TextAreaBase, Object.assign({}, props, { innerRef: ref }))));\nTextArea.displayName = 'TextArea';\n//# sourceMappingURL=TextArea.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/InputGroup/input-group';\nimport { css } from '@patternfly/react-styles';\nimport { FormSelect } from '../FormSelect';\nimport { TextArea } from '../TextArea';\nimport { TextInput } from '../TextInput';\nexport const InputGroup = (_a) => {\n    var { className = '', children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    const formCtrls = [FormSelect, TextArea, TextInput].map(comp => comp.displayName);\n    const idItem = React.Children.toArray(children).find((child) => !formCtrls.includes(child.type.displayName) && child.props.id);\n    return (React.createElement(\"div\", Object.assign({ className: css(styles.inputGroup, className) }, props), idItem\n        ? React.Children.map(children, (child) => formCtrls.includes(child.type.displayName)\n            ? React.cloneElement(child, { 'aria-describedby': idItem.props.id })\n            : child)\n        : children));\n};\nInputGroup.displayName = 'InputGroup';\n//# sourceMappingURL=InputGroup.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { InputGroup } from '@patternfly/react-core';\nimport _debounce from 'lodash/debounce';\nimport { reduxTypes, store, useSelector } from '../../redux';\nimport { TextInput } from '../form/textInput';\nimport { RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { translate } from '../i18n/i18n';\n\n/**\n * ToDo: evaluate the debounce milliseconds, currently based off platforms default 800 ms\n */\n/**\n * Display a display name input field for search.\n *\n * @fires onSubmit\n * @fires onClear\n * @fires onKeyUp\n * @param {object} props\n * @param {Function} props.t\n * @param {string} props.value\n * @param {string} props.viewId\n * @returns {Node}\n */\nconst ToolbarFieldDisplayName = ({ t, value, viewId }) => {\n  const currentValue = useSelector(\n    ({ view }) => view.inventoryHostsQuery?.[viewId]?.[RHSM_API_QUERY_TYPES.DISPLAY_NAME],\n    value\n  );\n\n  /**\n   * On submit, dispatch type.\n   *\n   * @event onSubmit\n   * @param {string} submitValue\n   * @returns {void}\n   */\n  const onSubmit = submitValue =>\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR_INVENTORY_LIST,\n        viewId\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.DISPLAY_NAME],\n        viewId,\n        [RHSM_API_QUERY_TYPES.DISPLAY_NAME]: submitValue?.trim() || null\n      }\n    ]);\n\n  /**\n   * On clear, dispatch type.\n   *\n   * @event onClear\n   * @returns {void}\n   */\n  const onClear = () => {\n    if (currentValue === '' || !currentValue) {\n      return;\n    }\n\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR_INVENTORY_LIST,\n        viewId\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.DISPLAY_NAME],\n        viewId,\n        [RHSM_API_QUERY_TYPES.DISPLAY_NAME]: null\n      }\n    ]);\n  };\n\n  /**\n   * Set up submit debounce event to allow for bypass.\n   */\n  const debounced = _debounce(onSubmit, 700);\n\n  /**\n   * On enter submit value, on type submit value, and on esc ignore (clear value at component level).\n   *\n   * @event onKeyUp\n   * @param {object} event\n   */\n  const onKeyUp = event => {\n    switch (event.keyCode) {\n      case 13:\n        onSubmit(event.value);\n        break;\n      case 27:\n        break;\n      default:\n        debounced(event.value);\n        break;\n    }\n  };\n\n  return (\n    <InputGroup>\n      <TextInput\n        aria-label={t('curiosity-toolbar.placeholder', { context: 'displayName' })}\n        className=\"curiosity-input__display-name\"\n        iconVariant=\"search\"\n        maxLength={255}\n        onClear={onClear}\n        onKeyUp={onKeyUp}\n        value={currentValue}\n        placeholder={t('curiosity-toolbar.placeholder', { context: 'displayName' })}\n        data-test={ToolbarFieldDisplayName.defaultProps.viewId}\n      />\n    </InputGroup>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{viewId: string, t: Function, value: string}}\n */\nToolbarFieldDisplayName.propTypes = {\n  t: PropTypes.func,\n  value: PropTypes.string,\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{viewId: string, t: translate, value: string}}\n */\nToolbarFieldDisplayName.defaultProps = {\n  t: translate,\n  value: null,\n  viewId: 'toolbarFieldDisplayName'\n};\n\nexport { ToolbarFieldDisplayName as default, ToolbarFieldDisplayName };\n","import { useEffect, useState } from 'react';\nimport { helpers } from '../common';\n\n/**\n * Apply a resize observer to an element.\n *\n * @param {*} target\n * @returns {{width: number, height: number}}\n */\nconst useResizeObserver = target => {\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\n\n  useEffect(() => {\n    const isElementResize = target && window.ResizeObserver && true;\n    const element = target?.current;\n    let removeObserver = helpers.noop;\n\n    if (element) {\n      const handler = () => {\n        const { clientHeight = 0, clientWidth = 0, innerHeight = 0, innerWidth = 0 } = element || {};\n\n        setDimensions({\n          width: isElementResize ? clientWidth : innerWidth,\n          height: isElementResize ? clientHeight : innerHeight\n        });\n      };\n\n      if (isElementResize) {\n        const resizeObserver = new window.ResizeObserver(handler);\n        resizeObserver.observe(element);\n        removeObserver = () => resizeObserver.unobserve(element);\n      } else {\n        handler();\n        window.addEventListener('resize', handler);\n        removeObserver = () => window.removeEventListener('resize', handler);\n      }\n    }\n\n    return () => {\n      removeObserver();\n    };\n  }, [target]);\n\n  return dimensions;\n};\n\nconst windowHooks = {\n  useResizeObserver\n};\n\nexport { windowHooks as default, windowHooks, useResizeObserver };\n","import React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChartThemeColor } from '@patternfly/react-charts';\nimport { ChartContext } from './chartContext';\nimport { ChartElements } from './chartElements';\nimport { ChartLegend } from './chartLegend';\nimport { chartHelpers } from './chartHelpers';\nimport { useResizeObserver } from '../../hooks/useWindow';\n\n/**\n * Return a chart and elements with a context provider.\n *\n * @param {object} props\n * @param {Node|Function} props.chartLegend\n * @param {Node|Function} props.chartTooltip\n * @param {Array} props.dataSets\n * @param {object} props.padding\n * @param {string} props.themeColor\n * @param {boolean} props.xAxisFixLabelOverlap\n * @param {number} props.xAxisLabelIncrement\n * @param {Function} props.xAxisTickFormat\n * @param {Function} props.yAxisTickFormat\n * @param {Function} props.xValueFormat\n * @param {Function} props.yValueFormat\n * @returns {Node}\n */\nconst Chart = ({\n  chartLegend,\n  chartTooltip,\n  dataSets,\n  padding,\n  themeColor,\n  xAxisFixLabelOverlap,\n  xAxisLabelIncrement,\n  xAxisTickFormat,\n  yAxisTickFormat,\n  xValueFormat,\n  yValueFormat\n}) => {\n  const [context, setContext] = useState();\n  const [dataSetsToggle, setDataSetsToggle] = useState({});\n  const containerRef = useRef(null);\n  const tooltipRef = useRef(null);\n  const { width: chartWidth } = useResizeObserver(containerRef);\n\n  useEffect(() => {\n    /**\n     * Aggregate chart related settings.\n     *\n     * @returns {{isMultiYAxis: boolean, padding: object, chartDomain: {domain: {y: Array}}, tooltipDataSetLookUp: {},\n     *     xAxisProps: object, themeColor: string, maxY: (object|number), hasData: boolean, maxX: number,\n     *     yAxisProps: Array, chartElementsProps: {elementsById: object, stackedElements: Array,\n     *     stackedElementsById: object, elements: Array}}}\n     */\n    const updateChartSettings = () => {\n      const toggledDataSets = dataSets.filter(({ id }) => !dataSetsToggle[id]);\n\n      const tooltipDataSetLookUp = chartHelpers.generateTooltipData({\n        content: chartTooltip,\n        dataSets: toggledDataSets\n      });\n\n      const { maxX, maxY } = chartHelpers.generateMaxXY({ dataSets: toggledDataSets });\n      const { individualMaxY } = chartHelpers.generateMaxXY({ dataSets });\n      const { xAxisProps, yAxisProps } = chartHelpers.generateAxisProps({\n        dataSets,\n        individualMaxY,\n        maxX,\n        maxY,\n        xAxisFixLabelOverlap,\n        xAxisLabelIncrement,\n        xAxisTickFormat,\n        yAxisTickFormat\n      });\n\n      const isMultiYAxis = yAxisProps.length > 1;\n      const chartElementsProps = chartHelpers.generateElementsProps({\n        dataSets: toggledDataSets,\n        maxX,\n        maxY: (isMultiYAxis && individualMaxY) || maxY,\n        xValueFormat,\n        yValueFormat\n      });\n      const chartDomain = chartHelpers.generateDomains({ maxY: (isMultiYAxis && individualMaxY) || maxY });\n      const hasData = !!xAxisProps.tickValues;\n\n      return {\n        xAxisProps,\n        yAxisProps,\n        chartDomain,\n        chartElementsProps,\n        hasData,\n        isMultiYAxis,\n        maxX,\n        maxY: (isMultiYAxis && individualMaxY) || maxY,\n        padding,\n        themeColor,\n        tooltipDataSetLookUp\n      };\n    };\n\n    const chartSettings = updateChartSettings();\n    const updatedSettings = {\n      chartContainerRef: () => containerRef,\n      chartSettings: { ...chartSettings, chartLegend, chartWidth, dataSets },\n      chartTooltipRef: () => tooltipRef,\n      dataSetsToggle: [dataSetsToggle, setDataSetsToggle]\n    };\n\n    setContext(updatedSettings);\n  }, [\n    chartLegend,\n    chartTooltip,\n    chartWidth,\n    dataSets,\n    dataSetsToggle,\n    padding,\n    setContext,\n    themeColor,\n    yAxisTickFormat,\n    xAxisTickFormat,\n    xAxisLabelIncrement,\n    xAxisFixLabelOverlap,\n    xValueFormat,\n    yValueFormat\n  ]);\n\n  return (\n    <ChartContext.Provider value={context}>\n      <div\n        id=\"curiosity-chartarea\"\n        className=\"curiosity-chartarea uxui-curiosity__modal uxui-curiosity__modal--loading\"\n        ref={containerRef}\n      >\n        {chartWidth > 0 && (\n          <React.Fragment>\n            <ChartElements />\n            <ChartLegend />\n          </React.Fragment>\n        )}\n      </div>\n    </ChartContext.Provider>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{chartTooltip: Node|Function, xValueFormat: Function, padding: {top: number, left: number, bottom: number,\n *     right: number}, xAxisTickFormat: Function, themeColor: string, chartLegend: Node|Function,\n *     yAxisTickFormat: Function, dataSets: Array, xAxisFixLabelOverlap: boolean, xAxisLabelIncrement: number,\n *     yValueFormat: Function}}\n */\nChart.propTypes = {\n  chartLegend: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  chartTooltip: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  dataSets: PropTypes.arrayOf(\n    PropTypes.shape({\n      data: PropTypes.arrayOf(\n        PropTypes.shape({\n          x: PropTypes.number.isRequired,\n          y: PropTypes.number,\n          xAxisLabel: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        })\n      ),\n      animate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n      chartType: PropTypes.oneOf(['area', 'line', 'threshold']),\n      fill: PropTypes.string,\n      stroke: PropTypes.string,\n      strokeWidth: PropTypes.number,\n      strokeDasharray: PropTypes.string,\n      themeColor: PropTypes.string,\n      themeVariant: PropTypes.string,\n      id: PropTypes.string.isRequired,\n      interpolation: PropTypes.string,\n      style: PropTypes.object,\n      isStacked: PropTypes.bool,\n      xAxisUseDataSet: PropTypes.bool,\n      yAxisUseDataSet: PropTypes.bool\n    })\n  ),\n  padding: PropTypes.shape({\n    bottom: PropTypes.number,\n    left: PropTypes.number,\n    right: PropTypes.number,\n    top: PropTypes.number\n  }),\n  themeColor: PropTypes.oneOf(Object.values(ChartThemeColor)),\n  xAxisFixLabelOverlap: PropTypes.bool,\n  xAxisLabelIncrement: PropTypes.number,\n  xAxisTickFormat: PropTypes.func,\n  yAxisTickFormat: PropTypes.func,\n  xValueFormat: PropTypes.func,\n  yValueFormat: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{chartTooltip: Node|Function, xValueFormat: Function, padding: {top: number, left: number, bottom: number,\n *     right: number}, xAxisTickFormat: Function, themeColor: string, chartLegend: Node|Function,\n *     yAxisTickFormat: Function, dataSets: Array, xAxisFixLabelOverlap: boolean, xAxisLabelIncrement: number,\n *     yValueFormat: Function}}\n */\nChart.defaultProps = {\n  chartLegend: null,\n  chartTooltip: null,\n  dataSets: [],\n  padding: {\n    bottom: 75,\n    left: 55,\n    right: 55,\n    top: 50\n  },\n  themeColor: 'blue',\n  xAxisFixLabelOverlap: true,\n  xAxisLabelIncrement: 1,\n  xAxisTickFormat: null,\n  yAxisTickFormat: null,\n  xValueFormat: null,\n  yValueFormat: null\n};\n\nexport { Chart as default, Chart };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardTitle, CardHeader, CardActions, CardBody, Title } from '@patternfly/react-core';\nimport { chart_color_green_300 as chartColorGreenDark } from '@patternfly/react-tokens';\nimport _isEqual from 'lodash/isEqual';\nimport { connect, reduxActions, reduxSelectors } from '../../redux';\nimport { helpers } from '../../common';\nimport { RHSM_API_QUERY_GRANULARITY_TYPES as GRANULARITY_TYPES, RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { graphCardHelpers } from './graphCardHelpers';\nimport GraphCardChartTooltip from './graphCardChartTooltip';\nimport GraphCardChartLegend from './graphCardChartLegend';\nimport { Chart } from '../chart/chart';\nimport { Loader } from '../loader/loader';\nimport { MinHeight } from '../minHeight/minHeight';\nimport { translate } from '../i18n/i18n';\n\n/**\n * A chart/graph card.\n *\n * @augments React.Component\n * @fires onUpdateGraphData\n */\nclass GraphCard extends React.Component {\n  componentDidMount() {\n    this.onUpdateGraphData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { productId, query } = this.props;\n\n    if (productId !== prevProps.productId || !_isEqual(query, prevProps.query)) {\n      this.onUpdateGraphData();\n    }\n  }\n\n  /**\n   * Call the RHSM APIs, apply filters.\n   *\n   * @event onUpdateGraphData\n   */\n  onUpdateGraphData = () => {\n    const { getGraphReportsCapacity, isDisabled, productId, query } = this.props;\n    const graphGranularity = this.getQueryGranularity();\n    const { [RHSM_API_QUERY_TYPES.START_DATE]: startDate, [RHSM_API_QUERY_TYPES.END_DATE]: endDate } = query;\n\n    if (!isDisabled && graphGranularity && startDate && endDate && productId) {\n      getGraphReportsCapacity(productId, query);\n    }\n  };\n\n  getQueryGranularity() {\n    const { query } = this.props;\n    return query?.[RHSM_API_QUERY_TYPES.GRANULARITY];\n  }\n\n  /**\n   * Apply props to chart/graph.\n   *\n   * @returns {Node}\n   */\n  renderChart() {\n    const { filterGraphData, graphData, productLabel, query, viewId } = this.props;\n    const graphGranularity = this.getQueryGranularity();\n\n    const chartAreaProps = {\n      xAxisLabelIncrement: graphCardHelpers.getChartXAxisLabelIncrement(graphGranularity),\n      xAxisTickFormat: ({ item, previousItem, tick }) =>\n        graphCardHelpers.xAxisTickFormat({\n          tick,\n          date: item.date,\n          previousDate: previousItem.date,\n          granularity: graphGranularity\n        }),\n      yAxisTickFormat: graphCardHelpers.yAxisTickFormat\n    };\n\n    const filteredGraphData = data => {\n      const filtered = key => {\n        const tempFiltered = {\n          data: data[key],\n          id: key,\n          strokeWidth: 2,\n          isStacked: !/^threshold/.test(key),\n          isThreshold: /^threshold/.test(key)\n        };\n\n        if (/^threshold/.test(key)) {\n          tempFiltered.stroke = chartColorGreenDark.value;\n          tempFiltered.strokeDasharray = '4,3';\n          tempFiltered.strokeWidth = 3;\n        }\n\n        return tempFiltered;\n      };\n\n      if (filterGraphData.length) {\n        return filterGraphData.map(value => Object.assign(filtered(value.id), value));\n      }\n\n      return Object.keys(data).map(key => filtered(key));\n    };\n\n    return (\n      <Chart\n        key={`chart_${JSON.stringify(query)}`}\n        {...chartAreaProps}\n        dataSets={filteredGraphData(graphData)}\n        chartLegend={({ chart, datum }) => (\n          <GraphCardChartLegend chart={chart} datum={datum} productLabel={productLabel} viewId={viewId} />\n        )}\n        chartTooltip={({ datum }) => (\n          <GraphCardChartTooltip datum={datum} granularity={graphGranularity} productLabel={productLabel} />\n        )}\n      />\n    );\n  }\n\n  /**\n   * ToDo: Evaluate applying a minHeight attr to the MinHeight component graphCard setup\n   * Appears there may be a minor page shift when compared to the prior hard-set min-height\n   * of 410px\n   */\n  /**\n   * Render a chart/graph card with chart/graph.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { cardTitle, children, error, graphData, meta, isDisabled, pending, settings } = this.props;\n\n    if (isDisabled) {\n      return null;\n    }\n\n    let actionDisplay = null;\n\n    // Apply actionDisplay callback, return node\n    if (typeof settings?.actionDisplay === 'function') {\n      actionDisplay = settings.actionDisplay({ data: { ...graphData }, meta: { ...meta } });\n    }\n\n    return (\n      <Card className=\"curiosity-usage-graph\">\n        <MinHeight key=\"headerMinHeight\">\n          <CardHeader>\n            <CardTitle>\n              <Title headingLevel=\"h2\" size=\"lg\">\n                {cardTitle}\n              </Title>\n            </CardTitle>\n            <CardActions className={(error && 'blur') || ''}>\n              <React.Fragment key=\"actionDisplay\">{actionDisplay}</React.Fragment>\n              {children}\n            </CardActions>\n          </CardHeader>\n        </MinHeight>\n        <MinHeight key=\"bodyMinHeight\">\n          <CardBody>\n            <div className={(error && 'blur') || (pending && 'fadein') || ''}>\n              {pending && <Loader variant=\"graph\" />}\n              {!pending && this.renderChart()}\n            </div>\n          </CardBody>\n        </MinHeight>\n      </Card>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{productLabel: string, settings: object, productId: string, query: object, pending: boolean,\n *     error: boolean, cardTitle: Node, filterGraphData: Array, getGraphReportsCapacity: Function,\n *     viewId: string, t: Function, children: Node, graphData: object, isDisabled: boolean,\n *     meta: object}}\n */\nGraphCard.propTypes = {\n  cardTitle: PropTypes.node,\n  children: PropTypes.node,\n  error: PropTypes.bool,\n  filterGraphData: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      fill: PropTypes.string,\n      stroke: PropTypes.string\n    })\n  ),\n  getGraphReportsCapacity: PropTypes.func,\n  graphData: PropTypes.object,\n  meta: PropTypes.object,\n  query: PropTypes.shape({\n    [RHSM_API_QUERY_TYPES.GRANULARITY]: PropTypes.oneOf([...Object.values(GRANULARITY_TYPES)]).isRequired,\n    [RHSM_API_QUERY_TYPES.START_DATE]: PropTypes.string.isRequired,\n    [RHSM_API_QUERY_TYPES.END_DATE]: PropTypes.string.isRequired\n  }).isRequired,\n  isDisabled: PropTypes.bool,\n  pending: PropTypes.bool,\n  productId: PropTypes.string.isRequired,\n  productLabel: PropTypes.string,\n  settings: PropTypes.shape({\n    actionDisplay: PropTypes.func\n  }),\n  t: PropTypes.func,\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{productLabel: string, settings: object, pending: boolean, error: boolean, cardTitle: Node,\n *     filterGraphData: Array, getGraphReportsCapacity: Function, viewId: string, t: translate,\n *     children: Node, graphData: object, isDisabled: boolean, meta: object}}\n */\nGraphCard.defaultProps = {\n  cardTitle: null,\n  children: null,\n  error: false,\n  filterGraphData: [],\n  getGraphReportsCapacity: helpers.noop,\n  graphData: {},\n  meta: {},\n  isDisabled: helpers.UI_DISABLED_GRAPH,\n  pending: false,\n  productLabel: '',\n  settings: {},\n  t: translate,\n  viewId: 'graphCard'\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  getGraphReportsCapacity: (id, query) => dispatch(reduxActions.rhsm.getGraphReportsCapacity(id, query))\n});\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst makeMapStateToProps = reduxSelectors.graphCard.makeGraphCard();\n\nconst ConnectedGraphCard = connect(makeMapStateToProps, mapDispatchToProps)(GraphCard);\n\nexport { ConnectedGraphCard as default, ConnectedGraphCard, GraphCard };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _isEqual from 'lodash/isEqual';\nimport { SortByDirection, TableVariant } from '@patternfly/react-table';\nimport { Bullseye, Card, CardActions, CardBody, CardFooter, CardHeader, CardHeaderMain } from '@patternfly/react-core';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport _camelCase from 'lodash/camelCase';\nimport { helpers } from '../../common';\nimport { connect, reduxActions, reduxSelectors, reduxTypes, store } from '../../redux';\nimport Table from '../table/table';\nimport { Loader } from '../loader/loader';\nimport { MinHeight } from '../minHeight/minHeight';\nimport GuestsList from '../guestsList/guestsList';\nimport { inventoryListHelpers } from './inventoryListHelpers';\nimport Pagination from '../pagination/pagination';\nimport { ToolbarFieldDisplayName } from '../toolbar/toolbarFieldDisplayName';\nimport { paginationHelpers } from '../pagination/paginationHelpers';\nimport {\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_SORT_TYPES as SORT_TYPES,\n  RHSM_API_QUERY_TYPES\n} from '../../types/rhsmApiTypes';\nimport { translate } from '../i18n/i18n';\n\n/**\n * A hosts system inventory component.\n *\n * @augments React.Component\n * @fires onColumnSort\n * @fires onPage\n * @fires onUpdateInventoryData\n */\nclass InventoryList extends React.Component {\n  componentDidMount() {\n    this.onUpdateInventoryData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { productId, query } = this.props;\n\n    if (productId !== prevProps.productId || !_isEqual(query, prevProps.query)) {\n      this.onUpdateInventoryData();\n    }\n  }\n\n  /**\n   * On column sort update state.\n   *\n   * @event onColumnSort\n   * @param {object} data pass-through inventory data.\n   * @param {object} sortParams\n   * @param {string} sortParams.direction\n   * @param {string} sortParams.id column identifier\n   */\n  onColumnSort = (data, { direction, id }) => {\n    const { productId } = this.props;\n    const updatedSortColumn = Object.values(SORT_TYPES).find(value => _camelCase(value) === id);\n    let updatedDirection;\n\n    if (!updatedSortColumn) {\n      if (helpers.DEV_MODE || helpers.REVIEW_MODE) {\n        console.warn(`Sorting can only be performed on select fields, confirm field ${id} is allowed.`);\n      }\n      return;\n    }\n\n    switch (direction) {\n      case SortByDirection.desc:\n        updatedDirection = SORT_DIRECTION_TYPES.DESCENDING;\n        break;\n      default:\n        updatedDirection = SORT_DIRECTION_TYPES.ASCENDING;\n        break;\n    }\n\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.DIRECTION],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.DIRECTION]: updatedDirection\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.SORT],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.SORT]: updatedSortColumn\n      }\n    ]);\n  };\n\n  /**\n   * On paging and on perPage events.\n   *\n   * @event onPage\n   * @param {object} params\n   * @param {number} params.offset\n   * @param {number} params.perPage\n   */\n  onPage = ({ offset, perPage }) => {\n    const { productId } = this.props;\n\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.OFFSET],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.OFFSET]: offset\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.LIMIT],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.LIMIT]: perPage\n      }\n    ]);\n  };\n\n  /**\n   * Call the RHSM APIs, apply filters.\n   *\n   * @event onUpdateInventoryData\n   */\n  onUpdateInventoryData = () => {\n    const { getHostsInventory, isDisabled, productId, query } = this.props;\n\n    if (!isDisabled && productId) {\n      getHostsInventory(productId, query);\n    }\n  };\n\n  /**\n   * Render an inventory table.\n   *\n   * @returns {Node}\n   */\n  renderTable() {\n    const { filterGuestsData, filterInventoryData, listData, query, session, settings } = this.props;\n    let updatedColumnHeaders = [];\n\n    const updatedRows = listData.map(({ ...cellData }) => {\n      const { columnHeaders, cells } = inventoryListHelpers.parseRowCellsListData({\n        filters: inventoryListHelpers.parseInventoryFilters({\n          filters: filterInventoryData,\n          onSort: this.onColumnSort,\n          query\n        }),\n        cellData,\n        session\n      });\n\n      updatedColumnHeaders = columnHeaders;\n\n      const guestsId = cellData?.subscriptionManagerId;\n      let hasGuests = cellData?.numberOfGuests > 0 && guestsId;\n\n      // Apply hasGuests callback, return boolean\n      if (typeof settings?.hasGuests === 'function') {\n        hasGuests = settings.hasGuests({ ...cellData }, { ...session });\n      }\n\n      return {\n        cells,\n        expandedContent:\n          (hasGuests && (\n            <GuestsList\n              key={guestsId}\n              filterGuestsData={filterGuestsData}\n              numberOfGuests={cellData?.numberOfGuests}\n              id={guestsId}\n              query={query}\n            />\n          )) ||\n          undefined\n      };\n    });\n\n    return (\n      <Table\n        borders\n        variant={TableVariant.compact}\n        className=\"curiosity-inventory-list\"\n        columnHeaders={updatedColumnHeaders}\n        rows={updatedRows}\n      />\n    );\n  }\n\n  /**\n   * Render an inventory card.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const {\n      error,\n      filterInventoryData,\n      fulfilled,\n      isDisabled,\n      itemCount,\n      listData,\n      pending,\n      perPageDefault,\n      query,\n      t,\n      viewId\n    } = this.props;\n\n    if (isDisabled) {\n      return (\n        <Card className=\"curiosity-inventory-card__disabled\">\n          <CardBody>\n            <Bullseye>{t('curiosity-inventory.tab', { context: 'disabled' })}</Bullseye>\n          </CardBody>\n        </Card>\n      );\n    }\n\n    const updatedPerPage = query[RHSM_API_QUERY_TYPES.LIMIT] || perPageDefault;\n    const updatedOffset = query[RHSM_API_QUERY_TYPES.OFFSET];\n    const isLastPage = paginationHelpers.isLastPage(updatedOffset, updatedPerPage, itemCount);\n\n    // Set an updated key to force refresh minHeight\n    const minHeightContentRefreshKey =\n      (fulfilled === true && itemCount < updatedPerPage && `bodyMinHeight-${updatedPerPage}-resize`) ||\n      (fulfilled === true && isLastPage && `bodyMinHeight-${updatedPerPage}-resize`) ||\n      (error === true && `bodyMinHeight-${updatedPerPage}-resize`) ||\n      `bodyMinHeight-${updatedPerPage}`;\n\n    return (\n      <Card className=\"curiosity-inventory-card\">\n        <MinHeight key=\"headerMinHeight\" updateOnContent>\n          <CardHeader className={(error && 'hidden') || ''} aria-hidden={error || false}>\n            <CardHeaderMain>\n              <ToolbarFieldDisplayName viewId={viewId} />\n            </CardHeaderMain>\n            <CardActions className={(!itemCount && 'transparent') || ''} aria-hidden={!itemCount || false}>\n              <Pagination\n                isCompact\n                isDisabled={pending || error}\n                itemCount={itemCount}\n                offset={updatedOffset}\n                onPage={this.onPage}\n                onPerPage={this.onPage}\n                perPage={updatedPerPage}\n              />\n            </CardActions>\n          </CardHeader>\n        </MinHeight>\n        <MinHeight key={minHeightContentRefreshKey} updateOnContent>\n          <CardBody>\n            <div className={(error && 'blur') || (pending && 'fadein') || ''}>\n              {pending && (\n                <Loader\n                  variant=\"table\"\n                  tableProps={{\n                    className: 'curiosity-inventory-list',\n                    colCount: filterInventoryData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n                    colWidth:\n                      (filterInventoryData?.length && filterInventoryData.map(({ cellWidth }) => cellWidth)) || [],\n                    rowCount: listData?.length || updatedPerPage,\n                    variant: TableVariant.compact\n                  }}\n                />\n              )}\n              {!pending && this.renderTable()}\n            </div>\n          </CardBody>\n        </MinHeight>\n        <MinHeight key=\"footerMinHeight\" updateOnContent>\n          <CardFooter\n            className={(error && 'hidden') || (!itemCount && 'transparent') || ''}\n            aria-hidden={error || !itemCount || false}\n          >\n            <TableToolbar isFooter>\n              <Pagination\n                dropDirection=\"up\"\n                isDisabled={pending || error}\n                itemCount={itemCount}\n                offset={updatedOffset}\n                onPage={this.onPage}\n                onPerPage={this.onPage}\n                perPage={updatedPerPage}\n              />\n            </TableToolbar>\n          </CardFooter>\n        </MinHeight>\n      </Card>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{settings:object, productId: string, listData: Array, session: object, pending: boolean,\n *     query: object, fulfilled: boolean, getHostsInventory: Function, error: boolean,\n *     itemCount: number, viewId: string, t: Function, filterInventoryData: Array, filterGuestsData: Array,\n *     perPageDefault: number, isDisabled: boolean}}\n */\nInventoryList.propTypes = {\n  error: PropTypes.bool,\n  fulfilled: PropTypes.bool,\n  filterGuestsData: PropTypes.array,\n  filterInventoryData: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      header: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ]),\n      cell: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ])\n    }).isRequired\n  ),\n  getHostsInventory: PropTypes.func,\n  isDisabled: PropTypes.bool,\n  itemCount: PropTypes.number,\n  listData: PropTypes.array,\n  pending: PropTypes.bool,\n  productId: PropTypes.string.isRequired,\n  perPageDefault: PropTypes.number,\n  query: PropTypes.object.isRequired,\n  session: PropTypes.object,\n  settings: PropTypes.shape({\n    hasGuests: PropTypes.func\n  }),\n  t: PropTypes.func,\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{settings: object, listData: Array, session: object, pending: boolean, fulfilled: boolean,\n *     getHostsInventory: Function, error: boolean, itemCount: number, viewId: string, t: translate,\n *     filterInventoryData: Array, filterGuestsData: Array, perPageDefault: number, isDisabled: boolean}}\n */\nInventoryList.defaultProps = {\n  error: false,\n  fulfilled: false,\n  filterGuestsData: [],\n  filterInventoryData: [],\n  getHostsInventory: helpers.noop,\n  isDisabled: helpers.UI_DISABLED_TABLE_HOSTS,\n  itemCount: 0,\n  listData: [],\n  pending: false,\n  perPageDefault: 10,\n  session: {},\n  settings: {},\n  t: translate,\n  viewId: 'inventoryList'\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  getHostsInventory: (id, query) => dispatch(reduxActions.rhsm.getHostsInventory(id, query))\n});\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst makeMapStateToProps = reduxSelectors.inventoryList.makeInventoryList();\n\nconst ConnectedInventoryList = connect(makeMapStateToProps, mapDispatchToProps)(InventoryList);\n\nexport { ConnectedInventoryList as default, ConnectedInventoryList, InventoryList };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _isEqual from 'lodash/isEqual';\nimport { SortByDirection, TableVariant } from '@patternfly/react-table';\nimport { Bullseye, Card, CardActions, CardBody, CardFooter, CardHeader } from '@patternfly/react-core';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport _camelCase from 'lodash/camelCase';\nimport { helpers } from '../../common';\nimport { connect, reduxActions, reduxSelectors, reduxTypes, store } from '../../redux';\nimport Table from '../table/table';\nimport { Loader } from '../loader/loader';\nimport { MinHeight } from '../minHeight/minHeight';\nimport { inventoryListHelpers } from '../inventoryList/inventoryListHelpers';\nimport Pagination from '../pagination/pagination';\nimport { paginationHelpers } from '../pagination/paginationHelpers';\nimport {\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_SUBSCRIPTIONS_SORT_TYPES as SORT_TYPES,\n  RHSM_API_QUERY_TYPES\n} from '../../types/rhsmApiTypes';\nimport { translate } from '../i18n/i18n';\n\n/**\n * A subscriptions system inventory component.\n *\n * @augments React.Component\n * @fires onColumnSort\n * @fires onPage\n * @fires onUpdateInventoryData\n */\nclass InventorySubscriptions extends React.Component {\n  componentDidMount() {\n    this.onUpdateInventoryData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { productId, query } = this.props;\n\n    if (productId !== prevProps.productId || !_isEqual(query, prevProps.query)) {\n      this.onUpdateInventoryData();\n    }\n  }\n\n  /**\n   * On column sort update state.\n   *\n   * @event onColumnSort\n   * @param {object} data pass-through inventory data.\n   * @param {object} sortParams\n   * @param {string} sortParams.direction\n   * @param {string} sortParams.id column identifier\n   */\n  onColumnSort = (data, { direction, id }) => {\n    const { productId } = this.props;\n    const updatedSortColumn = Object.values(SORT_TYPES).find(value => _camelCase(value) === id);\n    let updatedDirection;\n\n    if (!updatedSortColumn) {\n      if (helpers.DEV_MODE || helpers.REVIEW_MODE) {\n        console.warn(`Sorting can only be performed on select fields, confirm field ${id} is allowed.`);\n      }\n      return;\n    }\n\n    switch (direction) {\n      case SortByDirection.desc:\n        updatedDirection = SORT_DIRECTION_TYPES.DESCENDING;\n        break;\n      default:\n        updatedDirection = SORT_DIRECTION_TYPES.ASCENDING;\n        break;\n    }\n\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.DIRECTION],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.DIRECTION]: updatedDirection\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.SORT],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.SORT]: updatedSortColumn\n      }\n    ]);\n  };\n\n  /**\n   * On paging and on perPage events.\n   *\n   * @event onPage\n   * @param {object} params\n   * @param {number} params.offset\n   * @param {number} params.perPage\n   */\n  onPage = ({ offset, perPage }) => {\n    const { productId } = this.props;\n\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.OFFSET],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.OFFSET]: offset\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[RHSM_API_QUERY_TYPES.LIMIT],\n        viewId: productId,\n        [RHSM_API_QUERY_TYPES.LIMIT]: perPage\n      }\n    ]);\n  };\n\n  /**\n   * Call the RHSM APIs, apply filters.\n   *\n   * @event onUpdateInventoryData\n   */\n  onUpdateInventoryData = () => {\n    const { getSubscriptionsInventory, isDisabled, productId, query } = this.props;\n\n    if (!isDisabled && productId) {\n      getSubscriptionsInventory(productId, query);\n    }\n  };\n\n  /**\n   * Render an inventory table.\n   *\n   * @returns {Node}\n   */\n  renderTable() {\n    const { filterInventoryData, listData, query, session } = this.props;\n    let updatedColumnHeaders = [];\n\n    const updatedRows = listData.map(({ ...cellData }) => {\n      const { columnHeaders, cells } = inventoryListHelpers.parseRowCellsListData({\n        filters: inventoryListHelpers.parseInventoryFilters({\n          filters: filterInventoryData,\n          onSort: this.onColumnSort,\n          query\n        }),\n        cellData,\n        session\n      });\n\n      updatedColumnHeaders = columnHeaders;\n\n      return {\n        cells\n      };\n    });\n\n    return (\n      <Table\n        borders\n        variant={TableVariant.compact}\n        className=\"curiosity-inventory-list\"\n        columnHeaders={updatedColumnHeaders}\n        rows={updatedRows}\n      />\n    );\n  }\n\n  /**\n   * Render an inventory card.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const {\n      error,\n      filterInventoryData,\n      fulfilled,\n      isDisabled,\n      itemCount,\n      listData,\n      pending,\n      perPageDefault,\n      query,\n      t\n    } = this.props;\n\n    if (isDisabled) {\n      return (\n        <Card className=\"curiosity-inventory-card__disabled\">\n          <CardBody>\n            <Bullseye>{t('curiosity-inventory.tab', { context: 'disabled' })}</Bullseye>\n          </CardBody>\n        </Card>\n      );\n    }\n\n    const updatedPerPage = query[RHSM_API_QUERY_TYPES.LIMIT] || perPageDefault;\n    const updatedOffset = query[RHSM_API_QUERY_TYPES.OFFSET];\n    const isLastPage = paginationHelpers.isLastPage(updatedOffset, updatedPerPage, itemCount);\n\n    // Set an updated key to force refresh minHeight\n    const minHeightContentRefreshKey =\n      (fulfilled === true && itemCount < updatedPerPage && `bodyMinHeight-${updatedPerPage}-resize`) ||\n      (fulfilled === true && isLastPage && `bodyMinHeight-${updatedPerPage}-resize`) ||\n      (error === true && `bodyMinHeight-${updatedPerPage}-resize`) ||\n      `bodyMinHeight-${updatedPerPage}`;\n\n    return (\n      <Card className=\"curiosity-inventory-card\">\n        <MinHeight key=\"headerMinHeight\" updateOnContent>\n          <CardHeader className={(error && 'hidden') || ''} aria-hidden={error || false}>\n            <CardActions className={(!itemCount && 'transparent') || ''} aria-hidden={!itemCount || false}>\n              <Pagination\n                isCompact\n                isDisabled={pending || error}\n                itemCount={itemCount}\n                offset={updatedOffset}\n                onPage={this.onPage}\n                onPerPage={this.onPage}\n                perPage={updatedPerPage}\n              />\n            </CardActions>\n          </CardHeader>\n        </MinHeight>\n        <MinHeight key={minHeightContentRefreshKey} updateOnContent>\n          <CardBody>\n            <div className={(error && 'blur') || (pending && 'fadein') || ''}>\n              {pending && (\n                <Loader\n                  variant=\"table\"\n                  tableProps={{\n                    className: 'curiosity-inventory-list',\n                    colCount: filterInventoryData?.length || (listData?.[0] && Object.keys(listData[0]).length) || 1,\n                    colWidth:\n                      (filterInventoryData?.length && filterInventoryData.map(({ cellWidth }) => cellWidth)) || [],\n                    rowCount: listData?.length || updatedPerPage,\n                    variant: TableVariant.compact\n                  }}\n                />\n              )}\n              {!pending && this.renderTable()}\n            </div>\n          </CardBody>\n        </MinHeight>\n        <MinHeight key=\"footerMinHeight\" updateOnContent>\n          <CardFooter\n            className={(error && 'hidden') || (!itemCount && 'transparent') || ''}\n            aria-hidden={error || !itemCount || false}\n          >\n            <TableToolbar isFooter>\n              <Pagination\n                dropDirection=\"up\"\n                isDisabled={pending || error}\n                itemCount={itemCount}\n                offset={updatedOffset}\n                onPage={this.onPage}\n                onPerPage={this.onPage}\n                perPage={updatedPerPage}\n              />\n            </TableToolbar>\n          </CardFooter>\n        </MinHeight>\n      </Card>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{productId: string, listData: Array, session: object, pending: boolean, query: object,\n *     fulfilled: boolean, error: boolean, getSubscriptionsInventory: Function, itemCount: number,\n *     t: Function, filterInventoryData: Array, perPageDefault: number, isDisabled: boolean}}\n */\nInventorySubscriptions.propTypes = {\n  error: PropTypes.bool,\n  fulfilled: PropTypes.bool,\n  filterInventoryData: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      header: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ]),\n      cell: PropTypes.oneOfType([\n        PropTypes.shape({\n          title: PropTypes.node.isRequired\n        }),\n        PropTypes.func,\n        PropTypes.node\n      ])\n    }).isRequired\n  ),\n  getSubscriptionsInventory: PropTypes.func,\n  isDisabled: PropTypes.bool,\n  itemCount: PropTypes.number,\n  listData: PropTypes.array,\n  pending: PropTypes.bool,\n  productId: PropTypes.string.isRequired,\n  perPageDefault: PropTypes.number,\n  query: PropTypes.object.isRequired,\n  session: PropTypes.object,\n  t: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{t: translate, filterInventoryData: Array, listData: Array, session: object, pending: boolean,\n *     fulfilled: boolean, perPageDefault: number, isDisabled: boolean, error: boolean,\n *     getSubscriptionsInventory: Function, itemCount: number}}\n */\nInventorySubscriptions.defaultProps = {\n  error: false,\n  fulfilled: false,\n  filterInventoryData: [],\n  getSubscriptionsInventory: helpers.noop,\n  isDisabled: helpers.UI_DISABLED_TABLE_SUBSCRIPTIONS,\n  itemCount: 0,\n  listData: [],\n  pending: false,\n  perPageDefault: 10,\n  session: {},\n  t: translate\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  getSubscriptionsInventory: (id, query) => dispatch(reduxActions.rhsm.getSubscriptionsInventory(id, query))\n});\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst makeMapStateToProps = reduxSelectors.subscriptionsList.makeSubscriptionsList();\n\nconst ConnectedInventorySubscriptions = connect(makeMapStateToProps, mapDispatchToProps)(InventorySubscriptions);\n\nexport { ConnectedInventorySubscriptions as default, ConnectedInventorySubscriptions, InventorySubscriptions };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\nimport { connect, reduxTypes, store } from '../../redux';\nimport { Tabs } from '../tabs/tabs';\nimport { helpers } from '../../common';\nimport { translate } from '../i18n/i18n';\nimport { InventoryTab } from './inventoryTab';\n\n/**\n * A system inventory tabs component.\n *\n * @augments React.Component\n * @fires onTab\n */\nclass InventoryTabs extends React.Component {\n  /**\n   * On tab update state.\n   *\n   * @event onTab\n   * @param {object} params\n   * @param {string} params.index tab index\n   */\n  onTab = ({ index }) => {\n    const { productId } = this.props;\n\n    store.dispatch({\n      type: reduxTypes.inventory.SET_INVENTORY_TAB,\n      tabs: {\n        [productId]: index\n      }\n    });\n  };\n\n  /**\n   * Render inventory tabs using Inventory tab passed props only. A parallel outcome can be\n   * achieved by passing an array of objects through a prop.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { activeTab, children, defaultActiveTab, isDisabled, t } = this.props;\n\n    if (isDisabled) {\n      return null;\n    }\n\n    const updatedChildren = React.Children.toArray(children).map((child, index) => {\n      const { props = {} } = child;\n\n      return {\n        active: props.active || false,\n        content: props.children || child,\n        title: props.title || t('curiosity-inventory.tabSubHeading', { count: index })\n      };\n    });\n\n    return (\n      <React.Fragment>\n        <Title headingLevel=\"h2\" className=\"sr-only\">\n          {t('curiosity-inventory.tabHeading', { count: updatedChildren.length })}\n        </Title>\n        <Tabs activeTab={activeTab} defaultActiveTab={defaultActiveTab} onTab={this.onTab} tabs={updatedChildren} />\n      </React.Fragment>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{productId: string, t: Function, children: Node, defaultActiveTab: number, isDisabled: boolean,\n *     activeTab: number}}\n */\nInventoryTabs.propTypes = {\n  activeTab: PropTypes.number,\n  children: PropTypes.node.isRequired,\n  defaultActiveTab: PropTypes.number,\n  isDisabled: PropTypes.bool,\n  productId: PropTypes.string.isRequired,\n  t: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{t: translate, defaultActiveTab: number, isDisabled: boolean, activeTab: number}}\n */\nInventoryTabs.defaultProps = {\n  activeTab: 0,\n  defaultActiveTab: 0,\n  isDisabled: helpers.UI_DISABLED_TABLE,\n  t: translate\n};\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst mapStateToProps = ({ inventory }, { productId }) => ({ activeTab: inventory.tabs?.[productId] });\n\nconst ConnectedInventoryTabs = connect(mapStateToProps)(InventoryTabs);\n\nexport { ConnectedInventoryTabs as default, ConnectedInventoryTabs, InventoryTabs, InventoryTab };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { reduxTypes, store, useSelector } from '../../redux';\nimport { Select } from '../form/select';\nimport { RHSM_API_QUERY_GRANULARITY_TYPES as FIELD_TYPES, RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { dateHelpers } from '../../common';\nimport { translate } from '../i18n/i18n';\n\n/**\n * Select field options.\n *\n * @type {{title: (string|Node), value: string, selected: boolean}[]}\n */\nconst toolbarFieldOptions = Object.values(FIELD_TYPES).map(type => ({\n  title: translate('curiosity-toolbar.granularity', { context: type }),\n  value: type,\n  selected: false\n}));\n\n/**\n * Display a granularity field with options.\n *\n * @fires onSelect\n * @param {object} props\n * @param {Array} props.options\n * @param {Function} props.t\n * @param {string} props.value\n * @param {string} props.viewId\n * @returns {Node}\n */\nconst ToolbarFieldGranularity = ({ options, t, value, viewId }) => {\n  const updatedValue = useSelector(\n    ({ view }) => view.graphTallyQuery?.[viewId]?.[RHSM_API_QUERY_TYPES.GRANULARITY],\n    value\n  );\n\n  const updatedOptions = options.map(option => ({ ...option, selected: option.value === updatedValue }));\n\n  /**\n   * On select, dispatch type.\n   *\n   * @event onSelect\n   * @param {object} event\n   * @returns {void}\n   */\n  const onSelect = event => {\n    const { startDate, endDate } = dateHelpers.getRangedDateTime(event.value);\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR_INVENTORY_LIST,\n        viewId\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.GRANULARITY],\n        viewId,\n        [RHSM_API_QUERY_TYPES.GRANULARITY]: event.value\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.START_DATE],\n        viewId,\n        [RHSM_API_QUERY_TYPES.START_DATE]: startDate.toISOString()\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.END_DATE],\n        viewId,\n        [RHSM_API_QUERY_TYPES.END_DATE]: endDate.toISOString()\n      }\n    ]);\n  };\n\n  return (\n    <Select\n      aria-label={t('curiosity-toolbar.placeholder', { context: 'granularity' })}\n      onSelect={onSelect}\n      options={updatedOptions}\n      selectedOptions={updatedValue}\n      placeholder={t('curiosity-toolbar.placeholder', { context: 'granularity' })}\n      data-test={ToolbarFieldGranularity.defaultProps.viewId}\n    />\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{viewId: string, t: Function, options: Array, value: string}}\n */\nToolbarFieldGranularity.propTypes = {\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.node,\n      value: PropTypes.any,\n      selected: PropTypes.bool\n    })\n  ),\n  t: PropTypes.func,\n  value: PropTypes.oneOf([...Object.values(FIELD_TYPES)]),\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{viewId: string, t: translate, options: Array, value: string}}\n */\nToolbarFieldGranularity.defaultProps = {\n  options: toolbarFieldOptions,\n  t: translate,\n  value: FIELD_TYPES.DAILY,\n  viewId: 'toolbarFieldGranularity'\n};\n\nexport { ToolbarFieldGranularity as default, ToolbarFieldGranularity, toolbarFieldOptions };\n","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ToolbarItem } from './ToolbarItem';\nimport { ChipGroup, Chip } from '../ChipGroup';\nimport { ToolbarContentContext, ToolbarContext } from './ToolbarUtils';\nexport class ToolbarFilter extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isMounted: false\n        };\n    }\n    componentDidMount() {\n        const { categoryName, chips } = this.props;\n        this.context.updateNumberFilters(typeof categoryName === 'string' ? categoryName : categoryName.name, chips.length);\n        this.setState({ isMounted: true });\n    }\n    componentDidUpdate() {\n        const { categoryName, chips } = this.props;\n        this.context.updateNumberFilters(typeof categoryName === 'string' ? categoryName : categoryName.name, chips.length);\n    }\n    render() {\n        const _a = this.props, { children, chips, deleteChipGroup, deleteChip, categoryName, showToolbarItem } = _a, props = __rest(_a, [\"children\", \"chips\", \"deleteChipGroup\", \"deleteChip\", \"categoryName\", \"showToolbarItem\"]);\n        const { isExpanded, chipGroupContentRef } = this.context;\n        const categoryKey = typeof categoryName !== 'string' && categoryName.hasOwnProperty('key')\n            ? categoryName.key\n            : categoryName.toString();\n        const chipGroup = chips.length ? (React.createElement(ToolbarItem, { variant: \"chip-group\" },\n            React.createElement(ChipGroup, { key: categoryKey, categoryName: typeof categoryName === 'string' ? categoryName : categoryName.name, isClosable: deleteChipGroup !== undefined, onClick: () => deleteChipGroup(categoryName) }, chips.map(chip => typeof chip === 'string' ? (React.createElement(Chip, { key: chip, onClick: () => deleteChip(categoryKey, chip) }, chip)) : (React.createElement(Chip, { key: chip.key, onClick: () => deleteChip(categoryKey, chip) }, chip.node)))))) : null;\n        if (!isExpanded && this.state.isMounted) {\n            return (React.createElement(React.Fragment, null,\n                showToolbarItem && React.createElement(ToolbarItem, Object.assign({}, props), children),\n                ReactDOM.createPortal(chipGroup, chipGroupContentRef.current.firstElementChild)));\n        }\n        return (React.createElement(ToolbarContentContext.Consumer, null, ({ chipContainerRef }) => (React.createElement(React.Fragment, null,\n            showToolbarItem && React.createElement(ToolbarItem, Object.assign({}, props), children),\n            chipContainerRef.current && ReactDOM.createPortal(chipGroup, chipContainerRef.current)))));\n    }\n}\nToolbarFilter.displayName = 'ToolbarFilter';\nToolbarFilter.contextType = ToolbarContext;\nToolbarFilter.defaultProps = {\n    chips: [],\n    showToolbarItem: true\n};\n//# sourceMappingURL=ToolbarFilter.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Toolbar/toolbar';\nimport { css } from '@patternfly/react-styles';\nimport { ToolbarGroup } from './ToolbarGroup';\nimport { ToolbarItem } from './ToolbarItem';\nimport { Button } from '../Button';\nimport { ToolbarContext } from './ToolbarUtils';\nexport class ToolbarExpandableContent extends React.Component {\n    render() {\n        const _a = this.props, { className, expandableContentRef, chipContainerRef, \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        isExpanded, clearAllFilters, clearFiltersButtonText, showClearFiltersButton } = _a, props = __rest(_a, [\"className\", \"expandableContentRef\", \"chipContainerRef\", \"isExpanded\", \"clearAllFilters\", \"clearFiltersButtonText\", \"showClearFiltersButton\"]);\n        const { numberOfFilters } = this.context;\n        const clearChipGroups = () => {\n            clearAllFilters();\n        };\n        return (React.createElement(\"div\", Object.assign({ className: css(styles.toolbarExpandableContent, className), ref: expandableContentRef }, props),\n            React.createElement(ToolbarGroup, null),\n            numberOfFilters > 0 && (React.createElement(ToolbarGroup, { className: styles.modifiers.chipContainer },\n                React.createElement(ToolbarGroup, { ref: chipContainerRef }),\n                showClearFiltersButton && (React.createElement(ToolbarItem, null,\n                    React.createElement(Button, { variant: \"link\", onClick: clearChipGroups, isInline: true }, clearFiltersButtonText)))))));\n    }\n}\nToolbarExpandableContent.displayName = 'ToolbarExpandableContent';\nToolbarExpandableContent.contextType = ToolbarContext;\nToolbarExpandableContent.defaultProps = {\n    isExpanded: false,\n    clearFiltersButtonText: 'Clear all filters'\n};\n//# sourceMappingURL=ToolbarExpandableContent.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Toolbar/toolbar';\nimport { css } from '@patternfly/react-styles';\nimport { ToolbarContentContext, ToolbarContext } from './ToolbarUtils';\nimport { formatBreakpointMods } from '../../helpers/util';\nimport { ToolbarExpandableContent } from './ToolbarExpandableContent';\nexport class ToolbarContent extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.expandableContentRef = React.createRef();\n        this.chipContainerRef = React.createRef();\n    }\n    render() {\n        const _a = this.props, { className, children, isExpanded, toolbarId, visibility, visiblity, alignment, clearAllFilters, showClearFiltersButton, clearFiltersButtonText } = _a, props = __rest(_a, [\"className\", \"children\", \"isExpanded\", \"toolbarId\", \"visibility\", \"visiblity\", \"alignment\", \"clearAllFilters\", \"showClearFiltersButton\", \"clearFiltersButtonText\"]);\n        if (visiblity !== undefined) {\n            // eslint-disable-next-line no-console\n            console.warn('The ToolbarContent visiblity prop has been deprecated. ' +\n                'Please use the correctly spelled visibility prop instead.');\n        }\n        return (React.createElement(\"div\", Object.assign({ className: css(styles.toolbarContent, formatBreakpointMods(visibility || visiblity, styles), formatBreakpointMods(alignment, styles), className) }, props),\n            React.createElement(ToolbarContext.Consumer, null, ({ clearAllFilters: clearAllFiltersContext, clearFiltersButtonText: clearFiltersButtonContext, showClearFiltersButton: showClearFiltersButtonContext, toolbarId: toolbarIdContext }) => {\n                const expandableContentId = `${toolbarId ||\n                    toolbarIdContext}-expandable-content-${ToolbarContent.currentId++}`;\n                return (React.createElement(ToolbarContentContext.Provider, { value: {\n                        expandableContentRef: this.expandableContentRef,\n                        expandableContentId,\n                        chipContainerRef: this.chipContainerRef\n                    } },\n                    React.createElement(\"div\", { className: css(styles.toolbarContentSection) }, children),\n                    React.createElement(ToolbarExpandableContent, { id: expandableContentId, isExpanded: isExpanded, expandableContentRef: this.expandableContentRef, chipContainerRef: this.chipContainerRef, clearAllFilters: clearAllFilters || clearAllFiltersContext, showClearFiltersButton: showClearFiltersButton || showClearFiltersButtonContext, clearFiltersButtonText: clearFiltersButtonText || clearFiltersButtonContext })));\n            })));\n    }\n}\nToolbarContent.displayName = 'ToolbarContent';\nToolbarContent.currentId = 0;\nToolbarContent.defaultProps = {\n    isExpanded: false,\n    showClearFiltersButton: false\n};\n//# sourceMappingURL=ToolbarContent.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport styles from '@patternfly/react-styles/css/components/Toolbar/toolbar';\nimport { css } from '@patternfly/react-styles';\nimport { ToolbarContext, ToolbarContentContext } from './ToolbarUtils';\nimport { Button } from '../Button';\nimport globalBreakpointLg from \"@patternfly/react-tokens/dist/esm/global_breakpoint_lg\";\nimport { formatBreakpointMods, toCamel, capitalize, canUseDOM } from '../../helpers/util';\nexport class ToolbarToggleGroup extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.isContentPopup = () => {\n            const viewportSize = canUseDOM ? window.innerWidth : 1200;\n            const lgBreakpointValue = parseInt(globalBreakpointLg.value);\n            return viewportSize < lgBreakpointValue;\n        };\n    }\n    render() {\n        const _a = this.props, { toggleIcon, variant, visibility, visiblity, breakpoint, alignment, spacer, spaceItems, className, children } = _a, props = __rest(_a, [\"toggleIcon\", \"variant\", \"visibility\", \"visiblity\", \"breakpoint\", \"alignment\", \"spacer\", \"spaceItems\", \"className\", \"children\"]);\n        if (!breakpoint && !toggleIcon) {\n            // eslint-disable-next-line no-console\n            console.error('ToolbarToggleGroup will not be visible without a breakpoint or toggleIcon.');\n        }\n        if (visiblity !== undefined) {\n            // eslint-disable-next-line no-console\n            console.warn('The ToolbarToggleGroup visiblity prop has been deprecated. ' +\n                'Please use the correctly spelled visibility prop instead.');\n        }\n        return (React.createElement(ToolbarContext.Consumer, null, ({ isExpanded, toggleIsExpanded }) => (React.createElement(ToolbarContentContext.Consumer, null, ({ expandableContentRef, expandableContentId }) => {\n            if (expandableContentRef.current && expandableContentRef.current.classList) {\n                if (isExpanded) {\n                    expandableContentRef.current.classList.add(styles.modifiers.expanded);\n                }\n                else {\n                    expandableContentRef.current.classList.remove(styles.modifiers.expanded);\n                }\n            }\n            return (React.createElement(\"div\", Object.assign({ className: css(styles.toolbarGroup, styles.modifiers.toggleGroup, variant && styles.modifiers[toCamel(variant)], breakpoint &&\n                    styles.modifiers[`showOn${capitalize(breakpoint.replace('2xl', '_2xl'))}`], formatBreakpointMods(visibility || visiblity, styles), formatBreakpointMods(alignment, styles), formatBreakpointMods(spacer, styles), formatBreakpointMods(spaceItems, styles), className) }, props),\n                React.createElement(\"div\", { className: css(styles.toolbarToggle) },\n                    React.createElement(Button, Object.assign({ variant: \"plain\", onClick: toggleIsExpanded, \"aria-label\": \"Show Filters\" }, (isExpanded && { 'aria-expanded': true }), { \"aria-haspopup\": isExpanded && this.isContentPopup(), \"aria-controls\": expandableContentId }), toggleIcon)),\n                isExpanded\n                    ? ReactDOM.createPortal(children, expandableContentRef.current.firstElementChild)\n                    : children));\n        }))));\n    }\n}\nToolbarToggleGroup.displayName = 'ToolbarToggleGroup';\n//# sourceMappingURL=ToolbarToggleGroup.js.map","import { createIcon } from '../createIcon';\n\nexport const FilterIconConfig = {\n  name: 'FilterIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const FilterIcon = createIcon(FilterIconConfig);\n\nexport default FilterIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Toolbar as PfToolbar,\n  ToolbarContent,\n  ToolbarFilter,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarToggleGroup\n} from '@patternfly/react-core';\nimport { FilterIcon } from '@patternfly/react-icons';\nimport { Select } from '../form/select';\nimport { connect, reduxTypes, store } from '../../redux';\nimport { RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { toolbarHelpers } from './toolbarHelpers';\nimport { helpers } from '../../common';\nimport { translate } from '../i18n/i18n';\n\n/**\n * Application filter toolbar.\n *\n * @augments React.Component\n * @fires onClear\n * @fires onClearFilter\n * @fires onCategorySelect\n * @fires onSelect\n */\nclass Toolbar extends React.Component {\n  /**\n   * Clear all filters' state.\n   *\n   * @event onClear\n   */\n  onClear = () => {\n    const { hardFilterReset } = this.props;\n    const dispatchActions = [\n      { type: reduxTypes.toolbar.SET_ACTIVE_FILTERS, data: { activeFilters: new Set() } },\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR,\n        data: {\n          clearFilters: {\n            [RHSM_API_QUERY_TYPES.SLA]: null,\n            [RHSM_API_QUERY_TYPES.USAGE]: null\n          }\n        }\n      }\n    ];\n\n    if (hardFilterReset) {\n      dispatchActions.push({ type: reduxTypes.toolbar.SET_FILTER_TYPE, data: { currentFilter: null } });\n    }\n\n    this.setDispatch(dispatchActions, true);\n  };\n\n  /**\n   * Clear individual filter state.\n   *\n   * @event onClearFilter\n   * @param {string} categoryTitle\n   */\n  onClearFilter = categoryTitle => {\n    const { activeFilters, currentFilter, hardFilterReset } = this.props;\n\n    const categoryOptions = toolbarHelpers.getOptions();\n    const { value: categoryValue } = categoryOptions.options.find(({ title }) => title === categoryTitle) || {};\n\n    if (!categoryValue) {\n      return;\n    }\n\n    const updatedActiveFilters = new Set(activeFilters);\n    updatedActiveFilters.delete(categoryValue);\n\n    const dispatchActions = [\n      { type: reduxTypes.toolbar.SET_ACTIVE_FILTERS, data: { activeFilters: updatedActiveFilters } },\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR,\n        data: {\n          clearFilters: {\n            [categoryValue]: null\n          }\n        }\n      }\n    ];\n\n    if (hardFilterReset) {\n      const updatedCurrentFilter = (updatedActiveFilters.size > 0 && currentFilter) || null;\n      dispatchActions.push({ type: reduxTypes.toolbar.SET_FILTER_TYPE, data: { currentFilter: updatedCurrentFilter } });\n    }\n\n    this.setDispatch(dispatchActions, true);\n  };\n\n  /**\n   * Set Category selection.\n   *\n   * @event onCategorySelect\n   * @param {object} event\n   */\n  onCategorySelect = event => {\n    const { value } = event;\n    this.setDispatch({ type: reduxTypes.toolbar.SET_FILTER_TYPE, data: { currentFilter: value } });\n  };\n\n  /**\n   * Set select filter selection for dispatch.\n   *\n   * @param {object} params\n   * @param {object} params.event\n   * @param {string} params.field\n   */\n  onSelect = ({ event, field }) => {\n    const { activeFilters } = this.props;\n    const { value } = event;\n    const updatedActiveFilters = new Set(activeFilters).add(field);\n\n    this.setDispatch(\n      [\n        {\n          type: reduxTypes.toolbar.SET_ACTIVE_FILTERS,\n          data: { activeFilters: updatedActiveFilters }\n        },\n        {\n          type: reduxTypes.query.SET_QUERY_RHSM_TYPES[field],\n          data: { [field]: value }\n        }\n      ],\n      true\n    );\n  };\n\n  /**\n   * Dispatch a Redux store type.\n   *\n   * @param {Array|object} actions\n   * @param {boolean} resetPage\n   */\n  setDispatch(actions, resetPage = false) {\n    const { viewId } = this.props;\n    const updatedActions = ((Array.isArray(actions) && actions) || [actions]).map(({ type, data }) => ({\n      type,\n      viewId,\n      ...data\n    }));\n\n    if (resetPage) {\n      updatedActions.push({\n        type: reduxTypes.query.SET_QUERY_RESET_INVENTORY_LIST,\n        viewId\n      });\n    }\n\n    store.dispatch(updatedActions);\n  }\n\n  /**\n   * Available, and selected select filter options.\n   *\n   * @param {string} field\n   * @returns {{optionsSelected: Array, options: Array }}\n   */\n  setSelectFilter(field) {\n    const { query } = this.props;\n    const options = toolbarHelpers.getOptions(field);\n    const currentFilter = this.getCurrentFilter();\n    let filter;\n\n    if (field) {\n      filter = typeof query?.[field] === 'string' && options.options.find(({ value }) => value === query?.[field]);\n    } else {\n      filter = options.options.find(({ value }) => value === currentFilter);\n    }\n\n    const optionsSelected = (filter?.title && [filter.title]) || (options?.selected && [options.selected]) || [];\n\n    return { options, optionsSelected };\n  }\n\n  /**\n   * Return the currentFilter, fallback to selected\n   *\n   * @returns {string|undefined}\n   */\n  getCurrentFilter() {\n    const { currentFilter, filterOptions } = this.props;\n\n    return (\n      currentFilter ||\n      filterOptions.find(({ selected }) => selected === true)?.id ||\n      (filterOptions.length === 1 && filterOptions[0]?.id)\n    );\n  }\n\n  /**\n   * A select filter node.\n   *\n   * @param {object} params\n   * @param {string} params.id\n   * @returns {object}\n   */\n  renderSelectFilter({ id: field }) {\n    const { t } = this.props;\n    const { options, optionsSelected } = this.setSelectFilter(field);\n    const currentFilter = this.getCurrentFilter();\n\n    return (\n      <ToolbarFilter\n        key={field}\n        chips={optionsSelected}\n        deleteChip={this.onClearFilter}\n        categoryName={t('curiosity-toolbar.category', { context: field })}\n        showToolbarItem={currentFilter === field}\n      >\n        <Select\n          aria-label={t('curiosity-toolbar.category', { context: field })}\n          onSelect={event => this.onSelect({ event, field })}\n          selectedOptions={optionsSelected}\n          placeholder={t('curiosity-toolbar.placeholder', { context: field })}\n          options={options.options}\n        />\n      </ToolbarFilter>\n    );\n  }\n\n  /**\n   * Render a filter toolbar.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { filterOptions, isDisabled, t } = this.props;\n\n    if (isDisabled) {\n      return null;\n    }\n\n    const { options: categoryOptions, optionsSelected: categoryOptionsSelected } = this.setSelectFilter();\n\n    return (\n      <PfToolbar\n        id=\"curiosity-toolbar\"\n        className=\"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar\"\n        collapseListedFiltersBreakpoint=\"sm\"\n        clearAllFilters={this.onClear}\n        clearFiltersButtonText={t('curiosity-toolbar.clearFilters')}\n      >\n        <ToolbarContent>\n          <ToolbarToggleGroup toggleIcon={<FilterIcon />} breakpoint=\"md\">\n            <ToolbarGroup variant=\"filter-group\">\n              {filterOptions.length !== 1 && (\n                <ToolbarItem>\n                  <Select\n                    aria-label={t('curiosity-toolbar.category')}\n                    onSelect={this.onCategorySelect}\n                    selectedOptions={categoryOptionsSelected}\n                    placeholder={t('curiosity-toolbar.placeholder')}\n                    options={categoryOptions.options}\n                    toggleIcon={<FilterIcon />}\n                  />\n                </ToolbarItem>\n              )}\n              {filterOptions.map(({ id, selected }) => this.renderSelectFilter({ id, selected }))}\n            </ToolbarGroup>\n          </ToolbarToggleGroup>\n        </ToolbarContent>\n      </PfToolbar>\n    );\n  }\n}\n\n/**\n * Prop types\n *\n * @type {{viewId: string, t: Function, activeFilters: Set, hardFilterReset: boolean, query: object,\n *     currentFilter: string, isDisabled: boolean, filterOptions: Array}}\n */\nToolbar.propTypes = {\n  query: PropTypes.shape({\n    [RHSM_API_QUERY_TYPES.SLA]: PropTypes.string,\n    [RHSM_API_QUERY_TYPES.USAGE]: PropTypes.string\n  }),\n  activeFilters: PropTypes.instanceOf(Set),\n  currentFilter: PropTypes.oneOf([RHSM_API_QUERY_TYPES.SLA, RHSM_API_QUERY_TYPES.USAGE]),\n  filterOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      filterType: PropTypes.oneOf(['select']),\n      id: PropTypes.oneOf([RHSM_API_QUERY_TYPES.SLA, RHSM_API_QUERY_TYPES.USAGE]),\n      selected: PropTypes.bool\n    })\n  ),\n  hardFilterReset: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  t: PropTypes.func,\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{viewId: string, t: translate, activeFilters: Set, hardFilterReset: boolean, query: object,\n *     currentFilter: string, isDisabled: boolean, filterOptions: Array}}\n */\nToolbar.defaultProps = {\n  query: {},\n  activeFilters: new Set(),\n  currentFilter: null,\n  filterOptions: [\n    {\n      id: RHSM_API_QUERY_TYPES.SLA,\n      filterType: 'select'\n    },\n    {\n      id: RHSM_API_QUERY_TYPES.USAGE,\n      filterType: 'select',\n      selected: true\n    }\n  ],\n  hardFilterReset: false,\n  isDisabled: helpers.UI_DISABLED_TOOLBAR,\n  t: translate,\n  viewId: 'toolbar'\n};\n\n/**\n * Apply state to props.\n *\n * @param {object} state\n * @param {object} state.toolbar\n * @param {object} state.view\n * @param {object} props\n * @param {string} props.query\n * @param {string} props.viewId\n * @returns {object}\n */\nconst mapStateToProps = ({ toolbar, view }, { query: initialQuery, viewId }) => ({\n  ...toolbar.filters?.[viewId],\n  query: view.query?.[viewId] || initialQuery\n});\n\nconst ConnectedToolbar = connect(mapStateToProps)(Toolbar);\n\nexport { ConnectedToolbar as default, ConnectedToolbar, Toolbar };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, AlertActionCloseButton, AlertVariant, Button } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\nimport _isEqual from 'lodash/isEqual';\nimport { apiQueries, connect, reduxActions, reduxSelectors } from '../../redux';\nimport { translate } from '../i18n/i18n';\nimport { dateHelpers, helpers } from '../../common';\nimport { RHSM_API_QUERY_GRANULARITY_TYPES as GRANULARITY_TYPES, RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\n\n/**\n * Render banner messages.\n *\n * @augments React.Component\n */\nclass BannerMessages extends React.Component {\n  state = {};\n\n  componentDidMount() {\n    this.onUpdateData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { query, productId } = this.props;\n\n    if (productId !== prevProps.productId || !_isEqual(query, prevProps.query)) {\n      this.onUpdateData();\n    }\n  }\n\n  /**\n   * Call the RHSM APIs, apply filters.\n   *\n   * @event onUpdateGraphData\n   */\n  onUpdateData = () => {\n    const { getMessageReports, productId, query } = this.props;\n    const { graphTallyQuery } = apiQueries.parseRhsmQuery(query);\n\n    if (productId) {\n      const { startDate, endDate } = dateHelpers.getRangedDateTime('CURRENT');\n      const updatedGraphQuery = {\n        ...graphTallyQuery,\n        [RHSM_API_QUERY_TYPES.GRANULARITY]: GRANULARITY_TYPES.DAILY,\n        [RHSM_API_QUERY_TYPES.START_DATE]: startDate.toISOString(),\n        [RHSM_API_QUERY_TYPES.END_DATE]: endDate.toISOString()\n      };\n\n      getMessageReports(productId, updatedGraphQuery);\n    }\n  };\n\n  /**\n   * Apply messages' configuration to alerts.\n   *\n   * @returns {Node}\n   */\n  renderAlerts() {\n    const { state } = this;\n    const { appMessages, messages } = this.props;\n    const updatedMessages = [];\n\n    if (messages.length) {\n      Object.entries(appMessages).forEach(([key, value]) => {\n        if (state[key] !== true && value === true) {\n          const message = messages.find(({ id }) => id === key);\n\n          if (message) {\n            updatedMessages.push({\n              key,\n              ...message\n            });\n          }\n        }\n      });\n    }\n\n    return updatedMessages.map(({ key, message, title, variant = AlertVariant.info }) => {\n      const actionClose = <AlertActionCloseButton onClose={() => this.setState({ [key]: true })} />;\n\n      return (\n        <Alert actionClose={actionClose} key={key} title={title} variant={variant}>\n          {message}\n        </Alert>\n      );\n    });\n  }\n\n  /**\n   * Render a banner messages container.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const alerts = this.renderAlerts();\n\n    if (alerts.length) {\n      return <div className=\"curiosity-banner-messages\">{alerts}</div>;\n    }\n\n    return null;\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{appMessages: object, productId: string, getMessageReports: Function, query: object, messages: Array}}\n */\nBannerMessages.propTypes = {\n  appMessages: PropTypes.object.isRequired,\n  getMessageReports: PropTypes.func,\n  query: PropTypes.object,\n  messages: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.node.isRequired,\n      message: PropTypes.node.isRequired,\n      variant: PropTypes.oneOf([...Object.values(AlertVariant)])\n    })\n  ),\n  productId: PropTypes.string.isRequired\n};\n\n/**\n * Default props.\n *\n * @type {{getMessageReports: Function, query: object, messages: Array}}\n */\nBannerMessages.defaultProps = {\n  getMessageReports: helpers.noop,\n  query: {},\n  messages: [\n    {\n      id: 'cloudigradeMismatch',\n      title: translate('curiosity-banner.dataMismatchTitle'),\n      message: translate(\n        'curiosity-banner.dataMismatchMessage',\n        {\n          context: helpers.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS !== '' && 'cloudigradeMismatch',\n          appName: helpers.UI_DISPLAY_NAME\n        },\n        [\n          <Button\n            isInline\n            component=\"a\"\n            variant=\"link\"\n            icon={<ExternalLinkAltIcon />}\n            iconPosition=\"right\"\n            target=\"_blank\"\n            href={helpers.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS}\n          />\n        ]\n      )\n    }\n  ]\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  getMessageReports: (id, query) => dispatch(reduxActions.rhsm.getMessageReports(id, query))\n});\n\n/**\n * Create a selector from applied state, props.\n *\n * @type {Function}\n */\nconst makeMapStateToProps = reduxSelectors.appMessages.makeAppMessages();\n\nconst ConnectedBannerMessages = connect(makeMapStateToProps, mapDispatchToProps)(BannerMessages);\n\nexport { ConnectedBannerMessages as default, ConnectedBannerMessages, BannerMessages };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Tooltip, TooltipPosition } from '@patternfly/react-core';\nimport InfoCircleIcon from '@patternfly/react-icons/dist/js/icons/info-circle-icon';\nimport { PageLayout, PageHeader, PageSection, PageToolbar, PageMessages } from '../pageLayout/pageLayout';\nimport { apiQueries } from '../../redux';\nimport { ConnectedGraphCard, GraphCard } from '../graphCard/graphCard';\nimport { ConnectedToolbar, Toolbar } from '../toolbar/toolbar';\nimport { ConnectedInventoryList, InventoryList } from '../inventoryList/inventoryList';\nimport { helpers } from '../../common';\nimport BannerMessages from '../bannerMessages/bannerMessages';\nimport { ToolbarFieldGranularity } from '../toolbar/toolbarFieldGranularity';\nimport InventoryTabs, { InventoryTab } from '../inventoryTabs/inventoryTabs';\nimport {\n  ConnectedInventorySubscriptions,\n  InventorySubscriptions\n} from '../inventorySubscriptions/inventorySubscriptions';\nimport {\n  RHSM_API_QUERY_GRANULARITY_TYPES as GRANULARITY_TYPES,\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_SORT_TYPES,\n  RHSM_API_QUERY_SUBSCRIPTIONS_SORT_TYPES,\n  RHSM_API_QUERY_TYPES\n} from '../../types/rhsmApiTypes';\nimport { GuestsList } from '../guestsList/guestsList';\nimport { translate } from '../i18n/i18n';\n\n/**\n * ToDo: base for default product layouts, add additional props for various toolbars\n * Next steps include...\n * Consider being able to pass customized toolbars for GraphCard and the\n * various Inventory displays. Have to evaluate how to handle the global toolbar, one\n * consideration is creating optional widgets with self-contained state update ability\n * based off of context/props/etc.\n *\n * Moving existing products to this layout, or maintaining them \"as is\", then renaming and\n * relocating them to this directory if they've been customized beyond a basic layout.\n */\n/**\n * Display a product.\n *\n * @param {object} props\n * @param {object} props.productConfig\n * @param {object} props.routeDetail\n * @param {Function} props.t\n * @param {Node|boolean} props.toolbarGraph\n * @param {boolean} props.toolbarGraphDescription\n * @param {Node|boolean} props.toolbarProduct\n * @returns {Node}\n */\nconst ProductView = ({ productConfig, routeDetail, t, toolbarGraph, toolbarGraphDescription, toolbarProduct }) => {\n  const {\n    graphTallyQuery,\n    inventoryHostsQuery,\n    inventorySubscriptionsQuery,\n    query,\n    initialToolbarFilters,\n    initialGraphFilters,\n    initialGraphSettings,\n    initialGuestsFilters,\n    initialInventoryFilters,\n    initialInventorySettings,\n    initialSubscriptionsInventoryFilters\n  } = productConfig;\n\n  const {\n    query: initialQuery,\n    graphTallyQuery: initialGraphTallyQuery,\n    inventoryHostsQuery: initialInventoryHostsQuery,\n    inventorySubscriptionsQuery: initialInventorySubscriptionsQuery,\n    toolbarQuery: initialToolbarQuery\n  } = apiQueries.parseRhsmQuery(query, { graphTallyQuery, inventoryHostsQuery, inventorySubscriptionsQuery });\n\n  const { pathParameter: productId, productParameter: productLabel, viewParameter: viewId } = routeDetail;\n\n  if (!productId || !viewId) {\n    return null;\n  }\n\n  let graphCardTooltip = null;\n\n  if (toolbarGraphDescription) {\n    graphCardTooltip = (\n      <Tooltip\n        content={<p>{t('curiosity-graph.cardHeadingDescription', { context: productId })}</p>}\n        position={TooltipPosition.top}\n        enableFlip={false}\n        distance={5}\n        entryDelay={100}\n        exitDelay={0}\n      >\n        <sup className=\"curiosity-icon__info\">\n          <InfoCircleIcon />\n        </sup>\n      </Tooltip>\n    );\n  }\n\n  const graphCardTitle = (\n    <React.Fragment>\n      {t('curiosity-graph.cardHeading', { context: productId })}\n      {graphCardTooltip}\n    </React.Fragment>\n  );\n\n  return (\n    <PageLayout>\n      <PageHeader productLabel={productLabel} includeTour>\n        {t(`curiosity-view.title`, { appName: helpers.UI_DISPLAY_NAME, context: productLabel })}\n      </PageHeader>\n      <PageMessages>\n        <BannerMessages productId={productId} viewId={viewId} query={initialQuery} />\n      </PageMessages>\n      <PageToolbar>\n        {(React.isValidElement(toolbarProduct) && toolbarProduct) ||\n          (toolbarProduct !== false && (\n            <ConnectedToolbar\n              filterOptions={initialToolbarFilters}\n              productId={productId}\n              query={initialToolbarQuery}\n              viewId={viewId}\n            />\n          ))}\n      </PageToolbar>\n      <PageSection>\n        <ConnectedGraphCard\n          key={`graph_${productId}`}\n          filterGraphData={initialGraphFilters}\n          settings={initialGraphSettings}\n          query={initialGraphTallyQuery}\n          productId={productId}\n          viewId={viewId}\n          cardTitle={graphCardTitle}\n          productLabel={productLabel}\n        >\n          {(React.isValidElement(toolbarGraph) && toolbarGraph) ||\n            (toolbarGraph !== false && (\n              <ToolbarFieldGranularity\n                viewId={viewId}\n                value={initialGraphTallyQuery[RHSM_API_QUERY_TYPES.GRANULARITY]}\n              />\n            ))}\n        </ConnectedGraphCard>\n      </PageSection>\n      <PageSection>\n        <InventoryTabs key={`inventory_${productId}`} productId={productId}>\n          <InventoryTab\n            key={`inventory_hosts_${productId}`}\n            title={t('curiosity-inventory.tabHosts', { context: ['noInstances', productId] })}\n          >\n            <ConnectedInventoryList\n              key={`inv_${productId}`}\n              filterGuestsData={initialGuestsFilters}\n              filterInventoryData={initialInventoryFilters}\n              productId={productId}\n              settings={initialInventorySettings}\n              query={initialInventoryHostsQuery}\n              viewId={viewId}\n            />\n          </InventoryTab>\n          {!helpers.UI_DISABLED_TABLE_SUBSCRIPTIONS && (\n            <InventoryTab\n              key={`inventory_subs_${productId}`}\n              title={t('curiosity-inventory.tabSubscriptions', { context: productId })}\n            >\n              <ConnectedInventorySubscriptions\n                key={`subs_${productId}`}\n                filterInventoryData={initialSubscriptionsInventoryFilters}\n                productId={productId}\n                query={initialInventorySubscriptionsQuery}\n                viewId={viewId}\n              />\n            </InventoryTab>\n          )}\n        </InventoryTabs>\n      </PageSection>\n    </PageLayout>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{t: translate, toolbarGraph: (Node|boolean), toolbarGraphDescription: boolean, routeDetail: object,\n *    productConfig: object, toolbarProduct: (Node|boolean)}}\n */\nProductView.propTypes = {\n  productConfig: PropTypes.shape({\n    graphTallyQuery: PropTypes.shape({\n      [RHSM_API_QUERY_TYPES.GRANULARITY]: PropTypes.oneOf([...Object.values(GRANULARITY_TYPES)])\n    }),\n    inventoryHostsQuery: PropTypes.shape({\n      [RHSM_API_QUERY_TYPES.LIMIT]: PropTypes.number,\n      [RHSM_API_QUERY_TYPES.OFFSET]: PropTypes.number,\n      [RHSM_API_QUERY_TYPES.SORT]: PropTypes.oneOf([...Object.values(RHSM_API_QUERY_SORT_TYPES)]),\n      [RHSM_API_QUERY_TYPES.DIRECTION]: PropTypes.oneOf([...Object.values(SORT_DIRECTION_TYPES)])\n    }),\n    inventorySubscriptionsQuery: PropTypes.shape({\n      [RHSM_API_QUERY_TYPES.LIMIT]: PropTypes.number,\n      [RHSM_API_QUERY_TYPES.OFFSET]: PropTypes.number,\n      [RHSM_API_QUERY_TYPES.SORT]: PropTypes.oneOf([...Object.values(RHSM_API_QUERY_SUBSCRIPTIONS_SORT_TYPES)]),\n      [RHSM_API_QUERY_TYPES.DIRECTION]: PropTypes.oneOf([...Object.values(SORT_DIRECTION_TYPES)])\n    }),\n    query: PropTypes.shape({\n      [RHSM_API_QUERY_TYPES.START_DATE]: PropTypes.string,\n      [RHSM_API_QUERY_TYPES.END_DATE]: PropTypes.string\n    }),\n    initialToolbarFilters: Toolbar.propTypes.filterOptions,\n    initialGraphFilters: GraphCard.propTypes.filterGraphData,\n    initialGraphSettings: GraphCard.propTypes.settings,\n    initialGuestsFilters: GuestsList.propTypes.filterGuestsData,\n    initialInventoryFilters: InventoryList.propTypes.filterInventoryData,\n    initialInventorySettings: InventoryList.propTypes.settings,\n    initialSubscriptionsInventoryFilters: InventorySubscriptions.propTypes.filterInventoryData\n  }).isRequired,\n  routeDetail: PropTypes.shape({\n    pathParameter: PropTypes.string,\n    productParameter: PropTypes.string,\n    viewParameter: PropTypes.string\n  }).isRequired,\n  t: PropTypes.func,\n  toolbarGraph: PropTypes.oneOfType([PropTypes.node, PropTypes.bool]),\n  toolbarGraphDescription: PropTypes.bool,\n  toolbarProduct: PropTypes.oneOfType([PropTypes.node, PropTypes.bool])\n};\n\n/**\n * Default props.\n *\n * @type {{t: translate, toolbarGraph: (Node|boolean), toolbarGraphDescription: boolean, toolbarProduct: (Node|boolean)}}\n */\nProductView.defaultProps = {\n  t: translate,\n  toolbarGraph: null,\n  toolbarGraphDescription: false,\n  toolbarProduct: null\n};\n\nexport { ProductView as default, ProductView };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { reduxTypes, store, useSelector } from '../../redux';\nimport { Select, SelectPosition } from '../form/select';\nimport { RHSM_API_QUERY_GRANULARITY_TYPES as FIELD_TYPES, RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { dateHelpers } from '../../common';\nimport { translate } from '../i18n/i18n';\n\n/**\n * Select field options.\n *\n * @type {{title: (string|Node), value: string, selected: boolean}[]}\n */\nconst toolbarFieldOptions = dateHelpers.getRangedMonthDateTime().listDateTimeRanges.map(dateTime => ({\n  ...dateTime,\n  selected: false\n}));\n\n/**\n * Display a granularity field with options.\n *\n * @fires onSelect\n * @param {object} props\n * @param {Array} props.options\n * @param {Function} props.t\n * @param {string} props.value\n * @param {string} props.viewId\n * @returns {Node}\n */\nconst ToolbarFieldRangedMonthly = ({ options, t, value, viewId }) => {\n  const updatedValue = useSelector(({ view }) => view.query?.[viewId]?.[RHSM_API_QUERY_TYPES.START_DATE], value);\n\n  const updatedOptions = options.map(option => ({\n    ...option,\n    selected: option.title === updatedValue || option.value.startDate.toISOString() === updatedValue\n  }));\n\n  /**\n   * On select, dispatch type.\n   *\n   * @event onSelect\n   * @param {object} event\n   * @returns {void}\n   */\n  const onSelect = event => {\n    const { startDate, endDate } = event.value;\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_CLEAR_INVENTORY_LIST,\n        viewId\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.GRANULARITY],\n        viewId,\n        [RHSM_API_QUERY_TYPES.GRANULARITY]: FIELD_TYPES.DAILY\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.START_DATE],\n        viewId,\n        [RHSM_API_QUERY_TYPES.START_DATE]: startDate.toISOString()\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.END_DATE],\n        viewId,\n        [RHSM_API_QUERY_TYPES.END_DATE]: endDate.toISOString()\n      }\n    ]);\n  };\n\n  return (\n    <Select\n      aria-label={t('curiosity-toolbar.placeholder', { context: 'granularity' })}\n      onSelect={onSelect}\n      options={updatedOptions}\n      placeholder={t('curiosity-toolbar.placeholder', { context: 'granularity' })}\n      position={SelectPosition.right}\n      maxHeight={250}\n      data-test={ToolbarFieldRangedMonthly.defaultProps.viewId}\n    />\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{viewId: string, t: Function, options: Array, value: string}}\n */\nToolbarFieldRangedMonthly.propTypes = {\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.node,\n      value: PropTypes.any,\n      selected: PropTypes.bool\n    })\n  ),\n  t: PropTypes.func,\n  value: PropTypes.string,\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{viewId: string, t: translate, options: Array, value: string}}\n */\nToolbarFieldRangedMonthly.defaultProps = {\n  options: toolbarFieldOptions,\n  t: translate,\n  value: translate('curiosity-toolbar.granularityRange', { context: 'current' }),\n  viewId: 'toolbarFieldRangeGranularity'\n};\n\nexport { ToolbarFieldRangedMonthly as default, ToolbarFieldRangedMonthly, toolbarFieldOptions };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  chart_color_blue_100 as chartColorBlueLight,\n  chart_color_blue_300 as chartColorBlueDark,\n  chart_color_cyan_100 as chartColorCyanLight,\n  chart_color_cyan_300 as chartColorCyanDark\n} from '@patternfly/react-tokens';\nimport { Label as PfLabel } from '@patternfly/react-core';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport numbro from 'numbro';\nimport {\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_GRANULARITY_TYPES as GRANULARITY_TYPES,\n  RHSM_API_QUERY_TYPES,\n  RHSM_API_QUERY_SORT_TYPES\n} from '../../types/rhsmApiTypes';\nimport { ProductView } from './productView';\nimport { translate } from '../i18n/i18n';\nimport { dateHelpers } from '../../common';\nimport { ToolbarFieldRangedMonthly } from '../toolbar/toolbarFieldRangedMonthly';\n\n/**\n * An OpenShift Dedicated configured view.\n *\n * @param {object} props\n * @param {object} props.productConfig\n * @param {object} props.routeDetail\n * @returns {Node}\n */\nconst ProductViewOpenShiftDedicated = ({ productConfig, routeDetail }) => {\n  const { viewParameter: viewId } = routeDetail;\n  const { [RHSM_API_QUERY_TYPES.START_DATE]: startDate } = productConfig.graphTallyQuery;\n\n  return (\n    <ProductView\n      routeDetail={routeDetail}\n      productConfig={productConfig}\n      toolbarProduct={false}\n      toolbarGraph={<ToolbarFieldRangedMonthly value={startDate} viewId={viewId} />}\n      toolbarGraphDescription\n    />\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{routeDetail: object, productConfig:object}}\n */\nProductViewOpenShiftDedicated.propTypes = {\n  productConfig: ProductView.propTypes.productConfig,\n  routeDetail: PropTypes.shape({\n    pathParameter: PropTypes.string,\n    productParameter: PropTypes.string,\n    viewParameter: PropTypes.string\n  }).isRequired\n};\n\n/**\n * Default props.\n *\n * @type {{ productConfig: object }}\n */\nProductViewOpenShiftDedicated.defaultProps = {\n  productConfig: {\n    query: {\n      [RHSM_API_QUERY_TYPES.START_DATE]: dateHelpers.getRangedMonthDateTime('current').value.startDate.toISOString(),\n      [RHSM_API_QUERY_TYPES.END_DATE]: dateHelpers.getRangedMonthDateTime('current').value.endDate.toISOString()\n    },\n    graphTallyQuery: {\n      [RHSM_API_QUERY_TYPES.GRANULARITY]: GRANULARITY_TYPES.DAILY\n    },\n    inventoryHostsQuery: {\n      [RHSM_API_QUERY_TYPES.SORT]: RHSM_API_QUERY_SORT_TYPES.LAST_SEEN,\n      [RHSM_API_QUERY_TYPES.DIRECTION]: SORT_DIRECTION_TYPES.DESCENDING,\n      [RHSM_API_QUERY_TYPES.LIMIT]: 100,\n      [RHSM_API_QUERY_TYPES.OFFSET]: 0\n    },\n    initialGraphFilters: [\n      {\n        id: 'coreHours',\n        fill: chartColorBlueLight.value,\n        stroke: chartColorBlueDark.value,\n        color: chartColorBlueDark.value,\n        chartType: 'line',\n        isStacked: false,\n        yAxisUseDataSet: true\n      },\n      {\n        id: 'instanceHours',\n        fill: chartColorCyanLight.value,\n        stroke: chartColorCyanDark.value,\n        color: chartColorCyanDark.value,\n        chartType: 'line',\n        isStacked: false,\n        yAxisUseDataSet: true\n      }\n    ],\n    initialGraphSettings: {\n      actionDisplay: data => {\n        const {\n          meta: { totalCoreHours }\n        } = data;\n        let displayContent;\n\n        if (totalCoreHours) {\n          displayContent = translate('curiosity-graph.card-action-total', {\n            context: 'coreHours',\n            total: numbro(totalCoreHours)\n              .format({ average: true, mantissa: 2, trimMantissa: true, lowPrecision: false })\n              .toUpperCase()\n          });\n        }\n\n        return <div className=\"curiosity-usage-graph__total\">{displayContent || null}</div>;\n      }\n    },\n    initialInventoryFilters: [\n      {\n        id: 'displayName',\n        cell: data => {\n          const { displayName = {}, inventoryId = {}, numberOfGuests = {} } = data;\n\n          if (!inventoryId.value) {\n            return displayName.value;\n          }\n\n          const updatedDisplayName = displayName.value || inventoryId.value;\n\n          return (\n            <React.Fragment>\n              {updatedDisplayName}{' '}\n              {(numberOfGuests.value &&\n                translate('curiosity-inventory.label', { context: 'numberOfGuests', count: numberOfGuests.value }, [\n                  <PfLabel color=\"blue\" />\n                ])) ||\n                ''}\n            </React.Fragment>\n          );\n        },\n        isSortable: true\n      },\n      {\n        id: 'coreHours',\n        cell: data =>\n          (typeof data?.coreHours?.value === 'number' && Number.parseFloat(data?.coreHours?.value).toFixed(2)) ||\n          `0.00`,\n        isSortable: true,\n        isWrappable: true,\n        cellWidth: 15\n      },\n      {\n        id: 'instanceHours',\n        cell: data =>\n          (typeof data?.instanceHours?.value === 'number' &&\n            Number.parseFloat(data?.instanceHours?.value).toFixed(2)) ||\n          `0.00`,\n        isSortable: true,\n        isWrappable: true,\n        cellWidth: 15\n      },\n      {\n        id: 'lastSeen',\n        header: translate('curiosity-inventory.header', { context: 'lastSeen_OpenShift-dedicated-metrics' }),\n        cell: data => (data?.lastSeen?.value && <DateFormat date={data?.lastSeen?.value} />) || '',\n        isSortable: true,\n        isWrappable: true,\n        cellWidth: 15\n      }\n    ],\n    initialToolbarFilters: undefined\n  }\n};\n\nexport { ProductViewOpenShiftDedicated as default, ProductViewOpenShiftDedicated };\n","\"use strict\";\nexports.__esModule = true;\nrequire('./tabs.css');\nexports.default = {\n  \"modifiers\": {\n    \"fill\": \"pf-m-fill\",\n    \"scrollable\": \"pf-m-scrollable\",\n    \"secondary\": \"pf-m-secondary\",\n    \"noBorderBottom\": \"pf-m-no-border-bottom\",\n    \"box\": \"pf-m-box\",\n    \"vertical\": \"pf-m-vertical\",\n    \"current\": \"pf-m-current\",\n    \"colorSchemeLight_300\": \"pf-m-color-scheme--light-300\",\n    \"expandable\": \"pf-m-expandable\",\n    \"nonExpandable\": \"pf-m-non-expandable\",\n    \"expandableOnSm\": \"pf-m-expandable-on-sm\",\n    \"nonExpandableOnSm\": \"pf-m-non-expandable-on-sm\",\n    \"expandableOnMd\": \"pf-m-expandable-on-md\",\n    \"nonExpandableOnMd\": \"pf-m-non-expandable-on-md\",\n    \"expandableOnLg\": \"pf-m-expandable-on-lg\",\n    \"nonExpandableOnLg\": \"pf-m-non-expandable-on-lg\",\n    \"expandableOnXl\": \"pf-m-expandable-on-xl\",\n    \"nonExpandableOnXl\": \"pf-m-non-expandable-on-xl\",\n    \"expandableOn_2xl\": \"pf-m-expandable-on-2xl\",\n    \"nonExpandableOn_2xl\": \"pf-m-non-expandable-on-2xl\",\n    \"expanded\": \"pf-m-expanded\",\n    \"pageInsets\": \"pf-m-page-insets\",\n    \"insetNone\": \"pf-m-inset-none\",\n    \"insetSm\": \"pf-m-inset-sm\",\n    \"insetMd\": \"pf-m-inset-md\",\n    \"insetLg\": \"pf-m-inset-lg\",\n    \"insetXl\": \"pf-m-inset-xl\",\n    \"inset_2xl\": \"pf-m-inset-2xl\",\n    \"insetNoneOnSm\": \"pf-m-inset-none-on-sm\",\n    \"insetSmOnSm\": \"pf-m-inset-sm-on-sm\",\n    \"insetMdOnSm\": \"pf-m-inset-md-on-sm\",\n    \"insetLgOnSm\": \"pf-m-inset-lg-on-sm\",\n    \"insetXlOnSm\": \"pf-m-inset-xl-on-sm\",\n    \"inset_2xlOnSm\": \"pf-m-inset-2xl-on-sm\",\n    \"insetNoneOnMd\": \"pf-m-inset-none-on-md\",\n    \"insetSmOnMd\": \"pf-m-inset-sm-on-md\",\n    \"insetMdOnMd\": \"pf-m-inset-md-on-md\",\n    \"insetLgOnMd\": \"pf-m-inset-lg-on-md\",\n    \"insetXlOnMd\": \"pf-m-inset-xl-on-md\",\n    \"inset_2xlOnMd\": \"pf-m-inset-2xl-on-md\",\n    \"insetNoneOnLg\": \"pf-m-inset-none-on-lg\",\n    \"insetSmOnLg\": \"pf-m-inset-sm-on-lg\",\n    \"insetMdOnLg\": \"pf-m-inset-md-on-lg\",\n    \"insetLgOnLg\": \"pf-m-inset-lg-on-lg\",\n    \"insetXlOnLg\": \"pf-m-inset-xl-on-lg\",\n    \"inset_2xlOnLg\": \"pf-m-inset-2xl-on-lg\",\n    \"insetNoneOnXl\": \"pf-m-inset-none-on-xl\",\n    \"insetSmOnXl\": \"pf-m-inset-sm-on-xl\",\n    \"insetMdOnXl\": \"pf-m-inset-md-on-xl\",\n    \"insetLgOnXl\": \"pf-m-inset-lg-on-xl\",\n    \"insetXlOnXl\": \"pf-m-inset-xl-on-xl\",\n    \"inset_2xlOnXl\": \"pf-m-inset-2xl-on-xl\",\n    \"insetNoneOn_2xl\": \"pf-m-inset-none-on-2xl\",\n    \"insetSmOn_2xl\": \"pf-m-inset-sm-on-2xl\",\n    \"insetMdOn_2xl\": \"pf-m-inset-md-on-2xl\",\n    \"insetLgOn_2xl\": \"pf-m-inset-lg-on-2xl\",\n    \"insetXlOn_2xl\": \"pf-m-inset-xl-on-2xl\",\n    \"inset_2xlOn_2xl\": \"pf-m-inset-2xl-on-2xl\"\n  },\n  \"tabs\": \"pf-c-tabs\",\n  \"tabsItem\": \"pf-c-tabs__item\",\n  \"tabsItemIcon\": \"pf-c-tabs__item-icon\",\n  \"tabsItemText\": \"pf-c-tabs__item-text\",\n  \"tabsLink\": \"pf-c-tabs__link\",\n  \"tabsList\": \"pf-c-tabs__list\",\n  \"tabsScrollButton\": \"pf-c-tabs__scroll-button\",\n  \"tabsToggle\": \"pf-c-tabs__toggle\",\n  \"tabsToggleButton\": \"pf-c-tabs__toggle-button\",\n  \"tabsToggleIcon\": \"pf-c-tabs__toggle-icon\"\n};","\"use strict\";\nexports.__esModule = true;\nrequire('./input-group.css');\nexports.default = {\n  \"formControl\": \"pf-c-form-control\",\n  \"inputGroup\": \"pf-c-input-group\",\n  \"inputGroupText\": \"pf-c-input-group__text\",\n  \"modifiers\": {\n    \"plain\": \"pf-m-plain\"\n  }\n};","\"use strict\";\nexports.__esModule = true;\nrequire('./tab-content.css');\nexports.default = {\n  \"modifiers\": {\n    \"light_300\": \"pf-m-light-300\",\n    \"padding\": \"pf-m-padding\"\n  },\n  \"tabContent\": \"pf-c-tab-content\",\n  \"tabContentBody\": \"pf-c-tab-content__body\"\n};","\"use strict\"\nexports.__esModule = true;\nexports.InfoCircleIconConfig = {\n  name: 'InfoCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.InfoCircleIcon = require('../createIcon').createIcon(exports.InfoCircleIconConfig);\nexports[\"default\"] = exports.InfoCircleIcon;","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Card/card';\nimport { CardContext } from './Card';\nimport { Button } from '../Button';\nimport AngleRightIcon from \"@patternfly/react-icons/dist/esm/icons/angle-right-icon\";\nexport const CardHeader = (_a) => {\n    var { children = null, className = '', id, onExpand, toggleButtonProps, isToggleRightAligned } = _a, props = __rest(_a, [\"children\", \"className\", \"id\", \"onExpand\", \"toggleButtonProps\", \"isToggleRightAligned\"]);\n    return (React.createElement(CardContext.Consumer, null, ({ cardId }) => {\n        const cardHeaderToggle = (React.createElement(\"div\", { className: css(styles.cardHeaderToggle) },\n            React.createElement(Button, Object.assign({ variant: \"plain\", type: \"button\", onClick: evt => {\n                    onExpand(evt, cardId);\n                } }, toggleButtonProps),\n                React.createElement(\"span\", { className: css(styles.cardHeaderToggleIcon) },\n                    React.createElement(AngleRightIcon, { \"aria-hidden\": \"true\" })))));\n        return (React.createElement(\"div\", Object.assign({ className: css(styles.cardHeader, isToggleRightAligned && styles.modifiers.toggleRight, className), id: id }, props),\n            onExpand && !isToggleRightAligned && cardHeaderToggle,\n            children,\n            onExpand && isToggleRightAligned && cardHeaderToggle));\n    }));\n};\nCardHeader.displayName = 'CardHeader';\n//# sourceMappingURL=CardHeader.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Card/card';\nimport { css } from '@patternfly/react-styles';\nexport const CardFooter = (_a) => {\n    var { children = null, className = '', component = 'div' } = _a, props = __rest(_a, [\"children\", \"className\", \"component\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({ className: css(styles.cardFooter, className) }, props), children));\n};\nCardFooter.displayName = 'CardFooter';\n//# sourceMappingURL=CardFooter.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/FormControl/form-control';\nimport { css } from '@patternfly/react-styles';\nimport { ValidatedOptions } from '../../helpers/constants';\nimport { debounce, trimLeft, canUseDOM } from '../../helpers/util';\nexport var TextInputTypes;\n(function (TextInputTypes) {\n    TextInputTypes[\"text\"] = \"text\";\n    TextInputTypes[\"date\"] = \"date\";\n    TextInputTypes[\"datetimeLocal\"] = \"datetime-local\";\n    TextInputTypes[\"email\"] = \"email\";\n    TextInputTypes[\"month\"] = \"month\";\n    TextInputTypes[\"number\"] = \"number\";\n    TextInputTypes[\"password\"] = \"password\";\n    TextInputTypes[\"search\"] = \"search\";\n    TextInputTypes[\"tel\"] = \"tel\";\n    TextInputTypes[\"time\"] = \"time\";\n    TextInputTypes[\"url\"] = \"url\";\n})(TextInputTypes || (TextInputTypes = {}));\nexport class TextInputBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.inputRef = React.createRef();\n        this.handleChange = (event) => {\n            if (this.props.onChange) {\n                this.props.onChange(event.currentTarget.value, event);\n            }\n        };\n        this.handleResize = () => {\n            const inputRef = this.props.innerRef || this.inputRef;\n            if (inputRef && inputRef.current) {\n                trimLeft(inputRef.current, String(this.props.value));\n            }\n        };\n        this.restoreText = () => {\n            const inputRef = this.props.innerRef || this.inputRef;\n            // restore the value\n            inputRef.current.value = String(this.props.value);\n            // make sure we still see the rightmost value to preserve cursor click position\n            inputRef.current.scrollLeft = inputRef.current.scrollWidth;\n        };\n        this.onFocus = (event) => {\n            const { isLeftTruncated, onFocus } = this.props;\n            if (isLeftTruncated) {\n                this.restoreText();\n            }\n            onFocus && onFocus(event);\n        };\n        this.onBlur = (event) => {\n            const { isLeftTruncated, onBlur } = this.props;\n            if (isLeftTruncated) {\n                this.handleResize();\n            }\n            onBlur && onBlur(event);\n        };\n        if (!props.id && !props['aria-label'] && !props['aria-labelledby']) {\n            // eslint-disable-next-line no-console\n            console.error('Text input:', 'Text input requires either an id or aria-label to be specified');\n        }\n    }\n    componentDidMount() {\n        if (this.props.isLeftTruncated) {\n            this.handleResize();\n            if (canUseDOM) {\n                window.addEventListener('resize', debounce(this.handleResize, 250));\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.props.isLeftTruncated) {\n            if (canUseDOM) {\n                window.removeEventListener('resize', debounce(this.handleResize, 250));\n            }\n        }\n    }\n    render() {\n        const _a = this.props, { innerRef, className, type, value, validated, \n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        onChange, onFocus, onBlur, isLeftTruncated, \n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        isReadOnly, isRequired, isDisabled, iconVariant, customIconUrl, customIconDimensions } = _a, props = __rest(_a, [\"innerRef\", \"className\", \"type\", \"value\", \"validated\", \"onChange\", \"onFocus\", \"onBlur\", \"isLeftTruncated\", \"isReadOnly\", \"isRequired\", \"isDisabled\", \"iconVariant\", \"customIconUrl\", \"customIconDimensions\"]);\n        const customIconStyle = {};\n        if (customIconUrl) {\n            customIconStyle.backgroundImage = `url('${customIconUrl}')`;\n        }\n        if (customIconDimensions) {\n            customIconStyle.backgroundSize = customIconDimensions;\n        }\n        return (React.createElement(\"input\", Object.assign({}, props, { onFocus: this.onFocus, onBlur: this.onBlur, className: css(styles.formControl, validated === ValidatedOptions.success && styles.modifiers.success, validated === ValidatedOptions.warning && styles.modifiers.warning, ((iconVariant && iconVariant !== 'search') || customIconUrl) && styles.modifiers.icon, iconVariant && styles.modifiers[iconVariant], className), onChange: this.handleChange, type: type, value: value, \"aria-invalid\": validated === ValidatedOptions.error, required: isRequired, disabled: isDisabled, readOnly: isReadOnly, ref: innerRef || this.inputRef }, ((customIconUrl || customIconDimensions) && { style: customIconStyle }))));\n    }\n}\nTextInputBase.displayName = 'TextInputBase';\nTextInputBase.defaultProps = {\n    'aria-label': null,\n    className: '',\n    isRequired: false,\n    validated: 'default',\n    isDisabled: false,\n    isReadOnly: false,\n    type: TextInputTypes.text,\n    isLeftTruncated: false,\n    onChange: () => undefined\n};\nexport const TextInput = React.forwardRef((props, ref) => (React.createElement(TextInputBase, Object.assign({}, props, { innerRef: ref }))));\nTextInput.displayName = 'TextInput';\n//# sourceMappingURL=TextInput.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Card/card';\nexport const CardTitle = (_a) => {\n    var { children = null, className = '', component = 'div' } = _a, props = __rest(_a, [\"children\", \"className\", \"component\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({ className: css(styles.cardTitle, className) }, props), children));\n};\nCardTitle.displayName = 'CardTitle';\n//# sourceMappingURL=CardTitle.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Card/card';\nexport const CardActions = (_a) => {\n    var { children = null, className = '', hasNoOffset = false } = _a, props = __rest(_a, [\"children\", \"className\", \"hasNoOffset\"]);\n    return (React.createElement(\"div\", Object.assign({ className: css(styles.cardActions, hasNoOffset && styles.modifiers.noOffset, className) }, props), children));\n};\nCardActions.displayName = 'CardActions';\n//# sourceMappingURL=CardActions.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nexport const CardHeaderMain = (_a) => {\n    var { children = null, className = '' } = _a, props = __rest(_a, [\"children\", \"className\"]);\n    return (React.createElement(\"div\", Object.assign({ className: className }, props), children));\n};\nCardHeaderMain.displayName = 'CardHeaderMain';\n//# sourceMappingURL=CardHeaderMain.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport React, { Fragment } from 'react';\nimport { Toolbar } from \"@patternfly/react-core/dist/esm/components/Toolbar/Toolbar.js\";\nimport { useOUIAId } from '@patternfly/react-core/';\nimport classNames from 'classnames';\nimport propTypes from 'prop-types';\nimport \"../../TableToolbar/./TableToolbar.css\";\n\nfunction generateCount(results) {\n  if (results > 1 || results < 1) {\n    return \"\".concat(results, \" Results\");\n  } else {\n    return \"\".concat(results, \" Result\");\n  }\n}\n\nvar TableToolbar = function TableToolbar(_ref) {\n  var isFooter = _ref.isFooter,\n      results = _ref.results,\n      className = _ref.className,\n      selected = _ref.selected,\n      children = _ref.children,\n      ouiaId = _ref.ouiaId,\n      _ref$ouiaSafe = _ref.ouiaSafe,\n      ouiaSafe = _ref$ouiaSafe === void 0 ? true : _ref$ouiaSafe,\n      props = _objectWithoutProperties(_ref, [\"isFooter\", \"results\", \"className\", \"selected\", \"children\", \"ouiaId\", \"ouiaSafe\"]);\n\n  var tableToolbarClasses = classNames('ins-c-table__toolbar', _defineProperty({}, \"ins-m-footer\", isFooter), className);\n  var ouiaComponentType = 'RHI/TableToolbar';\n  var ouiaFinalId = useOUIAId(ouiaComponentType, ouiaId, ouiaSafe);\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Toolbar, _extends({\n    className: tableToolbarClasses,\n    \"data-ouia-component-type\": ouiaComponentType,\n    \"data-ouia-component-id\": ouiaFinalId,\n    \"data-ouia-safe\": ouiaSafe\n  }, props), children), (results >= 0 || selected >= 0) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ins-c-table__toolbar-results\"\n  }, results >= 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ins-c-table__toolbar-results-count\"\n  }, \" \", generateCount(results), \" \"), selected >= 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ins-c-table__toolbar-results-selected\"\n  }, \" \", selected, \" Selected \")));\n};\n\nexport default TableToolbar;\nTableToolbar.propTypes = {\n  isFooter: propTypes.bool,\n  results: propTypes.number,\n  children: propTypes.any,\n  className: propTypes.string,\n  selected: propTypes.number,\n  ouiaId: propTypes.string,\n  ouiaSafe: propTypes.bool\n};\nTableToolbar.defaultProps = {\n  isFooter: false\n};","/** The parent <Tabs> component accecesses this component's propeties directly in order to present each Tab */\nexport const Tab = (_props) => null;\nTab.displayName = 'Tab';\n//# sourceMappingURL=Tab.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Tabs/tabs';\nexport const TabTitleText = (_a) => {\n    var { children, className = '' } = _a, props = __rest(_a, [\"children\", \"className\"]);\n    return (React.createElement(\"span\", Object.assign({ className: css(styles.tabsItemText, className) }, props), children));\n};\nTabTitleText.displayName = 'TabTitleText';\n//# sourceMappingURL=TabTitleText.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { getOUIAProps } from '../../helpers';\nexport const TabButton = (_a) => {\n    var { children, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    tabContentRef, ouiaId, ouiaSafe } = _a, props = __rest(_a, [\"children\", \"tabContentRef\", \"ouiaId\", \"ouiaSafe\"]);\n    const Component = (props.href ? 'a' : 'button');\n    return (React.createElement(Component, Object.assign({}, getOUIAProps(TabButton.displayName, ouiaId, ouiaSafe), props), children));\n};\nTabButton.displayName = 'TabButton';\n//# sourceMappingURL=TabButton.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Tabs/tabs';\nimport buttonStyles from '@patternfly/react-styles/css/components/Button/button';\nimport { css } from '@patternfly/react-styles';\nimport AngleLeftIcon from \"@patternfly/react-icons/dist/esm/icons/angle-left-icon\";\nimport AngleRightIcon from \"@patternfly/react-icons/dist/esm/icons/angle-right-icon\";\nimport { getUniqueId, isElementInView, formatBreakpointMods } from '../../helpers/util';\nimport { TabButton } from './TabButton';\nimport { TabContent } from './TabContent';\nimport { TabsContextProvider } from './TabsContext';\nimport { getOUIAProps, getDefaultOUIAId, canUseDOM } from '../../helpers';\nexport var TabsComponent;\n(function (TabsComponent) {\n    TabsComponent[\"div\"] = \"div\";\n    TabsComponent[\"nav\"] = \"nav\";\n})(TabsComponent || (TabsComponent = {}));\nconst variantStyle = {\n    default: '',\n    light300: styles.modifiers.colorSchemeLight_300\n};\nexport class Tabs extends React.Component {\n    constructor(props) {\n        super(props);\n        this.tabList = React.createRef();\n        this.handleScrollButtons = () => {\n            const container = this.tabList.current;\n            if (container && !this.props.isVertical) {\n                // get first element and check if it is in view\n                const overflowOnLeft = !isElementInView(container, container.firstChild, false);\n                // get last element and check if it is in view\n                const overflowOnRight = !isElementInView(container, container.lastChild, false);\n                const showScrollButtons = overflowOnLeft || overflowOnRight;\n                const disableLeftScrollButton = !overflowOnLeft;\n                const disableRightScrollButton = !overflowOnRight;\n                this.setState({\n                    showScrollButtons,\n                    disableLeftScrollButton,\n                    disableRightScrollButton\n                });\n            }\n        };\n        this.scrollLeft = () => {\n            // find first Element that is fully in view on the left, then scroll to the element before it\n            if (this.tabList.current) {\n                const container = this.tabList.current;\n                const childrenArr = Array.from(container.children);\n                let firstElementInView;\n                let lastElementOutOfView;\n                let i;\n                for (i = 0; i < childrenArr.length && !firstElementInView; i++) {\n                    if (isElementInView(container, childrenArr[i], false)) {\n                        firstElementInView = childrenArr[i];\n                        lastElementOutOfView = childrenArr[i - 1];\n                    }\n                }\n                if (lastElementOutOfView) {\n                    container.scrollLeft -= lastElementOutOfView.scrollWidth;\n                }\n            }\n        };\n        this.scrollRight = () => {\n            // find last Element that is fully in view on the right, then scroll to the element after it\n            if (this.tabList.current) {\n                const container = this.tabList.current;\n                const childrenArr = Array.from(container.children);\n                let lastElementInView;\n                let firstElementOutOfView;\n                for (let i = childrenArr.length - 1; i >= 0 && !lastElementInView; i--) {\n                    if (isElementInView(container, childrenArr[i], false)) {\n                        lastElementInView = childrenArr[i];\n                        firstElementOutOfView = childrenArr[i + 1];\n                    }\n                }\n                if (firstElementOutOfView) {\n                    container.scrollLeft += firstElementOutOfView.scrollWidth;\n                }\n            }\n        };\n        this.state = {\n            showScrollButtons: false,\n            disableLeftScrollButton: false,\n            disableRightScrollButton: false,\n            shownKeys: this.props.defaultActiveKey !== undefined ? [this.props.defaultActiveKey] : [this.props.activeKey],\n            uncontrolledActiveKey: this.props.defaultActiveKey,\n            ouiaStateId: getDefaultOUIAId(Tabs.displayName)\n        };\n    }\n    handleTabClick(event, eventKey, tabContentRef, mountOnEnter) {\n        const { shownKeys } = this.state;\n        const { onSelect, defaultActiveKey } = this.props;\n        // if defaultActiveKey Tabs are uncontrolled, set new active key internally\n        if (defaultActiveKey !== undefined) {\n            this.setState({\n                uncontrolledActiveKey: eventKey\n            });\n        }\n        else {\n            onSelect(event, eventKey);\n        }\n        // process any tab content sections outside of the component\n        if (tabContentRef) {\n            React.Children.toArray(this.props.children)\n                .map(child => child)\n                .filter(child => child.props && child.props.tabContentRef && child.props.tabContentRef.current)\n                .forEach(child => (child.props.tabContentRef.current.hidden = true));\n            // most recently selected tabContent\n            if (tabContentRef.current) {\n                tabContentRef.current.hidden = false;\n            }\n        }\n        if (mountOnEnter) {\n            this.setState({\n                shownKeys: shownKeys.concat(eventKey)\n            });\n        }\n    }\n    componentDidMount() {\n        if (!this.props.isVertical) {\n            if (canUseDOM) {\n                window.addEventListener('resize', this.handleScrollButtons, false);\n            }\n            // call the handle resize function to check if scroll buttons should be shown\n            this.handleScrollButtons();\n        }\n    }\n    componentWillUnmount() {\n        if (!this.props.isVertical) {\n            if (canUseDOM) {\n                window.removeEventListener('resize', this.handleScrollButtons, false);\n            }\n        }\n    }\n    componentDidUpdate(prevProps) {\n        const { activeKey, mountOnEnter } = this.props;\n        const { shownKeys } = this.state;\n        if (prevProps.activeKey !== activeKey && mountOnEnter && shownKeys.indexOf(activeKey) < 0) {\n            this.setState({\n                shownKeys: shownKeys.concat(activeKey)\n            });\n        }\n    }\n    render() {\n        const _a = this.props, { className, children, activeKey, defaultActiveKey, id, isFilled, isSecondary, isVertical, isBox, leftScrollAriaLabel, rightScrollAriaLabel, 'aria-label': ariaLabel, component, ouiaId, ouiaSafe, mountOnEnter, unmountOnExit, inset, variant } = _a, props = __rest(_a, [\"className\", \"children\", \"activeKey\", \"defaultActiveKey\", \"id\", \"isFilled\", \"isSecondary\", \"isVertical\", \"isBox\", \"leftScrollAriaLabel\", \"rightScrollAriaLabel\", 'aria-label', \"component\", \"ouiaId\", \"ouiaSafe\", \"mountOnEnter\", \"unmountOnExit\", \"inset\", \"variant\"]);\n        const { showScrollButtons, disableLeftScrollButton, disableRightScrollButton, shownKeys, uncontrolledActiveKey } = this.state;\n        const filteredChildren = React.Children.toArray(children)\n            .filter(Boolean)\n            .filter(child => !child.props.isHidden);\n        const uniqueId = id || getUniqueId();\n        const Component = component === TabsComponent.nav ? 'nav' : 'div';\n        const localActiveKey = defaultActiveKey !== undefined ? uncontrolledActiveKey : activeKey;\n        return (React.createElement(TabsContextProvider, { value: { variant } },\n            React.createElement(Component, Object.assign({ \"aria-label\": ariaLabel, className: css(styles.tabs, isFilled && styles.modifiers.fill, isSecondary && styles.modifiers.secondary, isVertical && styles.modifiers.vertical, isBox && styles.modifiers.box, showScrollButtons && !isVertical && styles.modifiers.scrollable, formatBreakpointMods(inset, styles), variantStyle[variant], className) }, getOUIAProps(Tabs.displayName, ouiaId !== undefined ? ouiaId : this.state.ouiaStateId, ouiaSafe), { id: id && id }, props),\n                React.createElement(\"button\", { className: css(styles.tabsScrollButton, isSecondary && buttonStyles.modifiers.secondary), \"aria-label\": leftScrollAriaLabel, onClick: this.scrollLeft, disabled: disableLeftScrollButton, \"aria-hidden\": disableLeftScrollButton },\n                    React.createElement(AngleLeftIcon, null)),\n                React.createElement(\"ul\", { className: css(styles.tabsList), ref: this.tabList, onScroll: this.handleScrollButtons }, filteredChildren.map((child, index) => {\n                    const _a = child.props, { title, eventKey, tabContentRef, id: childId, tabContentId, className: childClassName = '', ouiaId: childOuiaId, \n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    isHidden } = _a, rest = __rest(_a, [\"title\", \"eventKey\", \"tabContentRef\", \"id\", \"tabContentId\", \"className\", \"ouiaId\", \"isHidden\"]);\n                    let ariaControls = tabContentId ? `${tabContentId}` : `pf-tab-section-${eventKey}-${childId || uniqueId}`;\n                    if ((mountOnEnter || unmountOnExit) && eventKey !== localActiveKey) {\n                        ariaControls = undefined;\n                    }\n                    return (React.createElement(\"li\", { key: index, className: css(styles.tabsItem, eventKey === localActiveKey && styles.modifiers.current, childClassName) },\n                        React.createElement(TabButton, Object.assign({ className: css(styles.tabsLink), onClick: (event) => this.handleTabClick(event, eventKey, tabContentRef, mountOnEnter), id: `pf-tab-${eventKey}-${childId || uniqueId}`, \"aria-controls\": ariaControls, tabContentRef: tabContentRef, ouiaId: childOuiaId }, rest), title)));\n                })),\n                React.createElement(\"button\", { className: css(styles.tabsScrollButton, isSecondary && buttonStyles.modifiers.secondary), \"aria-label\": rightScrollAriaLabel, onClick: this.scrollRight, disabled: disableRightScrollButton, \"aria-hidden\": disableRightScrollButton },\n                    React.createElement(AngleRightIcon, null))),\n            filteredChildren\n                .filter(child => child.props.children &&\n                !(unmountOnExit && child.props.eventKey !== localActiveKey) &&\n                !(mountOnEnter && shownKeys.indexOf(child.props.eventKey) === -1))\n                .map((child, index) => (React.createElement(TabContent, { key: index, activeKey: localActiveKey, child: child, id: child.props.id || uniqueId, ouiaId: child.props.ouiaId })))));\n    }\n}\nTabs.displayName = 'Tabs';\nTabs.defaultProps = {\n    activeKey: 0,\n    onSelect: () => undefined,\n    isFilled: false,\n    isSecondary: false,\n    isVertical: false,\n    isBox: false,\n    leftScrollAriaLabel: 'Scroll left',\n    rightScrollAriaLabel: 'Scroll right',\n    component: TabsComponent.div,\n    mountOnEnter: false,\n    unmountOnExit: false,\n    ouiaSafe: true,\n    variant: 'default'\n};\n//# sourceMappingURL=Tabs.js.map","import * as React from 'react';\nconst TabsContext = React.createContext({\n    variant: 'default'\n});\nexport const TabsContextProvider = TabsContext.Provider;\nexport const TabsContextConsumer = TabsContext.Consumer;\n//# sourceMappingURL=TabsContext.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/TabContent/tab-content';\nimport { css } from '@patternfly/react-styles';\nimport { getOUIAProps } from '../../helpers';\nimport { TabsContextConsumer } from './TabsContext';\nconst variantStyle = {\n    default: '',\n    light300: styles.modifiers.light_300\n};\nconst TabContentBase = (_a) => {\n    var { id, activeKey, 'aria-label': ariaLabel, child, children, className, eventKey, innerRef, ouiaId, ouiaSafe } = _a, props = __rest(_a, [\"id\", \"activeKey\", 'aria-label', \"child\", \"children\", \"className\", \"eventKey\", \"innerRef\", \"ouiaId\", \"ouiaSafe\"]);\n    if (children || child) {\n        let labelledBy;\n        if (ariaLabel) {\n            labelledBy = null;\n        }\n        else {\n            labelledBy = children ? `pf-tab-${eventKey}-${id}` : `pf-tab-${child.props.eventKey}-${id}`;\n        }\n        return (React.createElement(TabsContextConsumer, null, ({ variant }) => (React.createElement(\"section\", Object.assign({ ref: innerRef, hidden: children ? null : child.props.eventKey !== activeKey, className: children\n                ? css('pf-c-tab-content', className, variantStyle[variant])\n                : css('pf-c-tab-content', child.props.className, variantStyle[variant]), id: children ? id : `pf-tab-section-${child.props.eventKey}-${id}`, \"aria-label\": ariaLabel, \"aria-labelledby\": labelledBy, role: \"tabpanel\", tabIndex: 0 }, getOUIAProps('TabContent', ouiaId, ouiaSafe), props), children || child.props.children))));\n    }\n    return null;\n};\nexport const TabContent = React.forwardRef((props, ref) => (React.createElement(TabContentBase, Object.assign({}, props, { innerRef: ref }))));\n//# sourceMappingURL=TabContent.js.map","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",";(function (globalObject) {\r\n  'use strict';\r\n\r\n/*\r\n *      bignumber.js v8.1.1\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2019 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\n  var BigNumber,\r\n    isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n    hasSymbol = typeof Symbol == 'function' && typeof Symbol.iterator == 'symbol',\r\n\r\n    mathceil = Math.ceil,\r\n    mathfloor = Math.floor,\r\n\r\n    bignumberError = '[BigNumber Error] ',\r\n    tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n    BASE = 1e14,\r\n    LOG_BASE = 14,\r\n    MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n    // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n    POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n    SQRT_BASE = 1e7,\r\n\r\n    // EDITABLE\r\n    // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n    // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n    MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n  /*\r\n   * Create and return a BigNumber constructor.\r\n   */\r\n  function clone(configObject) {\r\n    var div, convertBase, parseNumeric,\r\n      P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n      ONE = new BigNumber(1),\r\n\r\n\r\n      //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n      // The default values below must be integers within the inclusive ranges stated.\r\n      // The values can also be changed at run-time using BigNumber.set.\r\n\r\n      // The maximum number of decimal places for operations involving division.\r\n      DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n      // The rounding mode used when rounding to the above decimal places, and when using\r\n      // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n      // UP         0 Away from zero.\r\n      // DOWN       1 Towards zero.\r\n      // CEIL       2 Towards +Infinity.\r\n      // FLOOR      3 Towards -Infinity.\r\n      // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n      // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n      // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n      // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n      // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n      ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n      // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n      // The exponent value at and beneath which toString returns exponential notation.\r\n      // Number type: -7\r\n      TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n      // The exponent value at and above which toString returns exponential notation.\r\n      // Number type: 21\r\n      TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n      // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n      // The minimum exponent value, beneath which underflow to zero occurs.\r\n      // Number type: -324  (5e-324)\r\n      MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n      // The maximum exponent value, above which overflow to Infinity occurs.\r\n      // Number type:  308  (1.7976931348623157e+308)\r\n      // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n      MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n      // Whether to use cryptographically-secure random number generation, if available.\r\n      CRYPTO = false,                          // true or false\r\n\r\n      // The modulo mode used when calculating the modulus: a mod n.\r\n      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n      // The remainder (r) is calculated as: r = a - n * q.\r\n      //\r\n      // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n      // DOWN      1 The remainder has the same sign as the dividend.\r\n      //             This modulo mode is commonly known as 'truncated division' and is\r\n      //             equivalent to (a % n) in JavaScript.\r\n      // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n      // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n      // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n      //             The remainder is always positive.\r\n      //\r\n      // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n      // modes are commonly used for the modulus operation.\r\n      // Although the other rounding modes can also be used, they may not give useful results.\r\n      MODULO_MODE = 1,                         // 0 to 9\r\n\r\n      // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n      // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n      POW_PRECISION = 0,                    // 0 to MAX\r\n\r\n      // The format specification used by the BigNumber.prototype.toFormat method.\r\n      FORMAT = {\r\n        prefix: '',\r\n        groupSize: 3,\r\n        secondaryGroupSize: 0,\r\n        groupSeparator: ',',\r\n        decimalSeparator: '.',\r\n        fractionGroupSize: 0,\r\n        fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n        suffix: ''\r\n      },\r\n\r\n      // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n      // '-', '.', whitespace, or repeated character.\r\n      // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n      ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz';\r\n\r\n\r\n    //------------------------------------------------------------------------------------------\r\n\r\n\r\n    // CONSTRUCTOR\r\n\r\n\r\n    /*\r\n     * The BigNumber constructor and exported function.\r\n     * Create and return a new instance of a BigNumber object.\r\n     *\r\n     * v {number|string|BigNumber} A numeric value.\r\n     * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n     */\r\n    function BigNumber(v, b) {\r\n      var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n        x = this;\r\n\r\n      // Enable constructor call without `new`.\r\n      if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n      if (b == null) {\r\n\r\n        if (v && v._isBigNumber === true) {\r\n          x.s = v.s;\r\n\r\n          if (!v.c || v.e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else if (v.e < MIN_EXP) {\r\n            x.c = [x.e = 0];\r\n          } else {\r\n            x.e = v.e;\r\n            x.c = v.c.slice();\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n          // Use `1 / n` to handle minus zero also.\r\n          x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n          // Fast path for integers, where n < 2147483648 (2**31).\r\n          if (v === ~~v) {\r\n            for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n            if (e > MAX_EXP) {\r\n              x.c = x.e = null;\r\n            } else {\r\n              x.e = e;\r\n              x.c = [v];\r\n            }\r\n\r\n            return;\r\n          }\r\n\r\n          str = String(v);\r\n        } else {\r\n\r\n          if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n        // Exponential form?\r\n        if ((i = str.search(/e/i)) > 0) {\r\n\r\n          // Determine exponent.\r\n          if (e < 0) e = i;\r\n          e += +str.slice(i + 1);\r\n          str = str.substring(0, i);\r\n        } else if (e < 0) {\r\n\r\n          // Integer.\r\n          e = str.length;\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n        // Allow exponential notation to be used with base 10 argument, while\r\n        // also rounding to DECIMAL_PLACES as with other bases.\r\n        if (b == 10) {\r\n          x = new BigNumber(v);\r\n          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n        }\r\n\r\n        str = String(v);\r\n\r\n        if (isNum = typeof v == 'number') {\r\n\r\n          // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n          if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n          x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n          // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n          if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n            throw Error\r\n             (tooManyDigits + v);\r\n          }\r\n        } else {\r\n          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        alphabet = ALPHABET.slice(0, b);\r\n        e = i = 0;\r\n\r\n        // Check that str is a valid base b number.\r\n        // Don't use RegExp, so alphabet can contain special characters.\r\n        for (len = str.length; i < len; i++) {\r\n          if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n            if (c == '.') {\r\n\r\n              // If '.' is not the first character and it has not be found before.\r\n              if (i > e) {\r\n                e = len;\r\n                continue;\r\n              }\r\n            } else if (!caseChanged) {\r\n\r\n              // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n              if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                  str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n                caseChanged = true;\r\n                i = -1;\r\n                e = 0;\r\n                continue;\r\n              }\r\n            }\r\n\r\n            return parseNumeric(x, String(v), isNum, b);\r\n          }\r\n        }\r\n\r\n        // Prevent later check for length on converted number.\r\n        isNum = false;\r\n        str = convertBase(str, b, 10, x.s);\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n        else e = str.length;\r\n      }\r\n\r\n      // Determine leading zeros.\r\n      for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n      // Determine trailing zeros.\r\n      for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n      if (str = str.slice(i, ++len)) {\r\n        len -= i;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (isNum && BigNumber.DEBUG &&\r\n          len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n            throw Error\r\n             (tooManyDigits + (x.s * v));\r\n        }\r\n\r\n         // Overflow?\r\n        if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n          // Infinity.\r\n          x.c = x.e = null;\r\n\r\n        // Underflow?\r\n        } else if (e < MIN_EXP) {\r\n\r\n          // Zero.\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = e;\r\n          x.c = [];\r\n\r\n          // Transform base\r\n\r\n          // e is the base 10 exponent.\r\n          // i is where to slice str to get the first element of the coefficient array.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n          if (i < len) {\r\n            if (i) x.c.push(+str.slice(0, i));\r\n\r\n            for (len -= LOG_BASE; i < len;) {\r\n              x.c.push(+str.slice(i, i += LOG_BASE));\r\n            }\r\n\r\n            i = LOG_BASE - (str = str.slice(i)).length;\r\n          } else {\r\n            i -= len;\r\n          }\r\n\r\n          for (; i--; str += '0');\r\n          x.c.push(+str);\r\n        }\r\n      } else {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n\r\n    // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n    BigNumber.clone = clone;\r\n\r\n    BigNumber.ROUND_UP = 0;\r\n    BigNumber.ROUND_DOWN = 1;\r\n    BigNumber.ROUND_CEIL = 2;\r\n    BigNumber.ROUND_FLOOR = 3;\r\n    BigNumber.ROUND_HALF_UP = 4;\r\n    BigNumber.ROUND_HALF_DOWN = 5;\r\n    BigNumber.ROUND_HALF_EVEN = 6;\r\n    BigNumber.ROUND_HALF_CEIL = 7;\r\n    BigNumber.ROUND_HALF_FLOOR = 8;\r\n    BigNumber.EUCLID = 9;\r\n\r\n\r\n    /*\r\n     * Configure infrequently-changing library-wide settings.\r\n     *\r\n     * Accept an object with the following optional properties (if the value of a property is\r\n     * a number, it must be an integer within the inclusive range stated):\r\n     *\r\n     *   DECIMAL_PLACES   {number}           0 to MAX\r\n     *   ROUNDING_MODE    {number}           0 to 8\r\n     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n     *   CRYPTO           {boolean}          true or false\r\n     *   MODULO_MODE      {number}           0 to 9\r\n     *   POW_PRECISION       {number}           0 to MAX\r\n     *   ALPHABET         {string}           A string of two or more unique characters which does\r\n     *                                       not contain '.'.\r\n     *   FORMAT           {object}           An object with some of the following properties:\r\n     *     prefix                 {string}\r\n     *     groupSize              {number}\r\n     *     secondaryGroupSize     {number}\r\n     *     groupSeparator         {string}\r\n     *     decimalSeparator       {string}\r\n     *     fractionGroupSize      {number}\r\n     *     fractionGroupSeparator {string}\r\n     *     suffix                 {string}\r\n     *\r\n     * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n     *\r\n     * E.g.\r\n     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n     *\r\n     * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n     *\r\n     * Return an object with the properties current values.\r\n     */\r\n    BigNumber.config = BigNumber.set = function (obj) {\r\n      var p, v;\r\n\r\n      if (obj != null) {\r\n\r\n        if (typeof obj == 'object') {\r\n\r\n          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            DECIMAL_PLACES = v;\r\n          }\r\n\r\n          // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 8, p);\r\n            ROUNDING_MODE = v;\r\n          }\r\n\r\n          // EXPONENTIAL_AT {number|number[]}\r\n          // Integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, 0, p);\r\n              intCheck(v[1], 0, MAX, p);\r\n              TO_EXP_NEG = v[0];\r\n              TO_EXP_POS = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n            }\r\n          }\r\n\r\n          // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n          if (obj.hasOwnProperty(p = 'RANGE')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, -1, p);\r\n              intCheck(v[1], 1, MAX, p);\r\n              MIN_EXP = v[0];\r\n              MAX_EXP = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              if (v) {\r\n                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n              } else {\r\n                throw Error\r\n                 (bignumberError + p + ' cannot be zero: ' + v);\r\n              }\r\n            }\r\n          }\r\n\r\n          // CRYPTO {boolean} true or false.\r\n          // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n          // '[BigNumber Error] crypto unavailable'\r\n          if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n            v = obj[p];\r\n            if (v === !!v) {\r\n              if (v) {\r\n                if (typeof crypto != 'undefined' && crypto &&\r\n                 (crypto.getRandomValues || crypto.randomBytes)) {\r\n                  CRYPTO = v;\r\n                } else {\r\n                  CRYPTO = !v;\r\n                  throw Error\r\n                   (bignumberError + 'crypto unavailable');\r\n                }\r\n              } else {\r\n                CRYPTO = v;\r\n              }\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' not true or false: ' + v);\r\n            }\r\n          }\r\n\r\n          // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 9, p);\r\n            MODULO_MODE = v;\r\n          }\r\n\r\n          // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            POW_PRECISION = v;\r\n          }\r\n\r\n          // FORMAT {object}\r\n          // '[BigNumber Error] FORMAT not an object: {v}'\r\n          if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n            v = obj[p];\r\n            if (typeof v == 'object') FORMAT = v;\r\n            else throw Error\r\n             (bignumberError + p + ' not an object: ' + v);\r\n          }\r\n\r\n          // ALPHABET {string}\r\n          // '[BigNumber Error] ALPHABET invalid: {v}'\r\n          if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n            v = obj[p];\r\n\r\n            // Disallow if only one character,\r\n            // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n            if (typeof v == 'string' && !/^.$|[+-.\\s]|(.).*\\1/.test(v)) {\r\n              ALPHABET = v;\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' invalid: ' + v);\r\n            }\r\n          }\r\n\r\n        } else {\r\n\r\n          // '[BigNumber Error] Object expected: {v}'\r\n          throw Error\r\n           (bignumberError + 'Object expected: ' + obj);\r\n        }\r\n      }\r\n\r\n      return {\r\n        DECIMAL_PLACES: DECIMAL_PLACES,\r\n        ROUNDING_MODE: ROUNDING_MODE,\r\n        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n        RANGE: [MIN_EXP, MAX_EXP],\r\n        CRYPTO: CRYPTO,\r\n        MODULO_MODE: MODULO_MODE,\r\n        POW_PRECISION: POW_PRECISION,\r\n        FORMAT: FORMAT,\r\n        ALPHABET: ALPHABET\r\n      };\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if v is a BigNumber instance, otherwise return false.\r\n     *\r\n     * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n     *\r\n     * v {any}\r\n     *\r\n     * '[BigNumber Error] Invalid BigNumber: {v}'\r\n     */\r\n    BigNumber.isBigNumber = function (v) {\r\n      if (!v || v._isBigNumber !== true) return false;\r\n      if (!BigNumber.DEBUG) return true;\r\n\r\n      var i, n,\r\n        c = v.c,\r\n        e = v.e,\r\n        s = v.s;\r\n\r\n      out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n          // If the first element is zero, the BigNumber value must be zero.\r\n          if (c[0] === 0) {\r\n            if (e === 0 && c.length === 1) return true;\r\n            break out;\r\n          }\r\n\r\n          // Calculate number of digits that c[0] should have, based on the exponent.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (i < 1) i += LOG_BASE;\r\n\r\n          // Calculate number of digits of c[0].\r\n          //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n          if (String(c[0]).length == i) {\r\n\r\n            for (i = 0; i < c.length; i++) {\r\n              n = c[i];\r\n              if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n            }\r\n\r\n            // Last element cannot be zero, unless it is the only element.\r\n            if (n !== 0) return true;\r\n          }\r\n        }\r\n\r\n      // Infinity/NaN\r\n      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n        return true;\r\n      }\r\n\r\n      throw Error\r\n        (bignumberError + 'Invalid BigNumber: ' + v);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the maximum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.maximum = BigNumber.max = function () {\r\n      return maxOrMin(arguments, P.lt);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the minimum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.minimum = BigNumber.min = function () {\r\n      return maxOrMin(arguments, P.gt);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n     * zeros are produced).\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n     * '[BigNumber Error] crypto unavailable'\r\n     */\r\n    BigNumber.random = (function () {\r\n      var pow2_53 = 0x20000000000000;\r\n\r\n      // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n      // Check if Math.random() produces more than 32 bits of randomness.\r\n      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n      var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n       ? function () { return mathfloor(Math.random() * pow2_53); }\r\n       : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n         (Math.random() * 0x800000 | 0); };\r\n\r\n      return function (dp) {\r\n        var a, b, e, k, v,\r\n          i = 0,\r\n          c = [],\r\n          rand = new BigNumber(ONE);\r\n\r\n        if (dp == null) dp = DECIMAL_PLACES;\r\n        else intCheck(dp, 0, MAX);\r\n\r\n        k = mathceil(dp / LOG_BASE);\r\n\r\n        if (CRYPTO) {\r\n\r\n          // Browsers supporting crypto.getRandomValues.\r\n          if (crypto.getRandomValues) {\r\n\r\n            a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n            for (; i < k;) {\r\n\r\n              // 53 bits:\r\n              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n              // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n              //                                     11111 11111111 11111111\r\n              // 0x20000 is 2^21.\r\n              v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n              // Rejection sampling:\r\n              // 0 <= v < 9007199254740992\r\n              // Probability that v >= 9e15, is\r\n              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n              if (v >= 9e15) {\r\n                b = crypto.getRandomValues(new Uint32Array(2));\r\n                a[i] = b[0];\r\n                a[i + 1] = b[1];\r\n              } else {\r\n\r\n                // 0 <= v <= 8999999999999999\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 2;\r\n              }\r\n            }\r\n            i = k / 2;\r\n\r\n          // Node.js supporting crypto.randomBytes.\r\n          } else if (crypto.randomBytes) {\r\n\r\n            // buffer\r\n            a = crypto.randomBytes(k *= 7);\r\n\r\n            for (; i < k;) {\r\n\r\n              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n              // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n              // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n              // 0 <= v < 9007199254740992\r\n              v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n                 (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n                 (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n              if (v >= 9e15) {\r\n                crypto.randomBytes(7).copy(a, i);\r\n              } else {\r\n\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 7;\r\n              }\r\n            }\r\n            i = k / 7;\r\n          } else {\r\n            CRYPTO = false;\r\n            throw Error\r\n             (bignumberError + 'crypto unavailable');\r\n          }\r\n        }\r\n\r\n        // Use Math.random.\r\n        if (!CRYPTO) {\r\n\r\n          for (; i < k;) {\r\n            v = random53bitInt();\r\n            if (v < 9e15) c[i++] = v % 1e14;\r\n          }\r\n        }\r\n\r\n        k = c[--i];\r\n        dp %= LOG_BASE;\r\n\r\n        // Convert trailing digits to zeros according to dp.\r\n        if (k && dp) {\r\n          v = POWS_TEN[LOG_BASE - dp];\r\n          c[i] = mathfloor(k / v) * v;\r\n        }\r\n\r\n        // Remove trailing elements which are zero.\r\n        for (; c[i] === 0; c.pop(), i--);\r\n\r\n        // Zero?\r\n        if (i < 0) {\r\n          c = [e = 0];\r\n        } else {\r\n\r\n          // Remove leading elements which are zero and adjust exponent accordingly.\r\n          for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n          // Count the digits of the first element of c to determine leading zeros, and...\r\n          for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n          // adjust the exponent accordingly.\r\n          if (i < LOG_BASE) e -= LOG_BASE - i;\r\n        }\r\n\r\n        rand.e = e;\r\n        rand.c = c;\r\n        return rand;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the sum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.sum = function () {\r\n      var i = 1,\r\n        args = arguments,\r\n        sum = new BigNumber(args[0]);\r\n      for (; i < args.length;) sum = sum.plus(args[i++]);\r\n      return sum;\r\n    };\r\n\r\n\r\n    // PRIVATE FUNCTIONS\r\n\r\n\r\n    // Called by BigNumber and BigNumber.prototype.toString.\r\n    convertBase = (function () {\r\n      var decimal = '0123456789';\r\n\r\n      /*\r\n       * Convert string of baseIn to an array of numbers of baseOut.\r\n       * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n       */\r\n      function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n        var j,\r\n          arr = [0],\r\n          arrL,\r\n          i = 0,\r\n          len = str.length;\r\n\r\n        for (; i < len;) {\r\n          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n          arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n          for (j = 0; j < arr.length; j++) {\r\n\r\n            if (arr[j] > baseOut - 1) {\r\n              if (arr[j + 1] == null) arr[j + 1] = 0;\r\n              arr[j + 1] += arr[j] / baseOut | 0;\r\n              arr[j] %= baseOut;\r\n            }\r\n          }\r\n        }\r\n\r\n        return arr.reverse();\r\n      }\r\n\r\n      // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n      // If the caller is toString, we are converting from base 10 to baseOut.\r\n      // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n      return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n        var alphabet, d, e, k, r, x, xc, y,\r\n          i = str.indexOf('.'),\r\n          dp = DECIMAL_PLACES,\r\n          rm = ROUNDING_MODE;\r\n\r\n        // Non-integer.\r\n        if (i >= 0) {\r\n          k = POW_PRECISION;\r\n\r\n          // Unlimited precision.\r\n          POW_PRECISION = 0;\r\n          str = str.replace('.', '');\r\n          y = new BigNumber(baseIn);\r\n          x = y.pow(str.length - i);\r\n          POW_PRECISION = k;\r\n\r\n          // Convert str as if an integer, then restore the fraction part by dividing the\r\n          // result by its base raised to a power.\r\n\r\n          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n           10, baseOut, decimal);\r\n          y.e = y.c.length;\r\n        }\r\n\r\n        // Convert the number as integer.\r\n\r\n        xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n         ? (alphabet = ALPHABET, decimal)\r\n         : (alphabet = decimal, ALPHABET));\r\n\r\n        // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n        e = k = xc.length;\r\n\r\n        // Remove trailing zeros.\r\n        for (; xc[--k] == 0; xc.pop());\r\n\r\n        // Zero?\r\n        if (!xc[0]) return alphabet.charAt(0);\r\n\r\n        // Does str represent an integer? If so, no need for the division.\r\n        if (i < 0) {\r\n          --e;\r\n        } else {\r\n          x.c = xc;\r\n          x.e = e;\r\n\r\n          // The sign is needed for correct rounding.\r\n          x.s = sign;\r\n          x = div(x, y, dp, rm, baseOut);\r\n          xc = x.c;\r\n          r = x.r;\r\n          e = x.e;\r\n        }\r\n\r\n        // xc now represents str converted to baseOut.\r\n\r\n        // THe index of the rounding digit.\r\n        d = e + dp + 1;\r\n\r\n        // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n        i = xc[d];\r\n\r\n        // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n        k = baseOut / 2;\r\n        r = r || d < 0 || xc[d + 1] != null;\r\n\r\n        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n              : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n               rm == (x.s < 0 ? 8 : 7));\r\n\r\n        // If the index of the rounding digit is not greater than zero, or xc represents\r\n        // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n        // such as 0.00001.\r\n        if (d < 1 || !xc[0]) {\r\n\r\n          // 1^-dp or 0\r\n          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n        } else {\r\n\r\n          // Truncate xc to the required number of decimal places.\r\n          xc.length = d;\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            // Rounding up may mean the previous digit has to be rounded up and so on.\r\n            for (--baseOut; ++xc[--d] > baseOut;) {\r\n              xc[d] = 0;\r\n\r\n              if (!d) {\r\n                ++e;\r\n                xc = [1].concat(xc);\r\n              }\r\n            }\r\n          }\r\n\r\n          // Determine trailing zeros.\r\n          for (k = xc.length; !xc[--k];);\r\n\r\n          // E.g. [4, 11, 15] becomes 4bf.\r\n          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n          // Add leading zeros, decimal point and trailing zeros as required.\r\n          str = toFixedPoint(str, e, alphabet.charAt(0));\r\n        }\r\n\r\n        // The caller will add the sign.\r\n        return str;\r\n      };\r\n    })();\r\n\r\n\r\n    // Perform division in the specified base. Called by div and convertBase.\r\n    div = (function () {\r\n\r\n      // Assume non-zero x and k.\r\n      function multiply(x, k, base) {\r\n        var m, temp, xlo, xhi,\r\n          carry = 0,\r\n          i = x.length,\r\n          klo = k % SQRT_BASE,\r\n          khi = k / SQRT_BASE | 0;\r\n\r\n        for (x = x.slice(); i--;) {\r\n          xlo = x[i] % SQRT_BASE;\r\n          xhi = x[i] / SQRT_BASE | 0;\r\n          m = khi * xlo + xhi * klo;\r\n          temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n          x[i] = temp % base;\r\n        }\r\n\r\n        if (carry) x = [carry].concat(x);\r\n\r\n        return x;\r\n      }\r\n\r\n      function compare(a, b, aL, bL) {\r\n        var i, cmp;\r\n\r\n        if (aL != bL) {\r\n          cmp = aL > bL ? 1 : -1;\r\n        } else {\r\n\r\n          for (i = cmp = 0; i < aL; i++) {\r\n\r\n            if (a[i] != b[i]) {\r\n              cmp = a[i] > b[i] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        return cmp;\r\n      }\r\n\r\n      function subtract(a, b, aL, base) {\r\n        var i = 0;\r\n\r\n        // Subtract b from a.\r\n        for (; aL--;) {\r\n          a[aL] -= i;\r\n          i = a[aL] < b[aL] ? 1 : 0;\r\n          a[aL] = i * base + a[aL] - b[aL];\r\n        }\r\n\r\n        // Remove leading zeros.\r\n        for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n      }\r\n\r\n      // x: dividend, y: divisor.\r\n      return function (x, y, dp, rm, base) {\r\n        var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n          yL, yz,\r\n          s = x.s == y.s ? 1 : -1,\r\n          xc = x.c,\r\n          yc = y.c;\r\n\r\n        // Either NaN, Infinity or 0?\r\n        if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n          return new BigNumber(\r\n\r\n           // Return NaN if either NaN, or both Infinity or 0.\r\n           !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n            // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n            xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n         );\r\n        }\r\n\r\n        q = new BigNumber(s);\r\n        qc = q.c = [];\r\n        e = x.e - y.e;\r\n        s = dp + e + 1;\r\n\r\n        if (!base) {\r\n          base = BASE;\r\n          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n          s = s / LOG_BASE | 0;\r\n        }\r\n\r\n        // Result exponent may be one less then the current value of e.\r\n        // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n        for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n        if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n        if (s < 0) {\r\n          qc.push(1);\r\n          more = true;\r\n        } else {\r\n          xL = xc.length;\r\n          yL = yc.length;\r\n          i = 0;\r\n          s += 2;\r\n\r\n          // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n          n = mathfloor(base / (yc[0] + 1));\r\n\r\n          // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n          if (n > 1) {\r\n            yc = multiply(yc, n, base);\r\n            xc = multiply(xc, n, base);\r\n            yL = yc.length;\r\n            xL = xc.length;\r\n          }\r\n\r\n          xi = yL;\r\n          rem = xc.slice(0, yL);\r\n          remL = rem.length;\r\n\r\n          // Add zeros to make remainder as long as divisor.\r\n          for (; remL < yL; rem[remL++] = 0);\r\n          yz = yc.slice();\r\n          yz = [0].concat(yz);\r\n          yc0 = yc[0];\r\n          if (yc[1] >= base / 2) yc0++;\r\n          // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n          do {\r\n            n = 0;\r\n\r\n            // Compare divisor and remainder.\r\n            cmp = compare(yc, rem, yL, remL);\r\n\r\n            // If divisor < remainder.\r\n            if (cmp < 0) {\r\n\r\n              // Calculate trial digit, n.\r\n\r\n              rem0 = rem[0];\r\n              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n              // n is how many times the divisor goes into the current remainder.\r\n              n = mathfloor(rem0 / yc0);\r\n\r\n              //  Algorithm:\r\n              //  product = divisor multiplied by trial digit (n).\r\n              //  Compare product and remainder.\r\n              //  If product is greater than remainder:\r\n              //    Subtract divisor from product, decrement trial digit.\r\n              //  Subtract product from remainder.\r\n              //  If product was less than remainder at the last compare:\r\n              //    Compare new remainder and divisor.\r\n              //    If remainder is greater than divisor:\r\n              //      Subtract divisor from remainder, increment trial digit.\r\n\r\n              if (n > 1) {\r\n\r\n                // n may be > base only when base is 3.\r\n                if (n >= base) n = base - 1;\r\n\r\n                // product = divisor * trial digit.\r\n                prod = multiply(yc, n, base);\r\n                prodL = prod.length;\r\n                remL = rem.length;\r\n\r\n                // Compare product and remainder.\r\n                // If product > remainder then trial digit n too high.\r\n                // n is 1 too high about 5% of the time, and is not known to have\r\n                // ever been more than 1 too high.\r\n                while (compare(prod, rem, prodL, remL) == 1) {\r\n                  n--;\r\n\r\n                  // Subtract divisor from product.\r\n                  subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                  prodL = prod.length;\r\n                  cmp = 1;\r\n                }\r\n              } else {\r\n\r\n                // n is 0 or 1, cmp is -1.\r\n                // If n is 0, there is no need to compare yc and rem again below,\r\n                // so change cmp to 1 to avoid it.\r\n                // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n                if (n == 0) {\r\n\r\n                  // divisor < remainder, so n must be at least 1.\r\n                  cmp = n = 1;\r\n                }\r\n\r\n                // product = divisor\r\n                prod = yc.slice();\r\n                prodL = prod.length;\r\n              }\r\n\r\n              if (prodL < remL) prod = [0].concat(prod);\r\n\r\n              // Subtract product from remainder.\r\n              subtract(rem, prod, remL, base);\r\n              remL = rem.length;\r\n\r\n               // If product was < remainder.\r\n              if (cmp == -1) {\r\n\r\n                // Compare divisor and new remainder.\r\n                // If divisor < new remainder, subtract divisor from remainder.\r\n                // Trial digit n too low.\r\n                // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n                while (compare(yc, rem, yL, remL) < 1) {\r\n                  n++;\r\n\r\n                  // Subtract divisor from remainder.\r\n                  subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                  remL = rem.length;\r\n                }\r\n              }\r\n            } else if (cmp === 0) {\r\n              n++;\r\n              rem = [0];\r\n            } // else cmp === 1 and n will be 0\r\n\r\n            // Add the next digit, n, to the result array.\r\n            qc[i++] = n;\r\n\r\n            // Update the remainder.\r\n            if (rem[0]) {\r\n              rem[remL++] = xc[xi] || 0;\r\n            } else {\r\n              rem = [xc[xi]];\r\n              remL = 1;\r\n            }\r\n          } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n          more = rem[0] != null;\r\n\r\n          // Leading zero?\r\n          if (!qc[0]) qc.splice(0, 1);\r\n        }\r\n\r\n        if (base == BASE) {\r\n\r\n          // To calculate q.e, first get the number of digits of qc[0].\r\n          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n        // Caller is convertBase.\r\n        } else {\r\n          q.e = e;\r\n          q.r = +more;\r\n        }\r\n\r\n        return q;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n     * notation rounded to the specified decimal places or significant digits.\r\n     *\r\n     * n: a BigNumber.\r\n     * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n     * rm: the rounding mode.\r\n     * id: 1 (toExponential) or 2 (toPrecision).\r\n     */\r\n    function format(n, i, rm, id) {\r\n      var c0, e, ne, len, str;\r\n\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      if (!n.c) return n.toString();\r\n\r\n      c0 = n.c[0];\r\n      ne = n.e;\r\n\r\n      if (i == null) {\r\n        str = coeffToString(n.c);\r\n        str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n         ? toExponential(str, ne)\r\n         : toFixedPoint(str, ne, '0');\r\n      } else {\r\n        n = round(new BigNumber(n), i, rm);\r\n\r\n        // n.e may have changed if the value was rounded up.\r\n        e = n.e;\r\n\r\n        str = coeffToString(n.c);\r\n        len = str.length;\r\n\r\n        // toPrecision returns exponential notation if the number of significant digits\r\n        // specified is less than the number of digits necessary to represent the integer\r\n        // part of the value in fixed-point notation.\r\n\r\n        // Exponential notation.\r\n        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n          // Append zeros?\r\n          for (; len < i; str += '0', len++);\r\n          str = toExponential(str, e);\r\n\r\n        // Fixed-point notation.\r\n        } else {\r\n          i -= ne;\r\n          str = toFixedPoint(str, e, '0');\r\n\r\n          // Append zeros?\r\n          if (e + 1 > len) {\r\n            if (--i > 0) for (str += '.'; i--; str += '0');\r\n          } else {\r\n            i += e - len;\r\n            if (i > 0) {\r\n              if (e + 1 == len) str += '.';\r\n              for (; i--; str += '0');\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return n.s < 0 && c0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // Handle BigNumber.max and BigNumber.min.\r\n    function maxOrMin(args, method) {\r\n      var n,\r\n        i = 1,\r\n        m = new BigNumber(args[0]);\r\n\r\n      for (; i < args.length; i++) {\r\n        n = new BigNumber(args[i]);\r\n\r\n        // If any number is NaN, return NaN.\r\n        if (!n.s) {\r\n          m = n;\r\n          break;\r\n        } else if (method.call(m, n)) {\r\n          m = n;\r\n        }\r\n      }\r\n\r\n      return m;\r\n    }\r\n\r\n\r\n    /*\r\n     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n     * Called by minus, plus and times.\r\n     */\r\n    function normalise(n, c, e) {\r\n      var i = 1,\r\n        j = c.length;\r\n\r\n       // Remove trailing zeros.\r\n      for (; !c[--j]; c.pop());\r\n\r\n      // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n      for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n      // Overflow?\r\n      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        n.c = n.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        n.c = [n.e = 0];\r\n      } else {\r\n        n.e = e;\r\n        n.c = c;\r\n      }\r\n\r\n      return n;\r\n    }\r\n\r\n\r\n    // Handle values that fail the validity test in BigNumber.\r\n    parseNumeric = (function () {\r\n      var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n        dotAfter = /^([^.]+)\\.$/,\r\n        dotBefore = /^\\.([^.]+)$/,\r\n        isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n        whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n      return function (x, str, isNum, b) {\r\n        var base,\r\n          s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n        // No exception on ±Infinity or NaN.\r\n        if (isInfinityOrNaN.test(s)) {\r\n          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n        } else {\r\n          if (!isNum) {\r\n\r\n            // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n            s = s.replace(basePrefix, function (m, p1, p2) {\r\n              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n              return !b || b == base ? p1 : m;\r\n            });\r\n\r\n            if (b) {\r\n              base = b;\r\n\r\n              // E.g. '1.' to '1', '.1' to '0.1'\r\n              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n            }\r\n\r\n            if (str != s) return new BigNumber(s, base);\r\n          }\r\n\r\n          // '[BigNumber Error] Not a number: {n}'\r\n          // '[BigNumber Error] Not a base {b} number: {n}'\r\n          if (BigNumber.DEBUG) {\r\n            throw Error\r\n              (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n          }\r\n\r\n          // NaN\r\n          x.s = null;\r\n        }\r\n\r\n        x.c = x.e = null;\r\n      }\r\n    })();\r\n\r\n\r\n    /*\r\n     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n     * If r is truthy, it is known that there are more digits after the rounding digit.\r\n     */\r\n    function round(x, sd, rm, r) {\r\n      var d, i, j, k, n, ni, rd,\r\n        xc = x.c,\r\n        pows10 = POWS_TEN;\r\n\r\n      // if x is not Infinity or NaN...\r\n      if (xc) {\r\n\r\n        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n        // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n        // ni is the index of n within x.c.\r\n        // d is the number of digits of n.\r\n        // i is the index of rd within n including leading zeros.\r\n        // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n        out: {\r\n\r\n          // Get the number of digits of the first element of xc.\r\n          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n          i = sd - d;\r\n\r\n          // If the rounding digit is in the first element of xc...\r\n          if (i < 0) {\r\n            i += LOG_BASE;\r\n            j = sd;\r\n            n = xc[ni = 0];\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = n / pows10[d - j - 1] % 10 | 0;\r\n          } else {\r\n            ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n            if (ni >= xc.length) {\r\n\r\n              if (r) {\r\n\r\n                // Needed by sqrt.\r\n                for (; xc.length <= ni; xc.push(0));\r\n                n = rd = 0;\r\n                d = 1;\r\n                i %= LOG_BASE;\r\n                j = i - LOG_BASE + 1;\r\n              } else {\r\n                break out;\r\n              }\r\n            } else {\r\n              n = k = xc[ni];\r\n\r\n              // Get the number of digits of n.\r\n              for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n              // Get the index of rd within n.\r\n              i %= LOG_BASE;\r\n\r\n              // Get the index of rd within n, adjusted for leading zeros.\r\n              // The number of leading zeros of n is given by LOG_BASE - d.\r\n              j = i - LOG_BASE + d;\r\n\r\n              // Get the rounding digit at index j of n.\r\n              rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\r\n            }\r\n          }\r\n\r\n          r = r || sd < 0 ||\r\n\r\n          // Are there any non-zero digits after the rounding digit?\r\n          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n           xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n          r = rm < 4\r\n           ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n           : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n            // Check whether the digit to the left of the rounding digit is odd.\r\n            ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n          if (sd < 1 || !xc[0]) {\r\n            xc.length = 0;\r\n\r\n            if (r) {\r\n\r\n              // Convert sd to decimal places.\r\n              sd -= x.e + 1;\r\n\r\n              // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n              x.e = -sd || 0;\r\n            } else {\r\n\r\n              // Zero.\r\n              xc[0] = x.e = 0;\r\n            }\r\n\r\n            return x;\r\n          }\r\n\r\n          // Remove excess digits.\r\n          if (i == 0) {\r\n            xc.length = ni;\r\n            k = 1;\r\n            ni--;\r\n          } else {\r\n            xc.length = ni + 1;\r\n            k = pows10[LOG_BASE - i];\r\n\r\n            // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n            // j > 0 means i > number of leading zeros of n.\r\n            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n          }\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            for (; ;) {\r\n\r\n              // If the digit to be rounded up is in the first element of xc...\r\n              if (ni == 0) {\r\n\r\n                // i will be the length of xc[0] before k is added.\r\n                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n                j = xc[0] += k;\r\n                for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n                // if i != k the length has increased.\r\n                if (i != k) {\r\n                  x.e++;\r\n                  if (xc[0] == BASE) xc[0] = 1;\r\n                }\r\n\r\n                break;\r\n              } else {\r\n                xc[ni] += k;\r\n                if (xc[ni] != BASE) break;\r\n                xc[ni--] = 0;\r\n                k = 1;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Remove trailing zeros.\r\n          for (i = xc.length; xc[--i] === 0; xc.pop());\r\n        }\r\n\r\n        // Overflow? Infinity.\r\n        if (x.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n\r\n        // Underflow? Zero.\r\n        } else if (x.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    function valueOf(n) {\r\n      var str,\r\n        e = n.e;\r\n\r\n      if (e === null) return n.toString();\r\n\r\n      str = coeffToString(n.c);\r\n\r\n      str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n        ? toExponential(str, e)\r\n        : toFixedPoint(str, e, '0');\r\n\r\n      return n.s < 0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n     */\r\n    P.absoluteValue = P.abs = function () {\r\n      var x = new BigNumber(this);\r\n      if (x.s < 0) x.s = 1;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return\r\n     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     *   0 if they have the same value,\r\n     *   or null if the value of either is NaN.\r\n     */\r\n    P.comparedTo = function (y, b) {\r\n      return compare(this, new BigNumber(y, b));\r\n    };\r\n\r\n\r\n    /*\r\n     * If dp is undefined or null or true or false, return the number of decimal places of the\r\n     * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     *\r\n     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.decimalPlaces = P.dp = function (dp, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), dp + x.e + 1, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n      // Subtract the number of trailing zeros of the last number.\r\n      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n      if (n < 0) n = 0;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n / 0 = I\r\n     *  n / N = N\r\n     *  n / I = 0\r\n     *  0 / n = 0\r\n     *  0 / 0 = N\r\n     *  0 / N = N\r\n     *  0 / I = 0\r\n     *  N / n = N\r\n     *  N / 0 = N\r\n     *  N / N = N\r\n     *  N / I = N\r\n     *  I / n = I\r\n     *  I / 0 = I\r\n     *  I / N = N\r\n     *  I / I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.dividedBy = P.div = function (y, b) {\r\n      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n     * BigNumber by the value of BigNumber(y, b).\r\n     */\r\n    P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n      return div(this, new BigNumber(y, b), 0, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n     *\r\n     * If m is present, return the result modulo m.\r\n     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n     *\r\n     * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n     *\r\n     * n {number|string|BigNumber} The exponent. An integer.\r\n     * [m] {number|string|BigNumber} The modulus.\r\n     *\r\n     * '[BigNumber Error] Exponent not an integer: {n}'\r\n     */\r\n    P.exponentiatedBy = P.pow = function (n, m) {\r\n      var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n        x = this;\r\n\r\n      n = new BigNumber(n);\r\n\r\n      // Allow NaN and ±Infinity, but not other non-integers.\r\n      if (n.c && !n.isInteger()) {\r\n        throw Error\r\n          (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n      }\r\n\r\n      if (m != null) m = new BigNumber(m);\r\n\r\n      // Exponent of MAX_SAFE_INTEGER is 15.\r\n      nIsBig = n.e > 14;\r\n\r\n      // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n        // The sign of the result of pow when x is negative depends on the evenness of n.\r\n        // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n        y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? 2 - isOdd(n) : +valueOf(n)));\r\n        return m ? y.mod(m) : y;\r\n      }\r\n\r\n      nIsNeg = n.s < 0;\r\n\r\n      if (m) {\r\n\r\n        // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n        isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n        if (isModExp) x = x.mod(m);\r\n\r\n      // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n      // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n        // [1, 240000000]\r\n        ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n        // [80000000000000]  [99999750000000]\r\n        : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n        // If x is negative and n is odd, k = -0, else k = 0.\r\n        k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n        // If x >= 1, k = ±Infinity.\r\n        if (x.e > -1) k = 1 / k;\r\n\r\n        // If n is negative return ±0, else return ±Infinity.\r\n        return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n      } else if (POW_PRECISION) {\r\n\r\n        // Truncating each coefficient array to a length of k after each multiplication\r\n        // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n        // i.e. there will be a minimum of 28 guard digits retained.\r\n        k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n      }\r\n\r\n      if (nIsBig) {\r\n        half = new BigNumber(0.5);\r\n        if (nIsNeg) n.s = 1;\r\n        nIsOdd = isOdd(n);\r\n      } else {\r\n        i = Math.abs(+valueOf(n));\r\n        nIsOdd = i % 2;\r\n      }\r\n\r\n      y = new BigNumber(ONE);\r\n\r\n      // Performs 54 loop iterations for n of 9007199254740991.\r\n      for (; ;) {\r\n\r\n        if (nIsOdd) {\r\n          y = y.times(x);\r\n          if (!y.c) break;\r\n\r\n          if (k) {\r\n            if (y.c.length > k) y.c.length = k;\r\n          } else if (isModExp) {\r\n            y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n          }\r\n        }\r\n\r\n        if (i) {\r\n          i = mathfloor(i / 2);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        } else {\r\n          n = n.times(half);\r\n          round(n, n.e + 1, 1);\r\n\r\n          if (n.e > 14) {\r\n            nIsOdd = isOdd(n);\r\n          } else {\r\n            i = +valueOf(n);\r\n            if (i === 0) break;\r\n            nIsOdd = i % 2;\r\n          }\r\n        }\r\n\r\n        x = x.times(x);\r\n\r\n        if (k) {\r\n          if (x.c && x.c.length > k) x.c.length = k;\r\n        } else if (isModExp) {\r\n          x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (isModExp) return y;\r\n      if (nIsNeg) y = ONE.div(y);\r\n\r\n      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n     */\r\n    P.integerValue = function (rm) {\r\n      var n = new BigNumber(this);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n      return round(n, n.e + 1, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isEqualTo = P.eq = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n     */\r\n    P.isFinite = function () {\r\n      return !!this.c;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isGreaterThan = P.gt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n     */\r\n    P.isInteger = function () {\r\n      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isLessThan = P.lt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n     */\r\n    P.isNaN = function () {\r\n      return !this.s;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is negative, otherwise return false.\r\n     */\r\n    P.isNegative = function () {\r\n      return this.s < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is positive, otherwise return false.\r\n     */\r\n    P.isPositive = function () {\r\n      return this.s > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n     */\r\n    P.isZero = function () {\r\n      return !!this.c && this.c[0] == 0;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n - 0 = n\r\n     *  n - N = N\r\n     *  n - I = -I\r\n     *  0 - n = -n\r\n     *  0 - 0 = 0\r\n     *  0 - N = N\r\n     *  0 - I = -I\r\n     *  N - n = N\r\n     *  N - 0 = N\r\n     *  N - N = N\r\n     *  N - I = N\r\n     *  I - n = I\r\n     *  I - 0 = I\r\n     *  I - N = N\r\n     *  I - I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.minus = function (y, b) {\r\n      var i, j, t, xLTy,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n      if (a != b) {\r\n        y.s = -b;\r\n        return x.plus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Either Infinity?\r\n        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n           // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n           ROUNDING_MODE == 3 ? -0 : 0);\r\n        }\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Determine which is the bigger number.\r\n      if (a = xe - ye) {\r\n\r\n        if (xLTy = a < 0) {\r\n          a = -a;\r\n          t = xc;\r\n        } else {\r\n          ye = xe;\r\n          t = yc;\r\n        }\r\n\r\n        t.reverse();\r\n\r\n        // Prepend zeros to equalise exponents.\r\n        for (b = a; b--; t.push(0));\r\n        t.reverse();\r\n      } else {\r\n\r\n        // Exponents equal. Check digit by digit.\r\n        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n        for (a = b = 0; b < j; b++) {\r\n\r\n          if (xc[b] != yc[b]) {\r\n            xLTy = xc[b] < yc[b];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // x < y? Point xc to the array of the bigger number.\r\n      if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n      b = (j = yc.length) - (i = xc.length);\r\n\r\n      // Append zeros to xc if shorter.\r\n      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n      if (b > 0) for (; b--; xc[i++] = 0);\r\n      b = BASE - 1;\r\n\r\n      // Subtract yc from xc.\r\n      for (; j > a;) {\r\n\r\n        if (xc[--j] < yc[j]) {\r\n          for (i = j; i && !xc[--i]; xc[i] = b);\r\n          --xc[i];\r\n          xc[j] += BASE;\r\n        }\r\n\r\n        xc[j] -= yc[j];\r\n      }\r\n\r\n      // Remove leading zeros and adjust exponent accordingly.\r\n      for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n      // Zero?\r\n      if (!xc[0]) {\r\n\r\n        // Following IEEE 754 (2008) 6.3,\r\n        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n        y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n        y.c = [y.e = 0];\r\n        return y;\r\n      }\r\n\r\n      // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n      // for finite x and y.\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     *   n % 0 =  N\r\n     *   n % N =  N\r\n     *   n % I =  n\r\n     *   0 % n =  0\r\n     *  -0 % n = -0\r\n     *   0 % 0 =  N\r\n     *   0 % N =  N\r\n     *   0 % I =  0\r\n     *   N % n =  N\r\n     *   N % 0 =  N\r\n     *   N % N =  N\r\n     *   N % I =  N\r\n     *   I % n =  N\r\n     *   I % 0 =  N\r\n     *   I % N =  N\r\n     *   I % I =  N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n     * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n     */\r\n    P.modulo = P.mod = function (y, b) {\r\n      var q, s,\r\n        x = this;\r\n\r\n      y = new BigNumber(y, b);\r\n\r\n      // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n      if (!x.c || !y.s || y.c && !y.c[0]) {\r\n        return new BigNumber(NaN);\r\n\r\n      // Return x if y is Infinity or x is zero.\r\n      } else if (!y.c || x.c && !x.c[0]) {\r\n        return new BigNumber(x);\r\n      }\r\n\r\n      if (MODULO_MODE == 9) {\r\n\r\n        // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n        // r = x - qy    where  0 <= r < abs(y)\r\n        s = y.s;\r\n        y.s = 1;\r\n        q = div(x, y, 0, 3);\r\n        y.s = s;\r\n        q.s *= s;\r\n      } else {\r\n        q = div(x, y, 0, MODULO_MODE);\r\n      }\r\n\r\n      y = x.minus(q.times(y));\r\n\r\n      // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n      return y;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n * 0 = 0\r\n     *  n * N = N\r\n     *  n * I = I\r\n     *  0 * n = 0\r\n     *  0 * 0 = 0\r\n     *  0 * N = N\r\n     *  0 * I = N\r\n     *  N * n = N\r\n     *  N * 0 = N\r\n     *  N * N = N\r\n     *  N * I = N\r\n     *  I * n = I\r\n     *  I * 0 = N\r\n     *  I * N = N\r\n     *  I * I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n     * of BigNumber(y, b).\r\n     */\r\n    P.multipliedBy = P.times = function (y, b) {\r\n      var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n        base, sqrtBase,\r\n        x = this,\r\n        xc = x.c,\r\n        yc = (y = new BigNumber(y, b)).c;\r\n\r\n      // Either NaN, ±Infinity or ±0?\r\n      if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n        // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n          y.c = y.e = y.s = null;\r\n        } else {\r\n          y.s *= x.s;\r\n\r\n          // Return ±Infinity if either is ±Infinity.\r\n          if (!xc || !yc) {\r\n            y.c = y.e = null;\r\n\r\n          // Return ±0 if either is ±0.\r\n          } else {\r\n            y.c = [0];\r\n            y.e = 0;\r\n          }\r\n        }\r\n\r\n        return y;\r\n      }\r\n\r\n      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n      y.s *= x.s;\r\n      xcL = xc.length;\r\n      ycL = yc.length;\r\n\r\n      // Ensure xc points to longer array and xcL to its length.\r\n      if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n      // Initialise the result array with zeros.\r\n      for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n      base = BASE;\r\n      sqrtBase = SQRT_BASE;\r\n\r\n      for (i = ycL; --i >= 0;) {\r\n        c = 0;\r\n        ylo = yc[i] % sqrtBase;\r\n        yhi = yc[i] / sqrtBase | 0;\r\n\r\n        for (k = xcL, j = i + k; j > i;) {\r\n          xlo = xc[--k] % sqrtBase;\r\n          xhi = xc[k] / sqrtBase | 0;\r\n          m = yhi * xlo + xhi * ylo;\r\n          xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n          zc[j--] = xlo % base;\r\n        }\r\n\r\n        zc[j] = c;\r\n      }\r\n\r\n      if (c) {\r\n        ++e;\r\n      } else {\r\n        zc.splice(0, 1);\r\n      }\r\n\r\n      return normalise(y, zc, e);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n     * i.e. multiplied by -1.\r\n     */\r\n    P.negated = function () {\r\n      var x = new BigNumber(this);\r\n      x.s = -x.s || null;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n + 0 = n\r\n     *  n + N = N\r\n     *  n + I = I\r\n     *  0 + n = n\r\n     *  0 + 0 = 0\r\n     *  0 + N = N\r\n     *  0 + I = I\r\n     *  N + n = N\r\n     *  N + 0 = N\r\n     *  N + N = N\r\n     *  N + I = N\r\n     *  I + n = I\r\n     *  I + 0 = I\r\n     *  I + N = N\r\n     *  I + I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.plus = function (y, b) {\r\n      var t,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n       if (a != b) {\r\n        y.s = -b;\r\n        return x.minus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Return ±Infinity if either ±Infinity.\r\n        if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n        // Either zero?\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n      if (a = xe - ye) {\r\n        if (a > 0) {\r\n          ye = xe;\r\n          t = yc;\r\n        } else {\r\n          a = -a;\r\n          t = xc;\r\n        }\r\n\r\n        t.reverse();\r\n        for (; a--; t.push(0));\r\n        t.reverse();\r\n      }\r\n\r\n      a = xc.length;\r\n      b = yc.length;\r\n\r\n      // Point xc to the longer array, and b to the shorter length.\r\n      if (a - b < 0) t = yc, yc = xc, xc = t, b = a;\r\n\r\n      // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n      for (a = 0; b;) {\r\n        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n      }\r\n\r\n      if (a) {\r\n        xc = [a].concat(xc);\r\n        ++ye;\r\n      }\r\n\r\n      // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n      // ye = MAX_EXP + 1 possible\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     * If sd is undefined or null or true or false, return the number of significant digits of\r\n     * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n     * If sd is true include integer-part trailing zeros in the count.\r\n     *\r\n     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n     *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.precision = P.sd = function (sd, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (sd != null && sd !== !!sd) {\r\n        intCheck(sd, 1, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), sd, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      v = c.length - 1;\r\n      n = v * LOG_BASE + 1;\r\n\r\n      if (v = c[v]) {\r\n\r\n        // Subtract the number of trailing zeros of the last element.\r\n        for (; v % 10 == 0; v /= 10, n--);\r\n\r\n        // Add the number of digits of the first element.\r\n        for (v = c[0]; v >= 10; v /= 10, n++);\r\n      }\r\n\r\n      if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n     *\r\n     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n     */\r\n    P.shiftedBy = function (k) {\r\n      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n      return this.times('1e' + k);\r\n    };\r\n\r\n\r\n    /*\r\n     *  sqrt(-n) =  N\r\n     *  sqrt(N) =  N\r\n     *  sqrt(-I) =  N\r\n     *  sqrt(I) =  I\r\n     *  sqrt(0) =  0\r\n     *  sqrt(-0) = -0\r\n     *\r\n     * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.squareRoot = P.sqrt = function () {\r\n      var m, n, r, rep, t,\r\n        x = this,\r\n        c = x.c,\r\n        s = x.s,\r\n        e = x.e,\r\n        dp = DECIMAL_PLACES + 4,\r\n        half = new BigNumber('0.5');\r\n\r\n      // Negative/NaN/Infinity/zero?\r\n      if (s !== 1 || !c || !c[0]) {\r\n        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n      }\r\n\r\n      // Initial estimate.\r\n      s = Math.sqrt(+valueOf(x));\r\n\r\n      // Math.sqrt underflow/overflow?\r\n      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n      if (s == 0 || s == 1 / 0) {\r\n        n = coeffToString(c);\r\n        if ((n.length + e) % 2 == 0) n += '0';\r\n        s = Math.sqrt(+n);\r\n        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n        if (s == 1 / 0) {\r\n          n = '1e' + e;\r\n        } else {\r\n          n = s.toExponential();\r\n          n = n.slice(0, n.indexOf('e') + 1) + e;\r\n        }\r\n\r\n        r = new BigNumber(n);\r\n      } else {\r\n        r = new BigNumber(s + '');\r\n      }\r\n\r\n      // Check for zero.\r\n      // r could be zero if MIN_EXP is changed after the this value was created.\r\n      // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n      // coeffToString to throw.\r\n      if (r.c[0]) {\r\n        e = r.e;\r\n        s = e + dp;\r\n        if (s < 3) s = 0;\r\n\r\n        // Newton-Raphson iteration.\r\n        for (; ;) {\r\n          t = r;\r\n          r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n            // The exponent of r may here be one less than the final result exponent,\r\n            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n            // are indexed correctly.\r\n            if (r.e < e) --s;\r\n            n = n.slice(s - 3, s + 1);\r\n\r\n            // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n            // iteration.\r\n            if (n == '9999' || !rep && n == '4999') {\r\n\r\n              // On the first iteration only, check to see if rounding up gives the\r\n              // exact result as the nines may infinitely repeat.\r\n              if (!rep) {\r\n                round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n                if (t.times(t).eq(x)) {\r\n                  r = t;\r\n                  break;\r\n                }\r\n              }\r\n\r\n              dp += 4;\r\n              s += 4;\r\n              rep = 1;\r\n            } else {\r\n\r\n              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n              // result. If not, then there are further digits and m will be truthy.\r\n              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n                // Truncate to the first rounding digit.\r\n                round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n                m = !r.times(r).eq(x);\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in exponential notation and\r\n     * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toExponential = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp++;\r\n      }\r\n      return format(this, dp, rm, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n     * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toFixed = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp = dp + this.e + 1;\r\n      }\r\n      return format(this, dp, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n     * of the format or FORMAT object (see BigNumber.set).\r\n     *\r\n     * The formatting object may contain some or all of the properties shown below.\r\n     *\r\n     * FORMAT = {\r\n     *   prefix: '',\r\n     *   groupSize: 3,\r\n     *   secondaryGroupSize: 0,\r\n     *   groupSeparator: ',',\r\n     *   decimalSeparator: '.',\r\n     *   fractionGroupSize: 0,\r\n     *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n     *   suffix: ''\r\n     * };\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     * [format] {object} Formatting options. See FORMAT pbject above.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     * '[BigNumber Error] Argument not an object: {format}'\r\n     */\r\n    P.toFormat = function (dp, rm, format) {\r\n      var str,\r\n        x = this;\r\n\r\n      if (format == null) {\r\n        if (dp != null && rm && typeof rm == 'object') {\r\n          format = rm;\r\n          rm = null;\r\n        } else if (dp && typeof dp == 'object') {\r\n          format = dp;\r\n          dp = rm = null;\r\n        } else {\r\n          format = FORMAT;\r\n        }\r\n      } else if (typeof format != 'object') {\r\n        throw Error\r\n          (bignumberError + 'Argument not an object: ' + format);\r\n      }\r\n\r\n      str = x.toFixed(dp, rm);\r\n\r\n      if (x.c) {\r\n        var i,\r\n          arr = str.split('.'),\r\n          g1 = +format.groupSize,\r\n          g2 = +format.secondaryGroupSize,\r\n          groupSeparator = format.groupSeparator || '',\r\n          intPart = arr[0],\r\n          fractionPart = arr[1],\r\n          isNeg = x.s < 0,\r\n          intDigits = isNeg ? intPart.slice(1) : intPart,\r\n          len = intDigits.length;\r\n\r\n        if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n        if (g1 > 0 && len > 0) {\r\n          i = len % g1 || g1;\r\n          intPart = intDigits.substr(0, i);\r\n          for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n          if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n          if (isNeg) intPart = '-' + intPart;\r\n        }\r\n\r\n        str = fractionPart\r\n         ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n          ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n           '$&' + (format.fractionGroupSeparator || ''))\r\n          : fractionPart)\r\n         : intPart;\r\n      }\r\n\r\n      return (format.prefix || '') + str + (format.suffix || '');\r\n    };\r\n\r\n\r\n    /*\r\n     * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n     * fraction with an integer numerator and an integer denominator.\r\n     * The denominator will be a positive non-zero value less than or equal to the specified\r\n     * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n     * the lowest value necessary to represent the number exactly.\r\n     *\r\n     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n     *\r\n     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n     */\r\n    P.toFraction = function (md) {\r\n      var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n        x = this,\r\n        xc = x.c;\r\n\r\n      if (md != null) {\r\n        n = new BigNumber(md);\r\n\r\n        // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n          throw Error\r\n            (bignumberError + 'Argument ' +\r\n              (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n        }\r\n      }\r\n\r\n      if (!xc) return new BigNumber(x);\r\n\r\n      d = new BigNumber(ONE);\r\n      n1 = d0 = new BigNumber(ONE);\r\n      d1 = n0 = new BigNumber(ONE);\r\n      s = coeffToString(xc);\r\n\r\n      // Determine initial denominator.\r\n      // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n      e = d.e = s.length - x.e - 1;\r\n      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n      md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n      exp = MAX_EXP;\r\n      MAX_EXP = 1 / 0;\r\n      n = new BigNumber(s);\r\n\r\n      // n0 = d1 = 0\r\n      n0.c[0] = 0;\r\n\r\n      for (; ;)  {\r\n        q = div(n, d, 0, 1);\r\n        d2 = d0.plus(q.times(d1));\r\n        if (d2.comparedTo(md) == 1) break;\r\n        d0 = d1;\r\n        d1 = d2;\r\n        n1 = n0.plus(q.times(d2 = n1));\r\n        n0 = d2;\r\n        d = n.minus(q.times(d2 = d));\r\n        n = d2;\r\n      }\r\n\r\n      d2 = div(md.minus(d0), d1, 0, 1);\r\n      n0 = n0.plus(d2.times(n1));\r\n      d0 = d0.plus(d2.times(d1));\r\n      n0.s = n1.s = x.s;\r\n      e = e * 2;\r\n\r\n      // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n      r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n          div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n      MAX_EXP = exp;\r\n\r\n      return r;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return the value of this BigNumber converted to a number primitive.\r\n     */\r\n    P.toNumber = function () {\r\n      return +valueOf(this);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n     * necessary to represent the integer part of the value in fixed-point notation, then use\r\n     * exponential notation.\r\n     *\r\n     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.toPrecision = function (sd, rm) {\r\n      if (sd != null) intCheck(sd, 1, MAX);\r\n      return format(this, sd, rm, 2);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n     * TO_EXP_NEG, return exponential notation.\r\n     *\r\n     * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n     *\r\n     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n     */\r\n    P.toString = function (b) {\r\n      var str,\r\n        n = this,\r\n        s = n.s,\r\n        e = n.e;\r\n\r\n      // Infinity or NaN?\r\n      if (e === null) {\r\n        if (s) {\r\n          str = 'Infinity';\r\n          if (s < 0) str = '-' + str;\r\n        } else {\r\n          str = 'NaN';\r\n        }\r\n      } else {\r\n        if (b == null) {\r\n          str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n           ? toExponential(coeffToString(n.c), e)\r\n           : toFixedPoint(coeffToString(n.c), e, '0');\r\n        } else if (b === 10) {\r\n          n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n          str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n        } else {\r\n          intCheck(b, 2, ALPHABET.length, 'Base');\r\n          str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n        }\r\n\r\n        if (s < 0 && n.c[0]) str = '-' + str;\r\n      }\r\n\r\n      return str;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return as toString, but do not accept a base argument, and include the minus sign for\r\n     * negative zero.\r\n     */\r\n    P.valueOf = P.toJSON = function () {\r\n      return valueOf(this);\r\n    };\r\n\r\n\r\n    P._isBigNumber = true;\r\n\r\n    if (hasSymbol) {\r\n      P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n      // Node.js v10.12.0+\r\n      P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n    }\r\n\r\n    if (configObject != null) BigNumber.set(configObject);\r\n\r\n    return BigNumber;\r\n  }\r\n\r\n\r\n  // PRIVATE HELPER FUNCTIONS\r\n\r\n  // These functions don't need access to variables,\r\n  // e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\n  function bitFloor(n) {\r\n    var i = n | 0;\r\n    return n > 0 || n === i ? i : i - 1;\r\n  }\r\n\r\n\r\n  // Return a coefficient array as a string of base 10 digits.\r\n  function coeffToString(a) {\r\n    var s, z,\r\n      i = 1,\r\n      j = a.length,\r\n      r = a[0] + '';\r\n\r\n    for (; i < j;) {\r\n      s = a[i++] + '';\r\n      z = LOG_BASE - s.length;\r\n      for (; z--; s = '0' + s);\r\n      r += s;\r\n    }\r\n\r\n    // Determine trailing zeros.\r\n    for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n    return r.slice(0, j + 1 || 1);\r\n  }\r\n\r\n\r\n  // Compare the value of BigNumbers x and y.\r\n  function compare(x, y) {\r\n    var a, b,\r\n      xc = x.c,\r\n      yc = y.c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either NaN?\r\n    if (!i || !j) return null;\r\n\r\n    a = xc && !xc[0];\r\n    b = yc && !yc[0];\r\n\r\n    // Either zero?\r\n    if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    a = i < 0;\r\n    b = k == l;\r\n\r\n    // Either Infinity?\r\n    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n    // Compare exponents.\r\n    if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n  }\r\n\r\n\r\n  /*\r\n   * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n   */\r\n  function intCheck(n, min, max, name) {\r\n    if (n < min || n > max || n !== mathfloor(n)) {\r\n      throw Error\r\n       (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n         ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n         : ' not a primitive number: ') + String(n));\r\n    }\r\n  }\r\n\r\n\r\n  // Assumes finite n.\r\n  function isOdd(n) {\r\n    var k = n.c.length - 1;\r\n    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n  }\r\n\r\n\r\n  function toExponential(str, e) {\r\n    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n     (e < 0 ? 'e' : 'e+') + e;\r\n  }\r\n\r\n\r\n  function toFixedPoint(str, e, z) {\r\n    var len, zs;\r\n\r\n    // Negative exponent?\r\n    if (e < 0) {\r\n\r\n      // Prepend zeros.\r\n      for (zs = z + '.'; ++e; zs += z);\r\n      str = zs + str;\r\n\r\n    // Positive exponent\r\n    } else {\r\n      len = str.length;\r\n\r\n      // Append zeros.\r\n      if (++e > len) {\r\n        for (zs = z, e -= len; --e; zs += z);\r\n        str += zs;\r\n      } else if (e < len) {\r\n        str = str.slice(0, e) + '.' + str.slice(e);\r\n      }\r\n    }\r\n\r\n    return str;\r\n  }\r\n\r\n\r\n  // EXPORT\r\n\r\n\r\n  BigNumber = clone();\r\n  BigNumber['default'] = BigNumber.BigNumber = BigNumber;\r\n\r\n  // AMD.\r\n  if (typeof define == 'function' && define.amd) {\r\n    define(function () { return BigNumber; });\r\n\r\n  // Node.js and other environments that support module.exports.\r\n  } else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = BigNumber;\r\n\r\n  // Browser.\r\n  } else {\r\n    if (!globalObject) {\r\n      globalObject = typeof self != 'undefined' && self ? self : window;\r\n    }\r\n\r\n    globalObject.BigNumber = BigNumber;\r\n  }\r\n})(this);\r\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nmodule.exports = {\n    languageTag: \"en-US\",\n    delimiters: {\n        thousands: \",\",\n        decimal: \".\"\n    },\n    abbreviations: {\n        thousand: \"k\",\n        million: \"m\",\n        billion: \"b\",\n        trillion: \"t\"\n    },\n    spaceSeparated: false,\n    ordinal: function(number) {\n        let b = number % 10;\n        return (~~(number % 100 / 10) === 1) ? \"th\" : (b === 1) ? \"st\" : (b === 2) ? \"nd\" : (b === 3) ? \"rd\" : \"th\";\n    },\n    bytes: {\n        binarySuffixes: [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"],\n        decimalSuffixes: [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"]\n    },\n    currency: {\n        symbol: \"$\",\n        position: \"prefix\",\n        code: \"USD\"\n    },\n    currencyFormat: {\n        thousandSeparated: true,\n        totalLength: 4,\n        spaceSeparated: true,\n        spaceSeparatedCurrency: true\n    },\n    formats: {\n        fourDigits: {\n            totalLength: 4,\n            spaceSeparated: true\n        },\n        fullWithTwoDecimals: {\n            output: \"currency\",\n            thousandSeparated: true,\n            mantissa: 2\n        },\n        fullWithTwoDecimalsNoCurrency: {\n            thousandSeparated: true,\n            mantissa: 2\n        },\n        fullWithNoDecimals: {\n            output: \"currency\",\n            thousandSeparated: true,\n            mantissa: 0\n        }\n    }\n};\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst globalState = require(\"./globalState\");\nconst validating = require(\"./validating\");\nconst parsing = require(\"./parsing\");\n\nconst powers = {\n    trillion: Math.pow(10, 12),\n    billion: Math.pow(10, 9),\n    million: Math.pow(10, 6),\n    thousand: Math.pow(10, 3)\n};\n\nconst defaultOptions = {\n    totalLength: 0,\n    characteristic: 0,\n    forceAverage: false,\n    average: false,\n    mantissa: -1,\n    optionalMantissa: true,\n    thousandSeparated: false,\n    spaceSeparated: false,\n    negative: \"sign\",\n    forceSign: false,\n    roundingFunction: Math.round,\n    spaceSeparatedAbbreviation: false\n};\n\nconst { binarySuffixes, decimalSuffixes } = globalState.currentBytes();\n\nconst bytes = {\n    general: { scale: 1024, suffixes: decimalSuffixes, marker: \"bd\" },\n    binary: { scale: 1024, suffixes: binarySuffixes, marker: \"b\" },\n    decimal: { scale: 1000, suffixes: decimalSuffixes, marker: \"d\" }\n};\n\n/**\n * Entry point. Format the provided INSTANCE according to the PROVIDEDFORMAT.\n * This method ensure the prefix and postfix are added as the last step.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {NumbroFormat|string} [providedFormat] - specification for formatting\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction format(instance, providedFormat = {}, numbro) {\n    if (typeof providedFormat === \"string\") {\n        providedFormat = parsing.parseFormat(providedFormat);\n    }\n\n    let valid = validating.validateFormat(providedFormat);\n\n    if (!valid) {\n        return \"ERROR: invalid format\";\n    }\n\n    let prefix = providedFormat.prefix || \"\";\n    let postfix = providedFormat.postfix || \"\";\n\n    let output = formatNumbro(instance, providedFormat, numbro);\n    output = insertPrefix(output, prefix);\n    output = insertPostfix(output, postfix);\n    return output;\n}\n\n/**\n * Format the provided INSTANCE according to the PROVIDEDFORMAT.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction formatNumbro(instance, providedFormat, numbro) {\n    switch (providedFormat.output) {\n        case \"currency\": {\n            providedFormat = formatOrDefault(providedFormat, globalState.currentCurrencyDefaultFormat());\n            return formatCurrency(instance, providedFormat, globalState, numbro);\n        }\n        case \"percent\": {\n            providedFormat = formatOrDefault(providedFormat, globalState.currentPercentageDefaultFormat());\n            return formatPercentage(instance, providedFormat, globalState, numbro);\n        }\n        case \"byte\":\n            providedFormat = formatOrDefault(providedFormat, globalState.currentByteDefaultFormat());\n            return formatByte(instance, providedFormat, globalState, numbro);\n        case \"time\":\n            providedFormat = formatOrDefault(providedFormat, globalState.currentTimeDefaultFormat());\n            return formatTime(instance, providedFormat, globalState, numbro);\n        case \"ordinal\":\n            providedFormat = formatOrDefault(providedFormat, globalState.currentOrdinalDefaultFormat());\n            return formatOrdinal(instance, providedFormat, globalState, numbro);\n        case \"number\":\n        default:\n            return formatNumber({\n                instance,\n                providedFormat,\n                numbro\n            });\n    }\n}\n\n/**\n * Get the decimal byte unit (MB) for the provided numbro INSTANCE.\n * We go from one unit to another using the decimal system (1000).\n *\n * @param {Numbro} instance - numbro instance to compute\n * @return {String}\n */\nfunction getDecimalByteUnit(instance) {\n    let data = bytes.decimal;\n    return getFormatByteUnits(instance._value, data.suffixes, data.scale).suffix;\n}\n\n/**\n * Get the binary byte unit (MiB) for the provided numbro INSTANCE.\n * We go from one unit to another using the decimal system (1024).\n *\n * @param {Numbro} instance - numbro instance to compute\n * @return {String}\n */\nfunction getBinaryByteUnit(instance) {\n    let data = bytes.binary;\n    return getFormatByteUnits(instance._value, data.suffixes, data.scale).suffix;\n}\n\n/**\n * Get the decimal byte unit (MB) for the provided numbro INSTANCE.\n * We go from one unit to another using the decimal system (1024).\n *\n * @param {Numbro} instance - numbro instance to compute\n * @return {String}\n */\nfunction getByteUnit(instance) {\n    let data = bytes.general;\n    return getFormatByteUnits(instance._value, data.suffixes, data.scale).suffix;\n}\n\n/**\n * Return the value and the suffix computed in byte.\n * It uses the SUFFIXES and the SCALE provided.\n *\n * @param {number} value - Number to format\n * @param {[String]} suffixes - List of suffixes\n * @param {number} scale - Number in-between two units\n * @return {{value: Number, suffix: String}}\n */\nfunction getFormatByteUnits(value, suffixes, scale) {\n    let suffix = suffixes[0];\n    let abs = Math.abs(value);\n\n    if (abs >= scale) {\n        for (let power = 1; power < suffixes.length; ++power) {\n            let min = Math.pow(scale, power);\n            let max = Math.pow(scale, power + 1);\n\n            if (abs >= min && abs < max) {\n                suffix = suffixes[power];\n                value = value / min;\n                break;\n            }\n        }\n\n        // values greater than or equal to [scale] YB never set the suffix\n        if (suffix === suffixes[0]) {\n            value = value / Math.pow(scale, suffixes.length - 1);\n            suffix = suffixes[suffixes.length - 1];\n        }\n    }\n\n    return { value, suffix };\n}\n\n/**\n * Format the provided INSTANCE as bytes using the PROVIDEDFORMAT, and STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction formatByte(instance, providedFormat, state, numbro) {\n    let base = providedFormat.base || \"binary\";\n    let options = Object.assign({}, defaultOptions, providedFormat);\n\n    const { binarySuffixes: localBinarySuffixes, decimalSuffixes: localDecimalSuffixes } = state.currentBytes();\n\n    const localBytes = {\n        general: { scale: 1024, suffixes: localDecimalSuffixes || decimalSuffixes, marker: \"bd\" },\n        binary: { scale: 1024, suffixes: localBinarySuffixes || binarySuffixes, marker: \"b\" },\n        decimal: { scale: 1000, suffixes: localDecimalSuffixes || decimalSuffixes, marker: \"d\" }\n    };\n    let baseInfo = localBytes[base];\n\n    let { value, suffix } = getFormatByteUnits(instance._value, baseInfo.suffixes, baseInfo.scale);\n\n    let output = formatNumber({\n        instance: numbro(value),\n        providedFormat,\n        state,\n        defaults: state.currentByteDefaultFormat()\n    });\n\n    return `${output}${options.spaceSeparated ? \" \" : \"\"}${suffix}`;\n}\n\n/**\n * Format the provided INSTANCE as an ordinal using the PROVIDEDFORMAT,\n * and the STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @return {string}\n */\nfunction formatOrdinal(instance, providedFormat, state) {\n    let ordinalFn = state.currentOrdinal();\n    let options = Object.assign({}, defaultOptions, providedFormat);\n\n    let output = formatNumber({\n        instance,\n        providedFormat,\n        state\n    });\n    let ordinal = ordinalFn(instance._value);\n\n    return `${output}${options.spaceSeparated ? \" \" : \"\"}${ordinal}`;\n}\n\n/**\n * Format the provided INSTANCE as a time HH:MM:SS.\n *\n * @param {Numbro} instance - numbro instance to format\n * @return {string}\n */\nfunction formatTime(instance) {\n    let hours = Math.floor(instance._value / 60 / 60);\n    let minutes = Math.floor((instance._value - (hours * 60 * 60)) / 60);\n    let seconds = Math.round(instance._value - (hours * 60 * 60) - (minutes * 60));\n    return `${hours}:${(minutes < 10) ? \"0\" : \"\"}${minutes}:${(seconds < 10) ? \"0\" : \"\"}${seconds}`;\n}\n\n/**\n * Format the provided INSTANCE as a percentage using the PROVIDEDFORMAT,\n * and the STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction formatPercentage(instance, providedFormat, state, numbro) {\n    let prefixSymbol = providedFormat.prefixSymbol;\n\n    let output = formatNumber({\n        instance: numbro(instance._value * 100),\n        providedFormat,\n        state\n    });\n    let options = Object.assign({}, defaultOptions, providedFormat);\n\n    if (prefixSymbol) {\n        return `%${options.spaceSeparated ? \" \" : \"\"}${output}`;\n    }\n\n    return `${output}${options.spaceSeparated ? \" \" : \"\"}%`;\n}\n\n/**\n * Format the provided INSTANCE as a percentage using the PROVIDEDFORMAT,\n * and the STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @return {string}\n */\nfunction formatCurrency(instance, providedFormat, state) {\n    const currentCurrency = state.currentCurrency();\n    let options = Object.assign({}, defaultOptions, providedFormat);\n    let decimalSeparator = undefined;\n    let space = \"\";\n    let average = !!options.totalLength || !!options.forceAverage || options.average;\n    let position = providedFormat.currencyPosition || currentCurrency.position;\n    let symbol = providedFormat.currencySymbol || currentCurrency.symbol;\n    const spaceSeparatedCurrency = options.spaceSeparatedCurrency !== void 0\n        ? options.spaceSeparatedCurrency : options.spaceSeparated;\n\n    if (providedFormat.lowPrecision === undefined) {\n        providedFormat.lowPrecision = false;\n    }\n\n    if (spaceSeparatedCurrency) {\n        space = \" \";\n    }\n\n    if (position === \"infix\") {\n        decimalSeparator = space + symbol + space;\n    }\n\n    let output = formatNumber({\n        instance,\n        providedFormat,\n        state,\n        decimalSeparator\n    });\n\n    if (position === \"prefix\") {\n        if (instance._value < 0 && options.negative === \"sign\") {\n            output = `-${space}${symbol}${output.slice(1)}`;\n        } else if (instance._value > 0 && options.forceSign) {\n            output = `+${space}${symbol}${output.slice(1)}`;\n        } else {\n            output = symbol + space + output;\n        }\n    }\n\n    if (!position || position === \"postfix\") {\n        space = !options.spaceSeparatedAbbreviation && average ? \"\" : space;\n        output = output + space + symbol;\n    }\n\n    return output;\n}\n\n/**\n * Compute the average value out of VALUE.\n * The other parameters are computation options.\n *\n * @param {number} value - value to compute\n * @param {string} [forceAverage] - forced unit used to compute\n * @param {boolean} [lowPrecision=true] - reduce average precision\n * @param {{}} abbreviations - part of the language specification\n * @param {boolean} spaceSeparated - `true` if a space must be inserted between the value and the abbreviation\n * @param {number} [totalLength] - total length of the output including the characteristic and the mantissa\n * @param {function} roundingFunction - function used to round numbers\n * @return {{value: number, abbreviation: string, mantissaPrecision: number}}\n */\nfunction computeAverage({ value, forceAverage, lowPrecision = true, abbreviations, spaceSeparated = false, totalLength = 0, roundingFunction = Math.round }) {\n    let abbreviation = \"\";\n    let abs = Math.abs(value);\n    let mantissaPrecision = -1;\n\n    if (forceAverage && abbreviations[forceAverage] && powers[forceAverage]) {\n        abbreviation = abbreviations[forceAverage];\n        value = value / powers[forceAverage];\n    } else {\n        if (abs >= powers.trillion || (lowPrecision && roundingFunction(abs / powers.trillion) === 1)) {\n            // trillion\n            abbreviation = abbreviations.trillion;\n            value = value / powers.trillion;\n        } else if (abs < powers.trillion && abs >= powers.billion || (lowPrecision && roundingFunction(abs / powers.billion) === 1)) {\n            // billion\n            abbreviation = abbreviations.billion;\n            value = value / powers.billion;\n        } else if (abs < powers.billion && abs >= powers.million || (lowPrecision && roundingFunction(abs / powers.million) === 1)) {\n            // million\n            abbreviation = abbreviations.million;\n            value = value / powers.million;\n        } else if (abs < powers.million && abs >= powers.thousand || (lowPrecision && roundingFunction(abs / powers.thousand) === 1)) {\n            // thousand\n            abbreviation = abbreviations.thousand;\n            value = value / powers.thousand;\n        }\n    }\n\n    let optionalSpace = spaceSeparated ? \" \" : \"\";\n\n    if (abbreviation) {\n        abbreviation = optionalSpace + abbreviation;\n    }\n\n    if (totalLength) {\n        let isNegative = value < 0;\n        let characteristic = value.toString().split(\".\")[0];\n\n        let characteristicLength = isNegative\n            ? characteristic.length - 1\n            : characteristic.length;\n\n        mantissaPrecision = Math.max(totalLength - characteristicLength, 0);\n    }\n\n    return { value, abbreviation, mantissaPrecision };\n}\n\n/**\n * Compute an exponential form for VALUE, taking into account CHARACTERISTIC\n * if provided.\n * @param {number} value - value to compute\n * @param {number} [characteristicPrecision] - optional characteristic length\n * @return {{value: number, abbreviation: string}}\n */\nfunction computeExponential({ value, characteristicPrecision = 0 }) {\n    let [numberString, exponential] = value.toExponential().split(\"e\");\n    let number = +numberString;\n\n    if (!characteristicPrecision) {\n        return {\n            value: number,\n            abbreviation: `e${exponential}`\n        };\n    }\n\n    let characteristicLength = 1; // see `toExponential`\n\n    if (characteristicLength < characteristicPrecision) {\n        number = number * Math.pow(10, characteristicPrecision - characteristicLength);\n        exponential = +exponential - (characteristicPrecision - characteristicLength);\n        exponential = exponential >= 0 ? `+${exponential}` : exponential;\n    }\n\n    return {\n        value: number,\n        abbreviation: `e${exponential}`\n    };\n}\n\n/**\n * Return a string of NUMBER zero.\n *\n * @param {number} number - Length of the output\n * @return {string}\n */\nfunction zeroes(number) {\n    let result = \"\";\n    for (let i = 0; i < number; i++) {\n        result += \"0\";\n    }\n\n    return result;\n}\n\n/**\n * Return a string representing VALUE with a PRECISION-long mantissa.\n * This method is for large/small numbers only (a.k.a. including a \"e\").\n *\n * @param {number} value - number to precise\n * @param {number} precision - desired length for the mantissa\n * @return {string}\n */\nfunction toFixedLarge(value, precision) {\n    let result = value.toString();\n\n    let [base, exp] = result.split(\"e\");\n\n    let [characteristic, mantissa = \"\"] = base.split(\".\");\n\n    if (+exp > 0) {\n        result = characteristic + mantissa + zeroes(exp - mantissa.length);\n    } else {\n        let prefix = \".\";\n\n        if (+characteristic < 0) {\n            prefix = `-0${prefix}`;\n        } else {\n            prefix = `0${prefix}`;\n        }\n\n        let suffix = (zeroes(-exp - 1) + Math.abs(characteristic) + mantissa).substr(0, precision);\n        if (suffix.length < precision) {\n            suffix += zeroes(precision - suffix.length);\n        }\n        result = prefix + suffix;\n    }\n\n    if (+exp > 0 && precision > 0) {\n        result += `.${zeroes(precision)}`;\n    }\n\n    return result;\n}\n\n/**\n * Return a string representing VALUE with a PRECISION-long mantissa.\n *\n * @param {number} value - number to precise\n * @param {number} precision - desired length for the mantissa\n * @param {function} roundingFunction - rounding function to be used\n * @return {string}\n */\nfunction toFixed(value, precision, roundingFunction = Math.round) {\n    if (value.toString().indexOf(\"e\") !== -1) {\n        return toFixedLarge(value, precision);\n    }\n\n    return (roundingFunction(+`${value}e+${precision}`) / (Math.pow(10, precision))).toFixed(precision);\n}\n\n/**\n * Return the current OUTPUT with a mantissa precision of PRECISION.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {boolean} optionalMantissa - if `true`, the mantissa is omitted when it's only zeroes\n * @param {number} precision - desired precision of the mantissa\n * @param {boolean} trim - if `true`, trailing zeroes are removed from the mantissa\n * @return {string}\n */\nfunction setMantissaPrecision(output, value, optionalMantissa, precision, trim, roundingFunction) {\n    if (precision === -1) {\n        return output;\n    }\n\n    let result = toFixed(value, precision, roundingFunction);\n    let [currentCharacteristic, currentMantissa = \"\"] = result.toString().split(\".\");\n\n    if (currentMantissa.match(/^0+$/) && (optionalMantissa || trim)) {\n        return currentCharacteristic;\n    }\n\n    let hasTrailingZeroes = currentMantissa.match(/0+$/);\n    if (trim && hasTrailingZeroes) {\n        return `${currentCharacteristic}.${currentMantissa.toString().slice(0, hasTrailingZeroes.index)}`;\n    }\n\n    return result.toString();\n}\n\n/**\n * Return the current OUTPUT with a characteristic precision of PRECISION.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {boolean} optionalCharacteristic - `true` if the characteristic is omitted when it's only zeroes\n * @param {number} precision - desired precision of the characteristic\n * @return {string}\n */\nfunction setCharacteristicPrecision(output, value, optionalCharacteristic, precision) {\n    let result = output;\n    let [currentCharacteristic, currentMantissa] = result.toString().split(\".\");\n\n    if (currentCharacteristic.match(/^-?0$/) && optionalCharacteristic) {\n        if (!currentMantissa) {\n            return currentCharacteristic.replace(\"0\", \"\");\n        }\n\n        return `${currentCharacteristic.replace(\"0\", \"\")}.${currentMantissa}`;\n    }\n\n    const hasNegativeSign = value < 0 && currentCharacteristic.indexOf(\"-\") === 0;\n    if (hasNegativeSign) {\n            // Remove the negative sign\n            currentCharacteristic = currentCharacteristic.slice(1);\n            result = result.slice(1);\n    }\n\n    if (currentCharacteristic.length < precision) {\n        let missingZeros = precision - currentCharacteristic.length;\n        for (let i = 0; i < missingZeros; i++) {\n            result = `0${result}`;\n        }\n    }\n\n    if (hasNegativeSign) {\n        // Add back the minus sign\n        result = `-${result}`;\n    }\n    return result.toString();\n}\n\n/**\n * Return the indexes where are the group separations after splitting\n * `totalLength` in group of `groupSize` size.\n * Important: we start grouping from the right hand side.\n *\n * @param {number} totalLength - total length of the characteristic to split\n * @param {number} groupSize - length of each group\n * @return {[number]}\n */\nfunction indexesOfGroupSpaces(totalLength, groupSize) {\n    let result = [];\n    let counter = 0;\n    for (let i = totalLength; i > 0; i--) {\n        if (counter === groupSize) {\n            result.unshift(i);\n            counter = 0;\n        }\n        counter++;\n    }\n\n    return result;\n}\n\n/**\n * Replace the decimal separator with DECIMALSEPARATOR and insert thousand\n * separators.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {boolean} thousandSeparated - `true` if the characteristic must be separated\n * @param {globalState} state - shared state of the library\n * @param {string} decimalSeparator - string to use as decimal separator\n * @return {string}\n */\nfunction replaceDelimiters(output, value, thousandSeparated, state, decimalSeparator) {\n    let delimiters = state.currentDelimiters();\n    let thousandSeparator = delimiters.thousands;\n    decimalSeparator = decimalSeparator || delimiters.decimal;\n    let thousandsSize = delimiters.thousandsSize || 3;\n\n    let result = output.toString();\n    let characteristic = result.split(\".\")[0];\n    let mantissa = result.split(\".\")[1];\n    const hasNegativeSign = value < 0 && characteristic.indexOf(\"-\") === 0;\n\n    if (thousandSeparated) {\n        if (hasNegativeSign) {\n            // Remove the negative sign\n            characteristic = characteristic.slice(1);\n        }\n\n        let indexesToInsertThousandDelimiters = indexesOfGroupSpaces(characteristic.length, thousandsSize);\n        indexesToInsertThousandDelimiters.forEach((position, index) => {\n            characteristic = characteristic.slice(0, position + index) + thousandSeparator + characteristic.slice(position + index);\n        });\n\n        if (hasNegativeSign) {\n            // Add back the negative sign\n            characteristic = `-${characteristic}`;\n        }\n    }\n\n    if (!mantissa) {\n        result = characteristic;\n    } else {\n        result = characteristic + decimalSeparator + mantissa;\n    }\n    return result;\n}\n\n/**\n * Insert the provided ABBREVIATION at the end of OUTPUT.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {string} abbreviation - abbreviation to append\n * @return {*}\n */\nfunction insertAbbreviation(output, abbreviation) {\n    return output + abbreviation;\n}\n\n/**\n * Insert the positive/negative sign according to the NEGATIVE flag.\n * If the value is negative but still output as 0, the negative sign is removed.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {string} negative - flag for the negative form (\"sign\" or \"parenthesis\")\n * @return {*}\n */\nfunction insertSign(output, value, negative) {\n    if (value === 0) {\n        return output;\n    }\n\n    if (+output === 0) {\n        return output.replace(\"-\", \"\");\n    }\n\n    if (value > 0) {\n        return `+${output}`;\n    }\n\n    if (negative === \"sign\") {\n        return output;\n    }\n\n    return `(${output.replace(\"-\", \"\")})`;\n}\n\n/**\n * Insert the provided PREFIX at the start of OUTPUT.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {string} prefix - abbreviation to prepend\n * @return {*}\n */\nfunction insertPrefix(output, prefix) {\n    return prefix + output;\n}\n\n/**\n * Insert the provided POSTFIX at the end of OUTPUT.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {string} postfix - abbreviation to append\n * @return {*}\n */\nfunction insertPostfix(output, postfix) {\n    return output + postfix;\n}\n\n/**\n * Format the provided INSTANCE as a number using the PROVIDEDFORMAT,\n * and the STATE.\n * This is the key method of the framework!\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} [providedFormat] - specification for formatting\n * @param {globalState} state - shared state of the library\n * @param {string} decimalSeparator - string to use as decimal separator\n * @param {{}} defaults - Set of default values used for formatting\n * @return {string}\n */\nfunction formatNumber({ instance, providedFormat, state = globalState, decimalSeparator, defaults = state.currentDefaults() }) {\n    let value = instance._value;\n\n    if (value === 0 && state.hasZeroFormat()) {\n        return state.getZeroFormat();\n    }\n\n    if (!isFinite(value)) {\n        return value.toString();\n    }\n\n    let options = Object.assign({}, defaultOptions, defaults, providedFormat);\n\n    let totalLength = options.totalLength;\n    let characteristicPrecision = totalLength ? 0 : options.characteristic;\n    let optionalCharacteristic = options.optionalCharacteristic;\n    let forceAverage = options.forceAverage;\n    let lowPrecision = options.lowPrecision;\n    let average = !!totalLength || !!forceAverage || options.average;\n\n    // default when averaging is to chop off decimals\n    let mantissaPrecision = totalLength ? -1 : (average && providedFormat.mantissa === undefined ? 0 : options.mantissa);\n    let optionalMantissa = totalLength ? false : (providedFormat.optionalMantissa === undefined ? mantissaPrecision === -1 : options.optionalMantissa);\n    let trimMantissa = options.trimMantissa;\n    let thousandSeparated = options.thousandSeparated;\n    let spaceSeparated = options.spaceSeparated;\n    let negative = options.negative;\n    let forceSign = options.forceSign;\n    let exponential = options.exponential;\n    let roundingFunction = options.roundingFunction;\n\n    let abbreviation = \"\";\n    if (average) {\n        let data = computeAverage({\n            value,\n            forceAverage,\n            lowPrecision,\n            abbreviations: state.currentAbbreviations(),\n            spaceSeparated,\n            roundingFunction,\n            totalLength\n        });\n\n        value = data.value;\n        abbreviation += data.abbreviation;\n\n        if (totalLength) {\n            mantissaPrecision = data.mantissaPrecision;\n        }\n    }\n\n    if (exponential) {\n        let data = computeExponential({\n            value,\n            characteristicPrecision\n        });\n\n        value = data.value;\n        abbreviation = data.abbreviation + abbreviation;\n    }\n\n    let output = setMantissaPrecision(value.toString(), value, optionalMantissa, mantissaPrecision, trimMantissa, roundingFunction);\n    output = setCharacteristicPrecision(output, value, optionalCharacteristic, characteristicPrecision);\n    output = replaceDelimiters(output, value, thousandSeparated, state, decimalSeparator);\n\n    if (average || exponential) {\n        output = insertAbbreviation(output, abbreviation);\n    }\n\n    if (forceSign || value < 0) {\n        output = insertSign(output, value, negative);\n    }\n\n    return output;\n}\n\n/**\n * If FORMAT is non-null and not just an output, return FORMAT.\n * Return DEFAULTFORMAT otherwise.\n *\n * @param providedFormat\n * @param defaultFormat\n */\nfunction formatOrDefault(providedFormat, defaultFormat) {\n    if (!providedFormat) {\n        return defaultFormat;\n    }\n\n    let keys = Object.keys(providedFormat);\n    if (keys.length === 1 && keys[0] === \"output\") {\n        return defaultFormat;\n    }\n\n    return providedFormat;\n}\n\nmodule.exports = (numbro) => ({\n    format: (...args) => format(...args, numbro),\n    getByteUnit: (...args) => getByteUnit(...args, numbro),\n    getBinaryByteUnit: (...args) => getBinaryByteUnit(...args, numbro),\n    getDecimalByteUnit: (...args) => getDecimalByteUnit(...args, numbro),\n    formatOrDefault\n});\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst enUS = require(\"./en-US\");\nconst validating = require(\"./validating\");\nconst parsing = require(\"./parsing\");\n\nlet state = {};\n\nlet currentLanguageTag = undefined;\nlet languages = {};\n\nlet zeroFormat = null;\n\nlet globalDefaults = {};\n\nfunction chooseLanguage(tag) { currentLanguageTag = tag; }\n\nfunction currentLanguageData() { return languages[currentLanguageTag]; }\n\n/**\n * Return all the register languages\n *\n * @return {{}}\n */\nstate.languages = () => Object.assign({}, languages);\n\n//\n// Current language accessors\n//\n\n/**\n * Return the current language tag\n *\n * @return {string}\n */\nstate.currentLanguage = () => currentLanguageTag;\n\n/**\n * Return the current language bytes data\n *\n * @return {{}}\n */\nstate.currentBytes = () => currentLanguageData().bytes || {};\n\n/**\n * Return the current language currency data\n *\n * @return {{}}\n */\nstate.currentCurrency = () => currentLanguageData().currency;\n\n/**\n * Return the current language abbreviations data\n *\n * @return {{}}\n */\nstate.currentAbbreviations = () => currentLanguageData().abbreviations;\n\n/**\n * Return the current language delimiters data\n *\n * @return {{}}\n */\nstate.currentDelimiters = () => currentLanguageData().delimiters;\n\n/**\n * Return the current language ordinal function\n *\n * @return {function}\n */\nstate.currentOrdinal = () => currentLanguageData().ordinal;\n\n//\n// Defaults\n//\n\n/**\n * Return the current formatting defaults.\n * First use the current language default, then fallback to the globally defined defaults.\n *\n * @return {{}}\n */\nstate.currentDefaults = () => Object.assign({}, currentLanguageData().defaults, globalDefaults);\n\n/**\n * Return the ordinal default-format.\n * First use the current language ordinal default, then fallback to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentOrdinalDefaultFormat = () => Object.assign({}, state.currentDefaults(), currentLanguageData().ordinalFormat);\n\n/**\n * Return the byte default-format.\n * First use the current language byte default, then fallback to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentByteDefaultFormat = () => Object.assign({}, state.currentDefaults(), currentLanguageData().byteFormat);\n\n/**\n * Return the percentage default-format.\n * First use the current language percentage default, then fallback to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentPercentageDefaultFormat = () => Object.assign({}, state.currentDefaults(), currentLanguageData().percentageFormat);\n\n/**\n * Return the currency default-format.\n * First use the current language currency default, then fallback to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentCurrencyDefaultFormat = () => Object.assign({}, state.currentDefaults(), currentLanguageData().currencyFormat);\n\n/**\n * Return the time default-format.\n * First use the current language currency default, then fallback to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentTimeDefaultFormat = () => Object.assign({}, state.currentDefaults(), currentLanguageData().timeFormat);\n\n/**\n * Set the global formatting defaults.\n *\n * @param {{}|string} format - formatting options to use as defaults\n */\nstate.setDefaults = (format) => {\n    format = parsing.parseFormat(format);\n    if (validating.validateFormat(format)) {\n        globalDefaults = format;\n    }\n};\n\n//\n// Zero format\n//\n\n/**\n * Return the format string for 0.\n *\n * @return {string}\n */\nstate.getZeroFormat = () => zeroFormat;\n\n/**\n * Set a STRING to output when the value is 0.\n *\n * @param {{}|string} string - string to set\n */\nstate.setZeroFormat = (string) => zeroFormat = typeof(string) === \"string\" ? string : null;\n\n/**\n * Return true if a format for 0 has been set already.\n *\n * @return {boolean}\n */\nstate.hasZeroFormat = () => zeroFormat !== null;\n\n//\n// Getters/Setters\n//\n\n/**\n * Return the language data for the provided TAG.\n * Return the current language data if no tag is provided.\n *\n * Throw an error if the tag doesn't match any registered language.\n *\n * @param {string} [tag] - language tag of a registered language\n * @return {{}}\n */\nstate.languageData = (tag) => {\n    if (tag) {\n        if (languages[tag]) {\n            return languages[tag];\n        }\n        throw new Error(`Unknown tag \"${tag}\"`);\n    }\n\n    return currentLanguageData();\n};\n\n/**\n * Register the provided DATA as a language if and only if the data is valid.\n * If the data is not valid, an error is thrown.\n *\n * When USELANGUAGE is true, the registered language is then used.\n *\n * @param {{}} data - language data to register\n * @param {boolean} [useLanguage] - `true` if the provided data should become the current language\n */\nstate.registerLanguage = (data, useLanguage = false) => {\n    if (!validating.validateLanguage(data)) {\n        throw new Error(\"Invalid language data\");\n    }\n\n    languages[data.languageTag] = data;\n\n    if (useLanguage) {\n        chooseLanguage(data.languageTag);\n    }\n};\n\n/**\n * Set the current language according to TAG.\n * If TAG doesn't match a registered language, another language matching\n * the \"language\" part of the tag (according to BCP47: https://tools.ietf.org/rfc/bcp/bcp47.txt).\n * If none, the FALLBACKTAG is used. If the FALLBACKTAG doesn't match a register language,\n * `en-US` is finally used.\n *\n * @param tag\n * @param fallbackTag\n */\nstate.setLanguage = (tag, fallbackTag = enUS.languageTag) => {\n    if (!languages[tag]) {\n        let suffix = tag.split(\"-\")[0];\n\n        let matchingLanguageTag = Object.keys(languages).find(each => {\n            return each.split(\"-\")[0] === suffix;\n        });\n\n        if (!languages[matchingLanguageTag]) {\n            chooseLanguage(fallbackTag);\n            return;\n        }\n\n        chooseLanguage(matchingLanguageTag);\n        return;\n    }\n\n    chooseLanguage(tag);\n};\n\nstate.registerLanguage(enUS);\ncurrentLanguageTag = enUS.languageTag;\n\nmodule.exports = state;\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * Load languages matching TAGS. Silently pass over the failing load.\n *\n * We assume here that we are in a node environment, so we don't check for it.\n * @param {[String]} tags - list of tags to load\n * @param {Numbro} numbro - the numbro singleton\n */\nfunction loadLanguagesInNode(tags, numbro) {\n    tags.forEach((tag) => {\n        let data = undefined;\n        try {\n            data = require(`../languages/${tag}`);\n        } catch (e) {\n            console.error(`Unable to load \"${tag}\". No matching language file found.`); // eslint-disable-line no-console\n        }\n\n        if (data) {\n            numbro.registerLanguage(data);\n        }\n    });\n}\n\nmodule.exports = (numbro) => ({\n    loadLanguagesInNode: (tags) => loadLanguagesInNode(tags, numbro)\n});\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst BigNumber = require(\"bignumber.js\");\n\n/**\n * Add a number or a numbro to N.\n *\n * @param {Numbro} n - augend\n * @param {number|Numbro} other - addend\n * @param {numbro} numbro - numbro singleton\n * @return {Numbro} n\n */\nfunction add(n, other, numbro) {\n    let value = new BigNumber(n._value);\n    let otherValue = other;\n\n    if (numbro.isNumbro(other)) {\n        otherValue = other._value;\n    }\n\n    otherValue = new BigNumber(otherValue);\n\n    n._value = value.plus(otherValue).toNumber();\n    return n;\n}\n\n/**\n * Subtract a number or a numbro from N.\n *\n * @param {Numbro} n - minuend\n * @param {number|Numbro} other - subtrahend\n * @param {numbro} numbro - numbro singleton\n * @return {Numbro} n\n */\nfunction subtract(n, other, numbro) {\n    let value = new BigNumber(n._value);\n    let otherValue = other;\n\n    if (numbro.isNumbro(other)) {\n        otherValue = other._value;\n    }\n\n    otherValue = new BigNumber(otherValue);\n\n    n._value = value.minus(otherValue).toNumber();\n    return n;\n}\n\n/**\n * Multiply N by a number or a numbro.\n *\n * @param {Numbro} n - multiplicand\n * @param {number|Numbro} other - multiplier\n * @param {numbro} numbro - numbro singleton\n * @return {Numbro} n\n */\nfunction multiply(n, other, numbro) {\n    let value = new BigNumber(n._value);\n    let otherValue = other;\n\n    if (numbro.isNumbro(other)) {\n        otherValue = other._value;\n    }\n\n    otherValue = new BigNumber(otherValue);\n\n    n._value = value.times(otherValue).toNumber();\n    return n;\n}\n\n/**\n * Divide N by a number or a numbro.\n *\n * @param {Numbro} n - dividend\n * @param {number|Numbro} other - divisor\n * @param {numbro} numbro - numbro singleton\n * @return {Numbro} n\n */\nfunction divide(n, other, numbro) {\n    let value = new BigNumber(n._value);\n    let otherValue = other;\n\n    if (numbro.isNumbro(other)) {\n        otherValue = other._value;\n    }\n\n    otherValue = new BigNumber(otherValue);\n\n    n._value = value.dividedBy(otherValue).toNumber();\n    return n;\n}\n\n/**\n * Set N to the OTHER (or the value of OTHER when it's a numbro instance).\n *\n * @param {Numbro} n - numbro instance to mutate\n * @param {number|Numbro} other - new value to assign to N\n * @param {numbro} numbro - numbro singleton\n * @return {Numbro} n\n */\nfunction set (n, other, numbro) {\n    let value = other;\n\n    if (numbro.isNumbro(other)) {\n        value = other._value;\n    }\n\n    n._value = value;\n    return n;\n}\n\n/**\n * Return the distance between N and OTHER.\n *\n * @param {Numbro} n\n * @param {number|Numbro} other\n * @param {numbro} numbro - numbro singleton\n * @return {number}\n */\nfunction difference(n, other, numbro) {\n    let clone = numbro(n._value);\n    subtract(clone, other, numbro);\n\n    return Math.abs(clone._value);\n}\n\nmodule.exports = numbro => ({\n    add: (n, other) => add(n, other, numbro),\n    subtract: (n, other) => subtract(n, other, numbro),\n    multiply: (n, other) => multiply(n, other, numbro),\n    divide: (n, other) => divide(n, other, numbro),\n    set: (n, other) => set(n, other, numbro),\n    difference: (n, other) => difference(n, other, numbro),\n    BigNumber: BigNumber\n});\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst VERSION = \"2.3.2\";\n\nconst globalState = require(\"./globalState\");\nconst validator = require(\"./validating\");\nconst loader = require(\"./loading\")(numbro);\nconst unformatter = require(\"./unformatting\");\nlet formatter = require(\"./formatting\")(numbro);\nlet manipulate = require(\"./manipulating\")(numbro);\nconst parsing = require(\"./parsing\");\n\nclass Numbro {\n    constructor(number) {\n        this._value = number;\n    }\n\n    clone() { return numbro(this._value); }\n\n    format(format = {}) { return formatter.format(this, format); }\n\n    formatCurrency(format) {\n        if (typeof format === \"string\") {\n            format = parsing.parseFormat(format);\n        }\n        format = formatter.formatOrDefault(format, globalState.currentCurrencyDefaultFormat());\n        format.output = \"currency\";\n        return formatter.format(this, format);\n    }\n\n    formatTime(format = {}) {\n        format.output = \"time\";\n        return formatter.format(this, format);\n    }\n\n    binaryByteUnits() { return formatter.getBinaryByteUnit(this);}\n\n    decimalByteUnits() { return formatter.getDecimalByteUnit(this);}\n\n    byteUnits() { return formatter.getByteUnit(this);}\n\n    difference(other) { return manipulate.difference(this, other); }\n\n    add(other) { return manipulate.add(this, other); }\n\n    subtract(other) { return manipulate.subtract(this, other); }\n\n    multiply(other) { return manipulate.multiply(this, other); }\n\n    divide(other) { return manipulate.divide(this, other); }\n\n    set(input) { return manipulate.set(this, normalizeInput(input)); }\n\n    value() { return this._value; }\n\n    valueOf() { return this._value; }\n}\n\n/**\n * Make its best to convert input into a number.\n *\n * @param {numbro|string|number} input - Input to convert\n * @return {number}\n */\nfunction normalizeInput(input) {\n    let result = input;\n    if (numbro.isNumbro(input)) {\n        result = input._value;\n    } else if (typeof input === \"string\") {\n        result = numbro.unformat(input);\n    } else if (isNaN(input)) {\n        result = NaN;\n    }\n\n    return result;\n}\n\nfunction numbro(input) {\n    return new Numbro(normalizeInput(input));\n}\n\nnumbro.version = VERSION;\n\nnumbro.isNumbro = function(object) {\n    return object instanceof Numbro;\n};\n\n//\n// `numbro` static methods\n//\n\nnumbro.language = globalState.currentLanguage;\nnumbro.registerLanguage = globalState.registerLanguage;\nnumbro.setLanguage = globalState.setLanguage;\nnumbro.languages = globalState.languages;\nnumbro.languageData = globalState.languageData;\nnumbro.zeroFormat = globalState.setZeroFormat;\nnumbro.defaultFormat = globalState.currentDefaults;\nnumbro.setDefaults = globalState.setDefaults;\nnumbro.defaultCurrencyFormat = globalState.currentCurrencyDefaultFormat;\nnumbro.validate = validator.validate;\nnumbro.loadLanguagesInNode = loader.loadLanguagesInNode;\nnumbro.unformat = unformatter.unformat;\nnumbro.BigNumber = manipulate.BigNumber;\n\nmodule.exports = numbro;\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * Parse the format STRING looking for a prefix. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parsePrefix(string, result) {\n    let match = string.match(/^{([^}]*)}/);\n    if (match) {\n        result.prefix = match[1];\n        return string.slice(match[0].length);\n    }\n\n    return string;\n}\n\n/**\n * Parse the format STRING looking for a postfix. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parsePostfix(string, result) {\n    let match = string.match(/{([^}]*)}$/);\n    if (match) {\n        result.postfix = match[1];\n\n        return string.slice(0, -match[0].length);\n    }\n\n    return string;\n}\n\n/**\n * Parse the format STRING looking for the output value. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n */\nfunction parseOutput(string, result) {\n    if (string.indexOf(\"$\") !== -1) {\n        result.output = \"currency\";\n        return;\n    }\n\n    if (string.indexOf(\"%\") !== -1) {\n        result.output = \"percent\";\n        return;\n    }\n\n    if (string.indexOf(\"bd\") !== -1) {\n        result.output = \"byte\";\n        result.base = \"general\";\n        return;\n    }\n\n    if (string.indexOf(\"b\") !== -1) {\n        result.output = \"byte\";\n        result.base = \"binary\";\n        return;\n\n    }\n\n    if (string.indexOf(\"d\") !== -1) {\n        result.output = \"byte\";\n        result.base = \"decimal\";\n        return;\n\n    }\n\n    if (string.indexOf(\":\") !== -1) {\n        result.output = \"time\";\n        return;\n    }\n\n    if (string.indexOf(\"o\") !== -1) {\n        result.output = \"ordinal\";\n    }\n}\n\n/**\n * Parse the format STRING looking for the thousand separated value. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseThousandSeparated(string, result) {\n    if (string.indexOf(\",\") !== -1) {\n        result.thousandSeparated = true;\n    }\n}\n\n/**\n * Parse the format STRING looking for the space separated value. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseSpaceSeparated(string, result) {\n    if (string.indexOf(\" \") !== -1) {\n        result.spaceSeparated = true;\n        result.spaceSeparatedCurrency = true;\n\n        if (result.average || result.forceAverage) {\n            result.spaceSeparatedAbbreviation = true;\n        }\n    }\n}\n\n/**\n * Parse the format STRING looking for the total length. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseTotalLength(string, result) {\n    let match = string.match(/[1-9]+[0-9]*/);\n\n    if (match) {\n        result.totalLength = +match[0];\n    }\n}\n\n/**\n * Parse the format STRING looking for the characteristic length. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseCharacteristic(string, result) {\n    let characteristic = string.split(\".\")[0];\n    let match = characteristic.match(/0+/);\n    if (match) {\n        result.characteristic = match[0].length;\n    }\n}\n\n/**\n * Parse the format STRING looking for the mantissa length. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseMantissa(string, result) {\n    let mantissa = string.split(\".\")[1];\n    if (mantissa) {\n        let match = mantissa.match(/0+/);\n        if (match) {\n            result.mantissa = match[0].length;\n        }\n    }\n}\n\n/**\n * Parse the format STRING looking for a trimmed mantissa. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n */\nfunction parseTrimMantissa(string, result) {\n    const mantissa = string.split(\".\")[1];\n    if (mantissa) {\n        result.trimMantissa = mantissa.indexOf(\"[\") !== -1;\n    }\n}\n\n/**\n * Parse the format STRING looking for the average value. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseAverage(string, result) {\n    if (string.indexOf(\"a\") !== -1) {\n        result.average = true;\n    }\n}\n\n/**\n * Parse the format STRING looking for a forced average precision. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseForceAverage(string, result) {\n    if (string.indexOf(\"K\") !== -1) {\n        result.forceAverage = \"thousand\";\n    } else if (string.indexOf(\"M\") !== -1) {\n        result.forceAverage = \"million\";\n    } else if (string.indexOf(\"B\") !== -1) {\n        result.forceAverage = \"billion\";\n    } else if (string.indexOf(\"T\") !== -1) {\n        result.forceAverage = \"trillion\";\n    }\n}\n\n/**\n * Parse the format STRING finding if the mantissa is optional. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseOptionalMantissa(string, result) {\n    if (string.match(/\\[\\.]/)) {\n        result.optionalMantissa = true;\n    } else if (string.match(/\\./)) {\n        result.optionalMantissa = false;\n    }\n}\n\n/**\n * Parse the format STRING finding if the characteristic is optional. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseOptionalCharacteristic(string, result) {\n    if (string.indexOf(\".\") !== -1) {\n        let characteristic = string.split(\".\")[0];\n        result.optionalCharacteristic = characteristic.indexOf(\"0\") === -1;\n    }\n}\n\n/**\n * Parse the format STRING looking for the negative format. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {string} - format\n */\nfunction parseNegative(string, result) {\n    if (string.match(/^\\+?\\([^)]*\\)$/)) {\n        result.negative = \"parenthesis\";\n    }\n    if (string.match(/^\\+?-/)) {\n        result.negative = \"sign\";\n    }\n}\n\n/**\n * Parse the format STRING finding if the sign is mandatory. Append it to RESULT when found.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n */\nfunction parseForceSign(string, result) {\n    if (string.match(/^\\+/)) {\n        result.forceSign = true;\n    }\n}\n\n/**\n * Parse the format STRING and accumulating the values ie RESULT.\n *\n * @param {string} string - format\n * @param {NumbroFormat} result - Result accumulator\n * @return {NumbroFormat} - format\n */\nfunction parseFormat(string, result = {}) {\n    if (typeof string !== \"string\") {\n        return string;\n    }\n\n    string = parsePrefix(string, result);\n    string = parsePostfix(string, result);\n    parseOutput(string, result);\n    parseTotalLength(string, result);\n    parseCharacteristic(string, result);\n    parseOptionalCharacteristic(string, result);\n    parseAverage(string, result);\n    parseForceAverage(string, result);\n    parseMantissa(string, result);\n    parseOptionalMantissa(string, result);\n    parseTrimMantissa(string, result);\n    parseThousandSeparated(string, result);\n    parseSpaceSeparated(string, result);\n    parseNegative(string, result);\n    parseForceSign(string, result);\n\n    return result;\n}\n\nmodule.exports = {\n    parseFormat\n};\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst allSuffixes = [\n    {key: \"ZiB\", factor: Math.pow(1024, 7)},\n    {key: \"ZB\", factor: Math.pow(1000, 7)},\n    {key: \"YiB\", factor: Math.pow(1024, 8)},\n    {key: \"YB\", factor: Math.pow(1000, 8)},\n    {key: \"TiB\", factor: Math.pow(1024, 4)},\n    {key: \"TB\", factor: Math.pow(1000, 4)},\n    {key: \"PiB\", factor: Math.pow(1024, 5)},\n    {key: \"PB\", factor: Math.pow(1000, 5)},\n    {key: \"MiB\", factor: Math.pow(1024, 2)},\n    {key: \"MB\", factor: Math.pow(1000, 2)},\n    {key: \"KiB\", factor: Math.pow(1024, 1)},\n    {key: \"KB\", factor: Math.pow(1000, 1)},\n    {key: \"GiB\", factor: Math.pow(1024, 3)},\n    {key: \"GB\", factor: Math.pow(1000, 3)},\n    {key: \"EiB\", factor: Math.pow(1024, 6)},\n    {key: \"EB\", factor: Math.pow(1000, 6)},\n    {key: \"B\", factor: 1}\n];\n\n/**\n * Generate a RegExp where S get all RegExp specific characters escaped.\n *\n * @param {string} s - string representing a RegExp\n * @return {string}\n */\nfunction escapeRegExp(s) {\n    return s.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n}\n\n/**\n * Recursively compute the unformatted value.\n *\n * @param {string} inputString - string to unformat\n * @param {*} delimiters - Delimiters used to generate the inputString\n * @param {string} [currencySymbol] - symbol used for currency while generating the inputString\n * @param {function} ordinal - function used to generate an ordinal out of a number\n * @param {string} zeroFormat - string representing zero\n * @param {*} abbreviations - abbreviations used while generating the inputString\n * @param {NumbroFormat} format - format used while generating the inputString\n * @return {number|undefined}\n */\nfunction computeUnformattedValue(inputString, delimiters, currencySymbol = \"\", ordinal, zeroFormat, abbreviations, format) {\n    if (!isNaN(+inputString)) {\n        return +inputString;\n    }\n\n    let stripped = \"\";\n    // Negative\n\n    let newInput = inputString.replace(/(^[^(]*)\\((.*)\\)([^)]*$)/, \"$1$2$3\");\n\n    if (newInput !== inputString) {\n        return -1 * computeUnformattedValue(newInput, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n    }\n\n    // Byte\n\n    for (let i = 0; i < allSuffixes.length; i++) {\n        let suffix = allSuffixes[i];\n        stripped = inputString.replace(suffix.key, \"\");\n\n        if (stripped !== inputString) {\n            return computeUnformattedValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format) * suffix.factor;\n        }\n    }\n\n    // Percent\n\n    stripped = inputString.replace(\"%\", \"\");\n\n    if (stripped !== inputString) {\n        return computeUnformattedValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format) / 100;\n    }\n\n    // Ordinal\n\n    let possibleOrdinalValue = parseFloat(inputString);\n\n    if (isNaN(possibleOrdinalValue)) {\n        return undefined;\n    }\n\n    let ordinalString = ordinal(possibleOrdinalValue);\n    if (ordinalString && ordinalString !== \".\") { // if ordinal is \".\" it will be caught next round in the +inputString\n        stripped = inputString.replace(new RegExp(`${escapeRegExp(ordinalString)}$`), \"\");\n\n        if (stripped !== inputString) {\n            return computeUnformattedValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n        }\n    }\n\n    // Average\n\n    let inversedAbbreviations = {};\n    Object.keys(abbreviations).forEach((key) => {\n        inversedAbbreviations[abbreviations[key]] = key;\n    });\n\n    let abbreviationValues = Object.keys(inversedAbbreviations).sort().reverse();\n    let numberOfAbbreviations = abbreviationValues.length;\n\n    for (let i = 0; i < numberOfAbbreviations; i++) {\n        let value = abbreviationValues[i];\n        let key = inversedAbbreviations[value];\n\n        stripped = inputString.replace(value, \"\");\n        if (stripped !== inputString) {\n            let factor = undefined;\n            switch (key) { // eslint-disable-line default-case\n                case \"thousand\":\n                    factor = Math.pow(10, 3);\n                    break;\n                case \"million\":\n                    factor = Math.pow(10, 6);\n                    break;\n                case \"billion\":\n                    factor = Math.pow(10, 9);\n                    break;\n                case \"trillion\":\n                    factor = Math.pow(10, 12);\n                    break;\n            }\n            return computeUnformattedValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format) * factor;\n        }\n    }\n\n    return undefined;\n}\n\n/**\n * Removes in one pass all formatting symbols.\n *\n * @param {string} inputString - string to unformat\n * @param {*} delimiters - Delimiters used to generate the inputString\n * @param {string} [currencySymbol] - symbol used for currency while generating the inputString\n * @return {string}\n */\nfunction removeFormattingSymbols(inputString, delimiters, currencySymbol = \"\") {\n    // Currency\n\n    let stripped = inputString.replace(currencySymbol, \"\");\n\n    // Thousand separators\n\n    stripped = stripped.replace(new RegExp(`([0-9])${escapeRegExp(delimiters.thousands)}([0-9])`, \"g\"), \"$1$2\");\n\n    // Decimal\n\n    stripped = stripped.replace(delimiters.decimal, \".\");\n\n    return stripped;\n}\n\n/**\n * Unformat a numbro-generated string to retrieve the original value.\n *\n * @param {string} inputString - string to unformat\n * @param {*} delimiters - Delimiters used to generate the inputString\n * @param {string} [currencySymbol] - symbol used for currency while generating the inputString\n * @param {function} ordinal - function used to generate an ordinal out of a number\n * @param {string} zeroFormat - string representing zero\n * @param {*} abbreviations - abbreviations used while generating the inputString\n * @param {NumbroFormat} format - format used while generating the inputString\n * @return {number|undefined}\n */\nfunction unformatValue(inputString, delimiters, currencySymbol = \"\", ordinal, zeroFormat, abbreviations, format) {\n    if (inputString === \"\") {\n        return undefined;\n    }\n\n    // Zero Format\n\n    if (inputString === zeroFormat) {\n        return 0;\n    }\n\n    let value = removeFormattingSymbols(inputString, delimiters, currencySymbol);\n    return computeUnformattedValue(value, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n}\n\n/**\n * Check if the INPUTSTRING represents a time.\n *\n * @param {string} inputString - string to check\n * @param {*} delimiters - Delimiters used while generating the inputString\n * @return {boolean}\n */\nfunction matchesTime(inputString, delimiters) {\n    let separators = inputString.indexOf(\":\") && delimiters.thousands !== \":\";\n\n    if (!separators) {\n        return false;\n    }\n\n    let segments = inputString.split(\":\");\n    if (segments.length !== 3) {\n        return false;\n    }\n\n    let hours = +segments[0];\n    let minutes = +segments[1];\n    let seconds = +segments[2];\n\n    return !isNaN(hours) && !isNaN(minutes) && !isNaN(seconds);\n}\n\n/**\n * Unformat a numbro-generated string representing a time to retrieve the original value.\n *\n * @param {string} inputString - string to unformat\n * @return {number}\n */\nfunction unformatTime(inputString) {\n    let segments = inputString.split(\":\");\n\n    let hours = +segments[0];\n    let minutes = +segments[1];\n    let seconds = +segments[2];\n\n    return seconds + 60 * minutes + 3600 * hours;\n}\n\n/**\n * Unformat a numbro-generated string to retrieve the original value.\n *\n * @param {string} inputString - string to unformat\n * @param {NumbroFormat} format - format used  while generating the inputString\n * @return {number}\n */\nfunction unformat(inputString, format) {\n    // Avoid circular references\n    const globalState = require(\"./globalState\");\n\n    let delimiters = globalState.currentDelimiters();\n    let currencySymbol = globalState.currentCurrency().symbol;\n    let ordinal = globalState.currentOrdinal();\n    let zeroFormat = globalState.getZeroFormat();\n    let abbreviations = globalState.currentAbbreviations();\n\n    let value = undefined;\n\n    if (typeof inputString === \"string\") {\n        if (matchesTime(inputString, delimiters)) {\n            value = unformatTime(inputString);\n        } else {\n            value = unformatValue(inputString, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n        }\n    } else if (typeof inputString === \"number\") {\n        value = inputString;\n    } else {\n        return undefined;\n    }\n\n    if (value === undefined) {\n        return undefined;\n    }\n\n    return value;\n}\n\nmodule.exports = {\n    unformat\n};\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nlet unformatter = require(\"./unformatting\");\n\n// Simplified regexp supporting only `language`, `script`, and `region`\nconst bcp47RegExp = /^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/;\n\nconst validOutputValues = [\n    \"currency\",\n    \"percent\",\n    \"byte\",\n    \"time\",\n    \"ordinal\",\n    \"number\"\n];\n\nconst validForceAverageValues = [\n    \"trillion\",\n    \"billion\",\n    \"million\",\n    \"thousand\"\n];\n\nconst validCurrencyPosition = [\n    \"prefix\",\n    \"infix\",\n    \"postfix\"\n];\n\nconst validNegativeValues = [\n    \"sign\",\n    \"parenthesis\"\n];\n\nconst validMandatoryAbbreviations = {\n    type: \"object\",\n    children: {\n        thousand: {\n            type: \"string\",\n            mandatory: true\n        },\n        million: {\n            type: \"string\",\n            mandatory: true\n        },\n        billion: {\n            type: \"string\",\n            mandatory: true\n        },\n        trillion: {\n            type: \"string\",\n            mandatory: true\n        }\n    },\n    mandatory: true\n};\n\nconst validAbbreviations = {\n    type: \"object\",\n    children: {\n        thousand: \"string\",\n        million: \"string\",\n        billion: \"string\",\n        trillion: \"string\"\n    }\n};\n\nconst validBaseValues = [\n    \"decimal\",\n    \"binary\",\n    \"general\"\n];\n\nconst validFormat = {\n    output: {\n        type: \"string\",\n        validValues: validOutputValues\n    },\n    base: {\n        type: \"string\",\n        validValues: validBaseValues,\n        restriction: (number, format) => format.output === \"byte\",\n        message: \"`base` must be provided only when the output is `byte`\",\n        mandatory: (format) => format.output === \"byte\"\n    },\n    characteristic: {\n        type: \"number\",\n        restriction: (number) => number >= 0,\n        message: \"value must be positive\"\n    },\n    prefix: \"string\",\n    postfix: \"string\",\n    forceAverage: {\n        type: \"string\",\n        validValues: validForceAverageValues\n    },\n    average: \"boolean\",\n    lowPrecision: {\n        type: \"boolean\",\n        restriction: (number, format) => format.average === true,\n        message: \"`lowPrecision` must be provided only when the option `average` is set\"\n    },\n    currencyPosition: {\n        type: \"string\",\n        validValues: validCurrencyPosition\n    },\n    currencySymbol: \"string\",\n    totalLength: {\n        type: \"number\",\n        restrictions: [\n            {\n                restriction: (number) => number >= 0,\n                message: \"value must be positive\"\n            },\n            {\n                restriction: (number, format) => !format.exponential,\n                message: \"`totalLength` is incompatible with `exponential`\"\n            }\n        ]\n    },\n    mantissa: {\n        type: \"number\",\n        restriction: (number) => number >= 0,\n        message: \"value must be positive\"\n    },\n    optionalMantissa: \"boolean\",\n    trimMantissa: \"boolean\",\n    roundingFunction: \"function\",\n    optionalCharacteristic: \"boolean\",\n    thousandSeparated: \"boolean\",\n    spaceSeparated: \"boolean\",\n    spaceSeparatedCurrency: \"boolean\",\n    spaceSeparatedAbbreviation: \"boolean\",\n    abbreviations: validAbbreviations,\n    negative: {\n        type: \"string\",\n        validValues: validNegativeValues\n    },\n    forceSign: \"boolean\",\n    exponential: {\n        type: \"boolean\"\n    },\n    prefixSymbol: {\n        type: \"boolean\",\n        restriction: (number, format) => format.output === \"percent\",\n        message: \"`prefixSymbol` can be provided only when the output is `percent`\"\n    }\n};\n\nconst validLanguage = {\n    languageTag: {\n        type: \"string\",\n        mandatory: true,\n        restriction: (tag) => {\n            return tag.match(bcp47RegExp);\n        },\n        message: \"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)\"\n    },\n    delimiters: {\n        type: \"object\",\n        children: {\n            thousands: \"string\",\n            decimal: \"string\",\n            thousandsSize: \"number\"\n        },\n        mandatory: true\n    },\n    abbreviations: validMandatoryAbbreviations,\n    spaceSeparated: \"boolean\",\n    spaceSeparatedCurrency: \"boolean\",\n    ordinal: {\n        type: \"function\",\n        mandatory: true\n    },\n    bytes: {\n        type: \"object\",\n        children: {\n            binarySuffixes: \"object\",\n            decimalSuffixes: \"object\"\n        }\n    },\n    currency: {\n        type: \"object\",\n        children: {\n            symbol: \"string\",\n            position: \"string\",\n            code: \"string\"\n        },\n        mandatory: true\n    },\n    defaults: \"format\",\n    ordinalFormat: \"format\",\n    byteFormat: \"format\",\n    percentageFormat: \"format\",\n    currencyFormat: \"format\",\n    timeDefaults: \"format\",\n    formats: {\n        type: \"object\",\n        children: {\n            fourDigits: {\n                type: \"format\",\n                mandatory: true\n            },\n            fullWithTwoDecimals: {\n                type: \"format\",\n                mandatory: true\n            },\n            fullWithTwoDecimalsNoCurrency: {\n                type: \"format\",\n                mandatory: true\n            },\n            fullWithNoDecimals: {\n                type: \"format\",\n                mandatory: true\n            }\n        }\n    }\n};\n\n/**\n * Check the validity of the provided input and format.\n * The check is NOT lazy.\n *\n * @param {string|number|Numbro} input - input to check\n * @param {NumbroFormat} format - format to check\n * @return {boolean} True when everything is correct\n */\nfunction validate(input, format) {\n    let validInput = validateInput(input);\n    let isFormatValid = validateFormat(format);\n\n    return validInput && isFormatValid;\n}\n\n/**\n * Check the validity of the numbro input.\n *\n * @param {string|number|Numbro} input - input to check\n * @return {boolean} True when everything is correct\n */\nfunction validateInput(input) {\n    let value = unformatter.unformat(input);\n\n    return value !== undefined;\n}\n\n/**\n * Check the validity of the provided format TOVALIDATE against SPEC.\n *\n * @param {NumbroFormat} toValidate - format to check\n * @param {*} spec - specification against which to check\n * @param {string} prefix - prefix use for error messages\n * @param {boolean} skipMandatoryCheck - `true` when the check for mandatory key must be skipped\n * @return {boolean} True when everything is correct\n */\nfunction validateSpec(toValidate, spec, prefix, skipMandatoryCheck = false) {\n    let results = Object.keys(toValidate).map((key) => {\n        if (!spec[key]) {\n            console.error(`${prefix} Invalid key: ${key}`); // eslint-disable-line no-console\n            return false;\n        }\n\n        let value = toValidate[key];\n        let data = spec[key];\n\n        if (typeof data === \"string\") {\n            data = {type: data};\n        }\n\n        if (data.type === \"format\") { // all formats are partial (a.k.a will be merged with some default values) thus no need to check mandatory values\n            let valid = validateSpec(value, validFormat, `[Validate ${key}]`, true);\n\n            if (!valid) {\n                return false;\n            }\n        } else if (typeof value !== data.type) {\n            console.error(`${prefix} ${key} type mismatched: \"${data.type}\" expected, \"${typeof value}\" provided`); // eslint-disable-line no-console\n            return false;\n        }\n\n        if (data.restrictions && data.restrictions.length) {\n            let length = data.restrictions.length;\n            for (let i = 0; i < length; i++) {\n                let {restriction, message} = data.restrictions[i];\n                if (!restriction(value, toValidate)) {\n                    console.error(`${prefix} ${key} invalid value: ${message}`); // eslint-disable-line no-console\n                    return false;\n                }\n            }\n        }\n\n        if (data.restriction && !data.restriction(value, toValidate)) {\n            console.error(`${prefix} ${key} invalid value: ${data.message}`); // eslint-disable-line no-console\n            return false;\n        }\n\n        if (data.validValues && data.validValues.indexOf(value) === -1) {\n            console.error(`${prefix} ${key} invalid value: must be among ${JSON.stringify(data.validValues)}, \"${value}\" provided`); // eslint-disable-line no-console\n            return false;\n        }\n\n        if (data.children) {\n            let valid = validateSpec(value, data.children, `[Validate ${key}]`);\n\n            if (!valid) {\n                return false;\n            }\n        }\n\n        return true;\n    });\n\n    if (!skipMandatoryCheck) {\n        results.push(...Object.keys(spec).map((key) => {\n            let data = spec[key];\n            if (typeof data === \"string\") {\n                data = {type: data};\n            }\n\n            if (data.mandatory) {\n                let mandatory = data.mandatory;\n                if (typeof mandatory === \"function\") {\n                    mandatory = mandatory(toValidate);\n                }\n\n                if (mandatory && toValidate[key] === undefined) {\n                    console.error(`${prefix} Missing mandatory key \"${key}\"`); // eslint-disable-line no-console\n                    return false;\n                }\n            }\n\n            return true;\n        }));\n    }\n\n    return results.reduce((acc, current) => {\n        return acc && current;\n    }, true);\n}\n\n/**\n * Check the provided FORMAT.\n *\n * @param {NumbroFormat} format - format to check\n * @return {boolean}\n */\nfunction validateFormat(format) {\n    return validateSpec(format, validFormat, \"[Validate format]\");\n}\n\n/**\n * Check the provided LANGUAGE.\n *\n * @param {NumbroLanguage} language - language to check\n * @return {boolean}\n */\nfunction validateLanguage(language) {\n    return validateSpec(language, validLanguage, \"[Validate language]\");\n}\n\nmodule.exports = {\n    validate,\n    validateFormat,\n    validateInput,\n    validateLanguage\n};\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport React from 'react';\nimport { Tooltip } from \"@patternfly/react-core/dist/esm/components/Tooltip/Tooltip.js\";\nvar second = 1000;\nvar minute = second * 60;\nvar hour = minute * 60;\nvar day = hour * 24;\nvar month = day * 30; // let's count that every month has 30 days\n\nvar year = day * 365;\n\nvar formatTime = function formatTime(number, unit) {\n  return \"\".concat(number, \" \").concat(number > 1 ? \"\".concat(unit, \"s\") : unit, \" ago\");\n};\n\nvar relativeTimeTable = [{\n  rightBound: Infinity,\n  description: function description(date) {\n    return formatTime(Math.round(date / year), 'year');\n  }\n}, {\n  rightBound: year,\n  description: function description(date) {\n    return formatTime(Math.round(date / month), 'month');\n  }\n}, {\n  rightBound: month,\n  description: function description(date) {\n    return formatTime(Math.round(date / day), 'day');\n  }\n}, {\n  rightBound: day,\n  description: function description(date) {\n    return formatTime(Math.round(date / hour), 'hour');\n  }\n}, {\n  rightBound: hour,\n  description: function description(date) {\n    return formatTime(Math.round(date / minute), 'minute');\n  }\n}, {\n  rightBound: minute,\n  description: function description() {\n    return 'Just now';\n  }\n}];\n\nvar _exact = function exact(value) {\n  return value.toUTCString().split(',')[1].slice(0, -7).trim();\n};\n\nexport var addTooltip = function addTooltip(date, element, tooltipProps) {\n  var extraTitle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, tooltipProps, {\n    content: /*#__PURE__*/React.createElement(\"div\", null, extraTitle, date)\n  }), element);\n};\nexport var dateStringByType = function dateStringByType(type) {\n  return {\n    exact: function exact(date) {\n      return _exact(date) + ' UTC';\n    },\n    onlyDate: function onlyDate(date) {\n      return _exact(date).slice(0, -6);\n    },\n    relative: function relative(date) {\n      return relativeTimeTable.reduce(function (acc, i) {\n        return i.rightBound > Date.now() - date ? i.description(Date.now() - date) : acc;\n      }, _exact(date));\n    },\n    invalid: function invalid() {\n      return 'Invalid date';\n    }\n  }[type];\n};\nexport var dateByType = function dateByType(type, tooltipProps, extraTitle) {\n  return {\n    exact: function exact(date) {\n      return dateStringByType(type)(date);\n    },\n    onlyDate: function onlyDate(date) {\n      return dateStringByType(type)(date);\n    },\n    relative: function relative(date) {\n      return addTooltip(dateStringByType('exact')(date), /*#__PURE__*/React.createElement(\"span\", null, dateStringByType(type)(date)), tooltipProps, extraTitle);\n    },\n    invalid: function invalid() {\n      return 'Invalid date';\n    }\n  }[type];\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { dateByType } from './helper';\n/**\n * A component that formats date to a unified CRC format.\n * Relative date format adds a tooltip with a full date string.\n */\n\nexport default function DateFormat(_ref) {\n  var date = _ref.date,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'relative' : _ref$type,\n      extraTitle = _ref.extraTitle,\n      _ref$tooltipProps = _ref.tooltipProps,\n      tooltipProps = _ref$tooltipProps === void 0 ? {} : _ref$tooltipProps;\n  var dateObj = date instanceof Date ? date : new Date(date); // Prevent treating null as valid. (new Date(null) == new Date(0) returns 1970 Jan 1)\n\n  var invalid = date === undefined || date === null || dateObj.toString() === 'Invalid Date';\n  var dateType = invalid ? 'invalid' : type;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, dateByType(dateType, tooltipProps, extraTitle)(dateObj));\n}\nDateFormat.propTypes = {\n  date: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string, PropTypes.number]),\n\n  /**\n   * Output format of the date\n   */\n  type: PropTypes.oneOf(['exact', 'onlyDate', 'relative']),\n\n  /**\n   * Additional text in the tooltip\n   */\n  extraTitle: PropTypes.node,\n\n  /**\n   * <a target=\"_blank\" href=\"https://www.patternfly.org/v4/components/tooltip/#props\">PF Tooltip props object</a>\n   */\n  tooltipProps: PropTypes.object\n};"],"sourceRoot":""}