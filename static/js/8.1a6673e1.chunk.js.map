{"version":3,"sources":["components/toolbar/toolbarFieldUom.js","components/productView/productViewOpenShiftContainer.js","components/toolbar/toolbarFieldRangedMonthly.js"],"names":["toolbarFieldOptions","Object","values","FIELD_TYPES","map","type","title","translate","context","value","selected","ToolbarFieldUom","options","t","viewId","updatedValue","useSelector","view","query","RHSM_API_QUERY_TYPES","UOM","updatedOptions","option","aria-label","onSelect","event","store","dispatch","reduxTypes","SET_QUERY_RESET_INVENTORY_LIST","SET_QUERY_RHSM_TYPES","selectedOptions","placeholder","defaultProps","CORES","ProductViewOpenShiftContainer","productConfig","routeDetail","uomValue","viewProductLabel","productParameter","productLabel","includeTour","appName","helpers","UI_DISPLAY_NAME","config","updatedUomValue","productContextFilterUom","graphTallyQuery","inventoryHostsQuery","inventorySubscriptionsQuery","initialGraphFilters","initialGuestsFilters","initialInventoryFilters","initialInventorySettings","initialSubscriptionsInventoryFilters","initialToolbarFilters","productId","uomFilter","apiQueries","parseRhsmQuery","initialGraphTallyQuery","initialInventoryHostsQuery","initialInventorySubscriptionsQuery","toolbarQuery","graphFilters","inventoryFilters","subscriptionsInventoryFilters","filter","id","isOptional","RegExp","test","Fragment","filterOptions","filterGraphData","cardTitle","RHSM_API_PATH_ID_TYPES","OPENSHIFT","GRANULARITY","OPENSHIFT_METRICS","filterGuestsData","filterInventoryData","settings","UI_DISABLED_TABLE_SUBSCRIPTIONS","renderProduct","RHSM_API_QUERY_UOM_TYPES","GRANULARITY_TYPES","DAILY","START_DATE","dateHelpers","getRangedDateTime","startDate","toISOString","END_DATE","endDate","SORT","RHSM_API_QUERY_SORT_TYPES","LAST_SEEN","DIRECTION","SORT_DIRECTION_TYPES","ASCENDING","LIMIT","OFFSET","RHSM_API_QUERY_SUBSCRIPTIONS_SORT_TYPES","UPCOMING_EVENT_DATE","initialOption","fill","chartColorBlueLight","stroke","chartColorBlueDark","color","header","cell","data","session","displayName","inventoryId","authorized","inventory","Button","isInline","component","variant","target","href","UI_DEPLOY_PATH_PREFIX","cellWidth","lastSeen","DateFormat","date","numberOfGuests","updatedDisplayName","count","isSortable","isWrappable","upcomingEventDate","moment","utc","format","SLA","undefined","getRangedMonthDateTime","listDateTimeRanges","dateTime","ToolbarFieldRangedMonthly","maxHeight"],"mappings":"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","file":"static/js/8.1a6673e1.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { reduxTypes, store, useSelector } from '../../redux';\nimport { Select } from '../form/select';\nimport { RHSM_API_QUERY_UOM_TYPES as FIELD_TYPES, RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { translate } from '../i18n/i18n';\n\n/**\n * Select field options.\n *\n * @type {{title: (string|Node), value: string, selected: boolean}[]}\n */\nconst toolbarFieldOptions = Object.values(FIELD_TYPES).map(type => ({\n  title: translate('curiosity-toolbar.uom', { context: type }),\n  value: type,\n  selected: false\n}));\n\n/**\n * Display a unit of measure (uom) field with options.\n *\n * @fires onSelect\n * @param {object} props\n * @param {Array} props.options\n * @param {Function} props.t\n * @param {string} props.value\n * @param {string} props.viewId\n * @returns {Node}\n */\nconst ToolbarFieldUom = ({ options, t, value, viewId }) => {\n  const updatedValue = useSelector(({ view }) => view.query?.[viewId]?.[RHSM_API_QUERY_TYPES.UOM], value);\n\n  const updatedOptions = options.map(option => ({ ...option, selected: option.value === updatedValue }));\n\n  /**\n   * On select, dispatch type.\n   *\n   * @event onSelect\n   * @param {object} event\n   * @returns {void}\n   */\n  const onSelect = event =>\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_RESET_INVENTORY_LIST\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.UOM],\n        viewId,\n        [RHSM_API_QUERY_TYPES.UOM]: event.value\n      }\n    ]);\n\n  return (\n    <Select\n      aria-label={t('curiosity-toolbar.placeholder', { context: 'uom' })}\n      onSelect={onSelect}\n      options={updatedOptions}\n      selectedOptions={updatedValue}\n      placeholder={t('curiosity-toolbar.placeholder', { context: 'uom' })}\n    />\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{viewId: string, t: Function, options: Array, value: string}}\n */\nToolbarFieldUom.propTypes = {\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.node,\n      value: PropTypes.any,\n      selected: PropTypes.bool\n    })\n  ),\n  t: PropTypes.func,\n  value: PropTypes.oneOf([...Object.values(FIELD_TYPES)]),\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{viewId: string, t: translate, options: Array, value: string}}\n */\nToolbarFieldUom.defaultProps = {\n  options: toolbarFieldOptions,\n  t: translate,\n  value: FIELD_TYPES.CORES,\n  viewId: 'toolbarFieldUom'\n};\n\nexport { ToolbarFieldUom as default, ToolbarFieldUom, toolbarFieldOptions };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  chart_color_blue_100 as chartColorBlueLight,\n  chart_color_blue_300 as chartColorBlueDark\n} from '@patternfly/react-tokens';\nimport { Button, Label as PfLabel } from '@patternfly/react-core';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/components/DateFormat';\nimport moment from 'moment';\nimport { PageLayout, PageColumns, PageHeader, PageSection, PageToolbar } from '../pageLayout/pageLayout';\nimport {\n  RHSM_API_PATH_ID_TYPES,\n  RHSM_API_QUERY_SORT_DIRECTION_TYPES as SORT_DIRECTION_TYPES,\n  RHSM_API_QUERY_GRANULARITY_TYPES as GRANULARITY_TYPES,\n  RHSM_API_QUERY_TYPES,\n  RHSM_API_QUERY_UOM_TYPES,\n  RHSM_API_QUERY_SORT_TYPES,\n  RHSM_API_QUERY_SUBSCRIPTIONS_SORT_TYPES\n} from '../../types/rhsmApiTypes';\nimport { apiQueries, useSelector } from '../../redux';\nimport GraphCard from '../graphCard/graphCard';\nimport { ToolbarFieldUom } from '../toolbar/toolbarFieldUom';\nimport { ToolbarFieldGranularity } from '../toolbar/toolbarFieldGranularity';\nimport { ToolbarFieldRangedMonthly } from '../toolbar/toolbarFieldRangedMonthly';\nimport Toolbar from '../toolbar/toolbar';\nimport InventoryList from '../inventoryList/inventoryList';\nimport InventorySubscriptions from '../inventorySubscriptions/inventorySubscriptions';\nimport InventoryTabs, { InventoryTab } from '../inventoryTabs/inventoryTabs';\nimport { helpers, dateHelpers } from '../../common';\nimport { translate } from '../i18n/i18n';\n\n/**\n * An OpenShift Container Platform encompassing view.\n *\n * @param {object} props\n * @param {Array} props.productConfig\n * @param {object} props.routeDetail\n * @param {Function} props.t\n * @returns {Node}\n */\nconst ProductViewOpenShiftContainer = ({ productConfig, routeDetail, t }) => {\n  const uomValue = useSelector(({ view }) => view.query?.[productConfig[0].viewId]?.[RHSM_API_QUERY_TYPES.UOM], null);\n  const { productParameter: viewProductLabel } = routeDetail;\n\n  const renderProduct = (config, updatedUomValue) => {\n    const {\n      productContextFilterUom,\n      query = {},\n      graphTallyQuery = {},\n      inventoryHostsQuery = {},\n      inventorySubscriptionsQuery = {},\n      initialGraphFilters = [],\n      initialGuestsFilters = [],\n      initialInventoryFilters = [],\n      initialInventorySettings = {},\n      initialSubscriptionsInventoryFilters,\n      initialToolbarFilters,\n      productLabel,\n      productId,\n      viewId\n    } = config;\n\n    if (!productId || !viewId) {\n      return null;\n    }\n\n    const {\n      graphTallyQuery: initialGraphTallyQuery,\n      inventoryHostsQuery: initialInventoryHostsQuery,\n      inventorySubscriptionsQuery: initialInventorySubscriptionsQuery,\n      toolbarQuery\n    } = apiQueries.parseRhsmQuery(query, { graphTallyQuery, inventoryHostsQuery, inventorySubscriptionsQuery });\n\n    let graphFilters = initialGraphFilters;\n    let inventoryFilters = initialInventoryFilters;\n    let subscriptionsInventoryFilters = initialSubscriptionsInventoryFilters;\n    let uomFilter;\n\n    if (productContextFilterUom) {\n      uomFilter = updatedUomValue || query[RHSM_API_QUERY_TYPES.UOM];\n\n      const filter = ({ id, isOptional }) => {\n        if (!isOptional) {\n          return true;\n        }\n        return new RegExp(uomFilter, 'i').test(id);\n      };\n\n      graphFilters = initialGraphFilters.filter(filter);\n      inventoryFilters = initialInventoryFilters.filter(filter);\n      subscriptionsInventoryFilters = initialSubscriptionsInventoryFilters.filter(filter);\n    }\n\n    return (\n      <React.Fragment key={`product_${productId}_${uomFilter}`}>\n        {initialToolbarFilters && (\n          <PageToolbar>\n            <Toolbar filterOptions={initialToolbarFilters} productId={productId} query={toolbarQuery} viewId={viewId} />\n          </PageToolbar>\n        )}\n        <PageSection>\n          <GraphCard\n            key={`graph_${productId}`}\n            filterGraphData={graphFilters}\n            query={initialGraphTallyQuery}\n            productId={productId}\n            viewId={viewId}\n            cardTitle={t('curiosity-graph.cardHeading', { context: productId })}\n            productLabel={productLabel}\n          >\n            {productId === RHSM_API_PATH_ID_TYPES.OPENSHIFT && uomFilter && (\n              <ToolbarFieldUom value={uomFilter} viewId={viewId} />\n            )}\n            {productId === RHSM_API_PATH_ID_TYPES.OPENSHIFT && (\n              <ToolbarFieldGranularity value={graphTallyQuery[RHSM_API_QUERY_TYPES.GRANULARITY]} viewId={viewId} />\n            )}\n            {productId === RHSM_API_PATH_ID_TYPES.OPENSHIFT_METRICS && <ToolbarFieldRangedMonthly viewId={viewId} />}\n          </GraphCard>\n        </PageSection>\n        <PageSection>\n          <InventoryTabs key={`inventory_${productId}`} productId={productId}>\n            <InventoryTab\n              key={`inventory_hosts_${productId}`}\n              title={t('curiosity-inventory.tab', { context: 'hosts' })}\n            >\n              <InventoryList\n                key={`inv_${productId}`}\n                filterGuestsData={initialGuestsFilters}\n                filterInventoryData={inventoryFilters}\n                productId={productId}\n                settings={initialInventorySettings}\n                query={initialInventoryHostsQuery}\n                viewId={viewId}\n              />\n            </InventoryTab>\n            {!helpers.UI_DISABLED_TABLE_SUBSCRIPTIONS && initialSubscriptionsInventoryFilters && (\n              <InventoryTab\n                key={`inventory_subs_${productId}`}\n                title={t('curiosity-inventory.tab', { context: 'subscriptions' })}\n              >\n                <InventorySubscriptions\n                  key={`subs_${productId}`}\n                  filterInventoryData={subscriptionsInventoryFilters}\n                  productId={productId}\n                  query={initialInventorySubscriptionsQuery}\n                  viewId={viewId}\n                />\n              </InventoryTab>\n            )}\n          </InventoryTabs>\n        </PageSection>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <PageLayout>\n      <PageHeader productLabel={viewProductLabel} includeTour>\n        {t(`curiosity-view.title`, { appName: helpers.UI_DISPLAY_NAME, context: viewProductLabel })}\n      </PageHeader>\n      <PageColumns>{productConfig.map(config => renderProduct(config, uomValue))}</PageColumns>\n    </PageLayout>\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{t: Function, routeDetail: object, productConfig: Array}}\n */\nProductViewOpenShiftContainer.propTypes = {\n  productConfig: PropTypes.arrayOf(\n    PropTypes.shape({\n      productContextFilterUom: PropTypes.bool,\n      query: PropTypes.object,\n      graphTallyQuery: PropTypes.shape({\n        [RHSM_API_QUERY_TYPES.GRANULARITY]: PropTypes.oneOf([...Object.values(GRANULARITY_TYPES)]),\n        [RHSM_API_QUERY_TYPES.START_DATE]: PropTypes.string,\n        [RHSM_API_QUERY_TYPES.END_DATE]: PropTypes.string\n      }),\n      inventoryHostsQuery: PropTypes.shape({\n        [RHSM_API_QUERY_TYPES.LIMIT]: PropTypes.number,\n        [RHSM_API_QUERY_TYPES.OFFSET]: PropTypes.number,\n        [RHSM_API_QUERY_TYPES.SORT]: PropTypes.oneOf([...Object.values(RHSM_API_QUERY_SORT_TYPES)]),\n        [RHSM_API_QUERY_TYPES.DIRECTION]: PropTypes.oneOf([...Object.values(SORT_DIRECTION_TYPES)])\n      }),\n      inventorySubscriptionsQuery: PropTypes.shape({\n        [RHSM_API_QUERY_TYPES.LIMIT]: PropTypes.number,\n        [RHSM_API_QUERY_TYPES.OFFSET]: PropTypes.number,\n        [RHSM_API_QUERY_TYPES.SORT]: PropTypes.oneOf([...Object.values(RHSM_API_QUERY_SUBSCRIPTIONS_SORT_TYPES)]),\n        [RHSM_API_QUERY_TYPES.DIRECTION]: PropTypes.oneOf([...Object.values(SORT_DIRECTION_TYPES)])\n      }),\n      initialOption: PropTypes.oneOf(Object.values(RHSM_API_QUERY_UOM_TYPES)),\n      initialGraphFilters: PropTypes.array,\n      initialGuestsFilters: PropTypes.array,\n      initialInventoryFilters: PropTypes.array,\n      initialInventorySettings: PropTypes.shape({\n        hasGuests: PropTypes.func\n      }),\n      initialSubscriptionsInventoryFilters: PropTypes.array,\n      initialToolbarFilters: PropTypes.array,\n      productLabel: PropTypes.string,\n      productId: PropTypes.string,\n      viewId: PropTypes.string\n    })\n  ),\n  routeDetail: PropTypes.shape({\n    pathParameter: PropTypes.string,\n    productParameter: PropTypes.string,\n    viewParameter: PropTypes.string\n  }).isRequired,\n  t: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{t: Function, productConfig: Array}}\n */\nProductViewOpenShiftContainer.defaultProps = {\n  productConfig: [\n    {\n      productContextFilterUom: true,\n      query: {\n        [RHSM_API_QUERY_TYPES.UOM]: RHSM_API_QUERY_UOM_TYPES.CORES\n      },\n      graphTallyQuery: {\n        [RHSM_API_QUERY_TYPES.GRANULARITY]: GRANULARITY_TYPES.DAILY,\n        [RHSM_API_QUERY_TYPES.START_DATE]: dateHelpers\n          .getRangedDateTime(GRANULARITY_TYPES.DAILY)\n          .startDate.toISOString(),\n        [RHSM_API_QUERY_TYPES.END_DATE]: dateHelpers.getRangedDateTime(GRANULARITY_TYPES.DAILY).endDate.toISOString()\n      },\n      inventoryHostsQuery: {\n        [RHSM_API_QUERY_TYPES.SORT]: RHSM_API_QUERY_SORT_TYPES.LAST_SEEN,\n        [RHSM_API_QUERY_TYPES.DIRECTION]: SORT_DIRECTION_TYPES.ASCENDING,\n        [RHSM_API_QUERY_TYPES.LIMIT]: 100,\n        [RHSM_API_QUERY_TYPES.OFFSET]: 0\n      },\n      inventorySubscriptionsQuery: {\n        [RHSM_API_QUERY_TYPES.SORT]: RHSM_API_QUERY_SUBSCRIPTIONS_SORT_TYPES.UPCOMING_EVENT_DATE,\n        [RHSM_API_QUERY_TYPES.DIRECTION]: SORT_DIRECTION_TYPES.ASCENDING,\n        [RHSM_API_QUERY_TYPES.LIMIT]: 100,\n        [RHSM_API_QUERY_TYPES.OFFSET]: 0\n      },\n      initialOption: RHSM_API_QUERY_UOM_TYPES.CORES,\n      initialGraphFilters: [\n        {\n          id: 'cores',\n          isOptional: true,\n          fill: chartColorBlueLight.value,\n          stroke: chartColorBlueDark.value,\n          color: chartColorBlueDark.value\n        },\n        {\n          id: 'sockets',\n          isOptional: true,\n          fill: chartColorBlueLight.value,\n          stroke: chartColorBlueDark.value,\n          color: chartColorBlueDark.value\n        },\n        { id: 'thresholdSockets', isOptional: true },\n        { id: 'thresholdCores', isOptional: true }\n      ],\n      initialGuestsFilters: [\n        {\n          id: 'displayName',\n          header: translate('curiosity-inventory.header', { context: 'guestsDisplayName' }),\n          cell: (data, session) => {\n            const { displayName, inventoryId } = data;\n            const { inventory: authorized } = session?.authorized || {};\n\n            if (!inventoryId?.value) {\n              return displayName?.value;\n            }\n\n            if (!authorized) {\n              return displayName?.value || inventoryId?.value;\n            }\n\n            return (\n              <Button\n                isInline\n                component=\"a\"\n                variant=\"link\"\n                target=\"_blank\"\n                href={`${helpers.UI_DEPLOY_PATH_PREFIX}/insights/inventory/${inventoryId.value}/`}\n              >\n                {displayName.value || inventoryId.value}\n              </Button>\n            );\n          }\n        },\n        {\n          id: 'inventoryId',\n          cellWidth: 40\n        },\n        {\n          id: 'lastSeen',\n          cell: data => (data?.lastSeen?.value && <DateFormat date={data?.lastSeen?.value} />) || '',\n          cellWidth: 15\n        }\n      ],\n      initialInventoryFilters: [\n        {\n          id: 'displayName',\n          cell: (data, session) => {\n            const { displayName = {}, inventoryId = {}, numberOfGuests = {} } = data;\n            const { inventory: authorized } = session?.authorized || {};\n\n            if (!inventoryId.value) {\n              return displayName.value;\n            }\n\n            let updatedDisplayName = displayName.value || inventoryId.value;\n\n            if (authorized) {\n              updatedDisplayName = (\n                <Button\n                  isInline\n                  component=\"a\"\n                  variant=\"link\"\n                  target=\"_blank\"\n                  href={`${helpers.UI_DEPLOY_PATH_PREFIX}/insights/inventory/${inventoryId.value}/`}\n                >\n                  {displayName.value || inventoryId.value}\n                </Button>\n              );\n            }\n\n            return (\n              <React.Fragment>\n                {updatedDisplayName}{' '}\n                {(numberOfGuests.value &&\n                  translate('curiosity-inventory.label', { context: 'numberOfGuests', count: numberOfGuests.value }, [\n                    <PfLabel color=\"blue\" />\n                  ])) ||\n                  ''}\n              </React.Fragment>\n            );\n          },\n          isSortable: true\n        },\n        {\n          id: 'sockets',\n          header: translate('curiosity-inventory.header', { context: 'sockets_OpenShift Container Platform' }),\n          isOptional: true,\n          isSortable: true,\n          isWrappable: true,\n          cellWidth: 15\n        },\n        {\n          id: 'cores',\n          header: translate('curiosity-inventory.header', { context: 'cores_OpenShift Container Platform' }),\n          isOptional: true,\n          isSortable: true,\n          isWrappable: true,\n          cellWidth: 15\n        },\n        {\n          id: 'lastSeen',\n          cell: data => (data?.lastSeen?.value && <DateFormat date={data?.lastSeen?.value} />) || '',\n          isSortable: true,\n          isWrappable: true,\n          cellWidth: 15\n        }\n      ],\n      initialInventorySettings: {},\n      initialSubscriptionsInventoryFilters: [\n        {\n          id: 'productName',\n          isSortable: true\n        },\n        {\n          id: 'serviceLevel',\n          isSortable: true,\n          isWrappable: true,\n          cellWidth: 15\n        },\n        {\n          id: 'upcomingEventDate',\n          cell: data =>\n            (data?.upcomingEventDate?.value && moment.utc(data?.upcomingEventDate?.value).format('YYYY-DD-MM')) || '',\n          isSortable: true,\n          isWrappable: true,\n          cellWidth: 15\n        }\n      ],\n      initialToolbarFilters: [\n        {\n          id: RHSM_API_QUERY_TYPES.SLA\n        }\n      ],\n      productLabel: 'OpenShift',\n      productId: RHSM_API_PATH_ID_TYPES.OPENSHIFT,\n      viewId: 'viewOpenShift'\n    },\n    {\n      query: {},\n      graphTallyQuery: {\n        [RHSM_API_QUERY_TYPES.GRANULARITY]: GRANULARITY_TYPES.DAILY,\n        [RHSM_API_QUERY_TYPES.START_DATE]: dateHelpers\n          .getRangedDateTime(GRANULARITY_TYPES.DAILY)\n          .startDate.toISOString(),\n        [RHSM_API_QUERY_TYPES.END_DATE]: dateHelpers.getRangedDateTime(GRANULARITY_TYPES.DAILY).endDate.toISOString()\n      },\n      inventoryHostsQuery: {\n        [RHSM_API_QUERY_TYPES.SORT]: RHSM_API_QUERY_SORT_TYPES.LAST_SEEN,\n        [RHSM_API_QUERY_TYPES.DIRECTION]: SORT_DIRECTION_TYPES.ASCENDING,\n        [RHSM_API_QUERY_TYPES.LIMIT]: 100,\n        [RHSM_API_QUERY_TYPES.OFFSET]: 0\n      },\n      initialGraphFilters: [\n        {\n          id: 'coreHours',\n          fill: chartColorBlueLight.value,\n          stroke: chartColorBlueDark.value,\n          color: chartColorBlueDark.value\n        }\n      ],\n      initialInventoryFilters: [\n        {\n          id: 'displayName',\n          cell: data => {\n            const { displayName = {}, inventoryId = {}, numberOfGuests = {} } = data;\n\n            if (!inventoryId.value) {\n              return displayName.value;\n            }\n\n            const updatedDisplayName = displayName.value || inventoryId.value;\n\n            return (\n              <React.Fragment>\n                {updatedDisplayName}{' '}\n                {(numberOfGuests.value &&\n                  translate('curiosity-inventory.label', { context: 'numberOfGuests', count: numberOfGuests.value }, [\n                    <PfLabel color=\"blue\" />\n                  ])) ||\n                  ''}\n              </React.Fragment>\n            );\n          },\n          isSortable: true\n        },\n        {\n          id: 'coreHours',\n          isSortable: true,\n          isWrappable: true,\n          cellWidth: 15\n        },\n        {\n          id: 'lastSeen',\n          cell: data => (data?.lastSeen?.value && <DateFormat date={data?.lastSeen?.value} />) || '',\n          isSortable: true,\n          isWrappable: true,\n          cellWidth: 15\n        }\n      ],\n      initialToolbarFilters: undefined,\n      productLabel: 'OpenShift Metric',\n      productId: RHSM_API_PATH_ID_TYPES.OPENSHIFT_METRICS,\n      viewId: 'viewOpenShiftMetric'\n    }\n  ],\n  t: translate\n};\n\nexport { ProductViewOpenShiftContainer as default, ProductViewOpenShiftContainer };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { reduxTypes, store, useSelector } from '../../redux';\nimport { Select } from '../form/select';\nimport { RHSM_API_QUERY_GRANULARITY_TYPES as FIELD_TYPES, RHSM_API_QUERY_TYPES } from '../../types/rhsmApiTypes';\nimport { dateHelpers } from '../../common';\nimport { translate } from '../i18n/i18n';\n\n/**\n * Select field options.\n *\n * @type {{title: (string|Node), value: string, selected: boolean}[]}\n */\nconst toolbarFieldOptions = dateHelpers.getRangedMonthDateTime().listDateTimeRanges.map(dateTime => ({\n  ...dateTime,\n  selected: false\n}));\n\n/**\n * Display a granularity field with options.\n *\n * @fires onSelect\n * @param {object} props\n * @param {Array} props.options\n * @param {Function} props.t\n * @param {string} props.value\n * @param {string} props.viewId\n * @returns {Node}\n */\nconst ToolbarFieldRangedMonthly = ({ options, t, value, viewId }) => {\n  const updatedValue = useSelector(\n    ({ view }) => view.graphTallyQuery?.[viewId]?.[RHSM_API_QUERY_TYPES.START_DATE],\n    value\n  );\n\n  const updatedOptions = options.map(option => ({\n    ...option,\n    selected: option.title === updatedValue || option.value.startDate.toISOString() === updatedValue\n  }));\n\n  /**\n   * On select, dispatch type.\n   *\n   * @event onSelect\n   * @param {object} event\n   * @returns {void}\n   */\n  const onSelect = event => {\n    const { startDate, endDate } = event.value;\n    store.dispatch([\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.GRANULARITY],\n        viewId,\n        [RHSM_API_QUERY_TYPES.GRANULARITY]: FIELD_TYPES.DAILY\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.START_DATE],\n        viewId,\n        [RHSM_API_QUERY_TYPES.START_DATE]: startDate.toISOString()\n      },\n      {\n        type: reduxTypes.query.SET_QUERY_RHSM_TYPES[RHSM_API_QUERY_TYPES.END_DATE],\n        viewId,\n        [RHSM_API_QUERY_TYPES.END_DATE]: endDate.toISOString()\n      }\n    ]);\n  };\n\n  return (\n    <Select\n      aria-label={t('curiosity-toolbar.placeholder', { context: 'granularity' })}\n      onSelect={onSelect}\n      options={updatedOptions}\n      placeholder={t('curiosity-toolbar.placeholder', { context: 'granularity' })}\n      maxHeight={250}\n    />\n  );\n};\n\n/**\n * Prop types.\n *\n * @type {{viewId: string, t: Function, options: Array, value: string}}\n */\nToolbarFieldRangedMonthly.propTypes = {\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.node,\n      value: PropTypes.any,\n      selected: PropTypes.bool\n    })\n  ),\n  t: PropTypes.func,\n  value: PropTypes.string,\n  viewId: PropTypes.string\n};\n\n/**\n * Default props.\n *\n * @type {{viewId: string, t: translate, options: Array, value: string}}\n */\nToolbarFieldRangedMonthly.defaultProps = {\n  options: toolbarFieldOptions,\n  t: translate,\n  value: translate('curiosity-toolbar.granularityRange', { context: 'current' }),\n  viewId: 'toolbarFieldRangeGranularity'\n};\n\nexport { ToolbarFieldRangedMonthly as default, ToolbarFieldRangedMonthly, toolbarFieldOptions };\n"],"sourceRoot":""}