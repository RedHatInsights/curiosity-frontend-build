(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[1],{1373:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(13),r=a(14),i=a(334),o=a(15),s=a(16),l=a(0),c=a.n(l),u=a(17),d=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).containerRef=c.a.createRef(),e.innerContainerRef=c.a.createRef(),e.updatedContainerWidth=0,e.resizeObserver=u.b.noop,e.onResizeContainer=function(){var t,a,n=Object(i.a)(e).updatedContainerWidth,r=e.props.updateOnResize,o=(null===(t=e.containerRef)||void 0===t||null===(a=t.current)||void 0===a?void 0:a.clientWidth)||0;r&&o!==n&&(e.updatedContainerWidth=o,e.setMinHeight(!0))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateOnResize;window.setTimeout((function(){e.setMinHeight()})),t&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.updateOnContent&&window.setTimeout((function(){e.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props.minHeight,n=this.containerRef.current,r=void 0===n?{}:n,i=this.innerContainerRef.current,o=void 0===i?{}:i;(null===r||void 0===r?void 0:r.style)&&(a>(e=t?(null===o||void 0===o?void 0:o.clientHeight)||0:(null===r||void 0===r?void 0:r.clientHeight)||0)&&(e=a),r.style.minHeight="".concat(e,"px"))}},{key:"setResizeObserver",value:function(){var e=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"render",value:function(){var e=this.props.children;return c.a.createElement("div",{className:"curiosity-minheight",ref:this.containerRef},c.a.createElement("div",{ref:this.innerContainerRef},e))}}]),a}(c.a.Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},1374:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(2),r=a(13),i=a(14),o=a(15),s=a(16),l=a(0),c=a.n(l),u=a(1045),d=a(3164),p=a(1777),v=a(1393),f=a.n(v),h=a(69),b=a.n(h),m=a(197),g=a.n(m),y=a(21),O=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isExpanded:!1,options:null,selected:null},e.onSelect=function(t,a){var r=e.state.options,i=e.props,o=i.id,s=i.name,l=i.onSelect,c=i.variant,d=r,p=d.findIndex((function(e){return e.title===a}));d[p].selected=c===u.e.single||!d[p].selected,c===u.e.single&&d.forEach((function(e,t){p!==t&&(d[t].selected=!1)}));var v=c===u.e.single?a:d.filter((function(e){return!0===e.selected})).map((function(e){return e.title}));e.setState({options:d,selected:v},(function(){var t=f()(d),a={id:o,name:s||o,value:t[p].value,selected:c===u.e.single&&t[p]||f()(v),selectedIndex:p,type:"select-".concat(c===u.e.single?"one":"multiple"),options:t};c===u.e.checkbox&&(a.checked=t[p].selected);var r=Object(n.a)({},a,{target:Object(n.a)({},a),currentTarget:Object(n.a)({},a),persist:y.a.noop});l(Object(n.a)({},r),p,t),c===u.e.single&&e.setState({isExpanded:!1})}))},e.onToggle=function(t){e.setState({isExpanded:t})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.options,n=t.selectedOptions;b()(e.options,a)&&b()(e.selectedOptions,n)||this.formatOptions()}},{key:"formatOptions",value:function(){var e,t=this.props,a=t.options,r=t.selectedOptions,i=t.variant,o=g()(a)?Object.keys(a).map((function(e){return Object(n.a)({},a[e],{title:e,value:a[e]})})):f()(a),s=r&&"string"===typeof r||"number"===typeof r?[r]:r;o.forEach((function(e,t){var a=e;"string"===typeof a&&(a={title:e,value:e},o[t]=a),a.text=a.text||a.title,a.textContent=a.textContent||a.title,a.label=a.label||a.title,s&&(o[t].selected=s.includes(a.value)||s.includes(a.title))})),e=i===u.e.single?(o.find((function(e){return!0===e.selected}))||{}).title:o.filter((function(e){return!0===e.selected})).map((function(e){return e.title})),this.setState({options:o,selected:e})}},{key:"render",value:function(){var e=this.state,t=e.options,a=e.selected,n=e.isExpanded,r=this.props,i=r.ariaLabel,o=r.className,s=r.isDisabled,l=r.isToggleText,u=r.placeholder,v=r.toggleIcon,f=r.variant,h={};return t&&t.length&&!s||(h.isDisabled=!0),c.a.createElement(d.a,Object.assign({className:"curiosity-select".concat(l?"":"__no-toggle-text"," ").concat(o),variant:f,"aria-label":i,onToggle:this.onToggle,onSelect:this.onSelect,selections:a,isOpen:n,toggleIcon:v,placeholderText:u},h),t&&t.map((function(e){return c.a.createElement(p.a,{key:window.btoa("".concat(e.title,"-").concat(e.value)),id:window.btoa("".concat(e.title,"-").concat(e.value)),value:e.title,"data-value":e.value,"data-title":e.title})}))||[])}}]),a}(c.a.Component);O.defaultProps={ariaLabel:"Select option",className:"",id:y.a.generateId(),isDisabled:!1,isToggleText:!0,name:null,onSelect:y.a.noop,options:[],placeholder:"Select option",selectedOptions:null,toggleIcon:null,variant:u.e.single}},1379:function(e,t,a){"use strict";a.d(t,"b",(function(){return F})),a.d(t,"a",(function(){return F}));var n=a(2),r=a(6),i=a(13),o=a(14),s=a(15),l=a(16),c=a(0),u=a.n(c),d=a(69),p=a.n(d),v=a(151),f=a(216),h=a(1377),b=a(3097),m=a(3149),g=a(3095),y=a(3145),O=a(3101),E=a(1772),T=a(180),S=a.n(T),D=a(17),I=a(61),k=a(280),j=a(178),C=a(1373),R=a(1769),A=a(1380),x=a(1770),L=a(1381),P=a(1),_=a(49),N=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onColumnSort=function(t,a){var n,i=a.direction,o=a.id,s=e.props.productId,l=Object.values(P.e).find((function(e){return S()(e)===o}));if(l){switch(i){case v.a.desc:n=P.d.DESCENDING;break;default:n=P.d.ASCENDING}I.g.dispatch([Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[P.g.DIRECTION],viewId:s},P.g.DIRECTION,n),Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[P.g.SORT],viewId:s},P.g.SORT,l)])}},e.onPage=function(t){var a=t.offset,n=t.perPage,i=e.props.productId;I.g.dispatch([Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[P.g.OFFSET],viewId:i},P.g.OFFSET,a),Object(r.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[P.g.LIMIT],viewId:i},P.g.LIMIT,n)])},e.onUpdateInventoryData=function(){var t=e.props,a=t.getHostsInventory,n=t.isDisabled,r=t.productId,i=t.query;!n&&r&&a(r,i)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.productId,n=t.query;a===e.productId&&p()(n,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,a=t.filterGuestsData,r=t.filterInventoryData,i=t.listData,o=t.query,s=t.session,l=t.settings,c=[],d=i.map((function(t){var i=Object.assign({},t),d=A.a.parseRowCellsListData({filters:A.a.parseInventoryFilters({filters:r,onSort:e.onColumnSort,query:o}),cellData:i,session:s}),p=d.columnHeaders,v=d.cells;c=p;var f=null===i||void 0===i?void 0:i.subscriptionManagerId,h=(null===i||void 0===i?void 0:i.numberOfGuests)>0&&f;return"function"===typeof(null===l||void 0===l?void 0:l.hasGuests)&&(h=l.hasGuests(Object(n.a)({},i),Object(n.a)({},s))),{cells:v,expandedContent:h&&u.a.createElement(R.a,{key:f,filterGuestsData:a,numberOfGuests:null===i||void 0===i?void 0:i.numberOfGuests,id:f,query:o})||void 0}}));return u.a.createElement(k.b,{borders:!0,variant:f.b.compact,className:"curiosity-inventory-list",columnHeaders:c,rows:d})}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.filterInventoryData,n=e.fulfilled,r=e.isDisabled,i=e.itemCount,o=e.listData,s=e.pending,l=e.perPageDefault,c=e.query,d=e.t;if(r)return u.a.createElement(h.a,{className:"curiosity-inventory-card__disabled"},u.a.createElement(b.a,null,u.a.createElement(m.a,null,d("curiosity-inventory.tab",{context:"disabled"}))));var p=c[P.g.LIMIT]||l,v=c[P.g.OFFSET],T=L.a.isLastPage(v,p,i),S=!0===n&&i<p&&"bodyMinHeight-".concat(p,"-resize")||!0===n&&T&&"bodyMinHeight-".concat(p,"-resize")||"bodyMinHeight-".concat(p);return u.a.createElement(h.a,{className:"curiosity-inventory-card"},u.a.createElement(C.a,{key:"headerMinHeight",updateOnContent:!0},u.a.createElement(g.a,null,u.a.createElement(y.a,{className:t?"blur":""},u.a.createElement(x.a,{isCompact:!0,isDisabled:s||t,itemCount:i,offset:v,onPage:this.onPage,onPerPage:this.onPage,perPage:p})))),u.a.createElement(C.a,{key:S,updateOnContent:!0},u.a.createElement(b.a,null,u.a.createElement("div",{className:t?"blur":"fadein"},s&&u.a.createElement(j.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(e){return e.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||p,variant:f.b.compact}}),!s&&this.renderTable()))),u.a.createElement(C.a,{key:"footerMinHeight",updateOnContent:!0},u.a.createElement(O.a,{className:t?"blur":""},u.a.createElement(E.TableToolbar,{isFooter:!0},u.a.createElement(x.a,{dropDirection:"up",isDisabled:s||t,itemCount:i,offset:v,onPage:this.onPage,onPerPage:this.onPage,perPage:p})))))}}]),a}(u.a.Component);N.defaultProps={error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getHostsInventory:D.b.noop,isDisabled:D.b.UI_DISABLED_TABLE_HOSTS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},settings:{},t:_.b};var w=I.e.inventoryList.makeInventoryList(),F=Object(I.b)(w,(function(e){return{getHostsInventory:function(t,a){return e(I.d.rhsm.getHostsInventory(t,a))}}}))(N)},1380:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(11),r=a(9),i=a(2),o=a(0),s=a.n(o),l=a(151),c=a(155),u=a(127),d=a(180),p=a.n(d),v=a(49),f=a(1),h=function(e){var t=e.filter,a=void 0===t?{}:t,n=e.onSort,r=e.query,o=void 0===r?{}:r,s=a.id,c=Object(i.a)({},a),u=c.onSort||n;if(!c.onSort&&n&&(c.onSort=n),u&&"boolean"!==typeof c.sortActive&&(null===o||void 0===o?void 0:o[f.g.SORT])&&p()(null===o||void 0===o?void 0:o[f.g.SORT])===s&&(c.sortActive=!0),u&&!c.sortDirection&&(null===o||void 0===o?void 0:o[f.g.DIRECTION]))switch(null===o||void 0===o?void 0:o[f.g.DIRECTION]){case f.d.DESCENDING:c.sortDirection=l.a.desc;break;default:c.sortDirection=l.a.asc}return!u||c.sortActive||(null===o||void 0===o?void 0:o[f.g.SORT])||!0!==c.isSortDefault||(c.sortActive=!0,c.sortDefaultInitialDirection&&(c.sortDirection=c.sortDefaultInitialDirection)),c},b=function(e){var t=e.filter,a=void 0===t?{}:t,n=Object(i.a)({},a);return Array.isArray(n.transforms)?n.transforms.push(c.a):n.transforms=[c.a],n},m={applySortFilters:h,applyWrappableFilters:b,parseInventoryFilters:function(e){var t=e.filters,a=void 0===t?[]:t,n=e.onSort,o=e.query,s=void 0===o?{}:o;return Object(r.a)(a).map((function(e){var t=Object(i.a)({},e);return t.isSortable&&Object.assign(t,h({filter:t,onSort:n,query:s})),t.isWrappable&&Object.assign(t,b({filter:t})),t}))},parseRowCellsListData:function(e){var t=e.filters,a=void 0===t?[]:t,o=e.cellData,l=void 0===o?{}:o,c=e.session,d=void 0===c?{}:c,p=[],f=[],h={};return Object.entries(l).forEach((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];h[a]={title:Object(v.b)("curiosity-inventory.header",{context:a}),value:r},p.push(h[a].title),f.push(r)})),(null===a||void 0===a?void 0:a.length)&&(p.length=0,f.length=0,a.forEach((function(e){var t,a,n,o,l,c,v=e.id,b=e.cell,m=e.cellWidth,g=e.header,y=e.onSort,O=e.sortActive,E=e.sortDirection,T=e.transforms;h[v]&&(t=null!==(n=null===(o=h[v])||void 0===o?void 0:o.title)&&void 0!==n?n:v,a=null!==(l=null===(c=h[v])||void 0===c?void 0:c.value)&&void 0!==l?l:"");g&&(t="function"===typeof g&&g(Object(i.a)({},h))||g),("string"===typeof t||"number"===typeof t||s.a.isValidElement(t))&&(t={title:t}),t.transforms=[],Array.isArray(T)&&(t.transforms=t.transforms.concat(Object(r.a)(T))),"number"===typeof m&&t.transforms.push(Object(u.a)(m)),"function"===typeof y&&(t=Object(i.a)({},t,{onSort:function(e){return y(Object(i.a)({},h),Object(i.a)({},e,{id:v}))},sortActive:O,sortDirection:E})),b&&(a="function"===typeof b&&b(Object(i.a)({},h),Object(i.a)({},d))||b),("string"===typeof a||"number"===typeof a||s.a.isValidElement(a))&&(a={title:a}),p.push(t),f.push(a)}))),{columnHeaders:p,cells:f,data:Object(i.a)({},h)}}}},1381:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=function(e,t){return e/t+1||1},r={calculateOffsetFromPage:function(e,t){return t*(e-1)||0},calculatePageFromOffset:n,isLastPage:function(e,t,a){return n(e,t)===Math.ceil(a/t)}}},1382:function(e,t,a){"use strict";a.d(t,"b",(function(){return N})),a.d(t,"a",(function(){return N}));var n=a(6),r=a(13),i=a(14),o=a(15),s=a(16),l=a(0),c=a.n(l),u=a(69),d=a.n(u),p=a(151),v=a(216),f=a(1377),h=a(3097),b=a(3149),m=a(3095),g=a(3145),y=a(3101),O=a(1772),E=a(180),T=a.n(E),S=a(17),D=a(61),I=a(280),k=a(178),j=a(1373),C=a(1380),R=a(1770),A=a(1381),x=a(1),L=a(49),P=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onColumnSort=function(t,a){var r,i=a.direction,o=a.id,s=e.props.productId,l=Object.values(x.f).find((function(e){return T()(e)===o}));if(l){switch(i){case p.a.desc:r=x.d.DESCENDING;break;default:r=x.d.ASCENDING}D.g.dispatch([Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[x.g.DIRECTION],viewId:s},x.g.DIRECTION,r),Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[x.g.SORT],viewId:s},x.g.SORT,l)])}},e.onPage=function(t){var a=t.offset,r=t.perPage,i=e.props.productId;D.g.dispatch([Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[x.g.OFFSET],viewId:i},x.g.OFFSET,a),Object(n.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[x.g.LIMIT],viewId:i},x.g.LIMIT,r)])},e.onUpdateInventoryData=function(){var t=e.props,a=t.getSubscriptionsInventory,n=t.isDisabled,r=t.productId,i=t.query;!n&&r&&a(r,i)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.productId,n=t.query;a===e.productId&&d()(n,e.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var e=this,t=this.props,a=t.filterInventoryData,n=t.listData,r=t.query,i=t.session,o=[],s=n.map((function(t){var n=Object.assign({},t),s=C.a.parseRowCellsListData({filters:C.a.parseInventoryFilters({filters:a,onSort:e.onColumnSort,query:r}),cellData:n,session:i}),l=s.columnHeaders,c=s.cells;return o=l,{cells:c}}));return c.a.createElement(I.b,{borders:!0,variant:v.b.compact,className:"curiosity-inventory-list",columnHeaders:o,rows:s})}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.filterInventoryData,n=e.fulfilled,r=e.isDisabled,i=e.itemCount,o=e.listData,s=e.pending,l=e.perPageDefault,u=e.query,d=e.t;if(r)return c.a.createElement(f.a,{className:"curiosity-inventory-card__disabled"},c.a.createElement(h.a,null,c.a.createElement(b.a,null,d("curiosity-inventory.tab",{context:"disabled"}))));var p=u[x.g.LIMIT]||l,E=u[x.g.OFFSET],T=A.a.isLastPage(E,p,i),S=!0===n&&i<p&&"bodyMinHeight-".concat(p,"-resize")||!0===n&&T&&"bodyMinHeight-".concat(p,"-resize")||"bodyMinHeight-".concat(p);return c.a.createElement(f.a,{className:"curiosity-inventory-card"},c.a.createElement(j.a,{key:"headerMinHeight",updateOnContent:!0},c.a.createElement(m.a,null,c.a.createElement(g.a,{className:t?"blur":""},c.a.createElement(R.a,{isCompact:!0,isDisabled:s||t,itemCount:i,offset:E,onPage:this.onPage,onPerPage:this.onPage,perPage:p})))),c.a.createElement(j.a,{key:S,updateOnContent:!0},c.a.createElement(h.a,null,c.a.createElement("div",{className:t?"blur":"fadein"},s&&c.a.createElement(k.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(e){return e.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||p,variant:v.b.compact}}),!s&&this.renderTable()))),c.a.createElement(j.a,{key:"footerMinHeight",updateOnContent:!0},c.a.createElement(y.a,{className:t?"blur":""},c.a.createElement(O.TableToolbar,{isFooter:!0},c.a.createElement(R.a,{dropDirection:"up",isDisabled:s||t,itemCount:i,offset:E,onPage:this.onPage,onPerPage:this.onPage,perPage:p})))))}}]),a}(c.a.Component);P.defaultProps={error:!1,fulfilled:!1,filterInventoryData:[],getSubscriptionsInventory:S.b.noop,isDisabled:S.b.UI_DISABLED_TABLE_SUBSCRIPTIONS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},t:L.b};var _=D.e.subscriptionsList.makeSubscriptionsList(),N=Object(D.b)(_,(function(e){return{getSubscriptionsInventory:function(t,a){return e(D.d.rhsm.getSubscriptionsInventory(t,a))}}}))(P)},1383:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n=a(11),r=a(6),i=a(2),o=a(13),s=a(14),l=a(15),c=a(16),u=a(0),d=a.n(u),p=a(3165),v=a(3152),f=a(812),h=a(832),b=a(69),m=a.n(b),g=a(61),y=a(49),O=a(17),E=a(1),T=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={},e.onUpdateData=function(){var t=e.props,a=t.getMessageReports,n=t.productId,o=t.query,s=g.a.parseRhsmQuery(o).graphTallyQuery;if(n){var l,c=O.a.getRangedDateTime("CURRENT"),u=c.startDate,d=c.endDate;a(n,Object(i.a)({},s,(l={},Object(r.a)(l,E.g.GRANULARITY,E.b.DAILY),Object(r.a)(l,E.g.START_DATE,u.toISOString()),Object(r.a)(l,E.g.END_DATE,d.toISOString()),l)))}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.query;t.productId===e.productId&&m()(a,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,a=this.props,o=a.appMessages,s=a.messages,l=[];return s.length&&Object.entries(o).forEach((function(e){var a=Object(n.a)(e,2),r=a[0],o=a[1];if(!0!==t[r]&&!0===o){var c=s.find((function(e){return e.id===r}));c&&l.push(Object(i.a)({key:r},c))}})),l.map((function(t){var a=t.key,n=t.message,i=t.title,o=t.variant,s=void 0===o?p.b.info:o,l=d.a.createElement(v.a,{onClose:function(){return e.setState(Object(r.a)({},a,!0))}});return d.a.createElement(p.a,{actionClose:l,key:a,title:i,variant:s},n)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?d.a.createElement("div",{className:"curiosity-banner-messages"},e):null}}]),a}(d.a.Component);T.defaultProps={getMessageReports:O.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(y.b)("curiosity-banner.dataMismatchTitle"),message:Object(y.b)("curiosity-banner.dataMismatchMessage",{context:""!==O.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:O.b.UI_DISPLAY_NAME},[d.a.createElement(f.a,{isInline:!0,component:"a",variant:"link",icon:d.a.createElement(h.a,null),iconPosition:"right",target:"_blank",href:O.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var S=g.e.appMessages.makeAppMessages(),D=Object(g.b)(S,(function(e){return{getMessageReports:function(t,a){return e(g.d.rhsm.getMessageReports(t,a))}}}))(T)},1385:function(e,t,a){"use strict";a.d(t,"b",(function(){return J})),a.d(t,"a",(function(){return J}));var n=a(6),r=a(2),i=a(13),o=a(14),s=a(15),l=a(16),c=a(0),u=a.n(c),d=a(1377),p=a(3095),v=a(3096),f=a(836),h=a(3145),b=a(3097),m=a(3144),g=a(69),y=a.n(g),O=a(61),E=a(17),T=a(1),S=a(154),D=a.n(S),I=function(e){var t=e.date,a=e.granularity,n=D.a.utc(t);switch(a){case T.b.QUARTERLY:return"".concat(n.format(E.a.timestampQuarterFormats.yearShort)," - ").concat(n.add(1,"quarter").format(E.a.timestampQuarterFormats.yearShort));case T.b.MONTHLY:return n.format(E.a.timestampMonthFormats.yearLong);case T.b.WEEKLY:return"".concat(n.format(E.a.timestampDayFormats.short)," - ").concat(n.add(1,"week").format(E.a.timestampDayFormats.yearShort));case T.b.DAILY:default:return n.format(E.a.timestampDayFormats.long)}},k=function(e){var t=e.tick,a=Math.abs(t),n=t,r="";return a>=Math.pow(10,12)?(r="T",n=t/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(r="B",n=t/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(r="M",n=t/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(r="K",n=t/Math.pow(10,3)),"".concat(n).concat(r)},j={getChartXAxisLabelIncrement:function(e){switch(e){case T.b.DAILY:return 5;case T.b.WEEKLY:case T.b.MONTHLY:return 2;case T.b.QUARTERLY:default:return 1}},getTooltipDate:I,xAxisTickFormat:function(e){var t=e.date,a=e.granularity,n=e.tick,r=e.previousDate;if(t&&a){var i,o=D.a.utc(t),s=0!==n&&Number.parseInt(o.year(),10)!==Number.parseInt(D.a.utc(r).year(),10);switch(a){case T.b.QUARTERLY:i=(i=s?o.format(E.a.timestampQuarterFormats.yearShort):o.format(E.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case T.b.MONTHLY:i=(i=s?o.format(E.a.timestampMonthFormats.yearShort):o.format(E.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case T.b.WEEKLY:case T.b.DAILY:default:i=(i=s?o.format(E.a.timestampDayFormats.yearShort):o.format(E.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},yAxisTickFormat:function(e){var t=e.tick,a=e.locale,n=void 0===a?E.b.UI_LOCALE_DEFAULT:a,r="".concat(new Intl.NumberFormat(n,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(t));return r.length>3&&r.length>="".concat(t).length&&(r=k({tick:t})),r},yAxisTickFormatFallback:k},C=a(49),R=function(e){var t=e.datum,a=e.granularity,n=e.productLabel,r=e.t,i=null,o=[],s=(t||{}).itemsByKey,l=void 0===s?{}:s;return Object.keys(l).forEach((function(e,t){var s,c;0===t&&(i=I({date:null===(c=l[e])||void 0===c?void 0:c.data.date,granularity:a}));var u={color:null===(s=l[e])||void 0===s?void 0:s.color};if(/^threshold/.test(e)){var d,p,v,f=(null===(d=l[e])||void 0===d?void 0:d.data.hasInfinite)&&r("curiosity-graph.infiniteThresholdLabel")||(null!==(p=null===(v=l[e])||void 0===v?void 0:v.data.y)&&void 0!==p?p:r("curiosity-graph.noDataLabel"));u.label=r("curiosity-graph.thresholdLabel"),u.value=f}else{var h,b,m=!1===(null===(h=l[e])||void 0===h?void 0:h.data.hasData)&&r("curiosity-graph.noDataLabel")||(null===(b=l[e])||void 0===b?void 0:b.data.y)||0;u.label=r("curiosity-graph.".concat(e,"Label"),{product:n}),u.value=m}o.push(u)})),u.a.createElement("div",{className:"victory-tooltip"},u.a.createElement("table",{summary:r("curiosity-graph.tooltipSummary")},o.length&&i&&u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{colSpan:2},i)))||null,o.length&&u.a.createElement("tbody",null,o.map((function(e){return u.a.createElement("tr",{key:"tooltip-".concat(e.label)},u.a.createElement("th",null,u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:e.color||"transparent"}}),e.label),u.a.createElement("td",null,e.value))})))||null),!o.length&&r("curiosity-graph.noDataErrorLabel")||null)};R.defaultProps={datum:{},productLabel:"",t:C.b};var A=a(812),x=a(424),L=a(3138),P=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onClick=function(t){var a=e.props,r=a.chart,i=a.viewId,o=r.toggle(t);O.g.dispatch({type:O.f.graph.SET_GRAPH_LEGEND,legend:Object(n.a)({},"".concat(i,"-").concat(t),o)})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chart,a=e.datum,n=e.legend,r=e.viewId;a.dataSets.forEach((function(e){var a=e.id;(n["".concat(r,"-").concat(a)]||t.isToggled(a))&&t.hide(a)}))}},{key:"renderLegendItem",value:function(e){var t=this,a=e.chartId,n=e.color,r=e.isDisabled,i=e.isThreshold,o=e.labelContent,s=e.tooltipContent,l=this.props,c=l.chart,d=l.legend,p=l.viewId,v=d["".concat(p,"-").concat(a)]||c.isToggled(a),f=u.a.createElement(A.a,{onClick:function(){return t.onClick(a)},onKeyPress:function(){return t.onClick(a)},className:"victory-legend-item",tabIndex:0,key:"curiosity-button-".concat(a),variant:"link",component:"a",isDisabled:r,icon:(r||v)&&u.a.createElement(L.a,null)||i&&u.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:r||v?"hidden":"visible",borderTopColor:n}})||u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:r||v?"hidden":"visible",backgroundColor:n}})},o);return s?u.a.createElement(x.a,{key:"curiosity-tooltip-".concat(a),content:u.a.createElement("p",null,s),position:x.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},f):f}},{key:"render",value:function(){var e=this,t=this.props,a=t.datum,n=t.productLabel,r=t.t;return u.a.createElement(u.a.Fragment,null,a.dataSets.map((function(t){var a=t.id,i=t.isThreshold,o=t.stroke,s=t.data,l=!(void 0===s?[]:s).find((function(e){var t=e.y,a=e.hasData;return t>=0&&!0===a||t>=0&&!0===i}))||!1,c=i&&r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:n,context:n})||r(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:n,context:n}),u=i&&r(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:n,context:n})||r("curiosity-graph.".concat(a,"LegendTooltip"),{product:n,context:n});return e.renderLegendItem({chartId:a,color:o,labelContent:c,isDisabled:l,isThreshold:i,tooltipContent:u})})))}}]),a}(u.a.Component);P.defaultProps={chart:{hide:E.b.noop,toggle:E.b.noop,isToggled:E.b.noop},datum:{dataSets:[]},legend:{},productLabel:"",t:C.b,viewId:"graphCardLegend"};var _=Object(O.b)((function(e){return{legend:e.graph.legend}}))(P),N=a(3157),w=a(3158),F=a(3159),M=a(3156),U=a(3142),H=a(3161),Y=a(1393),G=a.n(Y),q=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={chartWidth:0},e.dataSetsToggle={},e.resizeObserver=E.b.noop,e.containerRef=u.a.createRef(),e.tooltipRef=u.a.createRef(),e.onHide=function(t){e.dataSetsToggle=Object(r.a)({},e.dataSetsToggle,Object(n.a)({},t,!0)),e.forceUpdate()},e.onRevert=function(){e.dataSetsToggle={},e.forceUpdate()},e.onToggle=function(t){var a=!e.dataSetsToggle[t];return e.dataSetsToggle=Object(r.a)({},e.dataSetsToggle,Object(n.a)({},t,a)),e.forceUpdate(),a},e.onResizeContainer=function(){var t=e.state.chartWidth,a=(e.containerRef.current||{}).clientWidth,n=void 0===a?0:a;n!==t&&e.setState({chartWidth:n})},e.getIsToggled=function(t){return e.dataSetsToggle[t]||!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var e=this,t=this.containerRef.current,a=window.ResizeObserver;if(t&&a){var n=new a(this.onResizeContainer);n.observe(t),this.resizeObserver=function(){return n.unobserve(t)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",e.onResizeContainer)}}},{key:"setChartTicks",value:function(){var e=this.props,t=e.xAxisLabelIncrement,a=e.xAxisTickFormat,n=e.yAxisTickFormat,i=e.dataSets,o={},s={},l=i.length&&i[0].data||[];return i.forEach((function(e){e.xAxisLabelUseDataSet&&(l=e.data)})),o.xAxisTickValues=l.reduce((function(e,a,n){return n%t===0?e.concat(a.x):e}),[]),o.xAxisTickFormat=function(e){return l[e]&&l[e].xAxisLabel||e},"function"===typeof a&&(o.xAxisTickFormat=function(e){var t=o.xAxisTickValues,n=t.indexOf(e),i=Object(r.a)({},l[t[n-1]]||{}),s=Object(r.a)({},l[t[n+1]]||{}),c=Object(r.a)({},l[e]||{});return a({tick:e,previousItem:i,item:c,nextItem:s})}),"function"===typeof n&&(s.yAxisTickFormat=function(e){return n({tick:e})}),Object(r.a)({},o,{},s)}},{key:"getChartTicks",value:function(){var e=this.props.xAxisFixLabelOverlap,t=this.setChartTicks(),a=t.xAxisTickValues,n=t.xAxisTickFormat,r=t.yAxisTickFormat,i={fixLabelOverlap:e},o={dependentAxis:!0,showGrid:!0};return a&&(i.tickValues=a),n&&(i.tickFormat=n),r&&(o.tickFormat=r),{isXAxisTicks:!!a,xAxisProps:i,yAxisProps:o}}},{key:"getChartDomain",value:function(e){var t=e.isXAxisTicks,a=this.dataSetsToggle,n=this.props,i=n.domain,o=n.dataSets;if(Object.keys(i).length)return i;var s={},l={},c=0,u=0;o.filter((function(e){return!0===e.isStacked})).forEach((function(e){if(!a[e.id]&&e.data){var t=0;e.data.forEach((function(a,n){t=a&&a.y>t?a.y:t,n===e.data.length-1&&(u+=t)}))}})),o.forEach((function(e){!a[e.id]&&e.data&&(c=e.data.length>c?e.data.length:c,e.data.forEach((function(e){u=e&&e.y>u?e.y:u})))})),t||(s.x=[0,c||10]);var d=Math.pow(10,Math.floor(Math.log10(u>10&&u||10)));return s.y=[0,Math.ceil((u+1)/d)*d],Object.keys(s).length&&(l.domain=s),{maxY:u,chartDomain:Object(r.a)({},l)}}},{key:"getTooltipData",value:function(){var e=this.dataSetsToggle,t=this.props,a=t.dataSets,n=t.chartTooltip,i=[];return n&&a&&a[0]&&a[0].data&&(i=a[0].data.map((function(t,i){var o={};a.forEach((function(t){!e[t.id]&&t.data&&t.data[i]&&(o[t.id]={color:t.stroke||t.fill||t.color||"",data:G()(t.data[i])})}));var s={datum:{x:t.x,y:t.y,index:i,itemsByKey:o,dataSets:G()(a)}};return{x:t.x,y:null,itemsByKey:o,tooltip:u.a.isValidElement(n)&&u.a.cloneElement(n,Object(r.a)({},s))||n(Object(r.a)({},s))}}))),i}},{key:"renderTooltip",value:function(){var e=this,t=this.dataSetsToggle,a=this.props,n=a.chartTooltip,i=a.dataSets;if(!n||Object.values(t).filter((function(e){return!0===e})).length===i.length)return null;var o=Object(N.a)("voronoi","cursor"),s=this.getTooltipData(),l={},c={},d=function(t){var a=e.containerRef.current,n=e.tooltipRef.current,i=a&&a.getBoundingClientRect()||{},o=n&&n.getBoundingClientRect()||{};i.right&&(l=i),o.right&&(c=o);var d=t.x+10;(l.right<c.right||t.x+c.width>l.right/2)&&(d=t.x-10-c.width);var p=function(e){var t=e.datum,a=s.find((function(e){return e.x===t.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(r.a)({},t));return p?u.a.createElement("g",null,u.a.createElement("foreignObject",{x:d,y:t.y/2.2,width:"100%",height:"100%"},u.a.createElement("div",{ref:e.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml"},p))):u.a.createElement("g",null)};return u.a.createElement(o,{cursorDimension:"x",labels:function(e){return e},labelComponent:u.a.createElement(d,null),voronoiPadding:60})}},{key:"renderLegend",value:function(){var e=this.props,t=e.chartLegend,a=e.dataSets;if(!t)return null;var n={datum:{dataSets:G()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return u.a.isValidElement(t)&&u.a.cloneElement(t,Object(r.a)({},n))||t(Object(r.a)({},n))}},{key:"renderChart",value:function(e){var t=e.stacked,a=void 0!==t&&t,n=this.dataSetsToggle,i=this.props.dataSets,o=[],s=[];return i.forEach((function(e,t){if(!n[e.id]&&e.data&&e.data.length){var a=e.isThreshold&&function(e,t){var a={data:{}};return e.fill&&(a.data.fill=e.fill),e.stroke&&(a.data.stroke=e.stroke),e.strokeWidth&&(a.data.strokeWidth=e.strokeWidth),e.strokeDasharray&&(a.data.strokeDasharray=e.strokeDasharray),u.a.createElement(w.a,{animate:e.animate||!1,interpolation:e.interpolation||"step",key:E.b.generateId(),name:"chartArea-".concat(t,"-threshold"),data:e.data,style:Object(r.a)({},e.style||{},{},a),themeColor:e.themeColor,themeVariant:e.themeVariant})}(e,t)||function(e,t){var a={data:{}};return e.fill&&(a.data.fill=e.fill),e.stroke&&(a.data.stroke=e.stroke),e.strokeWidth&&(a.data.strokeWidth=e.strokeWidth),u.a.createElement(F.a,{animate:e.animate||!1,interpolation:e.interpolation||"monotoneX",key:E.b.generateId(),name:"chartArea-".concat(t,"-area"),data:e.data,style:Object(r.a)({},e.style||{},{},a),themeColor:e.themeColor,themeVariant:e.themeVariant})}(e,t);e.isStacked?s.push(a):o.push(a)}})),a&&s||o}},{key:"render",value:function(){var e=this.state.chartWidth,t=this.props,a=t.chartLegend,n=t.padding,i=t.themeColor,o=this.getChartTicks(),s=o.isXAxisTicks,l=o.xAxisProps,c=o.yAxisProps,d=this.getChartDomain({isXAxisTicks:s}),p=d.chartDomain,v={containerComponent:d.maxY>=0&&this.renderTooltip()||void 0},f=Object(r.a)({padding:n},p,{},v);return u.a.createElement("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef},u.a.createElement(M.a,Object.assign({animate:{duration:0},width:e,themeColor:i},f),u.a.createElement(U.a,Object.assign({},l,{animate:!1})),u.a.createElement(U.a,Object.assign({},c,{animate:!1})),this.renderChart({}),u.a.createElement(H.a,null,this.renderChart({stacked:!0}))),a&&u.a.createElement("div",{className:"curiosity-chartarea-description victory-legend"},this.renderLegend()))}}]),a}(u.a.Component);q.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var z=a(178),W=a(1373),Q=a(1374),V=Object.values(T.b).map((function(e){return{title:Object(C.b)("curiosity-toolbar.granularity",{context:e}),value:e,selected:!1}})),B=function(e){var t=e.options,a=e.t,i=e.value,o=e.viewId,s=Object(O.h)((function(e){var t,a;return null===(t=e.view.graphTallyQuery)||void 0===t||null===(a=t[T.g.GRANULARITY])||void 0===a?void 0:a[o]}),i),l=t.map((function(e){return Object(r.a)({},e,{selected:e.value===s})}));return u.a.createElement(Q.a,{"aria-label":a("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(e){return O.g.dispatch(Object(n.a)({type:O.f.query.SET_QUERY_RHSM_TYPES[T.g.GRANULARITY],viewId:o},T.g.GRANULARITY,e.value))},options:l,selectedOptions:s,placeholder:a("curiosity-toolbar.placeholder",{context:"granularity"})})};B.defaultProps={options:V,t:C.b,value:T.b.DAILY,viewId:"toolbarFieldGranularity"};var K=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).onUpdateGraphData=function(){var t=e.props,a=t.getGraphReportsCapacity,i=t.isDisabled,o=t.productId,s=t.query,l=e.getQueryGranularity();if(!i&&l&&o){var c,u=E.a.getRangedDateTime(l),d=u.startDate,p=u.endDate;a(o,Object(r.a)((c={},Object(n.a)(c,T.g.START_DATE,d.toISOString()),Object(n.a)(c,T.g.END_DATE,p.toISOString()),c),s))}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.productId,n=t.query;a===e.productId&&y()(n,e.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var e=this.props.query;return null===e||void 0===e?void 0:e[T.g.GRANULARITY]}},{key:"renderChart",value:function(){var e=this.props,t=e.filterGraphData,a=e.graphData,n=e.productLabel,r=e.query,i=e.viewId,o=this.getQueryGranularity(),s={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:j.getChartXAxisLabelIncrement(o),xAxisTickFormat:function(e){var t=e.item,a=e.previousItem,n=e.tick;return j.xAxisTickFormat({tick:n,date:t.date,previousDate:a.date,granularity:o})},yAxisTickFormat:j.yAxisTickFormat};return u.a.createElement(q,Object.assign({key:"chart_".concat(JSON.stringify(r))},s,{dataSets:function(e){var a=function(t){var a={data:e[t],id:t,animate:{duration:250,onLoad:{duration:250}},strokeWidth:2,isStacked:!/^threshold/.test(t),isThreshold:/^threshold/.test(t)};return/^threshold/.test(t)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=m.a.value,a.strokeDasharray="4,3",a.strokeWidth=3),a};return t.length?t.map((function(e){return Object.assign(a(e.id),e)})):Object.keys(e).map((function(e){return a(e)}))}(a),chartLegend:function(e){var t=e.chart,a=e.datum;return u.a.createElement(_,{chart:t,datum:a,productLabel:n,viewId:i})},chartTooltip:function(e){var t=e.datum;return u.a.createElement(R,{datum:t,granularity:o,productLabel:n})}}))}},{key:"render",value:function(){var e=this.props,t=e.cardTitle,a=e.children,n=e.error,r=e.isDisabled,i=e.pending,o=e.viewId;if(r)return null;var s=this.getQueryGranularity();return u.a.createElement(d.a,{className:"curiosity-usage-graph"},u.a.createElement(W.a,{key:"headerMinHeight"},u.a.createElement(p.a,null,u.a.createElement(v.a,null,u.a.createElement(f.a,{headingLevel:"h2",size:"lg"},t)),u.a.createElement(h.a,{className:n?"blur":""},a,u.a.createElement(B,{viewId:o,value:s})))),u.a.createElement(W.a,{key:"bodyMinHeight"},u.a.createElement(b.a,null,u.a.createElement("div",{className:n?"blur":"fadein"},i&&u.a.createElement(z.a,{variant:"graph"}),!i&&this.renderChart()))))}}]),a}(u.a.Component);K.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:E.b.noop,graphData:{},isDisabled:E.b.UI_DISABLED_GRAPH,pending:!1,productLabel:"",t:C.b,viewId:"graphCard"};var X=O.e.graphCard.makeGraphCard(),J=Object(O.b)(X,(function(e){return{getGraphReportsCapacity:function(t,a){return e(O.d.rhsm.getGraphReportsCapacity(t,a))}}}))(K)},1386:function(e,t,a){"use strict";a.d(t,"b",(function(){return D})),a.d(t,"a",(function(){return T}));var n=a(6),r=a(13),i=a(14),o=a(15),s=a(16),l=a(0),c=a.n(l),u=a(836),d=a(61),p=a(3150),v=a(3151),f=a(3168),h=a(838),b=a(839),m=a(264),g=a.n(m),y=a(17),O=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={updatedActiveTab:null,updatedTabs:null},e.onTab=function(t){var a=t.index,n=e.props.onTab;e.setState({updatedActiveTab:a},(function(){return n({index:a})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.updatedTabs&&this.setTabData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tabs;g()(e.tabs,t,(function(e,t){if("function"===typeof e&&"function"===typeof t)return e.toString()===t.toString()}))||this.setTabData()}},{key:"setTabData",value:function(){var e=this.props,t=e.activeTab,a=e.defaultActiveTab,n=e.tabs,r=a,i=n.map((function(e,t){var a=e.active,n=e.content,i=e.title;return r=a?t:r,c.a.createElement(p.a,{key:i,eventKey:t,title:c.a.createElement(v.a,null,i)},n)}));"number"===typeof t&&(r=t),this.setState({updatedActiveTab:r,updatedTabs:i})}},{key:"renderTabs",value:function(){var e=this,t=this.state,a=t.updatedActiveTab,n=t.updatedTabs,r=this.props,i=r.className,o=r.hasOverflowScroll;return c.a.createElement(f.a,{className:"curiosity-tabs".concat(o?"":"__no-scroll"," ").concat(i||""),activeKey:a,onSelect:function(t,a){return e.onTab({event:t,index:a})},mountOnEnter:!0,unmountOnExit:!0,inset:{default:"insetNone",md:"insetLg"}},n)}},{key:"render",value:function(){return c.a.createElement(h.a,{className:"curiosity-tabs-container"},c.a.createElement(b.a,{span:12},this.renderTabs()))}}]),a}(c.a.Component);O.defaultProps={activeTab:null,className:"",defaultActiveTab:0,hasOverflowScroll:!1,onTab:y.b.noop,tabs:[]};var E=a(49),T=function(e){e.active;var t=e.children;e.title;return c.a.createElement(c.a.Fragment,null,t)};T.defaultProps={active:!1};var S=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onTab=function(t){var a=t.index,r=e.props.productId;d.g.dispatch({type:d.f.inventory.SET_INVENTORY_TAB,tabs:Object(n.a)({},r,a)})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activeTab,a=e.children,n=e.defaultActiveTab,r=e.isDisabled,i=e.t;if(r)return null;var o=c.a.Children.toArray(a).map((function(e){var t=e.props,a=void 0===t?{}:t;return{active:a.active||!1,content:a.children,title:a.title}}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{headingLevel:"h2",className:"sr-only"},i("curiosity-inventory.tabHeading",{count:o.length})),c.a.createElement(O,{activeTab:t,defaultActiveTab:n,onTab:this.onTab,tabs:o}))}}]),a}(c.a.Component);S.defaultProps={activeTab:0,defaultActiveTab:0,isDisabled:y.b.UI_DISABLED_TABLE,t:E.b};var D=Object(d.b)((function(e,t){var a,n=e.inventory,r=t.productId;return{activeTab:null===(a=n.tabs)||void 0===a?void 0:a[r]}}))(S)},1387:function(e,t,a){"use strict";a.d(t,"b",(function(){return I})),a.d(t,"a",(function(){return I}));var n=a(2),r=a(6),i=a(13),o=a(14),s=a(15),l=a(16),c=a(0),u=a.n(c),d=a(3146),p=a(3171),v=a(3172),f=a(3147),h=a(1768),b=a(1378),m=a(3148),g=a(1374),y=a(61),O=a(1),E=a(49),T=function(e){switch(e){case O.g.SLA:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.slaPremium"),value:O.c.PREMIUM},{title:Object(E.b)("curiosity-toolbar.slaStandard"),value:O.c.STANDARD},{title:Object(E.b)("curiosity-toolbar.slaSelfSupport"),value:O.c.SELF},{title:Object(E.b)("curiosity-toolbar.slaNone"),value:O.c.NONE}]};case O.g.USAGE:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.usageDevelopment"),value:O.i.DEVELOPMENT},{title:Object(E.b)("curiosity-toolbar.usageDisaster"),value:O.i.DISASTER},{title:Object(E.b)("curiosity-toolbar.usageProduction"),value:O.i.PRODUCTION},{title:Object(E.b)("curiosity-toolbar.usageUnspecified"),value:O.i.UNSPECIFIED}]};default:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.category",{context:O.g.SLA}),value:O.g.SLA},{title:Object(E.b)("curiosity-toolbar.category",{context:O.g.USAGE}),value:O.g.USAGE}]}}},S=a(17),D=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onClear=function(){var t,a=e.props.hardFilterReset,n=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:new Set}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:(t={},Object(r.a)(t,O.g.SLA,null),Object(r.a)(t,O.g.USAGE,null),t)}}];a&&n.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:null}}),e.setDispatch(n,!0)},e.onClearFilter=function(t){var a=e.props,n=a.activeFilters,i=a.currentFilter,o=a.hardFilterReset,s=(T().options.find((function(e){return e.title===t}))||{}).value;if(s){var l=new Set(n);l.delete(s);var c=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:l}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:Object(r.a)({},s,null)}}];if(o){var u=l.size>0&&i||null;c.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:u}})}e.setDispatch(c,!0)}},e.onCategorySelect=function(t){var a=t.value;e.setDispatch({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:a}})},e.onSelect=function(t){var a=t.event,n=t.field,i=e.props.activeFilters,o=a.value,s=new Set(i).add(n);e.setDispatch([{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:s}},{type:y.f.query.SET_QUERY_RHSM_TYPES[n],data:Object(r.a)({},n,o)}],!0)},e}return Object(o.a)(a,[{key:"setDispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.viewId,r=(Array.isArray(e)&&e||[e]).map((function(e){var t=e.type,r=e.data;return Object(n.a)({type:t,viewId:a},r)}));t&&r.push({type:y.f.query.SET_QUERY_RESET_INVENTORY_LIST}),y.g.dispatch(r)}},{key:"setSelectFilter",value:function(e){var t,a,n=this.props.query,r=T(e),i=this.getCurrentFilter();return a=e?"string"===typeof(null===n||void 0===n?void 0:n[e])&&r.options.find((function(t){return t.value===(null===n||void 0===n?void 0:n[e])})):r.options.find((function(e){return e.value===i})),{options:r,optionsSelected:(null===(t=a)||void 0===t?void 0:t.title)&&[a.title]||(null===r||void 0===r?void 0:r.selected)&&[r.selected]||[]}}},{key:"getCurrentFilter",value:function(){var e,t,a=this.props,n=a.currentFilter,r=a.filterOptions;return n||(null===(e=r.find((function(e){return!0===e.selected})))||void 0===e?void 0:e.id)||1===r.length&&(null===(t=r[0])||void 0===t?void 0:t.id)}},{key:"renderSelectFilter",value:function(e){var t=this,a=e.id,n=this.props.t,r=this.setSelectFilter(a),i=r.options,o=r.optionsSelected,s=this.getCurrentFilter();return u.a.createElement(d.a,{key:a,chips:o,deleteChip:this.onClearFilter,categoryName:n("curiosity-toolbar.category",{context:a}),showToolbarItem:s===a},u.a.createElement(g.a,{"aria-label":n("curiosity-toolbar.category",{context:a}),onSelect:function(e){return t.onSelect({event:e,field:a})},selectedOptions:o,placeholder:n("curiosity-toolbar.placeholder",{context:a}),options:i.options}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.filterOptions,n=t.isDisabled,r=t.t;if(n)return null;var i=this.setSelectFilter(),o=i.options,s=i.optionsSelected;return u.a.createElement(p.a,{id:"curiosity-toolbar",className:"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"sm",clearAllFilters:this.onClear},u.a.createElement(v.a,null,u.a.createElement(f.a,{toggleIcon:u.a.createElement(m.a,null),breakpoint:"md"},u.a.createElement(h.a,{variant:"filter-group"},1!==a.length&&u.a.createElement(b.a,null,u.a.createElement(g.a,{"aria-label":r("curiosity-toolbar.category"),onSelect:this.onCategorySelect,selectedOptions:s,placeholder:r("curiosity-toolbar.placeholder"),options:o.options,toggleIcon:u.a.createElement(m.a,null)})),a.map((function(t){var a=t.id,n=t.selected;return e.renderSelectFilter({id:a,selected:n})}))))))}}]),a}(u.a.Component);D.defaultProps={query:{},activeFilters:new Set,currentFilter:null,filterOptions:[{id:O.g.SLA,filterType:"select"},{id:O.g.USAGE,filterType:"select",selected:!0}],hardFilterReset:!1,isDisabled:S.b.UI_DISABLED_TOOLBAR,t:E.b,viewId:"toolbar"};var I=Object(y.b)((function(e,t){var a,r=e.toolbar,i=t.viewId;return Object(n.a)({},null===(a=r.filters)||void 0===a?void 0:a[i])}))(D)},1769:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(9),r=a(6),i=a(2),o=a(13),s=a(14),l=a(15),c=a(16),u=a(0),d=a.n(u),p=a(216),v=a(17),f=a(61),h=a(178),b=a(1380),m=a(1),g=a(280),y=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={currentPage:0,limit:100,previousData:[]},e.onUpdateGuestsData=function(){var t=e.state,a=t.currentPage,n=t.limit,o=e.props,s=o.getHostsInventoryGuests,l=o.query,c=o.id;if(c){var u,d=Object(i.a)({},l,(u={},Object(r.a)(u,m.g.LIMIT,n),Object(r.a)(u,m.g.OFFSET,a*n||0),u));s(c,f.a.parseRhsmQuery(d).inventoryGuestsQuery)}},e.onScroll=function(t){var a=t.target,r=e.state,i=r.currentPage,o=r.limit,s=r.previousData,l=e.props,c=l.numberOfGuests,u=l.pending,d=l.listData,p=a.scrollHeight-a.scrollTop===a.clientHeight;if(c>(i+1)*o&&p&&!u){var v=i+1,f=[].concat(Object(n.a)(s),Object(n.a)(d||[]));e.setState({previousData:f,currentPage:v})}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(e,t){this.state.currentPage!==t.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var e=this.state.currentPage,t=this.props,a=t.filterGuestsData,n=t.listData,r=t.pending;if(e>0&&r){var i=d.a.createElement(h.a,{variant:"table",tableProps:{borders:!1,colCount:(null===a||void 0===a?void 0:a.length)||(null===n||void 0===n?void 0:n[0])&&Object.keys(n[0]).length||1,rowCount:0,variant:p.b.compact}});return d.a.createElement("div",{className:"curiosity-table-scroll-loader__custom"},i)}return null}},{key:"renderTable",value:function(){var e=this.state.previousData,t=this.props,a=t.filterGuestsData,r=t.listData,i=t.numberOfGuests,o=t.session,s=[],l=[].concat(Object(n.a)(e),Object(n.a)(r||[])).map((function(e){var t=Object.assign({},e),n=b.a.parseRowCellsListData({filters:a,cellData:t,session:o}),r=n.columnHeaders,i=n.cells;return s=r,{cells:i}})),c=42*(i+1);return c=c<275&&c||275,d.a.createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(c,"px")}},d.a.createElement("div",{className:"curiosity-table-scroll-list".concat(c<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),l.length&&d.a.createElement(g.a,{borders:!1,variant:p.b.compact,className:"curiosity-guests-list",columnHeaders:s,rows:l})||null))}},{key:"render",value:function(){var e=this.state.currentPage,t=this.props,a=t.error,n=t.filterGuestsData,r=t.listData,i=t.numberOfGuests,o=t.pending,s=t.perPageDefault;return d.a.createElement("div",{className:"fadein ".concat(a?"blur":"")},o&&0===e&&d.a.createElement(h.a,{variant:"table",tableProps:{borders:!1,colCount:(null===n||void 0===n?void 0:n.length)||(null===r||void 0===r?void 0:r[0])&&Object.keys(r[0]).length||1,colWidth:(null===n||void 0===n?void 0:n.length)&&n.map((function(e){return e.cellWidth}))||[],rowCount:i<s?i:s,variant:p.b.compact}}),(!o&&0===e||e>0)&&this.renderTable())}}]),a}(d.a.Component);y.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:v.b.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var O=f.e.guestsList.makeGuestsList(),E=Object(f.b)(O,(function(e){return{getHostsInventoryGuests:function(t,a){return e(f.d.rhsm.getHostsInventoryGuests(t,a))}}}))(y)},1770:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),i=a(3162),o=a(17),s=a(1381),l=function e(t){var a=t.dropDirection,n=t.isDisabled,o=t.isCompact,l=t.itemCount,c=t.offset,u=t.onPage,d=t.onPerPage,p=t.perPage,v=t.variant;return r.a.createElement(i.a,{className:l?"":"hidden",dropDirection:a,isCompact:o,isDisabled:n||!l,itemCount:l,onSetPage:function(e,t,a){return u({event:e,perPage:a,offset:s.a.calculateOffsetFromPage(t,a)})},onPerPageSelect:function(t,a){return d({event:t,perPage:a,offset:e.defaultProps.offset})},page:s.a.calculatePageFromOffset(c||e.defaultProps.offset,p),perPage:p,variant:v})};l.defaultProps={dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offset:0,onPage:o.b.noop,onPerPage:o.b.noop,perPage:10,variant:null}}}]);
//# sourceMappingURL=1.1ecee4ca.chunk.js.map