(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[0],{383:function(t,e,r){t.exports=r.p+"static/media/subscriptions.0ad5eae0.svg"},390:function(t,e,r){t.exports=r(672)},671:function(t,e,r){},672:function(t,e,r){"use strict";r.r(e);var a=r(2),n=r.n(a),o=r(42),i=r(114),c=r(144),s=r(17);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}var u={generateId:function(t){return"".concat(t||"generatedid","-").concat(Math.ceil(1e5*Math.random())||"")},isPromise:function(t){return"[object Promise]"===Object.prototype.toString.call(t)},noop:Function.prototype,noopPromise:Promise.resolve({}),noopTranslate:function(t,e){return"t(".concat(t).concat(e&&", ".concat(e)||"",")")},DEV_MODE:!1,PROD_MODE:!0,REVIEW_MODE:!1,TEST_MODE:!1,UI_DEPLOY_PATH_PREFIX:"/beta",UI_DISABLED:!1,UI_DISPLAY_NAME:"Subscription Watch",UI_DISPLAY_CONFIG_NAME:"Subscription Watch",UI_DISPLAY_START_NAME:"Subscription watch",UI_LOGGER_ID:"curiosity",UI_NAME:"subscriptions",UI_PATH:"/beta/apps/subscriptions",UI_VERSION:"0.1.10.aab081b"};window.curiosity=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},u);var p=r(189),f=r.n(p),d=r(8),h=r(10),m=r(12),O=r(9),y=r(11),E=r(102),v=r(3),b=r(292),g=r(65),_=function(t){var e=t.children;return n.a.createElement(g.PageHeader,null,n.a.createElement(g.PageHeaderTitle,{title:e}))};_.defaultProps={};var P=r(201),A=function(t){var e=t.children,r=Object(P.a)(t,["children"]);return n.a.createElement(g.Section,r,e)};A.defaultProps={};var S=function(t){var e=t.children;return n.a.createElement(n.a.Fragment,null,n.a.Children.toArray(e).filter(function(t){return n.a.isValidElement(t)&&t.type===_}),n.a.createElement(b.a,{className:"curiosity"},n.a.Children.toArray(e).filter(function(t){return t.type!==_})))};S.defaultProps={};var R=r(283),T=r(286),I=r(284),D=r(285),j=r(15),L=r(356),C=r(164),w=r(153),N=r.n(w),k=r(193),M=r.n(k),x=r(25),U=r.n(x);function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function Y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var F=function(t){function e(){var t,r;Object(d.a)(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(m.a)(this,(t=Object(O.a)(e)).call.apply(t,[this].concat(n)))).state={isExpanded:!1,options:null,selected:null},r.onSelect=function(t,e){var a=r.state.options,n=r.props,o=n.id,i=n.name,c=n.onSelect,s=n.variant,l=a,p=l.findIndex(function(t){return t.title===e});l[p].selected=s===j.f.single||!l[p].selected,j.f.single&&l.forEach(function(t,e){p!==e&&(l[e].selected=!1)});var f=s===j.f.single?e:l.filter(function(t){return!0===t.selected}).map(function(t){return t.title});r.setState({options:l,selected:f},function(){var t=N()(l),e={id:o,name:i||o,value:t[p].value,selectedIndex:p,type:"select-".concat(s===j.f.single?"one":"multiple"),options:t},a=Y({},e,{target:Y({},e),currentTarget:Y({},e),persist:u.noop});c(Y({},a),p,t),s===j.f.single&&r.setState({isExpanded:!1})})},r.onToggle=function(t){r.setState({isExpanded:t})},r}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(t){var e=this.props.options;M()(t.options,e)||this.formatOptions()}},{key:"formatOptions",value:function(){var t,e=this.props,r=e.options,a=e.selectedOptions,n=e.variant,o=U()(r)?Object.keys(r).map(function(t){return Y({},r[t],{title:t,value:r[t]})}):N()(r),i=a&&"string"===typeof a||"number"===typeof a?[a]:a;o.forEach(function(t,e){var r=t;"string"===typeof r&&(r={title:t,value:t},o[e]=r),r.text=r.text||r.title,r.textContent=r.textContent||r.title,r.label=r.label||r.title,i&&(o[e].selected=i.includes(r.value))}),t=n===j.f.single?(o.find(function(t){return!0===t.selected})||{}).title:o.filter(function(t){return!0===t.selected}).map(function(t){return t.title}),this.setState({options:o,selected:t})}},{key:"render",value:function(){var t=this.state,e=t.options,r=t.selected,a=t.isExpanded,o=this.props,i=o.ariaLabel,c=o.className,s=o.isDisabled,l=o.placeholder,u=o.variant,p={};return e&&e.length&&!s||(p.isDisabled=!0),n.a.createElement(L.a,Object.assign({className:"curiosity-select ".concat(c),variant:u,"aria-label":i,onToggle:this.onToggle,onSelect:this.onSelect,selections:r,isExpanded:a,placeholderText:l},p),e&&e.map(function(t){return n.a.createElement(C.a,{key:window.btoa(t.title),value:t.title,"data-value":t.value,"data-title":t.title})})||[])}}]),e}(n.a.Component);F.defaultProps={ariaLabel:"Select option",className:"",id:u.generateId(),isDisabled:!1,name:null,onSelect:u.noop,options:[],selectedOptions:null,placeholder:"Select option",variant:j.f.single};var G=r(120),V=r(76),z=r(126),W=(r(313),r(263)),X=r(264),B=r(56),Q=r(103),K=r(59),q=r.n(K),J=r(106),$=r.n(J),Z={RHEL:"RHEL",RHEL_COMPUTE_NODE:"RHEL Compute Node",RHEL_DESKTOP:"RHEL Desktop",RHEL_SERVER:"RHEL Server",RHEL_WORKSTATION:"RHEL Workstation",RHEL_ARM:"RHEL for ARM",RHEL_IBM_POWER:"RHEL for IBM Power",RHEL_IBM_Z:"RHEL for IBM z",RHEL_X86:"RHEL for x86",OPENSHIFT:"OpenShift Container Platform"},tt={DAILY:"daily",WEEKLY:"weekly",MONTHLY:"monthly",QUARTERLY:"quarterly"},et={RHSM_API_RESPONSE_CAPACITY_DATA:"data",RHSM_API_RESPONSE_CAPACITY_DATA_TYPES:{CORES:"cores",DATE:"date",HYPERVISOR_CORES:"hypervisor_cores",HYPERVISOR_SOCKETS:"hypervisor_sockets",PHYSICAL_CORES:"physical_cores",PHYSICAL_SOCKETS:"physical_sockets",SOCKETS:"sockets",HAS_INFINITE:"has_infinite_quantity"},RHSM_API_RESPONSE_CAPACITY_META:"meta",RHSM_API_RESPONSE_CAPACITY_META_TYPES:{COUNT:"count"},RHSM_API_RESPONSE_PRODUCTS_DATA:"data",RHSM_API_RESPONSE_PRODUCTS_DATA_TYPES:{CORES:"cores",DATE:"date",HYPERVISOR_CORES:"hypervisor_cores",HYPERVISOR_SOCKETS:"hypervisor_sockets",PHYSICAL_CORES:"physical_cores",PHYSICAL_SOCKETS:"physical_sockets",SOCKETS:"sockets",HAS_DATA:"has_data"},RHSM_API_RESPONSE_PRODUCTS_META:"meta",RHSM_API_RESPONSE_PRODUCTS_META_TYPES:{COUNT:"count"},RHSM_API_PATH_ID_TYPES:Z,RHSM_API_QUERY_GRANULARITY:"granularity",RHSM_API_QUERY_GRANULARITY_TYPES:tt,RHSM_API_QUERY_LIMIT:"limit",RHSM_API_QUERY_OFFSET:"offset",RHSM_API_QUERY_START_DATE:"beginning",RHSM_API_QUERY_END_DATE:"ending"};function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var nt=function(){return(u.TEST_MODE?"20190720":u.DEV_MODE&&Object({NODE_ENV:"production",PUBLIC_URL:"/beta/apps/subscriptions",REACT_APP_ENV:"production",REACT_APP_UI_VERSION:"0.1.10.aab081b",REACT_APP_UI_NAME:"subscriptions",REACT_APP_UI_DISPLAY_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_CONFIG_NAME:"Subscription Watch",REACT_APP_UI_DISPLAY_START_NAME:"Subscription watch",REACT_APP_UI_DEPLOY_PATH_PREFIX:"/beta",REACT_APP_UI_DISABLED:"false",REACT_APP_UI_LOGGER_ID:"curiosity",REACT_APP_AJAX_TIMEOUT:"60000",REACT_APP_CONFIG_SERVICE_LOCALES_COOKIE:"rh_locale",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG:"en-US",REACT_APP_CONFIG_SERVICE_LOCALES_DEFAULT_LNG_DESC:"English",REACT_APP_CONFIG_SERVICE_LOCALES:"/beta/apps/subscriptions/locales/locales.json",REACT_APP_CONFIG_SERVICE_LOCALES_PATH:"/beta/apps/subscriptions/locales/{{lng}}.json",REACT_APP_CONFIG_SERVICE_LOCALES_EXPIRE:"604800000",REACT_APP_INCLUDE_CONTENT_HEADER:'<esi:include src="/beta/apps/chrome/snippets/head.html" />',REACT_APP_INCLUDE_CONTENT_BODY:'<esi:include src="/beta/apps/chrome/snippets/body.html" />',REACT_APP_SERVICES_RHSM_VERSION:"/api/rhsm-subscriptions/v1/version",REACT_APP_SERVICES_RHSM_REPORT:"/api/rhsm-subscriptions/v1/tally/products/",REACT_APP_SERVICES_RHSM_CAPACITY:"/api/rhsm-subscriptions/v1/capacity/products/"}).REACT_APP_DEBUG_DEFAULT_DATETIME)||new Date},ot=function(t){var e=t.date,r=t.subtract,a=t.measurement;return{startDate:$.a.utc(e).startOf(a).subtract(r,a).toDate(),endDate:$.a.utc(e).startOf(a).endOf("days").toDate()}},it=ot({date:nt(),subtract:30,measurement:"days"}),ct=ot({date:nt(),subtract:12,measurement:"weeks"}),st=ot({date:nt(),subtract:12,measurement:"months"}),lt=ot({date:nt(),subtract:36,measurement:"months"}),ut={long:"MMMM",yearLong:"MMMM YYYY",short:"MMM",yearShort:"MMM YYYY"},pt=at({},ut),ft={getCurrentDate:nt,getRangedDateTime:function(t){switch(t){case tt.WEEKLY:return at({},ct);case tt.MONTHLY:return at({},st);case tt.QUARTERLY:return at({},lt);case tt.DAILY:default:return at({},it)}},setRangedDateTime:ot,defaultDateTime:it,monthlyDateTime:st,quarterlyDateTime:lt,weeklyDateTime:ct,timestampDayFormats:{long:"MMMM D",yearLong:"MMMM D YYYY",short:"MMM D",yearShort:"MMM D YYYY"},timestampMonthFormats:ut,timestampQuarterFormats:pt};function dt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dt(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var mt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t,"_FULFILLED")},Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t,"_PENDING")},yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t,"_REJECTED")},Et=function(t){var e=t.payload||t;if(Array.isArray(e)){var r=e.find(function(t){return q()(t,"response.status",t.status)>=300}),a=e.find(function(t){return q()(t,"response.status",t.status)<300});return r||a}return e},vt=function(t){var e=Et(t);if(u.isPromise(e))return null;var r=q()(e,"response.status",e.status),a=q()(e,"response.statusText",e.statusText),n=q()(e,"response.message",e.message),o=q()(e,"response.data",e.data),i=r&&"".concat(r," ")||"";return n&&"string"===typeof n?n.trim():o&&"string"===typeof o?"".concat(i).concat(o).trim():r>=300&&U()(o)?"".concat(i).concat(JSON.stringify(o)):a&&a.trim()||null},bt=function(t){var e=Et(t);return u.isPromise(e)?null:q()(e,"headers.date",null)},gt=function(t){var e=Et(t);return u.isPromise(e)?0:q()(e,"response.status",e.status)||0},_t=function(t,e,r){var a=r.state,n=void 0===a?{}:a,o=r.initialState,i=void 0===o?{}:o,c=r.reset,s=void 0===c||c,l=ht({},n);return s&&t?l[t]=ht({},n[t],{},i[t],{},e):s&&!t?l=ht({},n,{},i,{},e):t?l[t]=ht({},n[t],{},e):l=ht({},n,{},e),l},Pt=function(t){var e=t.payload||t;return Array.isArray(e)?e.map(function(t){return t.data||{}}):e.data||{}},At=mt,St=Ot,Rt=yt,Tt=function(t){return"".concat(t,"_STATUS_RANGE")},It=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.map(function(t){var r={};return(Array.isArray(t)&&t||Object.values(t)).forEach(function(t){r[t]=e}),r})},Dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.type,n=[];t.forEach(function(t){return Array.isArray(t.type)&&t.type.forEach(function(e){return n.push({ref:t.ref,type:e})})||n.push(t)});var o=n.filter(function(t){return new RegExp("^(".concat(yt(t.type||t),"|").concat(Ot(t.type||t),"|").concat(mt(t.type||t),")$")).test(a)}),i=Object(Q.a)(o,1),c=i[0];if(!c)return e;var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ht({},t);return delete e.data,delete e.id,delete e.query,{meta:ht({},e),metaData:t.data,metaId:t.id,metaQuery:t.query}},u=ht({error:!1,errorMessage:"",fulfilled:!1,pending:!1},l(r.meta)),p=function(t){return r.meta&&r.meta.id&&Object(s.a)({},r.meta.id,ht({},u,{},t))||ht({},u,{},t)};switch(a){case yt(c.type||c):return _t(c.ref||null,p({error:!0,errorMessage:vt(r),errorStatus:gt(r)}),{state:e});case Ot(c.type||c):return _t(c.ref||null,p({pending:!0}),{state:e});case mt(c.type||c):return _t(c.ref||null,p({date:bt(r),data:Pt(r),fulfilled:!0}),{state:e});default:return e}},jt=vt,Lt=gt,Ct=_t;function wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wt(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var kt={dispatchDefaultFailure:!1,pendingSuffix:St(),fulfilledSuffix:At(),rejectedSuffix:Rt(),autoDismiss:!0,dismissDelay:3e3,errorTitleKey:"title",errorDescriptionKey:"detail"},Mt=[X.a,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.statusSuffix||"STATUS",r=t.rangeSuffix||"STATUS_RANGE",a=t.rangeFiller||"XX",n=t.statusDelimiter||"_",o=t.statusRange||!0,i=t.dispatchStatus||!1;return function(t){var c=t.dispatch;return function(t){return function(s){if(s.payload){var l=Lt(Nt({},s));if(l>99){var u=jt(Nt({},s)),p=Nt({},s.payload.config||{}),f="".concat(Math.floor(l/100)).concat(a);o&&c({type:"".concat(f).concat(n).concat(r),status:l,config:p,range:f,message:u}),i&&c({type:"".concat(l).concat(n).concat(e),status:l,config:p,range:f,message:u})}}return t(s)}}}}(),W.a,Object(B.notificationsMiddleware)(kt)];var xt={STATUS_4XX:"4XX",STATUS_5XX:"5XX"},Ut={PLATFORM_ADD_NOTIFICATION:B.ADD_NOTIFICATION,PLATFORM_REMOVE_NOTIFICATION:B.REMOVE_NOTIFICATION,PLATFORM_CLEAR_NOTIFICATIONS:B.CLEAR_NOTIFICATIONS,PLATFORM_INIT:"PLATFORM_INIT",PLATFORM_APP_NAME:"PLATFORM_APP_NAME",PLATFORM_ON_NAV:"PLATFORM_ON_NAV",PLATFORM_SET_NAV:"PLATFORM_SET_NAV"},Ht={GET_GRAPH_CAPACITY_RHSM:"GET_GRAPH_CAPACITY_RHSM",GET_GRAPH_REPORT_RHSM:"GET_GRAPH_REPORT_RHSM",GET_GRAPH_REPORT_CAPACITY_RHSM:"GET_GRAPH_REPORT_CAPACITY_RHSM",SET_GRAPH_GRANULARITY_RHSM:"SET_GRAPH_GRANULARITY_RHSM"},Yt={USER_AUTH:"USER_AUTH",USER_LOCALE:"USER_LOCALE",USER_LOGOUT:"USER_LOGOUT"},Ft={app:xt,platform:Ut,rhsm:Ht,user:Yt},Gt={capacity:{},component:{},report:{},reportCapacity:{}},Vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Ft.rhsm.SET_GRAPH_GRANULARITY_RHSM:return Ct("component",Object(s.a)({},e.viewId,{graphGranularity:e.graphGranularity}),{state:t,reset:!1});default:return Dt([{ref:"reportCapacity",type:Ht.GET_GRAPH_REPORT_CAPACITY_RHSM},{ref:"capacity",type:Ht.GET_GRAPH_CAPACITY_RHSM},{ref:"report",type:Ht.GET_GRAPH_REPORT_RHSM}],t,e)}};Vt.initialState=Gt;var zt={view:{data:[],error:!1,errorStatus:null,errorMessage:null,pending:!1,fulfilled:!1}},Wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return t};Wt.initialState=zt;var Xt={session:{error:!1,errorMessage:null,errorStatus:null,pending:!1,fulfilled:!1,authorized:!1,locale:null}},Bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Rt(Yt.USER_AUTH):return Ct("session",{error:e.error,errorMessage:jt(e),errorStatus:Lt(e),locale:t.session.locale},{state:t,initialState:Xt});case St(Yt.USER_AUTH):return Ct("session",{locale:t.session.locale,pending:!0},{state:t,initialState:Xt});case At(Yt.USER_AUTH):return Ct("session",{authorized:!0,fulfilled:!0,locale:t.session.locale},{state:t,initialState:Xt});case At(Yt.USER_LOCALE):return Ct("session",{locale:e.payload.data},{state:t,reset:!1});case Tt(xt.STATUS_4XX):return 401===e.status||403===e.status?Ct("session",{error:!0,errorMessage:jt(e),errorStatus:Lt(e),locale:t.session.locale},{state:t,initialState:Xt}):t;default:return t}};Bt.initialState=Xt;var Qt={notifications:B.notifications,graph:Vt,view:Wt,user:Bt},Kt=Object(z.c)(Qt),qt=Object(z.d)(Kt,z.a.apply(void 0,Object(V.a)(Mt))),Jt=r(52),$t=r.n(Jt),Zt=r(94);function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var re=function(){var t=Object(Zt.a)($t.a.mark(function t(){var e,r;return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=window,r=e.insights,t.prev=1,t.t0=u.DEV_MODE&&{test:{}},t.t0){t.next=7;break}return t.next=6,r.chrome.auth.getUser();case 6:t.t0=t.sent;case 7:return t.abrupt("return",t.t0);case 10:throw t.prev=10,t.t1=t.catch(1),new Error("{ getUser } = insights.chrome.auth, ".concat(t.t1.message));case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(){return t.apply(this,arguments)}}(),ae={getUser:re,initializeChrome:function(){var t=Object(Zt.a)($t.a.mark(function t(){var e,r;return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=window,r=e.insights,t.prev=1,t.next=4,r.chrome.init();case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(1),new Error("{ init } = insights.chrome, ".concat(t.t0.message));case 9:case"end":return t.stop()}},t,null,[[1,6]])}));return function(){return t.apply(this,arguments)}}(),onNavigation:function(t){var e=window.insights;try{return e.chrome.on("APP_NAVIGATION",t)}catch(r){throw new Error("{ on } = insights.chrome, ".concat(r.message))}},setAppName:function(){var t=Object(Zt.a)($t.a.mark(function t(){var e,r,a,n,o=arguments;return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:null,r=window,a=r.insights,t.prev=2,t.next=5,a.chrome.identifyApp(e);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(2),n="{ identifyApp } = insights.chrome, ".concat(t.t0.message),t.next=12,Promise.reject(n);case 12:case"end":return t.stop()}},t,null,[[2,7]])}));return function(){return t.apply(this,arguments)}}(),setNavigation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=window,r=e.insights,a=e.location;try{return r.chrome.navigation(t.map(function(t){return ee({},t,{active:t.id===a.pathname.split("/").slice(-1)[0]})}))}catch(n){throw new Error("{ navigation } = insights.chrome, ".concat(n.message))}}},ne={addNotification:function(t){return Object(B.addNotification)(t)},removeNotification:function(t){return Object(B.removeNotification)(t)},clearNotifications:function(){return Object(B.clearNotifications)()},initializeChrome:function(){return{type:Ut.PLATFORM_INIT,payload:ae.initializeChrome()}},onNavigation:function(t){return function(e){return e({type:Ut.PLATFORM_ON_NAV}),ae.onNavigation(t)}},setAppName:function(t){return{type:Ut.PLATFORM_APP_NAME,payload:ae.setAppName(t),meta:{data:{name:t}}}},setNavigation:function(t){return function(e){return e({type:Ut.PLATFORM_SET_NAV}),ae.setNavigation(t)}}},oe=r(366),ie=r.n(oe);function ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ce(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se({headers:{},timeout:"60000"},t)},ue=function(){var t=Object(Zt.a)($t.a.mark(function t(e){return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.getUser();case 2:return t.abrupt("return",ie()(le(e)));case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),pe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ue({url:"".concat("/api/rhsm-subscriptions/v1/capacity/products/").concat(t),params:e})},fe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ue({url:"".concat("/api/rhsm-subscriptions/v1/tally/products/").concat(t),params:e})},de={getGraphReportsCapacity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){return r({type:Ht.GET_GRAPH_REPORT_CAPACITY_RHSM,payload:Promise.all([fe(t,e),pe(t,e)]),meta:{id:t,query:e,notifications:{}}})}},getGraphCapacity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){return r({type:Ht.GET_GRAPH_CAPACITY_RHSM,payload:pe(t,e),meta:{id:t,query:e,notifications:{}}})}},getGraphReports:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){return r({type:Ht.GET_GRAPH_REPORT_RHSM,payload:fe(t,e),meta:{id:t,query:e,notifications:{}}})}}},he=r(367),me=r.n(he),Oe=r(384);function ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function Ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ye(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ye(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ve=function(){var t=(me.a.get("rh_locale")||"").replace("_","-"),e=t&&Oe.a.getLanguageName(t)||null;return e&&{value:t,key:e}||null},be={authorizeUser:function(){var t=Object(Zt.a)($t.a.mark(function t(){var e,r,a;return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="{ getUser } = insights.chrome.auth",t.prev=1,t.next=4,re();case 4:r=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e=t.t0.message;case 10:if(!U()(r)||!Object.keys(r).length){t.next=12;break}return t.abrupt("return",Promise.resolve({data:r,message:e,status:200}));case 12:return a=Ee({},new Error(e),{message:e,status:418}),t.abrupt("return",Promise.reject(a));case 14:case"end":return t.stop()}},t,null,[[1,7]])}));return function(){return t.apply(this,arguments)}}(),getLocale:function(){var t={value:"en-US",key:"English"};return new Promise(function(e){return e({data:ve()||t})})},logoutUser:function(){return new Promise(function(t){t({})})}};function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}var _e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},{platform:ne,rhsm:de,user:{authorizeUser:function(){return function(t){return t({type:Yt.USER_AUTH,payload:be.authorizeUser()})}},getLocale:function(){return{type:Yt.USER_LOCALE,payload:be.getLocale()}}}}),Pe=r(368),Ae=r(369),Se=r.n(Ae);function Re(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function Te(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Re(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Re(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Ie={dataId:null,data:{}},De=Object(Pe.a)([function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Te({},q()(t,["graph","reportCapacity",e.productId]),{},{viewId:e.viewId,productId:e.productId})},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Te({},q()(t,["graph","component",e.viewId]))}],function(t,e){var r=t||{},a=r.viewId,n=void 0===a?null:a,o=r.productId,i=void 0===o?null:o,c=r.metaQuery,s=void 0===c?{}:c,l=Object(P.a)(r,["viewId","productId","metaQuery"]),u=Te({},e,{error:l.error||!1,errorStatus:l.errorStatus,fulfilled:l.fulfilled||!1,pending:l.pending||!1,graphData:{},syncing:!1}),p=s[et.RHSM_API_QUERY_GRANULARITY]||null,f=null;(e.graphGranularity===p||!e.graphGranularity&&l.fulfilled)&&(f=p),!f&&l.fulfilled&&(u.syncing=!0);var d=f&&n&&i&&Ie.data["".concat(n,"_").concat(i,"_").concat(f)]||{},h=!("initialLoad"in d)||d.initialLoad;if(Object.assign(u,Te({initialLoad:h},d)),n&&Ie.dataId!==n&&(Ie.dataId=n,Ie.data={}),l.fulfilled&&f&&i){var m=Object(Q.a)(l.data,2),O=m[0],y=m[1],E=q()(O,[et.RHSM_API_RESPONSE_PRODUCTS_DATA],[]),v=q()(y,[et.RHSM_API_RESPONSE_CAPACITY_DATA],[]);Object.keys(u.graphData).forEach(function(t){u.graphData[t]=[]});var b=It([et.RHSM_API_RESPONSE_PRODUCTS_DATA_TYPES,et.RHSM_API_RESPONSE_CAPACITY_DATA_TYPES]),g=Object(Q.a)(b,2),_=g[0],A=void 0===_?{}:_,S=g[1],R=void 0===S?{}:S,T=function(t,e,r){var a=r.date,n=r.x,o=r.y;return{date:a,x:n,y:!0===t[et.RHSM_API_RESPONSE_CAPACITY_DATA_TYPES.HAS_INFINITE]?null:o}};E.forEach(function(t,e){var r=$.a.utc(t[et.RHSM_API_RESPONSE_PRODUCTS_DATA_TYPES.DATE]).startOf("day").toDate(),a=function(t){var a=t.graphDataObj,n=t.keyPrefix,o=void 0===n?"":n,i=t.customValue,c=void 0===i?null:i;Object.keys(a).forEach(function(t){if("number"===typeof a[t]||void 0===a[t]||null===a[t]){var n,i=Se()("".concat(o," ").concat(t)).trim();u.graphData[i]||(u.graphData[i]=[]),"number"===typeof a[t]?n=Number.parseInt(a[t],10):void 0===a[t]?n=0:null===a[t]&&(n=a[t]);var s="function"===typeof c&&c(a,t,{date:r,x:e,y:n})||{};u.graphData[i][e]=Te({date:r,x:e,y:n},s)}})};a({graphDataObj:Te({},A,{},t)}),a({graphDataObj:Te({},R,{},v[e]),keyPrefix:"threshold",customValue:T})}),u.initialLoad=!1,Ie.data["".concat(n,"_").concat(i,"_").concat(f)]=Te({},u)}return u}),je={graphCard:De,makeGraphCard:function(){return De}},Le=function(t,e){return function(r){return Object(i.connect)(t,e)(!u.TEST_MODE&&Object(E.b)()(r)||r)}},Ce=r(370),we=r.n(Ce),Ne=r(200),ke=r(371),Me=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!u.TEST_MODE&&Ne.a.t(t,e)||u.noopTranslate(t,e)},xe=function(t){function e(){var t,r;Object(d.a)(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(m.a)(this,(t=Object(O.a)(e)).call.apply(t,[this].concat(n)))).state={isLoaded:!1},r.i18nInit=Object(Zt.a)($t.a.mark(function t(){var e,a,n,o;return $t.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.props,a=e.fallbackLng,n=e.loadPath,o=e.locale,t.prev=1,t.next=4,Ne.a.use(ke.a).use(E.a).init({backend:{loadPath:n},fallbackLng:a,lng:o,debug:!u.PROD_MODE,ns:["default"],defaultNS:"default",react:{useSuspense:!1}});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:r.setState({isLoaded:!0});case 9:case"end":return t.stop()}},t,null,[[1,6]])})),r}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.i18nInit()}},{key:"componentDidUpdate",value:function(t){this.props.locale!==t.locale&&this.i18nInit()}},{key:"render",value:function(){var t=this.state.isLoaded,e=this.props.children;return t&&n.a.createElement(n.a.Fragment,null,e)||n.a.createElement(n.a.Fragment,null)}}]),e}(n.a.Component);xe.defaultProps={fallbackLng:"en-US",loadPath:"/beta/apps/subscriptions/locales/{{lng}}.json",locale:null};var Ue=function(t){var e,r=t.date,a=t.granularity,n=$.a.utc(r);switch(a){case tt.QUARTERLY:e=ft.timestampQuarterFormats.yearLong;break;case tt.MONTHLY:e=ft.timestampMonthFormats.yearLong;break;case tt.WEEKLY:case tt.DAILY:default:e=ft.timestampDayFormats.long}return n.format(e)},He={getChartXAxisLabelIncrement:function(t){switch(t){case tt.DAILY:return 5;case tt.WEEKLY:case tt.MONTHLY:return 2;case tt.QUARTERLY:default:return 1}},getTooltipDate:Ue,getTooltips:function(t){var e=t.itemsByKey,r=t.granularity,a=t.product,n=void 0===a?"":a,o="",i="",c=[];return Object.keys(e).forEach(function(t,a){0===a&&(o="".concat(Me("curiosity-graph.dateLabel"),": ").concat(Ue({date:e[t].date,granularity:r}))),e[t].y&&(/^threshold/.test(t)?i="".concat(Me("curiosity-graph.thresholdLabel"),": ").concat(e[t].y,"\n"):c.push("".concat(Me("curiosity-graph.".concat(t,"Label"),{product:n}),": ").concat(e[t].y,"\n")))}),(i||c.length)&&"".concat(i).concat(c.join("")).concat(o).trim()||Me("curiosity-graph.noDataLabel")},xAxisTickFormat:function(t){var e=t.date,r=t.granularity,a=t.tick,n=t.previousDate;if(e&&r){var o,i=$.a.utc(e),c=0!==a&&Number.parseInt(i.year(),10)!==Number.parseInt($.a.utc(n).year(),10);switch(r){case tt.QUARTERLY:o=(o=c?i.format(ft.timestampQuarterFormats.yearShort):i.format(ft.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case tt.MONTHLY:o=(o=c?i.format(ft.timestampMonthFormats.yearShort):i.format(ft.timestampMonthFormats.short)).replace(/\s/,"\n");break;case tt.WEEKLY:case tt.DAILY:default:o=(o=c?i.format(ft.timestampDayFormats.yearShort):i.format(ft.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return o}},yAxisTickFormat:function(t){var e=t.tick;return we()(e).format({average:!0,mantissa:1,optionalMantissa:!0})}},Ye={getGranularityOptions:function(t){return"default"===t?{selected:tt.DAILY,options:[{title:Me("curiosity-graph.dropdownDaily"),value:tt.DAILY,selected:!0},{title:Me("curiosity-graph.dropdownWeekly"),value:tt.WEEKLY},{title:Me("curiosity-graph.dropdownMonthly"),value:tt.MONTHLY},{title:Me("curiosity-graph.dropdownQuarterly"),value:tt.QUARTERLY}]}:{options:[]}}},Fe=r(699),Ge=r(374),Ve=r(703),ze=r(702),We=r(704),Xe=r(698),Be=r(695),Qe=r(708),Ke=r(696);function qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qe(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qe(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var $e=function(t){function e(){var t,r;Object(d.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(r=Object(m.a)(this,(t=Object(O.a)(e)).call.apply(t,[this].concat(o)))).state={chartWidth:0},r.containerRef=n.a.createRef(),r.onResizeContainer=function(){var t=r.containerRef.current;t&&t.clientWidth&&r.setState({chartWidth:t.clientWidth})},r}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeContainer)}},{key:"setDataSets",value:function(){var t=this.props,e=t.dataSets,r=t.tooltips;if(r&&e&&e[0]&&e[0].data){var a=N()(e);return a[0].data=a[0].data.map(function(t,a){var n={},o=[];return e.forEach(function(e,r){e.data&&e.data[t.x]&&(n[e.id||"dataSet-".concat(r)]=e.data[t.x],o.push(e.data[t.x]))}),Je({},t,{_tooltip:r({x:t.x,y:t.y,index:a,items:o,itemsByKey:n,dataSets:N()(e)})})}),a}return e}},{key:"setChartTicks",value:function(){var t=this.props,e=t.xAxisLabelIncrement,r=t.xAxisTickFormat,a=t.yAxisTickFormat,n=t.dataSets,o={},i={},c=n.length&&n[0].data||[];return n.forEach(function(t){t.xAxisLabelUseDataSet&&(c=t.data)}),o.xAxisTickValues=c.reduce(function(t,r,a){return a%e===0?t.concat(r.x):t},[]),o.xAxisTickFormat=function(t){return c[t]&&c[t].xAxisLabel||t},"function"===typeof r&&(o.xAxisTickFormat=function(t){var e=o.xAxisTickValues,a=e.indexOf(t),n=Je({},c[e[a-1]]||{}),i=Je({},c[e[a+1]]||{}),s=Je({},c[t]||{});return r({tick:t,previousItem:n,item:s,nextItem:i})}),"function"===typeof a&&(i.yAxisTickFormat=function(t){return a({tick:t})}),Je({},o,{},i)}},{key:"getChartTicks",value:function(){var t=this.props.xAxisFixLabelOverlap,e=this.setChartTicks(),r=e.xAxisTickValues,a=e.xAxisTickFormat,n=e.yAxisTickFormat,o={fixLabelOverlap:t},i={dependentAxis:!0,showGrid:!0};return r&&(o.tickValues=r),a&&(o.tickFormat=a),n&&(i.tickFormat=n),{isXAxisTicks:!!r,xAxisProps:o,yAxisProps:i}}},{key:"getChartDomain",value:function(t){var e=t.isXAxisTicks,r=this.props,a=r.domain,n=r.dataSets;if(Object.keys(a).length)return a;var o={},i={},c=0,s=0;n.filter(function(t){return!0===t.isStacked}).forEach(function(t){if(t.data){var e=0;t.data.forEach(function(r,a){e=r&&r.y>e?r.y:e,a===t.data.length-1&&(s+=e)})}}),n.forEach(function(t){t.data&&(c=t.data.length>c?t.data.length:c,t.data.forEach(function(t){s=t&&t.y>s?t.y:s}))}),e||(o.x=[0,c||10]);var l=Math.pow(10,Math.floor(Math.log10(s>10&&s||10)));return o.y=[0,Math.ceil((s+1)/l)*l],Object.keys(o).length&&(i.domain=o),{maxY:s,chartDomain:Je({},i)}}},{key:"getChartLegend",value:function(){var t=this.props.dataSets,e=[];return t.forEach(function(t){if(t.legendLabel){var r={symbol:{},name:t.legendLabel};t.legendSymbolType?r.symbol.type=t.legendSymbolType:t.isThreshold&&(r.symbol.type="threshold"),t.themeColor?r.symbol.fill=t.themeColor:t.stroke?r.symbol.fill=t.stroke:t.fill&&(r.symbol.fill=t.fill),e.push(r)}}),{legendData:e,legendOrientation:"horizontal",legendPosition:"bottom-left",legendComponent:n.a.createElement(Ve.a,{borderPadding:{top:20}})}}},{key:"renderChart",value:function(t){var e=t.stacked,r=void 0!==e&&e,a=this.setDataSets(),o=[],i=[];return a.forEach(function(t,e){if(t.data&&t.data.length){var r=t.isThreshold&&function(t,e){var r={data:{}};return t.fill&&(r.data.fill=t.fill),t.stroke&&(r.data.stroke=t.stroke),t.strokeWidth&&(r.data.strokeWidth=t.strokeWidth),t.strokeDasharray&&(r.data.strokeDasharray=t.strokeDasharray),n.a.createElement(ze.a,{animate:t.animate||!1,interpolation:t.interpolation||"step",key:u.generateId(),name:"chartArea-".concat(e,"-threshold"),data:t.data,style:Je({},t.style||{},{},r),themeColor:t.themeColor,themeVariant:t.themeVariant})}(t,e)||function(t,e){var r={data:{}};return t.fill&&(r.data.fill=t.fill),t.stroke&&(r.data.stroke=t.stroke),n.a.createElement(We.a,{animate:t.animate||!1,interpolation:t.interpolation||"monotoneX",key:u.generateId(),name:"chartArea-".concat(e,"-area"),data:t.data,style:Je({},t.style||{},{},r),themeColor:t.themeColor,themeVariant:t.themeVariant})}(t,e);t.isStacked?i.push(r):o.push(r)}}),r&&i||o}},{key:"render",value:function(){var t=this.state.chartWidth,r=this.props,a=r.padding,o=r.themeColor,i=this.getChartTicks(),c=i.isXAxisTicks,s=i.xAxisProps,l=i.yAxisProps,u=this.getChartDomain({isXAxisTicks:c}),p=u.chartDomain,f=u.maxY,d=Je({padding:a},this.getChartLegend(),{},p,{},f>0&&e.getContainerComponent()||{});return n.a.createElement("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef},n.a.createElement(Xe.a,Object.assign({animate:{duration:0},width:t,themeColor:o},d),n.a.createElement(Be.a,Object.assign({},s,{animate:!1})),n.a.createElement(Be.a,Object.assign({},l,{animate:!1})),this.renderChart({}),n.a.createElement(Qe.a,null,this.renderChart({stacked:!0}))))}}],[{key:"getContainerComponent",value:function(){var t=Object(Fe.a)("voronoi","cursor"),e={constrainToVisibleArea:!0,cursorDimension:"x",voronoiDimension:"x",voronoiPadding:50,mouseFollowTooltips:!0};return e.labelComponent=n.a.createElement(Ge.a,null,n.a.createElement(Ke.a,{pointerLength:0,centerOffset:{x:function(t){return t.flyoutWidth/2+5},y:0}})),e.labels=function(t){var e=t.datum;return/^chartArea-0/.test(e.childName)&&e._tooltip||e.tooltip||void 0},{containerComponent:n.a.createElement(t,e)}}}]),e}(n.a.Component);function Ze(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}$e.defaultProps={domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",tooltips:null,xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var tr=function(t){function e(){var t,r;Object(d.a)(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(m.a)(this,(t=Object(O.a)(e)).call.apply(t,[this].concat(n)))).onUpdateGraphData=function(){var t=r.props,e=t.getGraphReportsCapacity,a=t.graphGranularity,n=t.productId,o=t.selectOptionsType;if(n){var i,c=Ye.getGranularityOptions(o).selected,l=a||c,u=ft.getRangedDateTime(l),p=u.startDate,f=u.endDate;e(n,(i={},Object(s.a)(i,et.RHSM_API_QUERY_GRANULARITY,l),Object(s.a)(i,et.RHSM_API_QUERY_START_DATE,p.toISOString()),Object(s.a)(i,et.RHSM_API_QUERY_END_DATE,f.toISOString()),i))}},r.onSelect=function(t){var e=r.props,a=e.graphGranularity,n=e.viewId,o=t.value;a!==o&&qt.dispatch({type:Ft.rhsm.SET_GRAPH_GRANULARITY_RHSM,graphGranularity:o,viewId:n})},r}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){this.props.graphGranularity!==t.graphGranularity&&this.onUpdateGraphData()}},{key:"renderChart",value:function(){var t=this.props,e=t.filterGraphData,r=t.graphData,a=t.graphGranularity,o=t.selectOptionsType,i=t.t,c=t.productShortLabel,s=Ye.getGranularityOptions(o).selected,l=a||s,p={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:He.getChartXAxisLabelIncrement(l),xAxisTickFormat:function(t){var e=t.item,r=t.previousItem,a=t.tick;return He.xAxisTickFormat({tick:a,date:e.date,previousDate:r.date,granularity:l})},yAxisTickFormat:He.yAxisTickFormat,tooltips:function(t){var e=t.itemsByKey;return He.getTooltips({itemsByKey:e,granularity:l,product:c})}};return n.a.createElement($e,Object.assign({key:u.generateId()},p,{dataSets:function(t){var r=function(e){var r={data:t[e],id:e,animate:{duration:250,onLoad:{duration:250}},isStacked:!/^threshold/.test(e),isThreshold:/^threshold/.test(e)};return/^threshold/.test(e)?(r.animate={duration:100,onLoad:{duration:100}},r.legendSymbolType="dash",r.stroke=v.Mb.value,r.strokeDasharray="4,3",r.strokeWidth=2.5,r.legendLabel=i("curiosity-graph.thresholdLabel")):r.legendLabel=i("curiosity-graph.".concat(e,"Label"),{product:c}),r};return e.length?e.map(function(t){return Object.assign(r(t.id),t)}):Object.keys(t).map(function(t){return r(t)})}(r)}))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,r=t.children,a=t.error,o=t.graphGranularity,i=t.selectOptionsType,c=t.pending,s=t.t,l=Ye.getGranularityOptions(i).options;return n.a.createElement(R.a,{className:"curiosity-usage-graph fadein"},n.a.createElement(T.a,null,n.a.createElement("h2",null,e),n.a.createElement(I.a,null,r,n.a.createElement(F,{"aria-label":s("curiosity-graph.dropdownPlaceholder"),onSelect:this.onSelect,options:l,selectedOptions:o,placeholder:s("curiosity-graph.dropdownPlaceholder")}))),n.a.createElement(D.a,null,n.a.createElement("div",{className:"curiosity-skeleton-container ".concat(a?"blur":"")},c&&n.a.createElement(n.a.Fragment,null,n.a.createElement(g.Skeleton,{size:g.SkeletonSize.xs}),n.a.createElement(g.Skeleton,{size:g.SkeletonSize.sm}),n.a.createElement(g.Skeleton,{size:g.SkeletonSize.md}),n.a.createElement(g.Skeleton,{size:g.SkeletonSize.lg})),!c&&this.renderChart())))}}]),e}(n.a.Component);tr.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:u.noop,graphData:{},graphGranularity:null,pending:!1,selectOptionsType:"default",t:u.noopTranslate,productShortLabel:"",viewId:"graphCard"};var er=Le(function(){var t=je.makeGraphCard();return function(e,r){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ze(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ze(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t(e,r))}},function(t){return{getGraphReportsCapacity:function(e,r){return t(_e.rhsm.getGraphReportsCapacity(e,r))}}})(tr),rr=function(t){function e(){var t,r;Object(d.a)(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(m.a)(this,(t=Object(O.a)(e)).call.apply(t,[this].concat(n)))).state={option:null,filters:[]},r.onSelect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.state.option,a=r.props.initialFilters,n=t.value;if(n!==e){var o=a.filter(function(t){return new RegExp(n,"i").test(t.id)});r.setState({option:e,filters:o})}},r}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.initialOption;this.onSelect({value:t})}},{key:"renderSelect",value:function(){var t=this.state.option,e=this.props.initialOption;return n.a.createElement(F,{onSelect:this.onSelect,options:[{title:"Cores",value:"cores"},{title:"Sockets",value:"sockets"}],selectedOptions:t||e})}},{key:"render",value:function(){var t=this.state.filters,e=this.props,r=e.routeDetail,a=e.t;return n.a.createElement(S,null,n.a.createElement(_,null,r.routeItem&&r.routeItem.title||u.UI_DISPLAY_CONFIG_NAME),n.a.createElement(A,null,n.a.createElement(er,{key:r.pathParameter,filterGraphData:t,productId:r.pathParameter,viewId:r.pathId,cardTitle:a("curiosity-graph.cardHeading"),productShortLabel:"OpenShift"},this.renderSelect())))}}]),e}(n.a.Component);rr.defaultProps={initialOption:"cores",initialFilters:[{id:"cores",fill:v.vb.value,stroke:v.xb.value},{id:"sockets",fill:v.vb.value,stroke:v.xb.value},{id:"thresholdSockets"},{id:"thresholdCores"}],t:u.noopTranslate};var ar=Object(E.b)()(rr),nr=function(t){function e(){return Object(d.a)(this,e),Object(m.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,e=t.initialFilters,r=t.routeDetail,a=t.t;return n.a.createElement(S,null,n.a.createElement(_,null,r.routeItem&&r.routeItem.title||u.UI_DISPLAY_CONFIG_NAME),n.a.createElement(A,null,n.a.createElement(er,{key:r.pathParameter,filterGraphData:e,productId:r.pathParameter,viewId:r.pathId,cardTitle:a("curiosity-graph.cardHeading"),productShortLabel:"RHEL"})))}}]),e}(n.a.Component);nr.defaultProps={initialFilters:[{id:"physicalSockets",fill:v.vb.value,stroke:v.xb.value},{id:"hypervisorSockets",fill:v.Ab.value,stroke:v.Cb.value},{id:"thresholdSockets"}],t:u.noopTranslate};var or=Object(E.b)()(nr),ir=r(288),cr=r(280),sr=r(289),lr=r(279),ur=r(291),pr=r(383),fr=r.n(pr),dr=function(t){var e=t.session,r=t.t;return n.a.createElement(S,null,n.a.createElement(_,null,u.UI_DISPLAY_CONFIG_NAME),n.a.createElement(A,null,n.a.createElement(ir.a,{variant:ir.b.full,className:"fadein"},n.a.createElement("img",{src:fr.a,className:"curiosity-emptystate-img-icon",alt:r("curiosity-tour.emptyStateIconAlt",{appName:u.UI_DISPLAY_CONFIG_NAME}),"aria-hidden":!0}),n.a.createElement(cr.a,{headingLevel:"h5",size:"lg"},n.a.createElement(n.a.Fragment,null,r("curiosity-tour.emptyStateTitle",{appName:u.UI_DISPLAY_CONFIG_NAME}))),n.a.createElement(sr.a,null,n.a.createElement(n.a.Fragment,null,r("curiosity-tour.emptyStateDescription",{appName:u.UI_DISPLAY_CONFIG_NAME}),418!==e.errorStatus&&" ".concat(r("curiosity-tour.emptyStateDescriptionTour",{appName:u.UI_DISPLAY_CONFIG_NAME})))),n.a.createElement(sr.a,null,n.a.createElement(n.a.Fragment,null,r("curiosity-tour.emptyStateDescriptionExtended",{appName:u.UI_DISPLAY_CONFIG_NAME}))),418===e.errorStatus&&n.a.createElement(lr.a,{className:"uxui-curiosity__button-learn",variant:"primary",component:"a",target:"_blank",href:"https://access.redhat.com/products/subscription-central"},r("curiosity-tour.emptyStateLinkLearnMore"))||n.a.createElement(lr.a,{className:"uxui-curiosity__button-tour",variant:"primary"},r("curiosity-tour.emptyStateButton")),n.a.createElement(ur.a,null,418!==e.errorStatus&&n.a.createElement(lr.a,{component:"a",variant:"link",target:"_blank",href:"https://access.redhat.com/products/subscription-central"},r("curiosity-tour.emptyStateLinkLearnMore")),n.a.createElement(lr.a,{component:"a",variant:"link",target:"_blank",href:"https://access.redhat.com/account-team"},r("curiosity-tour.emptyStateLinkContactUs"))))))};dr.defaultProps={session:{errorStatus:null},t:u.noopTranslate};var hr=Le(function(t){return{session:t.user.session}})(dr),mr=u.UI_NAME,Or=f.a.join(u.UI_DEPLOY_PATH_PREFIX,"/?not_entitled=subscriptions"),yr=[{title:"Red Hat Enterprise Linux",to:"/rhel-sw/all",redirect:!0,component:or,exact:!0,render:!0,disabled:u.UI_DISABLED},{title:"Red Hat Enterprise Linux",id:"rhel-sw",to:"/rhel-sw/:variant",component:or,exact:!0,render:!0,disabled:u.UI_DISABLED},{title:"Red Hat OpenShift",id:"openshift-sw",to:"/openshift-sw",component:ar,exact:!0,render:!0,disabled:u.UI_DISABLED},{title:"Tour",id:"soon",to:"/soon",component:hr,exact:!0,render:!0,activateOnError:!0,disabled:u.UI_DISABLED},{title:"Tour",id:"tour",to:"/tour",component:hr,exact:!0,render:!0,disabled:u.UI_DISABLED}],Er=[{title:"Red Hat Enterprise Linux",id:"all",path:"/rhel-sw/all",pathId:"rhel-sw",pathParameter:Z.RHEL,default:!0},{title:"ARM",id:"arm",path:"/rhel-sw/arm",pathId:"rhel-sw",pathParameter:Z.RHEL_ARM},{title:"IBM Power",id:"ibmpower",path:"/rhel-sw/ibmpower",pathId:"rhel-sw",pathParameter:Z.RHEL_IBM_POWER},{title:"IBM Z systems",id:"ibmz",path:"/rhel-sw/ibmz",pathId:"rhel-sw",pathParameter:Z.RHEL_IBM_Z},{title:"x86",id:"x86",path:"/rhel-sw/x86",pathId:"rhel-sw",pathParameter:Z.RHEL_X86},{title:"Red Hat OpenShift",id:"openshift-sw",path:"/openshift-sw",pathId:"openshift-sw",pathParameter:Z.OPENSHIFT}],vr={appName:mr,navigation:Er,platformRedirect:Or,routes:yr};function br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?br(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):br(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var _r=function(t){var e=t.pathName,r=t.pathPrefix,a=e.split("/");a.shift();var n=r&&new RegExp(a[0]).test(r)?2:1;return"/".concat(a.slice(0,n).join("/"))},Pr=(u.TEST_MODE?"/":u.DEV_MODE&&"/")||_r({pathName:window.location.pathname,pathPrefix:u.UI_DEPLOY_PATH_PREFIX}),Ar=yr.find(function(t){return!0===t.activateOnError})||{},Sr=function(t){var e,r=t.id,a=void 0===r?null:r,n=t.pathname,o=void 0===n?null:n,i=t.returnDefault,c=void 0!==i&&i,s=c&&Er.find(function(t){return!0===t.default});return a&&(e=Er.find(function(t){return t.id===a})),!e&&o&&(e=Er.find(function(t){return t.path.replace(/\/$/,"")===o.replace(/\/$/,"")})||c&&s),!e&&c&&(e=s),gr({},e||{})},Rr=function(t){var e,r=t.id,a=void 0===r?null:r,n=t.pathname,o=void 0===n?null:n;return a&&(e=yr.find(function(t){return a===t.id})),!e&&o&&(e=(e=yr.find(function(t){return o===t.to}))||yr.find(function(t){return o.includes(t.to.split(":")[0])})),gr({},e||{})},Tr={baseName:Pr,dynamicBaseName:_r,getErrorRoute:Ar,getNavigationDetail:Sr,getRouteDetail:Rr,getNavRouteDetail:function(t){var e=t.id,r=void 0===e?null:e,a=t.pathname,n=void 0===a?null:a,o=t.returnDefault,i=Sr({id:r,pathname:n,returnDefault:void 0!==o&&o});return gr({},Rr({pathname:i.path||n}),{},i)}},Ir=function(t){var e,r=t.baseName,a=t.history,o=t.isRedirect,i=t.isReplace,c=t.url,s=t.route;if(!0===o){if(s&&a){var l=Tr.getRouteDetail({pathname:s});return n.a.createElement(G.d,{path:"*"},l&&n.a.createElement(l.component,null))}var p=c||s&&f.a.join(r,s);return e=p,u.DEV_MODE||u.TEST_MODE||(i?window.location.replace(e):window.location.href=e),(u.DEV_MODE||u.TEST_MODE)&&n.a.createElement(n.a.Fragment,null,"Redirected towards ",p)||null}return null};Ir.defaultProps={history:null,isReplace:!1,url:null,baseName:Tr.baseName,route:null};var Dr=Object(G.o)(Ir);function jr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jr(r,!0).forEach(function(e){Object(s.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jr(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Cr=function(t){function e(){return Object(d.a)(this,e),Object(m.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(y.a)(e,t),Object(h.a)(e,[{key:"renderRoutes",value:function(){var t=this.props.routes,e=t.find(function(t){return!0===t.activateOnError}),r=null;return{renderRoutes:t.map(function(a){return a.disabled?null:(!0===a.redirect&&(r=n.a.createElement(G.c,{to:a.to})),!0===a.render?n.a.createElement(G.d,{exact:a.hasParameters||a.exact,key:a.to,path:a.to,strict:a.strict,render:function(r){var o=Tr.getNavigationDetail({pathname:r.location&&r.location.pathname,returnDefault:!1});return n.a.createElement(a.component,Object.assign({routeDetail:Lr({baseName:Tr.baseName,errorRoute:e,routes:t,routeItem:Lr({},a)},o)},r))}}):n.a.createElement(G.d,{exact:a.hasParameters||a.exact,key:a.to,path:a.to,component:a.component}))}),redirectRoot:r}}},{key:"render",value:function(){var t=this.renderRoutes(),e=t.renderRoutes,r=t.redirectRoot;return n.a.createElement(G.g,null,e,r)}}]),e}(n.a.Component);Cr.defaultProps={routes:vr.routes};var wr=r(232),Nr=r(231),kr=r(290),Mr=function(t){var e=t.icon,r=t.message,a=t.title;return n.a.createElement(S,null,n.a.createElement(_,null,a||u.UI_DISPLAY_CONFIG_NAME),n.a.createElement(ir.a,{variant:ir.b.full,className:"fadein"},e&&n.a.createElement(kr.a,{icon:e}),r&&n.a.createElement(sr.a,null,r)))};Mr.defaultProps={icon:null,message:null,title:null};var xr=function(t){function e(){var t,r;Object(d.a)(this,e);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(m.a)(this,(t=Object(O.a)(e)).call.apply(t,[this].concat(n)))).appName=vr.appName,r.removeListeners=u.noop,r}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.authorizeUser,r=t.history,a=t.initializeChrome,n=t.onNavigation,o=t.navigation,i=t.setAppName,c=t.setNavigation,s=t.session;if(u.PROD_MODE||u.REVIEW_MODE){a(),i(this.appName);var l=n(function(t){var e=Tr.getNavRouteDetail({id:t.navId,returnDefault:!0}).path;r.push(e)}),p=r.listen(function(){return c(o)});this.removeListeners=function(){l(),p()}}s.authorized||e()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.session,a=t.t;return r.authorized?n.a.createElement(n.a.Fragment,null,e):r.pending?n.a.createElement(Mr,{title:"\xa0",message:a("curiosity-auth.pending","..."),icon:wr.b}):403===r.errorStatus||418===r.errorStatus?u.TEST_MODE?n.a.createElement(n.a.Fragment,null,r.errorStatus," redirect"):n.a.createElement(Dr,{isRedirect:!0,route:Tr.getErrorRoute.to}):n.a.createElement(Mr,{title:a("curiosity-auth.authorizedTitle","..."),message:a("curiosity-auth.authorizedCopy","..."),icon:Nr.b})}}]),e}(a.Component);xr.defaultProps={authorizeUser:u.noop,initializeChrome:u.noop,onNavigation:u.noop,setAppName:u.noop,setNavigation:u.noop,navigation:vr.navigation,session:{authorized:!1,error:!1,errorMessage:"",errorStatus:null,pending:!1},t:u.noopTranslate};var Ur,Hr,Yr=(Ur=function(t){return{session:t.user.session}},Hr=function(t){return{authorizeUser:function(){return t(_e.user.authorizeUser())},initializeChrome:function(){return t(_e.platform.initializeChrome())},onNavigation:function(e){return t(_e.platform.onNavigation(e))},setAppName:function(e){return t(_e.platform.setAppName(e))},setNavigation:function(e){return t(_e.platform.setNavigation(e))}}},function(t){return Object(G.o)(Le(Ur,Hr)(t))})(xr),Fr=function(t){function e(){return Object(d.a)(this,e),Object(m.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.getLocale)()}},{key:"render",value:function(){var t=this.props.locale;return n.a.createElement(xe,{locale:t&&t.value||null},n.a.createElement(B.NotificationsPortal,null),n.a.createElement(Yr,null,n.a.createElement(Cr,null)))}}]),e}(n.a.Component);Fr.defaultProps={getLocale:u.noop,locale:{}};var Gr=function(t,e){return function(r){return Object(G.o)(Object(i.connect)(t,e)(r))}}(function(t){return{locale:t.user.session.locale}},function(t){return{getLocale:function(){return t(_e.user.getLocale())}}})(Fr);r(671);Object(o.render)(n.a.createElement(i.Provider,{store:qt},n.a.createElement(c.BrowserRouter,{basename:Pr},n.a.createElement(Gr,null))),document.getElementById("root"))}},[[390,1,2]]]);
//# sourceMappingURL=main.b023c08d.chunk.js.map