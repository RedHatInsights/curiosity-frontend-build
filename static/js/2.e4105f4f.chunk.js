(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[2],{1315:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i(11),r=i(4),n=(i(1),i(90)),o=i(1024),l=i(5),u=i(27),c=i(61),d=i(10),s=u.a.getRangedMonthDateTime().listDateTimeRanges.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{selected:!1})})),v=function(e){var t=e.options,i=e.t,u=e.value,c=e.viewId,s=Object(n.h)((function(e){var t,i;return null===(t=e.view.query)||void 0===t||null===(i=t[c])||void 0===i?void 0:i[l.g.START_DATE]}),u),v=t.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{selected:e.title===s||e.value.startDate.toISOString()===s})}));return Object(d.jsx)(o.a,{"aria-label":i("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(e){var t=e.value,i=t.startDate,r=t.endDate;n.g.dispatch([{type:n.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:c},Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[l.g.GRANULARITY],viewId:c},l.g.GRANULARITY,l.b.DAILY),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[l.g.START_DATE],viewId:c},l.g.START_DATE,i.toISOString()),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[l.g.END_DATE],viewId:c},l.g.END_DATE,r.toISOString())])},options:v,placeholder:i("curiosity-toolbar.placeholder",{context:"granularity"}),maxHeight:250})};v.defaultProps={options:s,t:c.b,value:Object(c.b)("curiosity-toolbar.granularityRange",{context:"current"}),viewId:"toolbarFieldRangeGranularity"}},525:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return Y})),i.d(t,"ProductViewOpenShiftContainer",(function(){return Y}));var a=i(11),r=i(1),n=i.n(r),o=i(3014),l=i(3015),u=i(54),c=i(430),d=i(1147),s=i(108),v=i.n(s),b=i(163),O=i(5),p=i(90),y=i(1148),S=i(4),I=i(1024),j=i(61),g=i(10),h=Object.values(O.h).map((function(e){return{title:Object(j.b)("curiosity-toolbar.uom",{context:e}),value:e,selected:!1}})),T=function(e){var t=e.options,i=e.t,r=e.value,n=e.viewId,o=Object(p.h)((function(e){var t,i;return null===(t=e.view.query)||void 0===t||null===(i=t[n])||void 0===i?void 0:i[O.g.UOM]}),r),l=t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{selected:e.value===o})}));return Object(g.jsx)(I.a,{"aria-label":i("curiosity-toolbar.placeholder",{context:"uom"}),onSelect:function(e){return p.g.dispatch([{type:p.f.query.SET_QUERY_RESET_INVENTORY_LIST,viewId:n},Object(a.a)({type:p.f.query.SET_QUERY_RHSM_TYPES[O.g.UOM],viewId:n},O.g.UOM,e.value)])},options:l,selectedOptions:o,placeholder:i("curiosity-toolbar.placeholder",{context:"uom"})})};T.defaultProps={options:h,t:j.b,value:O.h.CORES,viewId:"toolbarFieldUom"};var f,E,D,_,R,m=i(1145),x=i(1315),N=i(1151),A=i(1149),F=i(1146),w=i(1150),L=i(27),Y=function(e){var t=e.productConfig,i=e.routeDetail,a=e.t,r=Object(p.h)((function(e){var i,a;return null===(i=e.view.query)||void 0===i||null===(a=i[t[0].viewId])||void 0===a?void 0:a[O.g.UOM]}),null),o=i.productParameter;return Object(g.jsxs)(b.c,{children:[Object(g.jsx)(b.b,{productLabel:o,includeTour:!0,children:a("curiosity-view.title",{appName:L.b.UI_DISPLAY_NAME,context:o})}),Object(g.jsx)(b.a,{children:t.map((function(e){return function(e,t){var i=e.productContextFilterUom,r=e.query,o=void 0===r?{}:r,l=e.graphTallyQuery,u=void 0===l?{}:l,c=e.inventoryHostsQuery,d=void 0===c?{}:c,s=e.inventorySubscriptionsQuery,v=void 0===s?{}:s,S=e.initialGraphFilters,I=void 0===S?[]:S,j=e.initialGuestsFilters,h=void 0===j?[]:j,f=e.initialInventoryFilters,E=void 0===f?[]:f,D=e.initialInventorySettings,_=void 0===D?{}:D,R=e.initialSubscriptionsInventoryFilters,Y=e.initialToolbarFilters,U=e.productLabel,P=e.productId,M=e.viewId;if(!P||!M)return null;var C,H=p.a.parseRhsmQuery(o,{graphTallyQuery:u,inventoryHostsQuery:d,inventorySubscriptionsQuery:v}),Q=H.graphTallyQuery,G=H.inventoryHostsQuery,q=H.inventorySubscriptionsQuery,W=H.toolbarQuery,k=I,V=E,B=R;if(i){C=t||o[O.g.UOM];var z=function(e){var t=e.id;return!e.isOptional||new RegExp(C,"i").test(t)};k=I.filter(z),V=E.filter(z),B=R.filter(z)}return Object(g.jsxs)(n.a.Fragment,{children:[Y&&Object(g.jsx)(b.f,{children:Object(g.jsx)(N.b,{filterOptions:Y,productId:P,query:W,viewId:M})}),Object(g.jsx)(b.e,{children:Object(g.jsxs)(y.b,{filterGraphData:k,query:Q,productId:P,viewId:M,cardTitle:a("curiosity-graph.cardHeading",{context:P}),productLabel:U,children:[P===O.a.OPENSHIFT&&C&&Object(g.jsx)(T,{value:C,viewId:M}),P===O.a.OPENSHIFT&&Object(g.jsx)(m.a,{value:u[O.g.GRANULARITY],viewId:M}),P===O.a.OPENSHIFT_METRICS&&Object(g.jsx)(x.a,{viewId:M})]},"graph_".concat(P))}),Object(g.jsx)(b.e,{children:Object(g.jsxs)(w.b,{productId:P,children:[Object(g.jsx)(w.a,{title:a("curiosity-inventory.tab",{context:"hosts"}),children:Object(g.jsx)(A.b,{filterGuestsData:h,filterInventoryData:V,productId:P,settings:_,query:G,viewId:M},"inv_".concat(P))},"inventory_hosts_".concat(P)),!L.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&R&&Object(g.jsx)(w.a,{title:a("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(g.jsx)(F.b,{filterInventoryData:B,productId:P,query:q,viewId:M},"subs_".concat(P))},"inventory_subs_".concat(P))]},"inventory_".concat(P))})]},"product_".concat(P,"_").concat(C))}(e,r)}))})]})};Y.defaultProps={productConfig:[{productContextFilterUom:!0,query:(f={},Object(a.a)(f,O.g.UOM,O.h.CORES),Object(a.a)(f,O.g.START_DATE,L.a.getRangedDateTime(O.b.DAILY).startDate.toISOString()),Object(a.a)(f,O.g.END_DATE,L.a.getRangedDateTime(O.b.DAILY).endDate.toISOString()),f),graphTallyQuery:Object(a.a)({},O.g.GRANULARITY,O.b.DAILY),inventoryHostsQuery:(E={},Object(a.a)(E,O.g.SORT,O.e.LAST_SEEN),Object(a.a)(E,O.g.DIRECTION,O.d.DESCENDING),Object(a.a)(E,O.g.LIMIT,100),Object(a.a)(E,O.g.OFFSET,0),E),inventorySubscriptionsQuery:(D={},Object(a.a)(D,O.g.SORT,O.f.UPCOMING_EVENT_DATE),Object(a.a)(D,O.g.DIRECTION,O.d.DESCENDING),Object(a.a)(D,O.g.LIMIT,100),Object(a.a)(D,O.g.OFFSET,0),D),initialOption:O.h.CORES,initialGraphFilters:[{id:"cores",isOptional:!0,fill:o.a.value,stroke:l.a.value,color:l.a.value},{id:"sockets",isOptional:!0,fill:o.a.value,stroke:l.a.value,color:l.a.value},{id:"thresholdSockets",isOptional:!0},{id:"thresholdCores",isOptional:!0}],initialGuestsFilters:[{id:"displayName",header:Object(j.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var i=e.displayName,a=e.inventoryId,r=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===a||void 0===a?void 0:a.value)?r?Object(g.jsx)(u.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(L.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(a.value,"/"),children:i.value||a.value}):(null===i||void 0===i?void 0:i.value)||(null===a||void 0===a?void 0:a.value):null===i||void 0===i?void 0:i.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(g.jsx)(d.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var i=e.displayName,a=void 0===i?{}:i,r=e.inventoryId,o=void 0===r?{}:r,l=e.numberOfGuests,d=void 0===l?{}:l,s=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!o.value)return a.value;var v=a.value||o.value;return s&&(v=Object(g.jsx)(u.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(L.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(o.value,"/"),children:a.value||o.value})),Object(g.jsxs)(n.a.Fragment,{children:[v," ",d.value&&Object(j.b)("curiosity-inventory.label",{context:"numberOfGuests",count:d.value},[Object(g.jsx)(c.a,{color:"blue"})])||""]})},isSortable:!0},{id:"sockets",header:Object(j.b)("curiosity-inventory.header",{context:"sockets_OpenShift Container Platform"}),isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"cores",header:Object(j.b)("curiosity-inventory.header",{context:"cores_OpenShift Container Platform"}),isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(g.jsx)(d.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&v.a.utc(null===e||void 0===e||null===(i=e.upcomingEventDate)||void 0===i?void 0:i.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:O.g.SLA}],productLabel:"OpenShift",productId:O.a.OPENSHIFT,viewId:"viewOpenShift"},{query:(_={},Object(a.a)(_,O.g.START_DATE,L.a.getRangedMonthDateTime("current").value.startDate.toISOString()),Object(a.a)(_,O.g.END_DATE,L.a.getRangedMonthDateTime("current").value.endDate.toISOString()),_),graphTallyQuery:Object(a.a)({},O.g.GRANULARITY,O.b.DAILY),inventoryHostsQuery:(R={},Object(a.a)(R,O.g.SORT,O.e.LAST_SEEN),Object(a.a)(R,O.g.DIRECTION,O.d.DESCENDING),Object(a.a)(R,O.g.LIMIT,100),Object(a.a)(R,O.g.OFFSET,0),R),initialGraphFilters:[{id:"coreHours",fill:o.a.value,stroke:l.a.value,color:l.a.value}],initialInventoryFilters:[{id:"displayName",cell:function(e){var t=e.displayName,i=void 0===t?{}:t,a=e.inventoryId,r=void 0===a?{}:a,o=e.numberOfGuests,l=void 0===o?{}:o;if(!r.value)return i.value;var u=i.value||r.value;return Object(g.jsxs)(n.a.Fragment,{children:[u," ",l.value&&Object(j.b)("curiosity-inventory.label",{context:"numberOfGuests",count:l.value},[Object(g.jsx)(c.a,{color:"blue"})])||""]})},isSortable:!0},{id:"coreHours",cell:function(e){var t,i;return"number"===typeof(null===e||void 0===e||null===(t=e.coreHours)||void 0===t?void 0:t.value)&&Number.parseFloat(null===e||void 0===e||null===(i=e.coreHours)||void 0===i?void 0:i.value).toFixed(2)||"0.00"},isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(g.jsx)(d.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:void 0,productLabel:"OpenShift Metric",productId:O.a.OPENSHIFT_METRICS,viewId:"viewOpenShiftMetric"}],t:j.b}}}]);
//# sourceMappingURL=2.e4105f4f.chunk.js.map