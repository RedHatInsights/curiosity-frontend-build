(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[6],{998:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return k})),i.d(t,"ConnectedOpenshiftView",(function(){return k})),i.d(t,"OpenshiftView",(function(){return Q}));var r=i(6),a=i(12),n=i(13),l=i(16),o=i(15),u=i(0),c=i.n(u),s=i(698),d=i(697),v=i(146),b=i(670),p=i(756),O=i(97),y=i.n(O),h=i(98),j=i(3),I=i(55),f=i(758),S=i(1),m=i(747),g=i(45),x=i(5),T=Object.values(j.h).map((function(e){return{title:Object(g.b)("curiosity-toolbar.uom",{context:e}),value:e,selected:!1}})),E=function(e){var t=e.options,i=e.t,a=e.value,n=e.viewId,l=Object(I.h)((function(e){var t,i;return null===(t=e.view.query)||void 0===t||null===(i=t[j.g.UOM])||void 0===i?void 0:i[n]}),a),o=t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{selected:e.value===l})}));return Object(x.jsx)(m.a,{"aria-label":i("curiosity-toolbar.placeholder",{context:"uom"}),onSelect:function(e){return I.g.dispatch([{type:I.f.query.SET_QUERY_RESET_INVENTORY_LIST},Object(r.a)({type:I.f.query.SET_QUERY_RHSM_TYPES[j.g.UOM],viewId:n},j.g.UOM,e.value)])},options:o,selectedOptions:l,placeholder:i("curiosity-toolbar.placeholder",{context:"uom"})})};E.defaultProps={options:T,t:g.b,value:j.h.CORES,viewId:"toolbarFieldUom"};var D,P,_=i(762),w=i(759),F=i(754),N=i(760),R=i(755),L=i(17),Q=function(e){Object(l.a)(i,e);var t=Object(o.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(n.a)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.initialGuestsFilters,i=e.initialToolbarFilters,r=e.initialInventorySettings,a=e.initialGraphFilters,n=e.initialInventoryFilters,l=e.initialSubscriptionsInventoryFilters,o=e.initialOption,u=e.productLabel,c=e.query,s=e.graphTallyQuery,d=e.inventoryHostsQuery,v=e.inventorySubscriptionsQuery,b=e.routeDetail,p=e.t,O=e.viewId,y=I.a.parseRhsmQuery(c,{graphTallyQuery:s,inventoryHostsQuery:d,inventorySubscriptionsQuery:v}),S=y.graphTallyQuery,m=y.inventoryHostsQuery,g=y.inventorySubscriptionsQuery,T=y.toolbarQuery,D=function(e){var t=e.id;return!e.isOptional||new RegExp(c[j.g.UOM]||o,"i").test(t)},P=a.filter(D),Q=n.filter(D),U=l.filter(D);return Object(x.jsxs)(h.b,{children:[Object(x.jsx)(h.a,{productLabel:u,includeTour:!0,children:p("curiosity-view.title",{appName:L.b.UI_DISPLAY_NAME,context:u})}),Object(x.jsx)(h.c,{children:Object(x.jsx)(R.a,{productId:b.pathParameter,viewId:O,query:c})}),Object(x.jsx)(h.e,{children:Object(x.jsx)(_.b,{filterOptions:i,productId:b.pathParameter,query:T,viewId:O})}),Object(x.jsx)(h.d,{children:Object(x.jsx)(f.b,{filterGraphData:P,query:S,productId:b.pathParameter,viewId:O,cardTitle:p("curiosity-graph.cardHeading"),productLabel:u,children:Object(x.jsx)(E,{value:o,viewId:O})},b.pathParameter)}),Object(x.jsx)(h.d,{children:Object(x.jsxs)(N.b,{productId:b.pathParameter,children:[Object(x.jsx)(N.a,{title:p("curiosity-inventory.tab",{context:"hosts"}),children:Object(x.jsx)(w.b,{filterGuestsData:t,filterInventoryData:Q,productId:b.pathParameter,settings:r,query:m,viewId:O},b.pathParameter)},"hostsTab"),!L.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(x.jsx)(N.a,{title:p("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(x.jsx)(F.b,{filterInventoryData:U,productId:b.pathParameter,query:g,viewId:O},b.pathParameter)},"subscriptionsTab")]})})]})}}]),i}(c.a.Component);Q.defaultProps={query:Object(r.a)({},j.g.UOM,j.h.CORES),graphTallyQuery:Object(r.a)({},j.g.GRANULARITY,j.b.DAILY),inventoryHostsQuery:(D={},Object(r.a)(D,j.g.SORT,j.e.LAST_SEEN),Object(r.a)(D,j.g.DIRECTION,j.d.ASCENDING),Object(r.a)(D,j.g.LIMIT,100),Object(r.a)(D,j.g.OFFSET,0),D),inventorySubscriptionsQuery:(P={},Object(r.a)(P,j.g.SORT,j.f.UPCOMING_EVENT_DATE),Object(r.a)(P,j.g.DIRECTION,j.d.ASCENDING),Object(r.a)(P,j.g.LIMIT,100),Object(r.a)(P,j.g.OFFSET,0),P),initialOption:j.h.CORES,initialGraphFilters:[{id:"cores",isOptional:!0,fill:s.a.value,stroke:d.a.value,color:d.a.value},{id:"sockets",isOptional:!0,fill:s.a.value,stroke:d.a.value,color:d.a.value},{id:"thresholdSockets",isOptional:!0},{id:"thresholdCores",isOptional:!0}],initialGuestsFilters:[{id:"displayName",header:Object(g.b)("curiosity-inventory.header",{context:"guestsDisplayName"}),cell:function(e,t){var i=e.displayName,r=e.inventoryId,a=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;return(null===r||void 0===r?void 0:r.value)?a?Object(x.jsx)(v.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(L.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(r.value,"/"),children:i.value||r.value}):(null===i||void 0===i?void 0:i.value)||(null===r||void 0===r?void 0:r.value):null===i||void 0===i?void 0:i.value}},{id:"inventoryId",cellWidth:40},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(x.jsx)(p.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},cellWidth:15}],initialInventoryFilters:[{id:"displayName",cell:function(e,t){var i=e.displayName,r=void 0===i?{}:i,a=e.inventoryId,n=void 0===a?{}:a,l=e.numberOfGuests,o=void 0===l?{}:l,u=((null===t||void 0===t?void 0:t.authorized)||{}).inventory;if(!n.value)return r.value;var s=r.value||n.value;return u&&(s=Object(x.jsx)(v.a,{isInline:!0,component:"a",variant:"link",target:"_blank",href:"".concat(L.b.UI_DEPLOY_PATH_PREFIX,"/insights/inventory/").concat(n.value,"/"),children:r.value||n.value})),Object(x.jsxs)(c.a.Fragment,{children:[s," ",o.value&&Object(g.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[Object(x.jsx)(b.a,{color:"blue"})])||""]})},isSortable:!0},{id:"measurementType",cell:function(e){var t=e.cloudProvider,i=void 0===t?{}:t,r=e.measurementType,a=void 0===r?{}:r;return Object(x.jsxs)(c.a.Fragment,{children:[Object(g.b)("curiosity-inventory.measurementType",{context:a.value})," ",i.value&&Object(x.jsx)(b.a,{color:"purple",children:Object(g.b)("curiosity-inventory.cloudProvider",{context:i.value})})||""]})},isSortable:!0,cellWidth:20},{id:"sockets",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"cores",isOptional:!0,isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(x.jsx)(p.DateFormat,{date:null===e||void 0===e||null===(i=e.lastSeen)||void 0===i?void 0:i.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialInventorySettings:{},initialSubscriptionsInventoryFilters:[{id:"productName",isSortable:!0},{id:"serviceLevel",isSortable:!0,isWrappable:!0,cellWidth:15},{id:"upcomingEventDate",cell:function(e){var t,i;return(null===e||void 0===e||null===(t=e.upcomingEventDate)||void 0===t?void 0:t.value)&&y.a.utc(null===e||void 0===e||null===(i=e.upcomingEventDate)||void 0===i?void 0:i.value).format("YYYY-DD-MM")||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:[{id:j.g.SLA}],productLabel:"OpenShift",t:g.b,viewId:"viewOpenShift"};var U=I.e.view.makeView(Q.defaultProps),k=Object(I.b)(U)(Q)}}]);
//# sourceMappingURL=6.85a8855f.chunk.js.map