(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[1],{1068:function(t,e,a){"use strict";a.d(e,"a",(function(){return O}));var r=a(1),n=a(13),i=a(14),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(993),d=a(3205),p=a(1825),h=a(1428),v=a.n(h),f=a(69),g=a.n(f),b=a(197),m=a.n(b),y=a(21),O=function(t){Object(l.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).state={isExpanded:!1,options:null,selected:null},t.onSelect=function(e,a){var n=t.state.options,i=t.props,o=i.id,l=i.name,s=i.onSelect,c=i.variant,d=n,p=d.findIndex((function(t){return t.title===a}));d[p].selected=c===u.e.single||!d[p].selected,c===u.e.single&&d.forEach((function(t,e){p!==e&&(d[e].selected=!1)}));var h=c===u.e.single?a:d.filter((function(t){return!0===t.selected})).map((function(t){return t.title}));t.setState({options:d,selected:h},(function(){var e=v()(d),a={id:o,name:l||o,value:e[p].value,selected:c===u.e.single&&e[p]||v()(h),selectedIndex:p,type:"select-".concat(c===u.e.single?"one":"multiple"),options:e};c===u.e.checkbox&&(a.checked=e[p].selected);var n=Object(r.a)({},a,{target:Object(r.a)({},a),currentTarget:Object(r.a)({},a),persist:y.a.noop});s(Object(r.a)({},n),p,e),c===u.e.single&&t.setState({isExpanded:!1})}))},t.onToggle=function(e){t.setState({isExpanded:e})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.options,r=e.selectedOptions;g()(t.options,a)&&g()(t.selectedOptions,r)||this.formatOptions()}},{key:"formatOptions",value:function(){var t,e=this.props,a=e.options,n=e.selectedOptions,i=e.variant,o=m()(a)?Object.keys(a).map((function(t){return Object(r.a)({},a[t],{title:t,value:a[t]})})):v()(a),l=n&&"string"===typeof n||"number"===typeof n?[n]:n;o.forEach((function(t,e){var a=t;"string"===typeof a&&(a={title:t,value:t},o[e]=a),a.text=a.text||a.title,a.textContent=a.textContent||a.title,a.label=a.label||a.title,l&&(o[e].selected=l.includes(a.value)||l.includes(a.title))})),t=i===u.e.single?(o.find((function(t){return!0===t.selected}))||{}).title:o.filter((function(t){return!0===t.selected})).map((function(t){return t.title})),this.setState({options:o,selected:t})}},{key:"render",value:function(){var t=this.state,e=t.options,a=t.selected,r=t.isExpanded,n=this.props,i=n.ariaLabel,o=n.className,l=n.isDisabled,s=n.isToggleText,u=n.placeholder,h=n.toggleIcon,v=n.variant,f={};return e&&e.length&&!l||(f.isDisabled=!0),c.a.createElement(d.a,Object.assign({className:"curiosity-select".concat(s?"":"__no-toggle-text"," ").concat(o),variant:v,"aria-label":i,onToggle:this.onToggle,onSelect:this.onSelect,selections:a,isOpen:r,toggleIcon:h,placeholderText:u},f),e&&e.map((function(t){return c.a.createElement(p.a,{key:window.btoa("".concat(t.title,"-").concat(t.value)),id:window.btoa("".concat(t.title,"-").concat(t.value)),value:t.title,"data-value":t.value,"data-title":t.title})}))||[])}}]),a}(c.a.Component);O.defaultProps={ariaLabel:"Select option",className:"",id:y.a.generateId(),isDisabled:!1,isToggleText:!0,name:null,onSelect:y.a.noop,options:[],placeholder:"Select option",selectedOptions:null,toggleIcon:null,variant:u.e.single}},1418:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var r=a(13),n=a(14),i=a(334),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(17),d=function(t){Object(l.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).containerRef=c.a.createRef(),t.innerContainerRef=c.a.createRef(),t.updatedContainerWidth=0,t.resizeObserver=u.b.noop,t.onResizeContainer=function(){var e,a,r=Object(i.a)(t).updatedContainerWidth,n=t.props.updateOnResize,o=(null===(e=t.containerRef)||void 0===e||null===(a=e.current)||void 0===a?void 0:a.clientWidth)||0;n&&o!==r&&(t.updatedContainerWidth=o,t.setMinHeight(!0))},t}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.updateOnResize;window.setTimeout((function(){t.setMinHeight()})),e&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var t=this;this.props.updateOnContent&&window.setTimeout((function(){t.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props.minHeight,r=this.containerRef.current,n=void 0===r?{}:r,i=this.innerContainerRef.current,o=void 0===i?{}:i;(null===n||void 0===n?void 0:n.style)&&(a>(t=e?(null===o||void 0===o?void 0:o.clientHeight)||0:(null===n||void 0===n?void 0:n.clientHeight)||0)&&(t=a),n.style.minHeight="".concat(t,"px"))}},{key:"setResizeObserver",value:function(){var t=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"render",value:function(){var t=this.props.children;return c.a.createElement("div",{className:"curiosity-minheight",ref:this.containerRef},c.a.createElement("div",{ref:this.innerContainerRef},t))}}]),a}(c.a.Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},1421:function(t,e,a){"use strict";a.d(e,"a",(function(){return b}));var r=a(11),n=a(9),i=a(1),o=a(0),l=a.n(o),s=a(151),c=a(155),u=a(127),d=a(180),p=a.n(d),h=a(49),v=a(2),f=function(t){var e=t.filter,a=void 0===e?{}:e,r=t.onSort,n=t.query,o=void 0===n?{}:n,l=a.id,c=Object(i.a)({},a),u=c.onSort||r;if(!c.onSort&&r&&(c.onSort=r),u&&"boolean"!==typeof c.sortActive&&(null===o||void 0===o?void 0:o[v.g.SORT])&&p()(null===o||void 0===o?void 0:o[v.g.SORT])===l&&(c.sortActive=!0),u&&!c.sortDirection&&(null===o||void 0===o?void 0:o[v.g.DIRECTION]))switch(null===o||void 0===o?void 0:o[v.g.DIRECTION]){case v.d.DESCENDING:c.sortDirection=s.a.desc;break;default:c.sortDirection=s.a.asc}return!u||c.sortActive||(null===o||void 0===o?void 0:o[v.g.SORT])||!0!==c.isSortDefault||(c.sortActive=!0,c.sortDefaultInitialDirection&&(c.sortDirection=c.sortDefaultInitialDirection)),c},g=function(t){var e=t.filter,a=void 0===e?{}:e,r=Object(i.a)({},a);return Array.isArray(r.transforms)?r.transforms.push(c.a):r.transforms=[c.a],r},b={applySortFilters:f,applyWrappableFilters:g,parseInventoryFilters:function(t){var e=t.filters,a=void 0===e?[]:e,r=t.onSort,o=t.query,l=void 0===o?{}:o;return Object(n.a)(a).map((function(t){var e=Object(i.a)({},t);return e.isSortable&&Object.assign(e,f({filter:e,onSort:r,query:l})),e.isWrappable&&Object.assign(e,g({filter:e})),e}))},parseRowCellsListData:function(t){var e=t.filters,a=void 0===e?[]:e,o=t.cellData,s=void 0===o?{}:o,c=t.session,d=void 0===c?{}:c,p=[],v=[],f={};return Object.entries(s).forEach((function(t){var e=Object(r.a)(t,2),a=e[0],n=e[1];f[a]={title:Object(h.b)("curiosity-inventory.header",{context:a}),value:n},p.push(f[a].title),v.push(n)})),(null===a||void 0===a?void 0:a.length)&&(p.length=0,v.length=0,a.forEach((function(t){var e,a,r,o,s,c,h=t.id,g=t.cell,b=t.cellWidth,m=t.header,y=t.onSort,O=t.sortActive,E=t.sortDirection,T=t.transforms;f[h]&&(e=null!==(r=null===(o=f[h])||void 0===o?void 0:o.title)&&void 0!==r?r:h,a=null!==(s=null===(c=f[h])||void 0===c?void 0:c.value)&&void 0!==s?s:"");m&&(e="function"===typeof m&&m(Object(i.a)({},f))||m),("string"===typeof e||"number"===typeof e||l.a.isValidElement(e))&&(e={title:e}),e.transforms=[],Array.isArray(T)&&(e.transforms=e.transforms.concat(Object(n.a)(T))),"number"===typeof b&&e.transforms.push(Object(u.a)(b)),"function"===typeof y&&(e=Object(i.a)({},e,{onSort:function(t){return y(Object(i.a)({},f),Object(i.a)({},t,{id:h}))},sortActive:O,sortDirection:E})),g&&(a="function"===typeof g&&g(Object(i.a)({},f),Object(i.a)({},d))||g),("string"===typeof a||"number"===typeof a||l.a.isValidElement(a))&&(a={title:a}),p.push(e),v.push(a)}))),{columnHeaders:p,cells:v,data:Object(i.a)({},f)}}}},1435:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var r=a(49),n=a(2),i={getGranularityOptions:function(t){return"default"===t?{selected:n.b.DAILY,options:[{title:Object(r.b)("curiosity-graph.dropdownDaily"),value:n.b.DAILY,selected:!0},{title:Object(r.b)("curiosity-graph.dropdownWeekly"),value:n.b.WEEKLY},{title:Object(r.b)("curiosity-graph.dropdownMonthly"),value:n.b.MONTHLY},{title:Object(r.b)("curiosity-graph.dropdownQuarterly"),value:n.b.QUARTERLY}]}:{options:[]}}}},1811:function(t,e,a){"use strict";a.d(e,"a",(function(){return v}));var r=a(6),n=a(13),i=a(14),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(3204),d=a(63),p=a(2),h=function(t){Object(l.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onPage=function(e){var a=e.page,r=t.props,n=r.offsetDefault,i=r.perPageDefault,o=r.query,l=(null===o||void 0===o?void 0:o[p.g.LIMIT])||i,s=l*(a-1)||n;t.setOffset(s),t.setLimit(l)},t.onPerPage=function(e){var a=e.perPage;t.setOffset(),t.setLimit(a)},t}return Object(i.a)(a,[{key:"setOffset",value:function(t){var e=this.props,a=e.offsetDefault,n=e.offsetType,i=e.productId,o=[];o.push(Object(r.a)({type:n,viewId:i},p.g.OFFSET,null!==t&&void 0!==t?t:a)),d.g.dispatch(o)}},{key:"setLimit",value:function(t){var e=this.props,a=e.limitType,n=e.perPageDefault,i=e.productId,o=[];o.push(Object(r.a)({type:a,viewId:i},p.g.LIMIT,null!==t&&void 0!==t?t:n)),d.g.dispatch(o)}},{key:"render",value:function(){var t=this,e=this.props,a=e.dropDirection,r=e.isCompact,n=e.isDisabled,i=e.itemCount,o=e.perPageDefault,l=e.query,s=e.variant,d=l[p.g.OFFSET]/l[p.g.LIMIT]+1||1,h=l[p.g.LIMIT]||o;return c.a.createElement(u.a,{className:i?"":"hidden",dropDirection:a,isCompact:r,isDisabled:n||!i,itemCount:i,page:d,perPage:h,onSetPage:function(e,a){return t.onPage({event:e,page:a})},onPerPageSelect:function(e,a){return t.onPerPage({event:e,perPage:a})},variant:s})}}]),a}(c.a.Component);h.defaultProps={query:{},dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offsetDefault:0,perPageDefault:10,variant:null};var v=Object(d.b)((function(t,e){var a,r=t.view,n=e.productId;return{query:null===(a=r.query)||void 0===a?void 0:a[n]}}))(h)},1815:function(t,e,a){"use strict";a.d(e,"a",(function(){return x}));var r=a(6),n=a(13),i=a(14),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(69),d=a.n(u),p=a(151),h=a(216),v=a(1419),f=a(3142),g=a(3190),b=a(3140),m=a(3186),y=a(3148),O=a(1813),E=a(180),T=a.n(E),S=a(17),D=a(63),I=a(280),k=a(178),j=a(1418),R=a(1421),C=a(1811),L=a(2),A=a(49),N=function(t){Object(l.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).onColumnSort=function(e,a){var n,i=a.direction,o=a.id,l=t.props.productId,s=Object.values(L.f).find((function(t){return T()(t)===o}));if(s){switch(i){case p.a.desc:n=L.d.DESCENDING;break;default:n=L.d.ASCENDING}D.g.dispatch([Object(r.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[L.g.DIRECTION],viewId:l},L.g.DIRECTION,n),Object(r.a)({type:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[L.g.SORT],viewId:l},L.g.SORT,s)])}},t.onUpdateInventoryData=function(){var e=t.props,a=e.getSubscriptionsInventory,r=e.isDisabled,n=e.productId,i=e.query;!r&&n&&a(n,i)},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,r=e.query;a===t.productId&&d()(r,t.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var t=this,e=this.props,a=e.filterInventoryData,r=e.listData,n=e.query,i=e.session,o=[],l=r.map((function(e){var r=Object.assign({},e),l=R.a.parseRowCellsListData({filters:R.a.parseInventoryFilters({filters:a,onSort:t.onColumnSort,query:n}),cellData:r,session:i}),s=l.columnHeaders,c=l.cells;return o=s,{cells:c}}));return c.a.createElement(I.b,{borders:!0,variant:h.b.compact,className:"curiosity-inventory-list",columnHeaders:o,rows:l})}},{key:"render",value:function(){var t=this.props,e=t.error,a=t.filterInventoryData,r=t.fulfilled,n=t.isDisabled,i=t.itemCount,o=t.listData,l=t.pending,s=t.perPageDefault,u=t.productId,d=t.query,p=t.t,E=t.viewId;if(n)return c.a.createElement(v.a,{className:"curiosity-inventory-card__disabled"},c.a.createElement(f.a,null,c.a.createElement(g.a,null,p("curiosity-inventory.tab",{context:"disabled"}))));var T=(null===d||void 0===d?void 0:d[L.g.LIMIT])||s,S=(d[L.g.OFFSET]/d[L.g.LIMIT]+1||1)===Math.ceil(i/T),I=!0===r&&i<T&&"bodyMinHeight-".concat(T,"-resize")||!0===r&&S&&"bodyMinHeight-".concat(T,"-resize")||"bodyMinHeight-".concat(T);return c.a.createElement(v.a,{className:"curiosity-inventory-card"},c.a.createElement(j.a,{key:"headerMinHeight",updateOnContent:!0},c.a.createElement(b.a,null,c.a.createElement(m.a,{className:e?"blur":""},c.a.createElement(C.a,{isCompact:!0,isDisabled:l||e,itemCount:i,productId:u,viewId:E,perPageDefault:T,offsetType:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[L.g.OFFSET],limitType:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[L.g.LIMIT]})))),c.a.createElement(j.a,{key:I,updateOnContent:!0},c.a.createElement(f.a,null,c.a.createElement("div",{className:e?"blur":"fadein"},l&&c.a.createElement(k.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||T,variant:h.b.compact}}),!l&&this.renderTable()))),c.a.createElement(j.a,{key:"footerMinHeight",updateOnContent:!0},c.a.createElement(y.a,{className:e?"blur":""},c.a.createElement(O.TableToolbar,{isFooter:!0},c.a.createElement(C.a,{isDisabled:l||e,itemCount:i,productId:u,viewId:E,perPageDefault:T,dropDirection:"up",offsetType:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[L.g.OFFSET],limitType:D.f.query.SET_QUERY_RHSM_SUBSCRIPTIONS_INVENTORY_TYPES[L.g.LIMIT]})))))}}]),a}(c.a.Component);N.defaultProps={error:!1,fulfilled:!1,filterInventoryData:[],getSubscriptionsInventory:S.b.noop,isDisabled:S.b.UI_DISABLED_TABLE_SUBSCRIPTIONS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},t:A.b,viewId:"subscriptionsList"};var _=D.e.subscriptionsList.makeSubscriptionsList(),x=Object(D.b)(_,(function(t){return{getSubscriptionsInventory:function(e,a){return t(D.d.rhsm.getSubscriptionsInventory(e,a))}}}))(N)},1817:function(t,e,a){"use strict";a.d(e,"a",(function(){return D}));var r=a(11),n=a(6),i=a(1),o=a(13),l=a(14),s=a(15),c=a(16),u=a(0),d=a.n(u),p=a(3206),h=a(3193),v=a(809),f=a(829),g=a(69),b=a.n(g),m=a(63),y=a(49),O=a(17),E=a(2),T=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).state={},t.onUpdateData=function(){var e=t.props,a=e.getMessageReports,r=e.productId,o=e.query,l=m.a.parseRhsmQuery(o).graphTallyQuery;if(r){var s,c=O.a.getRangedDateTime("CURRENT"),u=c.startDate,d=c.endDate;a(r,Object(i.a)({},l,(s={},Object(n.a)(s,E.g.GRANULARITY,E.b.DAILY),Object(n.a)(s,E.g.START_DATE,u.toISOString()),Object(n.a)(s,E.g.END_DATE,d.toISOString()),s)))}},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.query;e.productId===t.productId&&b()(a,t.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var t=this,e=this.state,a=this.props,o=a.appMessages,l=a.messages,s=[];return l.length&&Object.entries(o).forEach((function(t){var a=Object(r.a)(t,2),n=a[0],o=a[1];if(!0!==e[n]&&!0===o){var c=l.find((function(t){return t.id===n}));c&&s.push(Object(i.a)({key:n},c))}})),s.map((function(e){var a=e.key,r=e.message,i=e.title,o=e.variant,l=void 0===o?p.b.info:o,s=d.a.createElement(h.a,{onClose:function(){return t.setState(Object(n.a)({},a,!0))}});return d.a.createElement(p.a,{actionClose:s,key:a,title:i,variant:l},r)}))}},{key:"render",value:function(){var t=this.renderAlerts();return t.length?d.a.createElement("div",{className:"curiosity-banner-messages"},t):null}}]),a}(d.a.Component);T.defaultProps={getMessageReports:O.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(y.b)("curiosity-banner.dataMismatchTitle"),message:Object(y.b)("curiosity-banner.dataMismatchMessage",{context:""!==O.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:O.b.UI_DISPLAY_NAME},[d.a.createElement(v.a,{isInline:!0,component:"a",variant:"link",icon:d.a.createElement(f.a,null),iconPosition:"right",target:"_blank",href:O.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var S=m.e.appMessages.makeAppMessages(),D=Object(m.b)(S,(function(t){return{getMessageReports:function(e,a){return t(m.d.rhsm.getMessageReports(e,a))}}}))(T)},1820:function(t,e,a){"use strict";a.d(e,"a",(function(){return X}));var r=a(6),n=a(1),i=a(13),o=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(1419),p=a(3140),h=a(3141),v=a(833),f=a(3186),g=a(3142),b=a(3185),m=a(69),y=a.n(m),O=a(1068),E=a(63),T=a(17),S=a(2),D=a(154),I=a.n(D),k=function(t){var e=t.date,a=t.granularity,r=I.a.utc(e);switch(a){case S.b.QUARTERLY:return"".concat(r.format(T.a.timestampQuarterFormats.yearShort)," - ").concat(r.add(1,"quarter").format(T.a.timestampQuarterFormats.yearShort));case S.b.MONTHLY:return r.format(T.a.timestampMonthFormats.yearLong);case S.b.WEEKLY:return"".concat(r.format(T.a.timestampDayFormats.short)," - ").concat(r.add(1,"week").format(T.a.timestampDayFormats.yearShort));case S.b.DAILY:default:return r.format(T.a.timestampDayFormats.long)}},j=function(t){var e=t.tick,a=Math.abs(e),r=e,n="";return a>=Math.pow(10,12)?(n="T",r=e/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(n="B",r=e/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(n="M",r=e/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(n="K",r=e/Math.pow(10,3)),"".concat(r).concat(n)},R={getChartXAxisLabelIncrement:function(t){switch(t){case S.b.DAILY:return 5;case S.b.WEEKLY:case S.b.MONTHLY:return 2;case S.b.QUARTERLY:default:return 1}},getTooltipDate:k,xAxisTickFormat:function(t){var e=t.date,a=t.granularity,r=t.tick,n=t.previousDate;if(e&&a){var i,o=I.a.utc(e),l=0!==r&&Number.parseInt(o.year(),10)!==Number.parseInt(I.a.utc(n).year(),10);switch(a){case S.b.QUARTERLY:i=(i=l?o.format(T.a.timestampQuarterFormats.yearShort):o.format(T.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case S.b.MONTHLY:i=(i=l?o.format(T.a.timestampMonthFormats.yearShort):o.format(T.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case S.b.WEEKLY:case S.b.DAILY:default:i=(i=l?o.format(T.a.timestampDayFormats.yearShort):o.format(T.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},yAxisTickFormat:function(t){var e=t.tick,a=t.locale,r=void 0===a?T.b.UI_LOCALE_DEFAULT:a,n="".concat(new Intl.NumberFormat(r,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(e));return n.length>3&&n.length>="".concat(e).length&&(n=j({tick:e})),n},yAxisTickFormatFallback:j},C=a(1435),L=a(49),A=function(t){var e=t.datum,a=t.granularity,r=t.productLabel,n=t.t,i=null,o=[],l=(e||{}).itemsByKey,s=void 0===l?{}:l;return Object.keys(s).forEach((function(t,e){var l,c;0===e&&(i=k({date:null===(c=s[t])||void 0===c?void 0:c.data.date,granularity:a}));var u={color:null===(l=s[t])||void 0===l?void 0:l.color};if(/^threshold/.test(t)){var d,p,h,v=(null===(d=s[t])||void 0===d?void 0:d.data.hasInfinite)&&n("curiosity-graph.infiniteThresholdLabel")||(null!==(p=null===(h=s[t])||void 0===h?void 0:h.data.y)&&void 0!==p?p:n("curiosity-graph.noDataLabel"));u.label=n("curiosity-graph.thresholdLabel"),u.value=v}else{var f,g,b=!1===(null===(f=s[t])||void 0===f?void 0:f.data.hasData)&&n("curiosity-graph.noDataLabel")||(null===(g=s[t])||void 0===g?void 0:g.data.y)||0;u.label=n("curiosity-graph.".concat(t,"Label"),{product:r}),u.value=b}o.push(u)})),u.a.createElement("div",{className:"victory-tooltip"},u.a.createElement("table",{summary:n("curiosity-graph.tooltipSummary")},o.length&&i&&u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{colSpan:2},i)))||null,o.length&&u.a.createElement("tbody",null,o.map((function(t){return u.a.createElement("tr",{key:"tooltip-".concat(t.label)},u.a.createElement("th",null,u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:t.color||"transparent"}}),t.label),u.a.createElement("td",null,t.value))})))||null),!o.length&&n("curiosity-graph.noDataErrorLabel")||null)};A.defaultProps={datum:{},productLabel:"",t:L.b};var N=a(809),_=a(423),x=a(3182),w=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).onClick=function(e){var a=t.props,n=a.chart,i=a.viewId,o=n.toggle(e);E.g.dispatch({type:E.f.graph.SET_GRAPH_LEGEND,legend:Object(r.a)({},"".concat(i,"-").concat(e),o)})},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.chart,a=t.datum,r=t.legend,n=t.viewId;a.dataSets.forEach((function(t){var a=t.id;(r["".concat(n,"-").concat(a)]||e.isToggled(a))&&e.hide(a)}))}},{key:"renderLegendItem",value:function(t){var e=this,a=t.chartId,r=t.color,n=t.isDisabled,i=t.isThreshold,o=t.labelContent,l=t.tooltipContent,s=this.props,c=s.chart,d=s.legend,p=s.viewId,h=d["".concat(p,"-").concat(a)]||c.isToggled(a),v=u.a.createElement(N.a,{onClick:function(){return e.onClick(a)},onKeyPress:function(){return e.onClick(a)},className:"victory-legend-item",tabIndex:0,key:"curiosity-button-".concat(a),variant:"link",component:"a",isDisabled:n,icon:(n||h)&&u.a.createElement(x.a,null)||i&&u.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:n||h?"hidden":"visible",borderTopColor:r}})||u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:n||h?"hidden":"visible",backgroundColor:r}})},o);return l?u.a.createElement(_.a,{key:"curiosity-tooltip-".concat(a),content:u.a.createElement("p",null,l),position:_.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},v):v}},{key:"render",value:function(){var t=this,e=this.props,a=e.datum,r=e.productLabel,n=e.t;return u.a.createElement(u.a.Fragment,null,a.dataSets.map((function(e){var a=e.id,i=e.isThreshold,o=e.stroke,l=e.data,s=!(void 0===l?[]:l).find((function(t){var e=t.y,a=t.hasData;return e>=0&&!0===a||e>=0&&!0===i}))||!1,c=i&&n(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:r,context:r})||n(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:r,context:r}),u=i&&n(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:r,context:r})||n("curiosity-graph.".concat(a,"LegendTooltip"),{product:r,context:r});return t.renderLegendItem({chartId:a,color:o,labelContent:c,isDisabled:s,isThreshold:i,tooltipContent:u})})))}}]),a}(u.a.Component);w.defaultProps={chart:{hide:T.b.noop,toggle:T.b.noop,isToggled:T.b.noop},datum:{dataSets:[]},legend:{},productLabel:"",t:L.b,viewId:"graphCardLegend"};var F=Object(E.b)((function(t){return{legend:t.graph.legend}}))(w),M=a(3199),P=a(3200),U=a(3201),Y=a(3198),G=a(3184),H=a(3203),q=a(1428),Q=a.n(q),W=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(i.a)(this,a);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).state={chartWidth:0},t.dataSetsToggle={},t.resizeObserver=T.b.noop,t.containerRef=u.a.createRef(),t.tooltipRef=u.a.createRef(),t.onHide=function(e){t.dataSetsToggle=Object(n.a)({},t.dataSetsToggle,Object(r.a)({},e,!0)),t.forceUpdate()},t.onRevert=function(){t.dataSetsToggle={},t.forceUpdate()},t.onToggle=function(e){var a=!t.dataSetsToggle[e];return t.dataSetsToggle=Object(n.a)({},t.dataSetsToggle,Object(r.a)({},e,a)),t.forceUpdate(),a},t.onResizeContainer=function(){var e=t.state.chartWidth,a=(t.containerRef.current||{}).clientWidth,r=void 0===a?0:a;r!==e&&t.setState({chartWidth:r})},t.getIsToggled=function(e){return t.dataSetsToggle[e]||!1},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var t=this,e=this.containerRef.current,a=window.ResizeObserver;if(e&&a){var r=new a(this.onResizeContainer);r.observe(e),this.resizeObserver=function(){return r.unobserve(e)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"setChartTicks",value:function(){var t=this.props,e=t.xAxisLabelIncrement,a=t.xAxisTickFormat,r=t.yAxisTickFormat,i=t.dataSets,o={},l={},s=i.length&&i[0].data||[];return i.forEach((function(t){t.xAxisLabelUseDataSet&&(s=t.data)})),o.xAxisTickValues=s.reduce((function(t,a,r){return r%e===0?t.concat(a.x):t}),[]),o.xAxisTickFormat=function(t){return s[t]&&s[t].xAxisLabel||t},"function"===typeof a&&(o.xAxisTickFormat=function(t){var e=o.xAxisTickValues,r=e.indexOf(t),i=Object(n.a)({},s[e[r-1]]||{}),l=Object(n.a)({},s[e[r+1]]||{}),c=Object(n.a)({},s[t]||{});return a({tick:t,previousItem:i,item:c,nextItem:l})}),"function"===typeof r&&(l.yAxisTickFormat=function(t){return r({tick:t})}),Object(n.a)({},o,{},l)}},{key:"getChartTicks",value:function(){var t=this.props.xAxisFixLabelOverlap,e=this.setChartTicks(),a=e.xAxisTickValues,r=e.xAxisTickFormat,n=e.yAxisTickFormat,i={fixLabelOverlap:t},o={dependentAxis:!0,showGrid:!0};return a&&(i.tickValues=a),r&&(i.tickFormat=r),n&&(o.tickFormat=n),{isXAxisTicks:!!a,xAxisProps:i,yAxisProps:o}}},{key:"getChartDomain",value:function(t){var e=t.isXAxisTicks,a=this.dataSetsToggle,r=this.props,i=r.domain,o=r.dataSets;if(Object.keys(i).length)return i;var l={},s={},c=0,u=0;o.filter((function(t){return!0===t.isStacked})).forEach((function(t){if(!a[t.id]&&t.data){var e=0;t.data.forEach((function(a,r){e=a&&a.y>e?a.y:e,r===t.data.length-1&&(u+=e)}))}})),o.forEach((function(t){!a[t.id]&&t.data&&(c=t.data.length>c?t.data.length:c,t.data.forEach((function(t){u=t&&t.y>u?t.y:u})))})),e||(l.x=[0,c||10]);var d=Math.pow(10,Math.floor(Math.log10(u>10&&u||10)));return l.y=[0,Math.ceil((u+1)/d)*d],Object.keys(l).length&&(s.domain=l),{maxY:u,chartDomain:Object(n.a)({},s)}}},{key:"getTooltipData",value:function(){var t=this.dataSetsToggle,e=this.props,a=e.dataSets,r=e.chartTooltip,i=[];return r&&a&&a[0]&&a[0].data&&(i=a[0].data.map((function(e,i){var o={};a.forEach((function(e){!t[e.id]&&e.data&&e.data[i]&&(o[e.id]={color:e.stroke||e.fill||e.color||"",data:Q()(e.data[i])})}));var l={datum:{x:e.x,y:e.y,index:i,itemsByKey:o,dataSets:Q()(a)}};return{x:e.x,y:null,itemsByKey:o,tooltip:u.a.isValidElement(r)&&u.a.cloneElement(r,Object(n.a)({},l))||r(Object(n.a)({},l))}}))),i}},{key:"renderTooltip",value:function(){var t=this,e=this.dataSetsToggle,a=this.props,r=a.chartTooltip,i=a.dataSets;if(!r||Object.values(e).filter((function(t){return!0===t})).length===i.length)return null;var o=Object(M.a)("voronoi","cursor"),l=this.getTooltipData(),s={},c={},d=function(e){var a=t.containerRef.current,r=t.tooltipRef.current,i=a&&a.getBoundingClientRect()||{},o=r&&r.getBoundingClientRect()||{};i.right&&(s=i),o.right&&(c=o);var d=e.x+10;(s.right<c.right||e.x+c.width>s.right/2)&&(d=e.x-10-c.width);var p=function(t){var e=t.datum,a=l.find((function(t){return t.x===e.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(n.a)({},e));return p?u.a.createElement("g",null,u.a.createElement("foreignObject",{x:d,y:e.y/2.2,width:"100%",height:"100%"},u.a.createElement("div",{ref:t.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml"},p))):u.a.createElement("g",null)};return u.a.createElement(o,{cursorDimension:"x",labels:function(t){return t},labelComponent:u.a.createElement(d,null),voronoiPadding:60})}},{key:"renderLegend",value:function(){var t=this.props,e=t.chartLegend,a=t.dataSets;if(!e)return null;var r={datum:{dataSets:Q()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return u.a.isValidElement(e)&&u.a.cloneElement(e,Object(n.a)({},r))||e(Object(n.a)({},r))}},{key:"renderChart",value:function(t){var e=t.stacked,a=void 0!==e&&e,r=this.dataSetsToggle,i=this.props.dataSets,o=[],l=[];return i.forEach((function(t,e){if(!r[t.id]&&t.data&&t.data.length){var a=t.isThreshold&&function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),t.strokeDasharray&&(a.data.strokeDasharray=t.strokeDasharray),u.a.createElement(P.a,{animate:t.animate||!1,interpolation:t.interpolation||"step",key:T.b.generateId(),name:"chartArea-".concat(e,"-threshold"),data:t.data,style:Object(n.a)({},t.style||{},{},a),themeColor:t.themeColor,themeVariant:t.themeVariant})}(t,e)||function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),u.a.createElement(U.a,{animate:t.animate||!1,interpolation:t.interpolation||"monotoneX",key:T.b.generateId(),name:"chartArea-".concat(e,"-area"),data:t.data,style:Object(n.a)({},t.style||{},{},a),themeColor:t.themeColor,themeVariant:t.themeVariant})}(t,e);t.isStacked?l.push(a):o.push(a)}})),a&&l||o}},{key:"render",value:function(){var t=this.state.chartWidth,e=this.props,a=e.chartLegend,r=e.padding,i=e.themeColor,o=this.getChartTicks(),l=o.isXAxisTicks,s=o.xAxisProps,c=o.yAxisProps,d=this.getChartDomain({isXAxisTicks:l}),p=d.chartDomain,h={containerComponent:d.maxY>=0&&this.renderTooltip()||void 0},v=Object(n.a)({padding:r},p,{},h);return u.a.createElement("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef},u.a.createElement(Y.a,Object.assign({animate:{duration:0},width:t,themeColor:i},v),u.a.createElement(G.a,Object.assign({},s,{animate:!1})),u.a.createElement(G.a,Object.assign({},c,{animate:!1})),this.renderChart({}),u.a.createElement(H.a,null,this.renderChart({stacked:!0}))),a&&u.a.createElement("div",{className:"curiosity-chartarea-description victory-legend"},this.renderLegend()))}}]),a}(u.a.Component);W.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var z=a(178),V=a(1418),B=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(i.a)(this,a);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).onUpdateGraphData=function(){var e=t.props,a=e.getGraphReportsCapacity,i=e.isDisabled,o=e.productId,l=e.query,s=t.getQueryGranularity();if(!i&&s&&o){var c,u=T.a.getRangedDateTime(s),d=u.startDate,p=u.endDate;a(o,Object(n.a)((c={},Object(r.a)(c,S.g.START_DATE,d.toISOString()),Object(r.a)(c,S.g.END_DATE,p.toISOString()),c),l))}},t.onGranularitySelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.value,n=t.props.viewId;E.g.dispatch(Object(r.a)({type:E.f.query.SET_QUERY_RHSM_TYPES[S.g.GRANULARITY],viewId:n},S.g.GRANULARITY,a))},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,r=e.query;a===t.productId&&y()(r,t.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var t=this.props.query;return null===t||void 0===t?void 0:t[S.g.GRANULARITY]}},{key:"renderChart",value:function(){var t=this.props,e=t.filterGraphData,a=t.graphData,r=t.selectOptionsType,n=t.productLabel,i=t.query,o=t.viewId,l=this.getQueryGranularity(),s=C.a.getGranularityOptions(r).selected,c=l||s,d={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:R.getChartXAxisLabelIncrement(c),xAxisTickFormat:function(t){var e=t.item,a=t.previousItem,r=t.tick;return R.xAxisTickFormat({tick:r,date:e.date,previousDate:a.date,granularity:c})},yAxisTickFormat:R.yAxisTickFormat};return u.a.createElement(W,Object.assign({key:"chart_".concat(JSON.stringify(i))},d,{dataSets:function(t){var a=function(e){var a={data:t[e],id:e,animate:{duration:250,onLoad:{duration:250}},strokeWidth:2,isStacked:!/^threshold/.test(e),isThreshold:/^threshold/.test(e)};return/^threshold/.test(e)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=b.a.value,a.strokeDasharray="4,3",a.strokeWidth=3),a};return e.length?e.map((function(t){return Object.assign(a(t.id),t)})):Object.keys(t).map((function(t){return a(t)}))}(a),chartLegend:function(t){var e=t.chart,a=t.datum;return u.a.createElement(F,{chart:e,datum:a,productLabel:n,viewId:o})},chartTooltip:function(t){var e=t.datum;return u.a.createElement(A,{datum:e,granularity:c,productLabel:n})}}))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.children,r=t.error,n=t.isDisabled,i=t.pending,o=t.selectOptionsType,l=t.t;if(n)return null;var s=C.a.getGranularityOptions(o).options,c=this.getQueryGranularity();return u.a.createElement(d.a,{className:"curiosity-usage-graph"},u.a.createElement(V.a,{key:"headerMinHeight"},u.a.createElement(p.a,null,u.a.createElement(h.a,null,u.a.createElement(v.a,{headingLevel:"h2",size:"lg"},e)),u.a.createElement(f.a,{className:r?"blur":""},a,u.a.createElement(O.a,{"aria-label":l("curiosity-graph.dropdownPlaceholder"),onSelect:this.onGranularitySelect,options:s,selectedOptions:c,placeholder:l("curiosity-graph.dropdownPlaceholder")})))),u.a.createElement(V.a,{key:"bodyMinHeight"},u.a.createElement(g.a,null,u.a.createElement("div",{className:r?"blur":"fadein"},i&&u.a.createElement(z.a,{variant:"graph"}),!i&&this.renderChart()))))}}]),a}(u.a.Component);B.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:T.b.noop,graphData:{},isDisabled:T.b.UI_DISABLED_GRAPH,pending:!1,productLabel:"",selectOptionsType:"default",t:L.b,viewId:"graphCard"};var K=E.e.graphCard.makeGraphCard(),X=Object(E.b)(K,(function(t){return{getGraphReportsCapacity:function(e,a){return t(E.d.rhsm.getGraphReportsCapacity(e,a))}}}))(B)},1821:function(t,e,a){"use strict";a.d(e,"a",(function(){return q}));var r=a(9),n=a(6),i=a(1),o=a(13),l=a(14),s=a(15),c=a(16),u=a(0),d=a.n(u),p=a(1419),h=a(3140),v=a(3141),f=a(833),g=a(3186),b=a(3142),m=a(69),y=a.n(m),O=a(1068),E=a(63),T=a(17),S=a(2),D=a(154),I=a.n(D),k=a(3185),j=a(49),R=function(t){var e=t.date,a=t.granularity,r=I.a.utc(e);switch(a){case S.b.QUARTERLY:return"".concat(r.format(T.a.timestampQuarterFormats.yearShort)," - ").concat(r.add(1,"quarter").format(T.a.timestampQuarterFormats.yearShort));case S.b.MONTHLY:return r.format(T.a.timestampMonthFormats.yearLong);case S.b.WEEKLY:return"".concat(r.format(T.a.timestampDayFormats.short)," - ").concat(r.add(1,"week").format(T.a.timestampDayFormats.yearShort));case S.b.DAILY:default:return r.format(T.a.timestampDayFormats.long)}},C=function(t){var e=t.date,a=t.granularity,r=t.tick,n=t.previousDate;if(e&&a){var i,o=I.a.utc(e),l=0!==r&&Number.parseInt(o.year(),10)!==Number.parseInt(I.a.utc(n).year(),10);switch(a){case S.b.QUARTERLY:i=(i=l?o.format(T.a.timestampQuarterFormats.yearShort):o.format(T.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case S.b.MONTHLY:i=(i=l?o.format(T.a.timestampMonthFormats.yearShort):o.format(T.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case S.b.WEEKLY:case S.b.DAILY:default:i=(i=l?o.format(T.a.timestampDayFormats.yearShort):o.format(T.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return i}},L=function(t){var e=t.tick,a=t.locale;return new Intl.NumberFormat(a,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(e)},A=function(t){var e=t.data,a=void 0===e?[]:e,r=t.granularity,n=t.productShortLabel,o=[],l={x:"x",colors:{},columns:[],groups:[[]],names:{},types:{}},s=function(t){return(T.b.TEST_MODE&&I.a.utc(t)||I.a.utc(t).local()).format("YYYY-MM-DD")};return a.forEach((function(t){/^threshold/.test(t.id)?(l.colors[t.id]=t.color||k.a.value,l.types[t.id]="step",l.names[t.id]=Object(j.b)("curiosity-graph.thresholdLabel")):(l.colors[t.id]=t.color,l.types[t.id]="area-spline",l.groups[0].push(t.id),l.names[t.id]=Object(j.b)("curiosity-graph.".concat(t.id,"Label"),{product:n})),l.columns[0]=["x"],l.columns.push([t.id]);var e=0;t.data.forEach((function(t){l.columns[0].push(s(t.date)),l.columns[l.columns.length-1].push(t.y),e+=t.y||0})),e<=0&&(l.columns.pop(),o.push(t.id))})),{hiddenDataFacets:o,configuration:{tooltip:{order:function(t,e){return l.columns.indexOf(t.id)-l.columns.indexOf(e.id)},format:{title:function(t){return R({date:t,granularity:r})},value:function(t,e,r,n){var i,o,l,s=null===(i=a.find((function(t){return r===t.id})))||void 0===i?void 0:i.data[n];/^threshold/.test(r)?o=(null===s||void 0===s?void 0:s.hasInfinite)&&Object(j.b)("curiosity-graph.infiniteThresholdLabel")||(null!==(l=null===s||void 0===s?void 0:s.y)&&void 0!==l?l:Object(j.b)("curiosity-graph.noDataLabel")):o=!1===(null===s||void 0===s?void 0:s.hasData)&&Object(j.b)("curiosity-graph.noDataLabel")||(null===s||void 0===s?void 0:s.y)||0;return o}}},unloadBeforeLoad:!0,padding:{left:40,right:40,top:10,bottom:10},legend:{show:!1},spline:{interpolation:{type:"monotone"}},data:Object(i.a)({},l),point:{show:!1},grid:{y:{show:!0}},axis:{x:{type:"timeseries",tick:{format:function(t){var e=l.columns[0].slice(1),a=s(t),n=e.indexOf(a),i=n>-1&&e[n-1];return C({tick:n,date:a,previousDate:i,granularity:r})}},padding:0},y:{default:[0,50],padding:{bottom:0},min:0,tick:{show:!1,outer:!1,format:function(t){return 0===t?"":L({tick:t})}}}}}}},N=a(809),_=a(423),x=a(3182),w=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={updatedIsToggled:null},t.onFocus=function(){var e=t.state.updatedIsToggled,a=t.props,r=a.chart,n=a.chartId,i=a.getToggle,o=a.isToggled;("function"!==typeof i||o)&&e||r.focus(n)},t.onRevert=function(){var e=t.state.updatedIsToggled,a=t.props,r=a.chart,n=a.getToggle,i=a.isToggled;("function"!==typeof n||i)&&e||r.revert()},t.onToggle=function(){var e=t.state.updatedIsToggled,a=t.props,r=a.chart,n=a.chartId,i=a.getToggle,o=a.isToggled;r.toggle(n),"function"===typeof i?i({isToggled:!o}):t.setState({updatedIsToggled:!e}),t.onRevert()},t.getColor=function(){var e=t.props,a=e.chart,r=e.chartId;return a.color(r)},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this.state.updatedIsToggled,e=this.props,a=e.children,r=e.chart,n=e.chartId,i=e.isDisabled,o=e.isThreshold,l=e.isToggled,s=e.tooltipContent,c=null===t&&"boolean"===typeof l&&l||t||!1;c&&r.hide(n);var u=d.a.createElement(N.a,{tabIndex:0,key:"curiosity-button-".concat(n),variant:"link",onClick:this.onToggle,onFocus:this.onFocus,onMouseOver:this.onFocus,onBlur:this.onRevert,onMouseOut:this.onRevert,onKeyPress:this.onToggle,component:"a",isDisabled:i,icon:(i||c)&&d.a.createElement(x.a,null)||o&&d.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:i||c?"hidden":"visible",borderTopColor:this.getColor()}})||d.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:i||c?"hidden":"visible",backgroundColor:this.getColor()}})},a);return s?d.a.createElement(_.a,{key:"curiosity-tooltip-".concat(n),content:s,position:_.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},u):u}}]),a}(d.a.Component);w.defaultProps={chart:{color:T.b.noop,focus:T.b.noop,hide:T.b.noop,revert:T.b.noop,toggle:T.b.noop},children:null,isDisabled:!1,isThreshold:!1,isToggled:!1,tooltipContent:null,getToggle:null};var F=a(1435),M=a(3143),P=a.n(M),U=(a(3144),function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={chart:null},t.node=d.a.createRef(),t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.generateChart()}},{key:"componentDidUpdate",value:function(t){var e=this.props.config;y()(t.config.data,e.data)||this.generateChart()}},{key:"componentWillUnmount",value:function(){var t=this.state.chart;t&&t.destroy(),this.setState({chart:null})}},{key:"generateChart",value:function(){var t=this,e=this.state.chart,a=this.props,r=a.config,n=a.onComplete,o=e;o||(o=P.a.generate(Object(i.a)({bindto:this.node.current},r))),o.load(Object(i.a)({},r.data,{unload:r.unloadBeforeLoad||!1,done:function(){t.setState({chart:o},(function(){r.done?r.done({chart:o,config:r}):n({chart:o,config:r})}))}}))}},{key:"render",value:function(){var t=this.state.chart,e=this.props,a=e.className,r=e.children,n=e.config,i=e.style;return d.a.createElement("div",{className:"curiosity-c3chart ".concat(a),style:i},d.a.createElement("div",{ref:this.node,className:"curiosity-c3chart-container"}),t&&d.a.createElement("div",{className:"curiosity-c3chart-description"},"function"===typeof r&&r({chart:t,config:n})||r))}}]),a}(d.a.Component));U.defaultProps={children:null,className:null,config:{},onComplete:T.b.noop,style:{}};var Y=a(178),G=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).state={},t.onUpdateGraphData=function(){var e=t.props,a=e.getGraphReportsCapacity,r=e.isDisabled,o=e.productId,l=e.query,s=t.getQueryGranularity();if(!r&&s&&o){var c,u=T.a.getRangedDateTime(s),d=u.startDate,p=u.endDate;a(o,Object(i.a)((c={},Object(n.a)(c,S.g.START_DATE,d.toISOString()),Object(n.a)(c,S.g.END_DATE,p.toISOString()),c),l))}},t.onGranularitySelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.value,r=t.props.viewId;E.g.dispatch(Object(n.a)({type:E.f.query.SET_QUERY_RHSM_TYPES[S.g.GRANULARITY],viewId:r},S.g.GRANULARITY,a))},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.query;e.productId===t.productId&&y()(a,t.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var t=this.props.query;return null===t||void 0===t?void 0:t[S.g.GRANULARITY]}},{key:"renderLegend",value:function(t){var e=this,a=t.chart,r=t.filteredData,i=void 0===r?[]:r,o=t.granularity,l=t.hiddenDataFacets,s=void 0===l?[]:l,c=this.state,u=this.props,p=u.productId,h=u.productShortLabel,v=u.t;return i.map((function(t){var r=t.id,i=/^threshold/.test(r),l=s.includes(r),u=d.a.createElement("p",null,i&&v("curiosity-graph.thresholdLegendTooltip")||v("curiosity-graph.".concat(r,"LegendTooltip"))),f=c["".concat(p,"-").concat(o,"-").concat(r)]||!1;return d.a.createElement(w,{key:"legend-".concat(p,"-").concat(o,"-").concat(r),chart:a,chartId:r,tooltipContent:u,isDisabled:l,isThreshold:i,isToggled:f,getToggle:function(t){var a=t.isToggled;return e.setState(Object(n.a)({},"".concat(p,"-").concat(o,"-").concat(r),a))}},i&&v("curiosity-graph.thresholdLabel")||v("curiosity-graph.".concat(r,"Label"),{product:h}))}))}},{key:"renderChart",value:function(){var t=this,e=this.props,a=e.filterGraphData,n=e.graphData,o=e.productId,l=e.productShortLabel,s=e.selectOptionsType,c=this.getQueryGranularity(),u=F.a.getGranularityOptions(s).selected,p=c||u;if(!n||!Object.values(n).length)return null;var h=[];a.length?a.forEach((function(t){n[t.id]&&h.push(Object(i.a)({},t,{data:Object(r.a)(n[t.id])}))})):Object.keys(n).forEach((function(t){h.push({id:t,data:Object(r.a)(n[t])})}));var v=A({data:h,granularity:p,productShortLabel:l}),f=v.configuration,g=void 0===f?{}:f,b=v.hiddenDataFacets,m=void 0===b?[]:b;return d.a.createElement(U,{key:"chart-".concat(o,"-").concat(p),config:g},(function(e){var a=e.chart;return t.renderLegend({chart:a,filteredData:h,granularity:p,hiddenDataFacets:m})}))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.children,r=t.error,n=t.isDisabled,i=t.pending,o=t.selectOptionsType,l=t.t;if(n)return null;var s=F.a.getGranularityOptions(o).options,c=this.getQueryGranularity();return d.a.createElement(p.a,{className:"curiosity-usage-graph"},d.a.createElement(h.a,null,d.a.createElement(v.a,null,d.a.createElement(f.a,{headingLevel:"h2",size:"lg"},e)),d.a.createElement(g.a,{className:r?"blur":""},a,d.a.createElement(O.a,{"aria-label":l("curiosity-graph.dropdownPlaceholder"),onSelect:this.onGranularitySelect,options:s,selectedOptions:c,placeholder:l("curiosity-graph.dropdownPlaceholder")}))),d.a.createElement(b.a,null,d.a.createElement("div",{className:r?"blur":"fadein"},i&&d.a.createElement(Y.a,{variant:"graph"}),!i&&this.renderChart())))}}]),a}(d.a.Component);G.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:T.b.noop,graphData:{},isDisabled:T.b.UI_DISABLED_GRAPH,pending:!1,selectOptionsType:"default",t:j.b,productShortLabel:"",viewId:"graphCard"};var H=E.e.graphCard.makeGraphCard(),q=Object(E.b)(H,(function(t){return{getGraphReportsCapacity:function(e,a){return t(E.d.rhsm.getGraphReportsCapacity(e,a))}}}))(G)},1822:function(t,e,a){"use strict";a.d(e,"b",(function(){return D})),a.d(e,"a",(function(){return T}));var r=a(6),n=a(13),i=a(14),o=a(15),l=a(16),s=a(0),c=a.n(s),u=a(833),d=a(63),p=a(3191),h=a(3192),v=a(3210),f=a(835),g=a(836),b=a(264),m=a.n(b),y=a(17),O=function(t){Object(l.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={updatedActiveTab:null,updatedTabs:null},t.onTab=function(e){var a=e.index,r=t.props.onTab;t.setState({updatedActiveTab:a},(function(){return r({index:a})}))},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null===this.state.updatedTabs&&this.setTabData()}},{key:"componentDidUpdate",value:function(t){var e=this.props.tabs;m()(t.tabs,e,(function(t,e){if("function"===typeof t&&"function"===typeof e)return t.toString()===e.toString()}))||this.setTabData()}},{key:"setTabData",value:function(){var t=this.props,e=t.activeTab,a=t.defaultActiveTab,r=t.tabs,n=a,i=r.map((function(t,e){var a=t.active,r=t.content,i=t.title;return n=a?e:n,c.a.createElement(p.a,{key:i,eventKey:e,title:c.a.createElement(h.a,null,i)},r)}));"number"===typeof e&&(n=e),this.setState({updatedActiveTab:n,updatedTabs:i})}},{key:"renderTabs",value:function(){var t=this,e=this.state,a=e.updatedActiveTab,r=e.updatedTabs,n=this.props,i=n.className,o=n.hasOverflowScroll;return c.a.createElement(v.a,{className:"curiosity-tabs".concat(o?"":"__no-scroll"," ").concat(i||""),activeKey:a,onSelect:function(e,a){return t.onTab({event:e,index:a})},mountOnEnter:!0,unmountOnExit:!0,inset:{default:"insetNone",md:"insetLg"}},r)}},{key:"render",value:function(){return c.a.createElement(f.a,{className:"curiosity-tabs-container",guttter:"sm"},c.a.createElement(g.a,{span:12},this.renderTabs()))}}]),a}(c.a.Component);O.defaultProps={activeTab:null,className:"",defaultActiveTab:0,hasOverflowScroll:!1,onTab:y.b.noop,tabs:[]};var E=a(49),T=function(t){t.active;var e=t.children;t.title;return c.a.createElement(c.a.Fragment,null,e)};T.defaultProps={active:!1};var S=function(t){Object(l.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).onTab=function(e){var a=e.index,n=t.props.productId;d.g.dispatch({type:d.f.inventory.SET_INVENTORY_TAB,tabs:Object(r.a)({},n,a)})},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props,e=t.activeTab,a=t.children,r=t.defaultActiveTab,n=t.isDisabled,i=t.t;if(n)return null;var o=c.a.Children.toArray(a).map((function(t){var e=t.props,a=void 0===e?{}:e;return{active:a.active||!1,content:a.children,title:a.title}}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{headingLevel:"h2",className:"sr-only"},i("curiosity-inventory.tabHeading",{count:o.length})),c.a.createElement(O,{activeTab:e,defaultActiveTab:r,onTab:this.onTab,tabs:o}))}}]),a}(c.a.Component);S.defaultProps={activeTab:0,defaultActiveTab:0,isDisabled:y.b.UI_DISABLED_TABLE,t:E.b};var D=Object(d.b)((function(t,e){var a,r=t.inventory,n=e.productId;return{activeTab:null===(a=r.tabs)||void 0===a?void 0:a[n]}}))(S)},1823:function(t,e,a){"use strict";a.d(e,"a",(function(){return I}));var r=a(1),n=a(6),i=a(13),o=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(3187),p=a(3211),h=a(3212),v=a(3188),f=a(1810),g=a(1420),b=a(3189),m=a(1068),y=a(63),O=a(2),E=a(49),T=function(t){switch(t){case O.g.SLA:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.slaPremium"),value:O.c.PREMIUM},{title:Object(E.b)("curiosity-toolbar.slaStandard"),value:O.c.STANDARD},{title:Object(E.b)("curiosity-toolbar.slaSelfSupport"),value:O.c.SELF},{title:Object(E.b)("curiosity-toolbar.slaNone"),value:O.c.NONE}]};case O.g.USAGE:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.usageDevelopment"),value:O.i.DEVELOPMENT},{title:Object(E.b)("curiosity-toolbar.usageDisaster"),value:O.i.DISASTER},{title:Object(E.b)("curiosity-toolbar.usageProduction"),value:O.i.PRODUCTION},{title:Object(E.b)("curiosity-toolbar.usageUnspecified"),value:O.i.UNSPECIFIED}]};default:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.category",{context:O.g.SLA}),value:O.g.SLA},{title:Object(E.b)("curiosity-toolbar.category",{context:O.g.USAGE}),value:O.g.USAGE}]}}},S=a(17),D=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).onClear=function(){var e,a=t.props.hardFilterReset,r=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:new Set}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:(e={},Object(n.a)(e,O.g.SLA,null),Object(n.a)(e,O.g.USAGE,null),e)}}];a&&r.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:null}}),t.setDispatch(r,!0)},t.onClearFilter=function(e){var a=t.props,r=a.activeFilters,i=a.currentFilter,o=a.hardFilterReset,l=(T().options.find((function(t){return t.title===e}))||{}).value;if(l){var s=new Set(r);s.delete(l);var c=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:s}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:Object(n.a)({},l,null)}}];if(o){var u=s.size>0&&i||null;c.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:u}})}t.setDispatch(c,!0)}},t.onCategorySelect=function(e){var a=e.value;t.setDispatch({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:a}})},t.onSelect=function(e){var a=e.event,r=e.field,i=t.props.activeFilters,o=a.value,l=new Set(i).add(r);t.setDispatch([{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:l}},{type:y.f.query.SET_QUERY_RHSM_TYPES[r],data:Object(n.a)({},r,o)}],!0)},t}return Object(o.a)(a,[{key:"setDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.viewId,n=(Array.isArray(t)&&t||[t]).map((function(t){var e=t.type,n=t.data;return Object(r.a)({type:e,viewId:a},n)}));e&&n.push({type:y.f.query.SET_QUERY_CLEAR_INVENTORY_LIST}),y.g.dispatch(n)}},{key:"setSelectFilter",value:function(t){var e,a,r=this.props.query,n=T(t),i=this.getCurrentFilter();return a=t?"string"===typeof(null===r||void 0===r?void 0:r[t])&&n.options.find((function(e){return e.value===(null===r||void 0===r?void 0:r[t])})):n.options.find((function(t){return t.value===i})),{options:n,optionsSelected:(null===(e=a)||void 0===e?void 0:e.title)&&[a.title]||(null===n||void 0===n?void 0:n.selected)&&[n.selected]||[]}}},{key:"getCurrentFilter",value:function(){var t,e,a=this.props,r=a.currentFilter,n=a.filterOptions;return r||(null===(t=n.find((function(t){return!0===t.selected})))||void 0===t?void 0:t.id)||1===n.length&&(null===(e=n[0])||void 0===e?void 0:e.id)}},{key:"renderSelectFilter",value:function(t){var e=this,a=t.id,r=this.props.t,n=this.setSelectFilter(a),i=n.options,o=n.optionsSelected,l=this.getCurrentFilter();return u.a.createElement(d.a,{key:a,chips:o,deleteChip:this.onClearFilter,categoryName:r("curiosity-toolbar.category",{context:a}),showToolbarItem:l===a},u.a.createElement(m.a,{"aria-label":r("curiosity-toolbar.category",{context:a}),onSelect:function(t){return e.onSelect({event:t,field:a})},selectedOptions:o,placeholder:r("curiosity-toolbar.placeholder",{context:a}),options:i.options}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.filterOptions,r=e.isDisabled,n=e.t;if(r)return null;var i=this.setSelectFilter(),o=i.options,l=i.optionsSelected;return u.a.createElement(p.a,{id:"curiosity-toolbar",className:"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"sm",clearAllFilters:this.onClear},u.a.createElement(h.a,null,u.a.createElement(v.a,{toggleIcon:u.a.createElement(b.a,null),breakpoint:"md"},u.a.createElement(f.a,{variant:"filter-group"},1!==a.length&&u.a.createElement(g.a,null,u.a.createElement(m.a,{"aria-label":n("curiosity-toolbar.category"),onSelect:this.onCategorySelect,selectedOptions:l,placeholder:n("curiosity-toolbar.placeholder"),options:o.options,toggleIcon:u.a.createElement(b.a,null)})),a.map((function(e){var a=e.id,r=e.selected;return t.renderSelectFilter({id:a,selected:r})}))))))}}]),a}(u.a.Component);D.defaultProps={query:{},activeFilters:new Set,currentFilter:null,filterOptions:[{id:O.g.SLA,filterType:"select"},{id:O.g.USAGE,filterType:"select",selected:!0}],hardFilterReset:!1,isDisabled:S.b.UI_DISABLED_TOOLBAR,t:E.b,viewId:"toolbar"};var I=Object(y.b)((function(t,e){var a,n=t.toolbar,i=e.viewId;return Object(r.a)({},null===(a=n.filters)||void 0===a?void 0:a[i])}))(D)},1824:function(t,e,a){"use strict";a.d(e,"a",(function(){return U}));var r=a(1),n=a(6),i=a(13),o=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(69),p=a.n(d),h=a(151),v=a(216),f=a(1419),g=a(3142),b=a(3190),m=a(3140),y=a(3186),O=a(3148),E=a(1813),T=a(180),S=a.n(T),D=a(17),I=a(63),k=a(280),j=a(178),R=a(1418),C=a(9),L=a(1421),A=a(2),N=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(i.a)(this,a);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,a=e.currentPage,i=e.limit,o=t.props,l=o.getHostsInventoryGuests,s=o.query,c=o.id;if(c){var u,d=Object(r.a)({},s,(u={},Object(n.a)(u,A.g.LIMIT,i),Object(n.a)(u,A.g.OFFSET,a*i||0),u));l(c,I.a.parseRhsmQuery(d).inventoryGuestsQuery)}},t.onScroll=function(e){var a=e.target,r=t.state,n=r.currentPage,i=r.limit,o=r.previousData,l=t.props,s=l.numberOfGuests,c=l.pending,u=l.listData,d=a.scrollHeight-a.scrollTop===a.clientHeight;if(s>(n+1)*i&&d&&!c){var p=n+1,h=[].concat(Object(C.a)(o),Object(C.a)(u||[]));t.setState({previousData:h,currentPage:p})}},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,a=e.filterGuestsData,r=e.listData,n=e.pending;if(t>0&&n){var i=u.a.createElement(j.a,{variant:"table",tableProps:{borders:!1,colCount:(null===a||void 0===a?void 0:a.length)||(null===r||void 0===r?void 0:r[0])&&Object.keys(r[0]).length||1,rowCount:0,variant:v.b.compact}});return u.a.createElement("div",{className:"curiosity-table-scroll-loader__custom"},i)}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,a=e.filterGuestsData,r=e.listData,n=e.numberOfGuests,i=e.session,o=[],l=[].concat(Object(C.a)(t),Object(C.a)(r||[])).map((function(t){var e=Object.assign({},t),r=L.a.parseRowCellsListData({filters:a,cellData:e,session:i}),n=r.columnHeaders,l=r.cells;return o=n,{cells:l}})),s=42*(n+1);return s=s<275&&s||275,u.a.createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(s,"px")}},u.a.createElement("div",{className:"curiosity-table-scroll-list".concat(s<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),l.length&&u.a.createElement(k.a,{borders:!1,variant:v.b.compact,className:"curiosity-guests-list",columnHeaders:o,rows:l})||null))}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,a=e.error,r=e.filterGuestsData,n=e.listData,i=e.numberOfGuests,o=e.pending,l=e.perPageDefault;return u.a.createElement("div",{className:"fadein ".concat(a?"blur":"")},o&&0===t&&u.a.createElement(j.a,{variant:"table",tableProps:{borders:!1,colCount:(null===r||void 0===r?void 0:r.length)||(null===n||void 0===n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null===r||void 0===r?void 0:r.length)&&r.map((function(t){return t.cellWidth}))||[],rowCount:i<l?i:l,variant:v.b.compact}}),(!o&&0===t||t>0)&&this.renderTable())}}]),a}(u.a.Component);N.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:D.b.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var _=I.e.guestsList.makeGuestsList(),x=Object(I.b)(_,(function(t){return{getHostsInventoryGuests:function(e,a){return t(I.d.rhsm.getHostsInventoryGuests(e,a))}}}))(N),w=a(1811),F=a(49),M=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).onColumnSort=function(e,a){var r,i=a.direction,o=a.id,l=t.props.productId,s=Object.values(A.e).find((function(t){return S()(t)===o}));if(s){switch(i){case h.a.desc:r=A.d.DESCENDING;break;default:r=A.d.ASCENDING}I.g.dispatch([Object(n.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[A.g.DIRECTION],viewId:l},A.g.DIRECTION,r),Object(n.a)({type:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[A.g.SORT],viewId:l},A.g.SORT,s)])}},t.onUpdateInventoryData=function(){var e=t.props,a=e.getHostsInventory,r=e.isDisabled,n=e.productId,i=e.query;!r&&n&&a(n,i)},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,r=e.query;a===t.productId&&p()(r,t.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var t=this,e=this.props,a=e.filterGuestsData,n=e.filterInventoryData,i=e.listData,o=e.query,l=e.session,s=e.settings,c=[],d=i.map((function(e){var i=Object.assign({},e),d=L.a.parseRowCellsListData({filters:L.a.parseInventoryFilters({filters:n,onSort:t.onColumnSort,query:o}),cellData:i,session:l}),p=d.columnHeaders,h=d.cells;c=p;var v=null===i||void 0===i?void 0:i.subscriptionManagerId,f=(null===i||void 0===i?void 0:i.numberOfGuests)>0&&v;return"function"===typeof(null===s||void 0===s?void 0:s.hasGuests)&&(f=s.hasGuests(Object(r.a)({},i),Object(r.a)({},l))),{cells:h,expandedContent:f&&u.a.createElement(x,{key:v,filterGuestsData:a,numberOfGuests:null===i||void 0===i?void 0:i.numberOfGuests,id:v,query:o})||void 0}}));return u.a.createElement(k.b,{borders:!0,variant:v.b.compact,className:"curiosity-inventory-list",columnHeaders:c,rows:d})}},{key:"render",value:function(){var t=this.props,e=t.error,a=t.filterInventoryData,r=t.fulfilled,n=t.isDisabled,i=t.itemCount,o=t.listData,l=t.pending,s=t.perPageDefault,c=t.productId,d=t.query,p=t.t,h=t.viewId;if(n)return u.a.createElement(f.a,{className:"curiosity-inventory-card__disabled"},u.a.createElement(g.a,null,u.a.createElement(b.a,null,p("curiosity-inventory.tab",{context:"disabled"}))));var T=(null===d||void 0===d?void 0:d[A.g.LIMIT])||s,S=(d[A.g.OFFSET]/d[A.g.LIMIT]+1||1)===Math.ceil(i/T),D=!0===r&&i<T&&"bodyMinHeight-".concat(T,"-resize")||!0===r&&S&&"bodyMinHeight-".concat(T,"-resize")||"bodyMinHeight-".concat(T);return u.a.createElement(f.a,{className:"curiosity-inventory-card"},u.a.createElement(R.a,{key:"headerMinHeight",updateOnContent:!0},u.a.createElement(m.a,null,u.a.createElement(y.a,{className:e?"blur":""},u.a.createElement(w.a,{isCompact:!0,isDisabled:l||e,itemCount:i,productId:c,viewId:h,perPageDefault:T,offsetType:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[A.g.OFFSET],limitType:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[A.g.LIMIT]})))),u.a.createElement(R.a,{key:D,updateOnContent:!0},u.a.createElement(g.a,null,u.a.createElement("div",{className:e?"blur":"fadein"},l&&u.a.createElement(j.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===a||void 0===a?void 0:a.length)||(null===o||void 0===o?void 0:o[0])&&Object.keys(o[0]).length||1,colWidth:(null===a||void 0===a?void 0:a.length)&&a.map((function(t){return t.cellWidth}))||[],rowCount:(null===o||void 0===o?void 0:o.length)||T,variant:v.b.compact}}),!l&&this.renderTable()))),u.a.createElement(R.a,{key:"footerMinHeight",updateOnContent:!0},u.a.createElement(O.a,{className:e?"blur":""},u.a.createElement(E.TableToolbar,{isFooter:!0},u.a.createElement(w.a,{isDisabled:l||e,itemCount:i,productId:c,viewId:h,perPageDefault:T,dropDirection:"up",offsetType:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[A.g.OFFSET],limitType:I.f.query.SET_QUERY_RHSM_HOSTS_INVENTORY_TYPES[A.g.LIMIT]})))))}}]),a}(u.a.Component);M.defaultProps={error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getHostsInventory:D.b.noop,isDisabled:D.b.UI_DISABLED_TABLE_HOSTS,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},settings:{},t:F.b,viewId:"inventoryList"};var P=I.e.inventoryList.makeInventoryList(),U=Object(I.b)(P,(function(t){return{getHostsInventory:function(e,a){return t(I.d.rhsm.getHostsInventory(e,a))}}}))(M)}}]);
//# sourceMappingURL=1.10ad3452.chunk.js.map