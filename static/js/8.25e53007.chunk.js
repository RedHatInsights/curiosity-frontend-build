(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[8],{1025:function(e,t,r){"use strict";r.d(t,"a",(function(){return U}));var a=r(1),i=r.n(a),n=r(163),o=r(90),c=r(1148),s=r(1151),u=r(1149),l=r(27),d=r(13),b=r(11),v=r(4),p=r(6),y=r(7),j=r(9),O=r(8),g=r(289),h=r(261),I=r(54),f=r(183),T=r(117),S=r.n(T),D=r(61),R=r(5),_=r(10),A=function(e){Object(j.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(p.a)(this,r);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={},e.onUpdateData=function(){var t=e.props,r=t.getMessageReports,a=t.productId,i=t.query,n=o.a.parseRhsmQuery(i).graphTallyQuery;if(a){var c,s=l.a.getRangedDateTime("CURRENT"),u=s.startDate,d=s.endDate;r(a,Object(v.a)(Object(v.a)({},n),{},(c={},Object(b.a)(c,R.g.GRANULARITY,R.b.DAILY),Object(b.a)(c,R.g.START_DATE,u.toISOString()),Object(b.a)(c,R.g.END_DATE,d.toISOString()),c)))}},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.query;t.productId===e.productId&&S()(r,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,r=this.props,a=r.appMessages,i=r.messages,n=[];return i.length&&Object.entries(a).forEach((function(e){var r=Object(d.a)(e,2),a=r[0],o=r[1];if(!0!==t[a]&&!0===o){var c=i.find((function(e){return e.id===a}));c&&n.push(Object(v.a)({key:a},c))}})),n.map((function(t){var r=t.key,a=t.message,i=t.title,n=t.variant,o=void 0===n?g.b.info:n,c=Object(_.jsx)(h.a,{onClose:function(){return e.setState(Object(b.a)({},r,!0))}});return Object(_.jsx)(g.a,{actionClose:c,title:i,variant:o,children:a},r)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?Object(_.jsx)("div",{className:"curiosity-banner-messages",children:e}):null}}]),r}(i.a.Component);A.defaultProps={getMessageReports:l.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(D.b)("curiosity-banner.dataMismatchTitle"),message:Object(D.b)("curiosity-banner.dataMismatchMessage",{context:""!==l.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:l.b.UI_DISPLAY_NAME},[Object(_.jsx)(I.a,{isInline:!0,component:"a",variant:"link",icon:Object(_.jsx)(f.a,{}),iconPosition:"right",target:"_blank",href:l.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var E=o.e.appMessages.makeAppMessages(),m=Object(o.b)(E,(function(e){return{getMessageReports:function(t,r){return e(o.d.rhsm.getMessageReports(t,r))}}}))(A),x=r(1145),N=r(1150),M=r(1146),U=(r(1144),function(e){var t=e.productConfig,r=e.routeDetail,a=e.t,d=e.toolbarGraph,b=e.toolbarProduct,v=t.graphTallyQuery,p=t.inventoryHostsQuery,y=t.inventorySubscriptionsQuery,j=t.query,O=t.initialToolbarFilters,g=t.initialGraphFilters,h=t.initialGuestsFilters,I=t.initialInventoryFilters,f=t.initialInventorySettings,T=t.initialSubscriptionsInventoryFilters,S=o.a.parseRhsmQuery(j,{graphTallyQuery:v,inventoryHostsQuery:p,inventorySubscriptionsQuery:y}),D=S.query,A=S.graphTallyQuery,E=S.inventoryHostsQuery,U=S.inventorySubscriptionsQuery,w=S.toolbarQuery,P=r.pathParameter,C=r.productParameter,L=r.viewParameter;return P&&L?Object(_.jsxs)(n.c,{children:[Object(_.jsx)(n.b,{productLabel:C,includeTour:!0,children:a("curiosity-view.title",{appName:l.b.UI_DISPLAY_NAME,context:C})}),Object(_.jsx)(n.d,{children:Object(_.jsx)(m,{productId:P,viewId:L,query:D})}),Object(_.jsx)(n.f,{children:i.a.isValidElement(b)&&b||!1!==b&&Object(_.jsx)(s.a,{filterOptions:O,productId:P,query:w,viewId:L})}),Object(_.jsx)(n.e,{children:Object(_.jsx)(c.a,{filterGraphData:g,query:A,productId:P,viewId:L,cardTitle:a("curiosity-graph.cardHeading",{context:C}),productLabel:C,children:i.a.isValidElement(d)&&d||!1!==d&&Object(_.jsx)(x.a,{viewId:L,value:A[R.g.GRANULARITY]})},"graph_".concat(P))}),Object(_.jsx)(n.e,{children:Object(_.jsxs)(N.b,{productId:P,children:[Object(_.jsx)(N.a,{title:a("curiosity-inventory.tab",{context:"hosts"}),children:Object(_.jsx)(u.a,{filterGuestsData:h,filterInventoryData:I,productId:P,settings:f,query:E,viewId:L},"inv_".concat(P))},"inventory_hosts_".concat(P)),!l.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(_.jsx)(N.a,{title:a("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(_.jsx)(M.a,{filterInventoryData:T,productId:P,query:U,viewId:L},"subs_".concat(P))},"inventory_subs_".concat(P))]},"inventory_".concat(P))})]}):null});U.defaultProps={t:D.b,toolbarGraph:null,toolbarProduct:null}},1315:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(11),i=r(4),n=(r(1),r(90)),o=r(1024),c=r(5),s=r(27),u=r(61),l=r(10),d=s.a.getRangedMonthDateTime().listDateTimeRanges.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:!1})})),b=function(e){var t=e.options,r=e.t,s=e.value,u=e.viewId,d=Object(n.h)((function(e){var t,r;return null===(t=e.view.query)||void 0===t||null===(r=t[u])||void 0===r?void 0:r[c.g.START_DATE]}),s),b=t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:e.title===d||e.value.startDate.toISOString()===d})}));return Object(l.jsx)(o.a,{"aria-label":r("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(e){var t=e.value,r=t.startDate,i=t.endDate;n.g.dispatch([{type:n.f.query.SET_QUERY_CLEAR_INVENTORY_LIST,viewId:u},Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.GRANULARITY],viewId:u},c.g.GRANULARITY,c.b.DAILY),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.START_DATE],viewId:u},c.g.START_DATE,r.toISOString()),Object(a.a)({type:n.f.query.SET_QUERY_RHSM_TYPES[c.g.END_DATE],viewId:u},c.g.END_DATE,i.toISOString())])},options:b,placeholder:r("curiosity-toolbar.placeholder",{context:"granularity"}),maxHeight:250})};b.defaultProps={options:d,t:u.b,value:Object(u.b)("curiosity-toolbar.granularityRange",{context:"current"}),viewId:"toolbarFieldRangeGranularity"}},866:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g})),r.d(t,"ProductViewOpenShiftDedicated",(function(){return g}));var a,i,n=r(11),o=r(1),c=r.n(o),s=r(3014),u=r(3015),l=r(430),d=r(1147),b=r(5),v=r(1025),p=r(61),y=r(27),j=r(1315),O=r(10),g=function(e){var t=e.productConfig,r=e.routeDetail,a=r.viewParameter,i=t.graphTallyQuery[b.g.START_DATE];return Object(O.jsx)(v.a,{routeDetail:r,productConfig:t,toolbarProduct:!1,toolbarGraph:Object(O.jsx)(j.a,{value:i,viewId:a})})};g.defaultProps={productConfig:{query:(a={},Object(n.a)(a,b.g.START_DATE,y.a.getRangedMonthDateTime("current").value.startDate.toISOString()),Object(n.a)(a,b.g.END_DATE,y.a.getRangedMonthDateTime("current").value.endDate.toISOString()),a),graphTallyQuery:Object(n.a)({},b.g.GRANULARITY,b.b.DAILY),inventoryHostsQuery:(i={},Object(n.a)(i,b.g.SORT,b.e.LAST_SEEN),Object(n.a)(i,b.g.DIRECTION,b.d.DESCENDING),Object(n.a)(i,b.g.LIMIT,100),Object(n.a)(i,b.g.OFFSET,0),i),initialGraphFilters:[{id:"coreHours",fill:s.a.value,stroke:u.a.value,color:u.a.value}],initialInventoryFilters:[{id:"displayName",cell:function(e){var t=e.displayName,r=void 0===t?{}:t,a=e.inventoryId,i=void 0===a?{}:a,n=e.numberOfGuests,o=void 0===n?{}:n;if(!i.value)return r.value;var s=r.value||i.value;return Object(O.jsxs)(c.a.Fragment,{children:[s," ",o.value&&Object(p.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[Object(O.jsx)(l.a,{color:"blue"})])||""]})},isSortable:!0},{id:"coreHours",cell:function(e){var t,r;return"number"===typeof(null===e||void 0===e||null===(t=e.coreHours)||void 0===t?void 0:t.value)&&Number.parseFloat(null===e||void 0===e||null===(r=e.coreHours)||void 0===r?void 0:r.value).toFixed(2)||"0.00"},isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",header:Object(p.b)("curiosity-inventory.header",{context:"lastSeen_OpenShift-dedicated-metrics"}),cell:function(e){var t,r;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(O.jsx)(d.DateFormat,{date:null===e||void 0===e||null===(r=e.lastSeen)||void 0===r?void 0:r.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:void 0}}}}]);
//# sourceMappingURL=8.25e53007.chunk.js.map