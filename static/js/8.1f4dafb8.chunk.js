(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[8],{1019:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var a=r(1),n=r.n(a),i=r(162),o=r(89),c=r(1142),s=r(1145),u=r(1143),l=r(27),d=r(13),b=r(12),v=r(4),p=r(6),y=r(7),j=r(9),g=r(8),O=r(288),h=r(260),f=r(54),I=r(182),T=r(116),S=r.n(T),D=r(61),R=r(5),A=r(10),_=function(e){Object(j.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(p.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e.onUpdateData=function(){var t=e.props,r=t.getMessageReports,a=t.productId,n=t.query,i=o.a.parseRhsmQuery(n).graphTallyQuery;if(a){var c,s=l.a.getRangedDateTime("CURRENT"),u=s.startDate,d=s.endDate;r(a,Object(v.a)(Object(v.a)({},i),{},(c={},Object(b.a)(c,R.g.GRANULARITY,R.b.DAILY),Object(b.a)(c,R.g.START_DATE,u.toISOString()),Object(b.a)(c,R.g.END_DATE,d.toISOString()),c)))}},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.query;t.productId===e.productId&&S()(r,e.query)||this.onUpdateData()}},{key:"renderAlerts",value:function(){var e=this,t=this.state,r=this.props,a=r.appMessages,n=r.messages,i=[];return n.length&&Object.entries(a).forEach((function(e){var r=Object(d.a)(e,2),a=r[0],o=r[1];if(!0!==t[a]&&!0===o){var c=n.find((function(e){return e.id===a}));c&&i.push(Object(v.a)({key:a},c))}})),i.map((function(t){var r=t.key,a=t.message,n=t.title,i=t.variant,o=void 0===i?O.b.info:i,c=Object(A.jsx)(h.a,{onClose:function(){return e.setState(Object(b.a)({},r,!0))}});return Object(A.jsx)(O.a,{actionClose:c,title:n,variant:o,children:a},r)}))}},{key:"render",value:function(){var e=this.renderAlerts();return e.length?Object(A.jsx)("div",{className:"curiosity-banner-messages",children:e}):null}}]),r}(n.a.Component);_.defaultProps={getMessageReports:l.b.noop,query:{},messages:[{id:"cloudigradeMismatch",title:Object(D.b)("curiosity-banner.dataMismatchTitle"),message:Object(D.b)("curiosity-banner.dataMismatchMessage",{context:""!==l.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:l.b.UI_DISPLAY_NAME},[Object(A.jsx)(f.a,{isInline:!0,component:"a",variant:"link",icon:Object(A.jsx)(I.a,{}),iconPosition:"right",target:"_blank",href:l.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var m=o.e.appMessages.makeAppMessages(),E=Object(o.b)(m,(function(e){return{getMessageReports:function(t,r){return e(o.d.rhsm.getMessageReports(t,r))}}}))(_),x=r(1139),N=r(1144),M=r(1140),P=(r(1138),function(e){var t=e.productConfig,r=e.routeDetail,a=e.t,d=e.toolbarGraph,b=e.toolbarProduct,v=t.graphTallyQuery,p=t.inventoryHostsQuery,y=t.inventorySubscriptionsQuery,j=t.query,g=t.initialToolbarFilters,O=t.initialGraphFilters,h=t.initialGuestsFilters,f=t.initialInventoryFilters,I=t.initialInventorySettings,T=t.initialSubscriptionsInventoryFilters,S=o.a.parseRhsmQuery(j,{graphTallyQuery:v,inventoryHostsQuery:p,inventorySubscriptionsQuery:y}),D=S.query,_=S.graphTallyQuery,m=S.inventoryHostsQuery,P=S.inventorySubscriptionsQuery,U=S.toolbarQuery,w=r.pathParameter,C=r.productParameter,Q=r.viewParameter;return w&&Q?Object(A.jsxs)(i.c,{children:[Object(A.jsx)(i.b,{productLabel:C,includeTour:!0,children:a("curiosity-view.title",{appName:l.b.UI_DISPLAY_NAME,context:C})}),Object(A.jsx)(i.d,{children:Object(A.jsx)(E,{productId:w,viewId:Q,query:D})}),Object(A.jsx)(i.f,{children:n.a.isValidElement(b)&&b||!1!==b&&Object(A.jsx)(s.a,{filterOptions:g,productId:w,query:U,viewId:Q})}),Object(A.jsx)(i.e,{children:Object(A.jsx)(c.a,{filterGraphData:O,query:_,productId:w,viewId:Q,cardTitle:a("curiosity-graph.cardHeading",{context:C}),productLabel:C,children:n.a.isValidElement(d)&&d||!1!==d&&Object(A.jsx)(x.a,{viewId:Q,value:_[R.g.GRANULARITY]})},"graph_".concat(w))}),Object(A.jsx)(i.e,{children:Object(A.jsxs)(N.b,{productId:w,children:[Object(A.jsx)(N.a,{title:a("curiosity-inventory.tab",{context:"hosts"}),children:Object(A.jsx)(u.a,{filterGuestsData:h,filterInventoryData:f,productId:w,settings:I,query:m,viewId:Q},"inv_".concat(w))},"inventory_hosts_".concat(w)),!l.b.UI_DISABLED_TABLE_SUBSCRIPTIONS&&Object(A.jsx)(N.a,{title:a("curiosity-inventory.tab",{context:"subscriptions"}),children:Object(A.jsx)(M.a,{filterInventoryData:T,productId:w,query:P,viewId:Q},"subs_".concat(w))},"inventory_subs_".concat(w))]},"inventory_".concat(w))})]}):null});P.defaultProps={t:D.b,toolbarGraph:null,toolbarProduct:null}},1309:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(12),n=r(4),i=(r(1),r(89)),o=r(1018),c=r(5),s=r(27),u=r(61),l=r(10),d=s.a.getRangedMonthDateTime().listDateTimeRanges.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{selected:!1})})),b=function(e){var t=e.options,r=e.t,s=e.value,u=e.viewId,d=Object(i.h)((function(e){var t,r;return null===(t=e.view.query)||void 0===t||null===(r=t[u])||void 0===r?void 0:r[c.g.START_DATE]}),s),b=t.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{selected:e.title===d||e.value.startDate.toISOString()===d})}));return Object(l.jsx)(o.a,{"aria-label":r("curiosity-toolbar.placeholder",{context:"granularity"}),onSelect:function(e){var t=e.value,r=t.startDate,n=t.endDate;i.g.dispatch([Object(a.a)({type:i.f.query.SET_QUERY_RHSM_TYPES[c.g.GRANULARITY],viewId:u},c.g.GRANULARITY,c.b.DAILY),Object(a.a)({type:i.f.query.SET_QUERY_RHSM_TYPES[c.g.START_DATE],viewId:u},c.g.START_DATE,r.toISOString()),Object(a.a)({type:i.f.query.SET_QUERY_RHSM_TYPES[c.g.END_DATE],viewId:u},c.g.END_DATE,n.toISOString())])},options:b,placeholder:r("curiosity-toolbar.placeholder",{context:"granularity"}),maxHeight:250})};b.defaultProps={options:d,t:u.b,value:Object(u.b)("curiosity-toolbar.granularityRange",{context:"current"}),viewId:"toolbarFieldRangeGranularity"}},3011:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return O})),r.d(t,"ProductViewOpenShiftDedicated",(function(){return O}));var a,n,i=r(12),o=r(1),c=r.n(o),s=r(3009),u=r(3010),l=r(429),d=r(1141),b=r(5),v=r(1019),p=r(61),y=r(27),j=r(1309),g=r(10),O=function(e){var t=e.productConfig,r=e.routeDetail,a=r.viewParameter,n=t.graphTallyQuery[b.g.START_DATE];return Object(g.jsx)(v.a,{routeDetail:r,productConfig:t,toolbarProduct:!1,toolbarGraph:Object(g.jsx)(j.a,{value:n,viewId:a})})};O.defaultProps={productConfig:{query:(a={},Object(i.a)(a,b.g.START_DATE,y.a.getRangedMonthDateTime("current").value.startDate.toISOString()),Object(i.a)(a,b.g.END_DATE,y.a.getRangedMonthDateTime("current").value.endDate.toISOString()),a),graphTallyQuery:Object(i.a)({},b.g.GRANULARITY,b.b.DAILY),inventoryHostsQuery:(n={},Object(i.a)(n,b.g.SORT,b.e.LAST_SEEN),Object(i.a)(n,b.g.DIRECTION,b.d.DESCENDING),Object(i.a)(n,b.g.LIMIT,100),Object(i.a)(n,b.g.OFFSET,0),n),initialGraphFilters:[{id:"coreHours",fill:s.a.value,stroke:u.a.value,color:u.a.value}],initialInventoryFilters:[{id:"displayName",cell:function(e){var t=e.displayName,r=void 0===t?{}:t,a=e.inventoryId,n=void 0===a?{}:a,i=e.numberOfGuests,o=void 0===i?{}:i;if(!n.value)return r.value;var s=r.value||n.value;return Object(g.jsxs)(c.a.Fragment,{children:[s," ",o.value&&Object(p.b)("curiosity-inventory.label",{context:"numberOfGuests",count:o.value},[Object(g.jsx)(l.a,{color:"blue"})])||""]})},isSortable:!0},{id:"coreHours",cell:function(e){var t,r;return"number"===typeof(null===e||void 0===e||null===(t=e.coreHours)||void 0===t?void 0:t.value)&&Number.parseFloat(null===e||void 0===e||null===(r=e.coreHours)||void 0===r?void 0:r.value).toFixed(2)||"0.00"},isSortable:!0,isWrappable:!0,cellWidth:15},{id:"lastSeen",header:Object(p.b)("curiosity-inventory.header",{context:"lastSeen_OpenShift-dedicated-metrics"}),cell:function(e){var t,r;return(null===e||void 0===e||null===(t=e.lastSeen)||void 0===t?void 0:t.value)&&Object(g.jsx)(d.DateFormat,{date:null===e||void 0===e||null===(r=e.lastSeen)||void 0===r?void 0:r.value})||""},isSortable:!0,isWrappable:!0,cellWidth:15}],initialToolbarFilters:void 0}}}}]);
//# sourceMappingURL=8.1f4dafb8.chunk.js.map