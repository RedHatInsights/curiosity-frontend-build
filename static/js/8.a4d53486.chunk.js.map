{"version":3,"sources":["images/graph2x.png","images/graph4x.png","components/optinView/optinView.js"],"names":["OptinView","onSubmitOptIn","updateAccountOptIn","props","this","error","fulfilled","pending","session","t","disableButton","status","Form","ActionGroup","Button","variant","isDisabled","Spinner","size","appName","helpers","UI_DISPLAY_NAME","isInline","component","target","href","UI_LINK_CONTACT_US","onClick","Card","className","CardHeader","CardHeaderMain","Brand","srcSet","graphPng4x","graphPng2x","src","alt","aria-hidden","CardTitle","Title","headingLevel","CardBody","CardFooter","Flex","flex","default","FlexItem","renderOptinForm","alignSelf","renderTour","React","Component","defaultProps","translate","noop","ConnectedOptinView","connect","user","optin","dispatch","query","reduxActions"],"mappings":"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","file":"static/js/8.a4d53486.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/graph2x.d602087f.png\";","export default __webpack_public_path__ + \"static/media/graph4x.2bdbfbe8.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Brand,\n  Button,\n  Card,\n  CardHeaderMain,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  Flex,\n  FlexItem,\n  Form,\n  ActionGroup,\n  Spinner,\n  Title\n} from '@patternfly/react-core';\nimport { connect, reduxActions } from '../../redux';\nimport { translate } from '../i18n/i18n';\nimport { PageLayout } from '../pageLayout/pageLayout';\nimport { helpers } from '../../common';\nimport graphPng2x from '../../images/graph2x.png';\nimport graphPng4x from '../../images/graph4x.png';\n\n/**\n * An account opt-in view.\n *\n * @augments React.Component\n * @fires onSubmitOptIn\n */\nclass OptinView extends React.Component {\n  /**\n   * Submit and update account opt-in.\n   *\n   * @event onSubmitOptIn\n   */\n  onSubmitOptIn = () => {\n    const { updateAccountOptIn } = this.props;\n    updateAccountOptIn();\n  };\n\n  /**\n   * Render opt-in form states.\n   *\n   * @returns {Node}\n   */\n  renderOptinForm() {\n    const { error, fulfilled, pending, session, t } = this.props;\n    const disableButton = session.status !== 403;\n\n    if (pending) {\n      return (\n        <Form>\n          <ActionGroup>\n            <Button variant=\"primary\" isDisabled>\n              <Spinner size=\"sm\" /> {t('curiosity-optin.buttonActivate', { appName: helpers.UI_DISPLAY_NAME })}\n            </Button>\n          </ActionGroup>\n        </Form>\n      );\n    }\n\n    if (error) {\n      return (\n        <p>\n          {t('curiosity-optin.cardIsErrorDescription', { appName: helpers.UI_DISPLAY_NAME }, [\n            <Button isInline component=\"a\" variant=\"link\" target=\"_blank\" href={helpers.UI_LINK_CONTACT_US} />\n          ])}\n        </p>\n      );\n    }\n\n    if (disableButton || fulfilled) {\n      return (\n        <Form>\n          <ActionGroup>\n            <Button variant=\"primary\" isDisabled>\n              {t('curiosity-optin.buttonIsActive', { appName: helpers.UI_DISPLAY_NAME })}\n            </Button>\n          </ActionGroup>\n          {fulfilled && <p>{t('curiosity-optin.cardIsActiveDescription')}</p>}\n        </Form>\n      );\n    }\n\n    return (\n      <Form>\n        <ActionGroup>\n          <Button variant=\"primary\" onClick={this.onSubmitOptIn}>\n            {t('curiosity-optin.buttonActivate', { appName: helpers.UI_DISPLAY_NAME })}\n          </Button>\n        </ActionGroup>\n      </Form>\n    );\n  }\n\n  /**\n   * Render tour copy and button.\n   *\n   * @returns {Node}\n   */\n  renderTour() {\n    const { t } = this.props;\n\n    return (\n      <Card className=\"curiosity-optin-tour\">\n        <CardHeader>\n          <CardHeaderMain>\n            <Brand\n              srcSet={`${graphPng4x} 1064w, ${graphPng2x} 600w`}\n              src={graphPng4x}\n              alt={t('curiosity-optin.tourTitleImageAlt')}\n              aria-hidden\n              className=\"curiosity-optin-image\"\n            />\n          </CardHeaderMain>\n        </CardHeader>\n        <CardTitle>\n          <Title headingLevel=\"h3\" size=\"2xl\">\n            {t('curiosity-optin.tourTitle')}\n          </Title>\n        </CardTitle>\n        <CardBody>{t('curiosity-optin.tourDescription')}</CardBody>\n        <CardFooter>\n          <Button variant=\"secondary\" className=\"uxui-curiosity__button-tour\">\n            {t('curiosity-optin.buttonTour')}\n          </Button>\n        </CardFooter>\n      </Card>\n    );\n  }\n\n  /**\n   * Render opt-in.\n   *\n   * @returns {Node}\n   */\n  render() {\n    const { t } = this.props;\n\n    return (\n      <PageLayout>\n        <Card>\n          <Flex>\n            <Flex flex={{ default: 'flex_2' }}>\n              <FlexItem>\n                <CardTitle key=\"heading1Title\">\n                  <Title headingLevel=\"h1\" size=\"2xl\">\n                    {t('curiosity-optin.cardTitle', { appName: helpers.UI_DISPLAY_NAME })}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading1Desc\">\n                  {t('curiosity-optin.cardDescription', { appName: helpers.UI_DISPLAY_NAME })}\n                </CardBody>\n\n                <CardTitle key=\"heading2Title\">\n                  <Title headingLevel=\"h2\" size=\"xl\">\n                    {t('curiosity-optin.cardSeeTitle')}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading2Desc\">{t('curiosity-optin.cardSeeDescription')}</CardBody>\n\n                <CardTitle key=\"heading3Title\">\n                  <Title headingLevel=\"h2\" size=\"xl\">\n                    {t('curiosity-optin.cardReportTitle')}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading3Desc\">{t('curiosity-optin.cardReportDescription')}</CardBody>\n\n                <CardTitle key=\"heading4Title\">\n                  <Title headingLevel=\"h2\" size=\"xl\">\n                    {t('curiosity-optin.cardFilterTitle')}\n                  </Title>\n                </CardTitle>\n                <CardBody key=\"heading4Desc\">{t('curiosity-optin.cardFilterDescription')}</CardBody>\n\n                <CardFooter>{this.renderOptinForm()}</CardFooter>\n              </FlexItem>\n            </Flex>\n            <Flex flex={{ default: 'flex_1' }} alignSelf={{ default: 'alignSelfCenter' }}>\n              <FlexItem>\n                <CardBody>{this.renderTour()}</CardBody>\n              </FlexItem>\n            </Flex>\n          </Flex>\n        </Card>\n      </PageLayout>\n    );\n  }\n}\n\n/**\n * Prop types.\n *\n * @type {{t: Function, session: object, updateAccountOptIn: Function, pending: boolean, fulfilled: boolean,\n *     error: boolean}}\n */\nOptinView.propTypes = {\n  error: PropTypes.bool,\n  fulfilled: PropTypes.bool,\n  pending: PropTypes.bool,\n  session: PropTypes.shape({\n    status: PropTypes.number\n  }),\n  t: PropTypes.func,\n  updateAccountOptIn: PropTypes.func\n};\n\n/**\n * Default props.\n *\n * @type {{t: translate, session: {status: null}, updateAccountOptIn: Function, pending: boolean,\n *     fulfilled: boolean, error: boolean}}\n */\nOptinView.defaultProps = {\n  error: false,\n  fulfilled: false,\n  pending: false,\n  session: {\n    status: null\n  },\n  t: translate,\n  updateAccountOptIn: helpers.noop\n};\n\n/**\n * Apply actions to props.\n *\n * @param {Function} dispatch\n * @returns {object}\n */\nconst mapDispatchToProps = dispatch => ({\n  updateAccountOptIn: query => dispatch(reduxActions.user.updateAccountOptIn(query))\n});\n\n/**\n * Apply state to props.\n *\n * @param {object} state\n * @param {object} state.user\n * @returns {object}\n */\nconst mapStateToProps = ({ user }) => ({ ...user.optin, session: user.session });\n\nconst ConnectedOptinView = connect(mapStateToProps, mapDispatchToProps)(OptinView);\n\nexport { ConnectedOptinView as default, ConnectedOptinView, OptinView };\n"],"sourceRoot":""}