(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[16],{618:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y})),n.d(e,"FormState",(function(){return y}));var r=n(6),a=n(1),o=n(15),i=n(16),s=n(245),c=n(19),u=n(18),l=n(0),d=n.n(l),b=n(642),v=n.n(b),f=n(54),p=n.n(f),h=n(23),j=n(4),O={isUpdating:!1,isSubmitting:!1,isValid:null,isValidating:!1,submitCount:0},y=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).state=Object(a.a)({},O),i.onEventCustom=function(t){var e=Array.isArray(t)&&t||t&&[t];e.length&&e.filter((function(t){return"name"in t&&("value"in t||"checked"in t)})).forEach((function(t){return i.onEvent({target:Object(a.a)({},t),persist:h.a.noop,type:"custom"})}))},i.onEvent=function(t){var e=Object(s.a)(i),n=e.touched,o=e.values,c=t.options?Object(a.a)({},t):t.target,u=c.id,l=c.name,d=c.value,b=c.checked;t.persist();var v=l||u||"generated form state target, add name or id attr to field";i.touched=Object(a.a)(Object(a.a)({},n),{},Object(r.a)({},v,!0)),i.values=Object(a.a)(Object(a.a)({},o),{},Object(r.a)({},v,d)),void 0!==b&&(i.checked=Object(a.a)(Object(a.a)({},i.checked),{},Object(r.a)({},v,b))),i.setState({isUpdating:!0,isValidating:!0},(function(){return i.validate(t).then((function(t){var e=Object(a.a)({},t&&t[0]||t||{}),n=!Object.values(e).filter((function(t){return!0===t})).length;i.errors=e,i.setState({isUpdating:!1,isValid:n,isValidating:!1})}))}))},i.onReset=function(t){var e=Object(s.a)(i),r=e.refValues,o=e.values,c=i.props,u=c.setValuesAssumeBoolIsChecked,l=c.onReset,d=c.resetUsingSetValues;t.persist();var b=r&&!0===d,f=b&&v()(r)||{},p=b&&n.checkedSetValues(u,f)||{};i.values=f,i.checked=p,i.errors={},i.touched={},i.setState(Object(a.a)({},O)),l(b?Object(a.a)({event:t},v()({values:f,prevValues:o})):Object(a.a)({event:t,values:{}},v()({prevValues:o})))},i.onSubmit=function(t){var e=i.state.submitCount;t.persist(),t.preventDefault(),i.setState({submitCount:e+1,isSubmitting:!0,isUpdating:!0,isValidating:!0},(function(){return i.validate(t).then((function(e){var n=Object(a.a)({},e&&e[0]||e||{}),r=!Object.values(n).filter((function(t){return!0===t})).length;i.errors=n,i.touched={},i.setState({isValid:r,isValidating:!1},(function(){return r&&i.submit(t).then((function(){i.setState({isSubmitting:!1,isUpdating:!1})}))}))}))}))},i.touched={},i.checked=n.checkedSetValues(t),i.refValues=!0===t.resetUsingSetValues||!0===t.setValuesOnUpdate?v()(t.setValues):null,i.errors={},i.values=v()(t.setValues),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){!0===this.props.validateOnMount&&this.validateOnMount()}},{key:"componentDidUpdate",value:function(){var t=this.refValues,e=this.props,n=e.setValuesOnUpdate,r=e.setValues;!0!==n||p()(t,r)||this.updateComponentValues()}},{key:"submit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"submit"},e=this.checked,r=this.errors,o=this.values,i=this.touched,s=this.props.onSubmit,c=s(Object(a.a)({event:t},v()(Object(a.a)(Object(a.a)({},this.state),{},{checked:e,errors:r,values:o,touched:i}))));return n.isPromise(c)?c:{then:function(t){return t()}}}},{key:"validate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"validate"},e=this.checked,r=this.errors,o=this.values,i=this.touched,s=this.props.validate,c=s(Object(a.a)({event:t},v()(Object(a.a)(Object(a.a)({},this.state),{},{checked:e,errors:r,values:o,touched:i}))));return n.isPromise(c)?c:{then:function(t){return t(c)}}}},{key:"validateOnMount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"mount"};this.validateOnUpdate(t)}},{key:"validateOnUpdate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"update"};this.setState({isUpdating:!0,isValidating:!0},(function(){return t.validate(e).then((function(e){var n=Object(a.a)({},e&&e[0]||e||{}),r=!Object.values(n).filter((function(t){return!0===t})).length;t.errors=n,t.setState({isUpdating:!1,isValidating:!1,isValid:r})}))}))}},{key:"updateComponentValues",value:function(){var t=this,e=this.props,r=e.setValues,a=e.setValuesAssumeBoolIsChecked,o=e.validateOnUpdate;this.setState({isUpdating:!0},(function(){t.checked=n.checkedSetValues(a,r),t.refValues=v()(r),t.values=v()(r),o?t.validateOnUpdate():t.setState({isUpdating:!1})}))}},{key:"render",value:function(){var t=this.checked,e=this.errors,n=this.values,r=this.touched,o=this.props.children;return Object(j.jsx)(d.a.Fragment,{children:o(Object(a.a)({handleOnEventCustom:this.onEventCustom,handleOnEvent:this.onEvent,handleOnReset:this.onReset,handleOnSubmit:this.onSubmit},v()(Object(a.a)(Object(a.a)({},this.state),{},{checked:t,errors:e,values:n,touched:r}))))})}}],[{key:"checkedSetValues",value:function(t){var e=t.setValuesAssumeBoolIsChecked,n=t.setValues,r={};return e&&Object.keys(n).forEach((function(t){"boolean"===typeof n[t]&&(r[t]=n[t])})),r}},{key:"isPromise",value:function(t){return"[object Promise]"===Object.prototype.toString.call(t)}}]),n}(d.a.Component);y.defaultProps={onReset:h.a.noop,onSubmit:h.a.noop,resetUsingSetValues:!0,setValues:{},setValuesOnUpdate:!1,setValuesAssumeBoolIsChecked:!0,validate:h.a.noop,validateOnMount:!1,validateOnUpdate:!1}},642:function(t,e,n){var r=n(689);t.exports=function(t){return r(t,5)}},664:function(t,e,n){var r=n(338),a=n(250),o=n(336),i=n(344),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=a(t);return e}:i;t.exports=s},678:function(t,e,n){var r=n(343),a=n(664),o=n(244);t.exports=function(t){return r(t,o,a)}},689:function(t,e,n){var r=n(247),a=n(690),o=n(248),i=n(691),s=n(692),c=n(345),u=n(340),l=n(693),d=n(694),b=n(342),v=n(678),f=n(333),p=n(695),h=n(696),j=n(347),O=n(92),y=n(194),g=n(700),m=n(91),V=n(702),S=n(330),k=n(244),U="[object Arguments]",A="[object Function]",x="[object Object]",w={};w[U]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w[x]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w[A]=w["[object WeakMap]"]=!1,t.exports=function t(e,n,C,E,I,M){var B,F=1&n,D=2&n,P=4&n;if(C&&(B=I?C(e,E,I,M):C(e)),void 0!==B)return B;if(!m(e))return e;var R=O(e);if(R){if(B=p(e),!F)return u(e,B)}else{var J=f(e),N=J==A||"[object GeneratorFunction]"==J;if(y(e))return c(e,F);if(J==x||J==U||N&&!I){if(B=D||N?{}:j(e),!F)return D?d(e,s(B,e)):l(e,i(B,e))}else{if(!w[J])return I?e:{};B=h(e,J,F)}}M||(M=new r);var G=M.get(e);if(G)return G;M.set(e,B),V(e)?e.forEach((function(r){B.add(t(r,n,C,r,e,M))})):g(e)&&e.forEach((function(r,a){B.set(a,t(r,n,C,a,e,M))}));var L=R?void 0:(P?D?v:b:D?k:S)(e);return a(L||e,(function(r,a){L&&(r=e[a=r]),o(B,a,t(r,n,C,a,e,M))})),B}},690:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},691:function(t,e,n){var r=n(332),a=n(330);t.exports=function(t,e){return t&&r(e,a(e),t)}},692:function(t,e,n){var r=n(332),a=n(244);t.exports=function(t,e){return t&&r(e,a(e),t)}},693:function(t,e,n){var r=n(332),a=n(336);t.exports=function(t,e){return r(t,a(t),e)}},694:function(t,e,n){var r=n(332),a=n(664);t.exports=function(t,e){return r(t,a(t),e)}},695:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},696:function(t,e,n){var r=n(337),a=n(697),o=n(698),i=n(699),s=n(346);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return a(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return o(t);case"[object Set]":return new c;case"[object Symbol]":return i(t)}}},697:function(t,e,n){var r=n(337);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},698:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},699:function(t,e,n){var r=n(155),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},700:function(t,e,n){var r=n(701),a=n(334),o=n(335),i=o&&o.isMap,s=i?a(i):r;t.exports=s},701:function(t,e,n){var r=n(333),a=n(101);t.exports=function(t){return a(t)&&"[object Map]"==r(t)}},702:function(t,e,n){var r=n(703),a=n(334),o=n(335),i=o&&o.isSet,s=i?a(i):r;t.exports=s},703:function(t,e,n){var r=n(333),a=n(101);t.exports=function(t){return a(t)&&"[object Set]"==r(t)}}}]);
//# sourceMappingURL=16.d91bd03a.chunk.js.map