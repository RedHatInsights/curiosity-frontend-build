(this["webpackJsonpcuriosity-frontend"]=this["webpackJsonpcuriosity-frontend"]||[]).push([[1],{1067:function(t,e,a){"use strict";a.d(e,"a",(function(){return O}));var r=a(2),n=a(13),o=a(14),i=a(15),l=a(16),s=a(0),c=a.n(s),u=a(993),d=a(3191),p=a(1818),h=a(1426),f=a.n(h),v=a(84),m=a.n(v),g=a(197),b=a.n(g),y=a(21),O=function(t){Object(l.a)(a,t);var e=Object(i.a)(a);function a(){var t;Object(n.a)(this,a);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))).state={isExpanded:!1,options:null,selected:null},t.onSelect=function(e,a){var n=t.state.options,o=t.props,i=o.id,l=o.name,s=o.onSelect,c=o.variant,d=n,p=d.findIndex((function(t){return t.title===a}));d[p].selected=c===u.e.single||!d[p].selected,c===u.e.single&&d.forEach((function(t,e){p!==e&&(d[e].selected=!1)}));var h=c===u.e.single?a:d.filter((function(t){return!0===t.selected})).map((function(t){return t.title}));t.setState({options:d,selected:h},(function(){var e=f()(d),a={id:i,name:l||i,value:e[p].value,selected:c===u.e.single&&e[p]||f()(h),selectedIndex:p,type:"select-".concat(c===u.e.single?"one":"multiple"),options:e};c===u.e.checkbox&&(a.checked=e[p].selected);var n=Object(r.a)({},a,{target:Object(r.a)({},a),currentTarget:Object(r.a)({},a),persist:y.a.noop});s(Object(r.a)({},n),p,e),c===u.e.single&&t.setState({isExpanded:!1})}))},t.onToggle=function(e){t.setState({isExpanded:e})},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){null===this.state.options&&this.formatOptions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.options,r=e.selectedOptions;m()(t.options,a)&&m()(t.selectedOptions,r)||this.formatOptions()}},{key:"formatOptions",value:function(){var t,e=this.props,a=e.options,n=e.selectedOptions,o=e.variant,i=b()(a)?Object.keys(a).map((function(t){return Object(r.a)({},a[t],{title:t,value:a[t]})})):f()(a),l=n&&"string"===typeof n||"number"===typeof n?[n]:n;i.forEach((function(t,e){var a=t;"string"===typeof a&&(a={title:t,value:t},i[e]=a),a.text=a.text||a.title,a.textContent=a.textContent||a.title,a.label=a.label||a.title,l&&(i[e].selected=l.includes(a.value)||l.includes(a.title))})),t=o===u.e.single?(i.find((function(t){return!0===t.selected}))||{}).title:i.filter((function(t){return!0===t.selected})).map((function(t){return t.title})),this.setState({options:i,selected:t})}},{key:"render",value:function(){var t=this.state,e=t.options,a=t.selected,r=t.isExpanded,n=this.props,o=n.ariaLabel,i=n.className,l=n.isDisabled,s=n.isToggleText,u=n.placeholder,h=n.toggleIcon,f=n.variant,v={};return e&&e.length&&!l||(v.isDisabled=!0),c.a.createElement(d.a,Object.assign({className:"curiosity-select".concat(s?"":"__no-toggle-text"," ").concat(i),variant:f,"aria-label":o,onToggle:this.onToggle,onSelect:this.onSelect,selections:a,isOpen:r,toggleIcon:h,placeholderText:u},v),e&&e.map((function(t){return c.a.createElement(p.a,{key:window.btoa("".concat(t.title,"-").concat(t.value)),id:window.btoa("".concat(t.title,"-").concat(t.value)),value:t.title,"data-value":t.value,"data-title":t.title})}))||[])}}]),a}(c.a.Component);O.defaultProps={ariaLabel:"Select option",className:"",id:y.a.generateId(),isDisabled:!1,isToggleText:!0,name:null,onSelect:y.a.noop,options:[],placeholder:"Select option",selectedOptions:null,toggleIcon:null,variant:u.e.single}},1433:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var r=a(48),n=a(5),o={getGranularityOptions:function(t){return"default"===t?{selected:n.b.DAILY,options:[{title:Object(r.b)("curiosity-graph.dropdownDaily"),value:n.b.DAILY,selected:!0},{title:Object(r.b)("curiosity-graph.dropdownWeekly"),value:n.b.WEEKLY},{title:Object(r.b)("curiosity-graph.dropdownMonthly"),value:n.b.MONTHLY},{title:Object(r.b)("curiosity-graph.dropdownQuarterly"),value:n.b.QUARTERLY}]}:{options:[]}}}},1805:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var r=a(13),n=a(14),o=a(334),i=a(15),l=a(16),s=a(0),c=a.n(s),u=a(17),d=function(t){Object(l.a)(a,t);var e=Object(i.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))).containerRef=c.a.createRef(),t.innerContainerRef=c.a.createRef(),t.updatedContainerWidth=0,t.resizeObserver=u.b.noop,t.onResizeContainer=function(){var e,a,r=Object(o.a)(t).updatedContainerWidth,n=t.props.updateOnResize,i=(null===(e=t.containerRef)||void 0===e||null===(a=e.current)||void 0===a?void 0:a.clientWidth)||0;n&&i!==r&&(t.updatedContainerWidth=i,t.setMinHeight(!0))},t}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.updateOnResize;window.setTimeout((function(){t.setMinHeight()})),e&&this.setResizeObserver()}},{key:"componentDidUpdate",value:function(){var t=this;this.props.updateOnContent&&window.setTimeout((function(){t.setMinHeight()}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setMinHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props.minHeight,r=this.containerRef.current,n=void 0===r?{}:r,o=this.innerContainerRef.current,i=void 0===o?{}:o;(null===n||void 0===n?void 0:n.style)&&(a>(t=e?(null===i||void 0===i?void 0:i.clientHeight)||0:(null===n||void 0===n?void 0:n.clientHeight)||0)&&(t=a),n.style.minHeight="".concat(t,"px"))}},{key:"setResizeObserver",value:function(){var t=this;window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"render",value:function(){var t=this.props.children;return c.a.createElement("div",{className:"curiosity-minheight",ref:this.containerRef},c.a.createElement("div",{ref:this.innerContainerRef},t))}}]),a}(c.a.Component);d.defaultProps={updateOnContent:!1,updateOnResize:!0,minHeight:0}},1811:function(t,e,a){"use strict";a.d(e,"a",(function(){return T}));var r=a(2),n=a(11),o=a(10),i=a(13),l=a(14),s=a(15),c=a(16),u=a(0),d=a.n(u),p=a(3192),h=a(3179),f=a(809),v=a(829),m=a(63),g=a(48),b=a(17),y=a(5),O=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=e.call.apply(e,[this].concat(n))).state={},t.onUpdateData=function(){var e=t.props,a=e.getMessageReports,r=e.productId;if(r){var n,i=b.a.getRangedDateTime("CURRENT"),l=i.startDate,s=i.endDate;a(r,(n={},Object(o.a)(n,y.f.GRANULARITY,y.b.DAILY),Object(o.a)(n,y.f.START_DATE,l.toISOString()),Object(o.a)(n,y.f.END_DATE,s.toISOString()),n),{cancel:!1})}},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateData()}},{key:"componentDidUpdate",value:function(t){this.props.productId!==t.productId&&this.onUpdateData()}},{key:"renderAlerts",value:function(){var t=this,e=this.state,a=this.props,i=a.appMessages,l=a.messages,s=[];return l.length&&Object.entries(i).forEach((function(t){var a=Object(n.a)(t,2),o=a[0],i=a[1];if(!0!==e[o]&&!0===i){var c=l.find((function(t){return t.id===o}));c&&s.push(Object(r.a)({key:o},c))}})),s.map((function(e){var a=e.key,r=e.message,n=e.title,i=e.variant,l=void 0===i?p.b.info:i,s=d.a.createElement(h.a,{onClose:function(){return t.setState(Object(o.a)({},a,!0))}});return d.a.createElement(p.a,{actionClose:s,key:a,title:n,variant:l},r)}))}},{key:"render",value:function(){var t=this.renderAlerts();return t.length?d.a.createElement("div",{className:"curiosity-banner-messages"},t):null}}]),a}(d.a.Component);O.defaultProps={getMessageReports:b.b.noop,messages:[{id:"cloudigradeMismatch",title:Object(g.b)("curiosity-banner.dataMismatchTitle"),message:Object(g.b)("curiosity-banner.dataMismatchMessage",{context:""!==b.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS&&"cloudigradeMismatch",appName:b.b.UI_DISPLAY_NAME},[d.a.createElement(f.a,{isInline:!0,component:"a",variant:"link",icon:d.a.createElement(v.a,null),iconPosition:"right",target:"_blank",href:b.b.UI_LINK_REPORT_ACCURACY_RECOMMENDATIONS})])}]};var E=m.e.appMessages.makeAppMessages(),T=Object(m.b)(E,(function(t){return{getMessageReports:function(e,a){return t(m.d.rhsm.getMessageReports(e,a))}}}))(O)},1814:function(t,e,a){"use strict";a.d(e,"a",(function(){return X}));var r=a(10),n=a(2),o=a(13),i=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(1418),p=a(3133),h=a(3134),f=a(833),v=a(3175),m=a(3135),g=a(3174),b=a(84),y=a.n(b),O=a(1067),E=a(63),T=a(17),D=a(5),k=a(164),S=a.n(k),I=function(t){var e=t.date,a=t.granularity,r=S.a.utc(e);switch(a){case D.b.QUARTERLY:return"".concat(r.format(T.a.timestampQuarterFormats.yearShort)," - ").concat(r.add(1,"quarter").format(T.a.timestampQuarterFormats.yearShort));case D.b.MONTHLY:return r.format(T.a.timestampMonthFormats.yearLong);case D.b.WEEKLY:return"".concat(r.format(T.a.timestampDayFormats.short)," - ").concat(r.add(1,"week").format(T.a.timestampDayFormats.yearShort));case D.b.DAILY:default:return r.format(T.a.timestampDayFormats.long)}},j=function(t){var e=t.tick,a=Math.abs(e),r=e,n="";return a>=Math.pow(10,12)?(n="T",r=e/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(n="B",r=e/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(n="M",r=e/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(n="K",r=e/Math.pow(10,3)),"".concat(r).concat(n)},C={getChartXAxisLabelIncrement:function(t){switch(t){case D.b.DAILY:return 5;case D.b.WEEKLY:case D.b.MONTHLY:return 2;case D.b.QUARTERLY:default:return 1}},getTooltipDate:I,xAxisTickFormat:function(t){var e=t.date,a=t.granularity,r=t.tick,n=t.previousDate;if(e&&a){var o,i=S.a.utc(e),l=0!==r&&Number.parseInt(i.year(),10)!==Number.parseInt(S.a.utc(n).year(),10);switch(a){case D.b.QUARTERLY:o=(o=l?i.format(T.a.timestampQuarterFormats.yearShort):i.format(T.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case D.b.MONTHLY:o=(o=l?i.format(T.a.timestampMonthFormats.yearShort):i.format(T.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case D.b.WEEKLY:case D.b.DAILY:default:o=(o=l?i.format(T.a.timestampDayFormats.yearShort):i.format(T.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return o}},yAxisTickFormat:function(t){var e=t.tick,a=t.locale,r=void 0===a?T.b.UI_LOCALE_DEFAULT:a,n="".concat(new Intl.NumberFormat(r,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(e));return n.length>3&&n.length>="".concat(e).length&&(n=j({tick:e})),n},yAxisTickFormatFallback:j},L=a(1433),R=a(48),A=function(t){var e=t.datum,a=t.granularity,r=t.productLabel,n=t.t,o=null,i=[],l=(e||{}).itemsByKey,s=void 0===l?{}:l;return Object.keys(s).forEach((function(t,e){var l,c;0===e&&(o=I({date:null===(c=s[t])||void 0===c?void 0:c.data.date,granularity:a}));var u={color:null===(l=s[t])||void 0===l?void 0:l.color};if(/^threshold/.test(t)){var d,p,h,f=(null===(d=s[t])||void 0===d?void 0:d.data.hasInfinite)&&n("curiosity-graph.infiniteThresholdLabel")||(null!==(p=null===(h=s[t])||void 0===h?void 0:h.data.y)&&void 0!==p?p:n("curiosity-graph.noDataLabel"));u.label=n("curiosity-graph.thresholdLabel"),u.value=f}else{var v,m,g=!1===(null===(v=s[t])||void 0===v?void 0:v.data.hasData)&&n("curiosity-graph.noDataLabel")||(null===(m=s[t])||void 0===m?void 0:m.data.y)||0;u.label=n("curiosity-graph.".concat(t,"Label"),{product:r}),u.value=g}i.push(u)})),u.a.createElement("div",{className:"victory-tooltip"},u.a.createElement("table",{summary:n("curiosity-graph.tooltipSummary")},i.length&&o&&u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{colSpan:2},o)))||null,i.length&&u.a.createElement("tbody",null,i.map((function(t){return u.a.createElement("tr",{key:"tooltip-".concat(t.label)},u.a.createElement("th",null,u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon victory-legend-icon",style:{backgroundColor:t.color||"transparent"}}),t.label),u.a.createElement("td",null,t.value))})))||null),!i.length&&n("curiosity-graph.noDataErrorLabel")||null)};A.defaultProps={datum:{},productLabel:"",t:R.b};var x=a(809),w=a(423),F=a(3171),M=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))).onClick=function(e){var a=t.props,n=a.chart,o=a.viewId,i=n.toggle(e);E.g.dispatch({type:E.f.graph.SET_GRAPH_LEGEND,legend:Object(r.a)({},"".concat(o,"-").concat(e),i)})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.chart,a=t.datum,r=t.legend,n=t.viewId;a.dataSets.forEach((function(t){var a=t.id;(r["".concat(n,"-").concat(a)]||e.isToggled(a))&&e.hide(a)}))}},{key:"renderLegendItem",value:function(t){var e=this,a=t.chartId,r=t.color,n=t.isDisabled,o=t.isThreshold,i=t.labelContent,l=t.tooltipContent,s=this.props,c=s.chart,d=s.legend,p=s.viewId,h=d["".concat(p,"-").concat(a)]||c.isToggled(a),f=u.a.createElement(x.a,{onClick:function(){return e.onClick(a)},onKeyPress:function(){return e.onClick(a)},className:"victory-legend-item",tabIndex:0,key:"curiosity-button-".concat(a),variant:"link",component:"a",isDisabled:n,icon:(n||h)&&u.a.createElement(F.a,null)||o&&u.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:n||h?"hidden":"visible",borderTopColor:r}})||u.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:n||h?"hidden":"visible",backgroundColor:r}})},i);return l?u.a.createElement(w.a,{key:"curiosity-tooltip-".concat(a),content:u.a.createElement("p",null,l),position:w.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},f):f}},{key:"render",value:function(){var t=this,e=this.props,a=e.datum,r=e.productLabel,n=e.t;return u.a.createElement(u.a.Fragment,null,a.dataSets.map((function(e){var a=e.id,o=e.isThreshold,i=e.stroke,l=e.data,s=!(void 0===l?[]:l).find((function(t){var e=t.y,a=t.hasData;return e>=0&&!0===a||e>=0&&!0===o}))||!1,c=o&&n(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.thresholdLabel"],{product:r,context:r})||n(["curiosity-graph.".concat(a,"Label"),"curiosity-graph.noLabel"],{product:r,context:r}),u=o&&n(["curiosity-graph.".concat(a,"LegendTooltip"),"curiosity-graph.thresholdLegendTooltip"],{product:r,context:r})||n("curiosity-graph.".concat(a,"LegendTooltip"),{product:r,context:r});return t.renderLegendItem({chartId:a,color:i,labelContent:c,isDisabled:s,isThreshold:o,tooltipContent:u})})))}}]),a}(u.a.Component);M.defaultProps={chart:{hide:T.b.noop,toggle:T.b.noop,isToggled:T.b.noop},datum:{dataSets:[]},legend:{},productLabel:"",t:R.b,viewId:"graphCardLegend"};var N=Object(E.b)((function(t){return{legend:t.graph.legend}}))(M),_=a(3185),P=a(3186),G=a(3187),U=a(3184),Y=a(3173),H=a(3189),q=a(1426),Q=a.n(q),z=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).state={chartWidth:0},t.dataSetsToggle={},t.resizeObserver=T.b.noop,t.containerRef=u.a.createRef(),t.tooltipRef=u.a.createRef(),t.onHide=function(e){t.dataSetsToggle=Object(n.a)({},t.dataSetsToggle,Object(r.a)({},e,!0)),t.forceUpdate()},t.onRevert=function(){t.dataSetsToggle={},t.forceUpdate()},t.onToggle=function(e){var a=!t.dataSetsToggle[e];return t.dataSetsToggle=Object(n.a)({},t.dataSetsToggle,Object(r.a)({},e,a)),t.forceUpdate(),a},t.onResizeContainer=function(){var e=t.state.chartWidth,a=(t.containerRef.current||{}).clientWidth,r=void 0===a?0:a;r!==e&&t.setState({chartWidth:r})},t.getIsToggled=function(e){return t.dataSetsToggle[e]||!1},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setResizeObserve()}},{key:"componentWillUnmount",value:function(){this.resizeObserver()}},{key:"setResizeObserve",value:function(){var t=this,e=this.containerRef.current,a=window.ResizeObserver;if(e&&a){var r=new a(this.onResizeContainer);r.observe(e),this.resizeObserver=function(){return r.unobserve(e)}}else this.onResizeContainer(),window.addEventListener("resize",this.onResizeContainer),this.resizeObserver=function(){return window.removeEventListener("resize",t.onResizeContainer)}}},{key:"setChartTicks",value:function(){var t=this.props,e=t.xAxisLabelIncrement,a=t.xAxisTickFormat,r=t.yAxisTickFormat,o=t.dataSets,i={},l={},s=o.length&&o[0].data||[];return o.forEach((function(t){t.xAxisLabelUseDataSet&&(s=t.data)})),i.xAxisTickValues=s.reduce((function(t,a,r){return r%e===0?t.concat(a.x):t}),[]),i.xAxisTickFormat=function(t){return s[t]&&s[t].xAxisLabel||t},"function"===typeof a&&(i.xAxisTickFormat=function(t){var e=i.xAxisTickValues,r=e.indexOf(t),o=Object(n.a)({},s[e[r-1]]||{}),l=Object(n.a)({},s[e[r+1]]||{}),c=Object(n.a)({},s[t]||{});return a({tick:t,previousItem:o,item:c,nextItem:l})}),"function"===typeof r&&(l.yAxisTickFormat=function(t){return r({tick:t})}),Object(n.a)({},i,{},l)}},{key:"getChartTicks",value:function(){var t=this.props.xAxisFixLabelOverlap,e=this.setChartTicks(),a=e.xAxisTickValues,r=e.xAxisTickFormat,n=e.yAxisTickFormat,o={fixLabelOverlap:t},i={dependentAxis:!0,showGrid:!0};return a&&(o.tickValues=a),r&&(o.tickFormat=r),n&&(i.tickFormat=n),{isXAxisTicks:!!a,xAxisProps:o,yAxisProps:i}}},{key:"getChartDomain",value:function(t){var e=t.isXAxisTicks,a=this.dataSetsToggle,r=this.props,o=r.domain,i=r.dataSets;if(Object.keys(o).length)return o;var l={},s={},c=0,u=0;i.filter((function(t){return!0===t.isStacked})).forEach((function(t){if(!a[t.id]&&t.data){var e=0;t.data.forEach((function(a,r){e=a&&a.y>e?a.y:e,r===t.data.length-1&&(u+=e)}))}})),i.forEach((function(t){!a[t.id]&&t.data&&(c=t.data.length>c?t.data.length:c,t.data.forEach((function(t){u=t&&t.y>u?t.y:u})))})),e||(l.x=[0,c||10]);var d=Math.pow(10,Math.floor(Math.log10(u>10&&u||10)));return l.y=[0,Math.ceil((u+1)/d)*d],Object.keys(l).length&&(s.domain=l),{maxY:u,chartDomain:Object(n.a)({},s)}}},{key:"getTooltipData",value:function(){var t=this.dataSetsToggle,e=this.props,a=e.dataSets,r=e.chartTooltip,o=[];return r&&a&&a[0]&&a[0].data&&(o=a[0].data.map((function(e,o){var i={};a.forEach((function(e){!t[e.id]&&e.data&&e.data[o]&&(i[e.id]={color:e.stroke||e.fill||e.color||"",data:Q()(e.data[o])})}));var l={datum:{x:e.x,y:e.y,index:o,itemsByKey:i,dataSets:Q()(a)}};return{x:e.x,y:null,itemsByKey:i,tooltip:u.a.isValidElement(r)&&u.a.cloneElement(r,Object(n.a)({},l))||r(Object(n.a)({},l))}}))),o}},{key:"renderTooltip",value:function(){var t=this,e=this.dataSetsToggle,a=this.props,r=a.chartTooltip,o=a.dataSets;if(!r||Object.values(e).filter((function(t){return!0===t})).length===o.length)return null;var i=Object(_.a)("voronoi","cursor"),l=this.getTooltipData(),s={},c={},d=function(e){var a=t.containerRef.current,r=t.tooltipRef.current,o=a&&a.getBoundingClientRect()||{},i=r&&r.getBoundingClientRect()||{};o.right&&(s=o),i.right&&(c=i);var d=e.x+10;(s.right<c.right||e.x+c.width>s.right/2)&&(d=e.x-10-c.width);var p=function(t){var e=t.datum,a=l.find((function(t){return t.x===e.x}))||{};return(null===a||void 0===a?void 0:a.tooltip)||""}(Object(n.a)({},e));return p?u.a.createElement("g",null,u.a.createElement("foreignObject",{x:d,y:e.y/2.2,width:"100%",height:"100%"},u.a.createElement("div",{ref:t.tooltipRef,style:{display:"inline-block"},xmlns:"http://www.w3.org/1999/xhtml"},p))):u.a.createElement("g",null)};return u.a.createElement(i,{cursorDimension:"x",labels:function(t){return t},labelComponent:u.a.createElement(d,null),voronoiPadding:60})}},{key:"renderLegend",value:function(){var t=this.props,e=t.chartLegend,a=t.dataSets;if(!e)return null;var r={datum:{dataSets:Q()(a)},chart:{hide:this.onHide,revert:this.onRevert,toggle:this.onToggle,isToggled:this.getIsToggled}};return u.a.isValidElement(e)&&u.a.cloneElement(e,Object(n.a)({},r))||e(Object(n.a)({},r))}},{key:"renderChart",value:function(t){var e=t.stacked,a=void 0!==e&&e,r=this.dataSetsToggle,o=this.props.dataSets,i=[],l=[];return o.forEach((function(t,e){if(!r[t.id]&&t.data&&t.data.length){var a=t.isThreshold&&function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),t.strokeDasharray&&(a.data.strokeDasharray=t.strokeDasharray),u.a.createElement(P.a,{animate:t.animate||!1,interpolation:t.interpolation||"step",key:T.b.generateId(),name:"chartArea-".concat(e,"-threshold"),data:t.data,style:Object(n.a)({},t.style||{},{},a),themeColor:t.themeColor,themeVariant:t.themeVariant})}(t,e)||function(t,e){var a={data:{}};return t.fill&&(a.data.fill=t.fill),t.stroke&&(a.data.stroke=t.stroke),t.strokeWidth&&(a.data.strokeWidth=t.strokeWidth),u.a.createElement(G.a,{animate:t.animate||!1,interpolation:t.interpolation||"monotoneX",key:T.b.generateId(),name:"chartArea-".concat(e,"-area"),data:t.data,style:Object(n.a)({},t.style||{},{},a),themeColor:t.themeColor,themeVariant:t.themeVariant})}(t,e);t.isStacked?l.push(a):i.push(a)}})),a&&l||i}},{key:"render",value:function(){var t=this.state.chartWidth,e=this.props,a=e.chartLegend,r=e.padding,o=e.themeColor,i=this.getChartTicks(),l=i.isXAxisTicks,s=i.xAxisProps,c=i.yAxisProps,d=this.getChartDomain({isXAxisTicks:l}),p=d.chartDomain,h={containerComponent:d.maxY>=0&&this.renderTooltip()||void 0},f=Object(n.a)({padding:r},p,{},h);return u.a.createElement("div",{id:"curiosity-chartarea",className:"uxui-curiosity__modal uxui-curiosity__modal--loading",ref:this.containerRef},u.a.createElement(U.a,Object.assign({animate:{duration:0},width:t,themeColor:o},f),u.a.createElement(Y.a,Object.assign({},s,{animate:!1})),u.a.createElement(Y.a,Object.assign({},c,{animate:!1})),this.renderChart({}),u.a.createElement(H.a,null,this.renderChart({stacked:!0}))),a&&u.a.createElement("div",{className:"curiosity-chartarea-description victory-legend"},this.renderLegend()))}}]),a}(u.a.Component);z.defaultProps={chartLegend:null,chartTooltip:null,domain:{},dataSets:[],height:275,padding:{bottom:75,left:50,right:50,top:50},themeColor:"blue",xAxisFixLabelOverlap:!1,xAxisLabelIncrement:1,xAxisTickFormat:null,yAxisTickFormat:null};var W=a(178),V=a(1805),B=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).onUpdateGraphData=function(){var e=t.props,a=e.getGraphReportsCapacity,o=e.isDisabled,i=e.productId,l=e.query,s=t.getQueryGranularity();if(!o&&s&&i){var c,u=T.a.getRangedDateTime(s),d=u.startDate,p=u.endDate;a(i,Object(n.a)((c={},Object(r.a)(c,D.f.START_DATE,d.toISOString()),Object(r.a)(c,D.f.END_DATE,p.toISOString()),c),l))}},t.onGranularitySelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.value,n=t.props.viewId;E.g.dispatch(Object(r.a)({type:E.f.query.SET_QUERY_RHSM_TYPES[D.f.GRANULARITY],viewId:n},D.f.GRANULARITY,a))},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,r=e.query;a===t.productId&&y()(r,t.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var t=this.props.query;return null===t||void 0===t?void 0:t[D.f.GRANULARITY]}},{key:"renderChart",value:function(){var t=this.props,e=t.filterGraphData,a=t.graphData,r=t.selectOptionsType,n=t.productLabel,o=t.query,i=t.viewId,l=this.getQueryGranularity(),s=L.a.getGranularityOptions(r).selected,c=l||s,d={xAxisFixLabelOverlap:!0,xAxisLabelIncrement:C.getChartXAxisLabelIncrement(c),xAxisTickFormat:function(t){var e=t.item,a=t.previousItem,r=t.tick;return C.xAxisTickFormat({tick:r,date:e.date,previousDate:a.date,granularity:c})},yAxisTickFormat:C.yAxisTickFormat};return u.a.createElement(z,Object.assign({key:"chart_".concat(JSON.stringify(o))},d,{dataSets:function(t){var a=function(e){var a={data:t[e],id:e,animate:{duration:250,onLoad:{duration:250}},strokeWidth:2,isStacked:!/^threshold/.test(e),isThreshold:/^threshold/.test(e)};return/^threshold/.test(e)&&(a.animate={duration:100,onLoad:{duration:100}},a.stroke=g.a.value,a.strokeDasharray="4,3",a.strokeWidth=3),a};return e.length?e.map((function(t){return Object.assign(a(t.id),t)})):Object.keys(t).map((function(t){return a(t)}))}(a),chartLegend:function(t){var e=t.chart,a=t.datum;return u.a.createElement(N,{chart:e,datum:a,productLabel:n,viewId:i})},chartTooltip:function(t){var e=t.datum;return u.a.createElement(A,{datum:e,granularity:c,productLabel:n})}}))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.children,r=t.error,n=t.isDisabled,o=t.pending,i=t.selectOptionsType,l=t.t;if(n)return null;var s=L.a.getGranularityOptions(i).options,c=this.getQueryGranularity();return u.a.createElement(d.a,{className:"curiosity-usage-graph"},u.a.createElement(V.a,{key:"headerMinHeight"},u.a.createElement(p.a,null,u.a.createElement(h.a,null,u.a.createElement(f.a,{headingLevel:"h2",size:"lg"},e)),u.a.createElement(v.a,{className:r?"blur":""},a,u.a.createElement(O.a,{"aria-label":l("curiosity-graph.dropdownPlaceholder"),onSelect:this.onGranularitySelect,options:s,selectedOptions:c,placeholder:l("curiosity-graph.dropdownPlaceholder")})))),u.a.createElement(V.a,{key:"bodyMinHeight"},u.a.createElement(m.a,null,u.a.createElement("div",{className:r?"blur":"fadein"},o&&u.a.createElement(W.a,{variant:"graph"}),!o&&this.renderChart()))))}}]),a}(u.a.Component);B.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:T.b.noop,graphData:{},isDisabled:T.b.UI_DISABLED_GRAPH,pending:!1,productLabel:"",selectOptionsType:"default",t:R.b,viewId:"graphCard"};var K=E.e.graphCard.makeGraphCard(),X=Object(E.b)(K,(function(t){return{getGraphReportsCapacity:function(e,a){return t(E.d.rhsm.getGraphReportsCapacity(e,a))}}}))(B)},1815:function(t,e,a){"use strict";a.d(e,"a",(function(){return q}));var r=a(8),n=a(10),o=a(2),i=a(13),l=a(14),s=a(15),c=a(16),u=a(0),d=a.n(u),p=a(1418),h=a(3133),f=a(3134),v=a(833),m=a(3175),g=a(3135),b=a(84),y=a.n(b),O=a(1067),E=a(63),T=a(17),D=a(5),k=a(164),S=a.n(k),I=a(3174),j=a(48),C=function(t){var e=t.date,a=t.granularity,r=S.a.utc(e);switch(a){case D.b.QUARTERLY:return"".concat(r.format(T.a.timestampQuarterFormats.yearShort)," - ").concat(r.add(1,"quarter").format(T.a.timestampQuarterFormats.yearShort));case D.b.MONTHLY:return r.format(T.a.timestampMonthFormats.yearLong);case D.b.WEEKLY:return"".concat(r.format(T.a.timestampDayFormats.short)," - ").concat(r.add(1,"week").format(T.a.timestampDayFormats.yearShort));case D.b.DAILY:default:return r.format(T.a.timestampDayFormats.long)}},L=function(t){var e=t.date,a=t.granularity,r=t.tick,n=t.previousDate;if(e&&a){var o,i=S.a.utc(e),l=0!==r&&Number.parseInt(i.year(),10)!==Number.parseInt(S.a.utc(n).year(),10);switch(a){case D.b.QUARTERLY:o=(o=l?i.format(T.a.timestampQuarterFormats.yearShort):i.format(T.a.timestampQuarterFormats.short)).replace(/\s/,"\n");break;case D.b.MONTHLY:o=(o=l?i.format(T.a.timestampMonthFormats.yearShort):i.format(T.a.timestampMonthFormats.short)).replace(/\s/,"\n");break;case D.b.WEEKLY:case D.b.DAILY:default:o=(o=l?i.format(T.a.timestampDayFormats.yearShort):i.format(T.a.timestampDayFormats.short)).replace(/\s(\d{4})$/,"\n$1")}return o}},R=function(t){var e=t.tick,a=t.locale;return new Intl.NumberFormat(a,{maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(e)},A=function(t){var e=t.data,a=void 0===e?[]:e,r=t.granularity,n=t.productShortLabel,i=[],l={x:"x",colors:{},columns:[],groups:[[]],names:{},types:{}},s=function(t){return(T.b.TEST_MODE&&S.a.utc(t)||S.a.utc(t).local()).format("YYYY-MM-DD")};return a.forEach((function(t){/^threshold/.test(t.id)?(l.colors[t.id]=t.color||I.a.value,l.types[t.id]="step",l.names[t.id]=Object(j.b)("curiosity-graph.thresholdLabel")):(l.colors[t.id]=t.color,l.types[t.id]="area-spline",l.groups[0].push(t.id),l.names[t.id]=Object(j.b)("curiosity-graph.".concat(t.id,"Label"),{product:n})),l.columns[0]=["x"],l.columns.push([t.id]);var e=0;t.data.forEach((function(t){l.columns[0].push(s(t.date)),l.columns[l.columns.length-1].push(t.y),e+=t.y||0})),e<=0&&(l.columns.pop(),i.push(t.id))})),{hiddenDataFacets:i,configuration:{tooltip:{order:function(t,e){return l.columns.indexOf(t.id)-l.columns.indexOf(e.id)},format:{title:function(t){return C({date:t,granularity:r})},value:function(t,e,r,n){var o,i,l,s=null===(o=a.find((function(t){return r===t.id})))||void 0===o?void 0:o.data[n];/^threshold/.test(r)?i=(null===s||void 0===s?void 0:s.hasInfinite)&&Object(j.b)("curiosity-graph.infiniteThresholdLabel")||(null!==(l=null===s||void 0===s?void 0:s.y)&&void 0!==l?l:Object(j.b)("curiosity-graph.noDataLabel")):i=!1===(null===s||void 0===s?void 0:s.hasData)&&Object(j.b)("curiosity-graph.noDataLabel")||(null===s||void 0===s?void 0:s.y)||0;return i}}},unloadBeforeLoad:!0,padding:{left:40,right:40,top:10,bottom:10},legend:{show:!1},spline:{interpolation:{type:"monotone"}},data:Object(o.a)({},l),point:{show:!1},grid:{y:{show:!0}},axis:{x:{type:"timeseries",tick:{format:function(t){var e=l.columns[0].slice(1),a=s(t),n=e.indexOf(a),o=n>-1&&e[n-1];return L({tick:n,date:a,previousDate:o,granularity:r})}},padding:0},y:{default:[0,50],padding:{bottom:0},min:0,tick:{show:!1,outer:!1,format:function(t){return 0===t?"":R({tick:t})}}}}}}},x=a(809),w=a(423),F=a(3171),M=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={updatedIsToggled:null},t.onFocus=function(){var e=t.state.updatedIsToggled,a=t.props,r=a.chart,n=a.chartId,o=a.getToggle,i=a.isToggled;("function"!==typeof o||i)&&e||r.focus(n)},t.onRevert=function(){var e=t.state.updatedIsToggled,a=t.props,r=a.chart,n=a.getToggle,o=a.isToggled;("function"!==typeof n||o)&&e||r.revert()},t.onToggle=function(){var e=t.state.updatedIsToggled,a=t.props,r=a.chart,n=a.chartId,o=a.getToggle,i=a.isToggled;r.toggle(n),"function"===typeof o?o({isToggled:!i}):t.setState({updatedIsToggled:!e}),t.onRevert()},t.getColor=function(){var e=t.props,a=e.chart,r=e.chartId;return a.color(r)},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this.state.updatedIsToggled,e=this.props,a=e.children,r=e.chart,n=e.chartId,o=e.isDisabled,i=e.isThreshold,l=e.isToggled,s=e.tooltipContent,c=null===t&&"boolean"===typeof l&&l||t||!1;c&&r.hide(n);var u=d.a.createElement(x.a,{tabIndex:0,key:"curiosity-button-".concat(n),variant:"link",onClick:this.onToggle,onFocus:this.onFocus,onMouseOver:this.onFocus,onBlur:this.onRevert,onMouseOut:this.onRevert,onKeyPress:this.onToggle,component:"a",isDisabled:o,icon:(o||c)&&d.a.createElement(F.a,null)||i&&d.a.createElement("hr",{"aria-hidden":!0,className:"threshold-legend-icon",style:{visibility:o||c?"hidden":"visible",borderTopColor:this.getColor()}})||d.a.createElement("div",{"aria-hidden":!0,className:"legend-icon",style:{visibility:o||c?"hidden":"visible",backgroundColor:this.getColor()}})},a);return s?d.a.createElement(w.a,{key:"curiosity-tooltip-".concat(n),content:s,position:w.b.top,enableFlip:!1,distance:5,entryDelay:100,exitDelay:0},u):u}}]),a}(d.a.Component);M.defaultProps={chart:{color:T.b.noop,focus:T.b.noop,hide:T.b.noop,revert:T.b.noop,toggle:T.b.noop},children:null,isDisabled:!1,isThreshold:!1,isToggled:!1,tooltipContent:null,getToggle:null};var N=a(1433),_=a(3136),P=a.n(_),G=(a(3137),function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={chart:null},t.node=d.a.createRef(),t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.generateChart()}},{key:"componentDidUpdate",value:function(t){var e=this.props.config;y()(t.config.data,e.data)||this.generateChart()}},{key:"componentWillUnmount",value:function(){var t=this.state.chart;t&&t.destroy(),this.setState({chart:null})}},{key:"generateChart",value:function(){var t=this,e=this.state.chart,a=this.props,r=a.config,n=a.onComplete,i=e;i||(i=P.a.generate(Object(o.a)({bindto:this.node.current},r))),i.load(Object(o.a)({},r.data,{unload:r.unloadBeforeLoad||!1,done:function(){t.setState({chart:i},(function(){r.done?r.done({chart:i,config:r}):n({chart:i,config:r})}))}}))}},{key:"render",value:function(){var t=this.state.chart,e=this.props,a=e.className,r=e.children,n=e.config,o=e.style;return d.a.createElement("div",{className:"curiosity-c3chart ".concat(a),style:o},d.a.createElement("div",{ref:this.node,className:"curiosity-c3chart-container"}),t&&d.a.createElement("div",{className:"curiosity-c3chart-description"},"function"===typeof r&&r({chart:t,config:n})||r))}}]),a}(d.a.Component));G.defaultProps={children:null,className:null,config:{},onComplete:T.b.noop,style:{}};var U=a(178),Y=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).state={},t.onUpdateGraphData=function(){var e=t.props,a=e.getGraphReportsCapacity,r=e.isDisabled,i=e.productId,l=e.query,s=t.getQueryGranularity();if(!r&&s&&i){var c,u=T.a.getRangedDateTime(s),d=u.startDate,p=u.endDate;a(i,Object(o.a)((c={},Object(n.a)(c,D.f.START_DATE,d.toISOString()),Object(n.a)(c,D.f.END_DATE,p.toISOString()),c),l))}},t.onGranularitySelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.value,r=t.props.viewId;E.g.dispatch(Object(n.a)({type:E.f.query.SET_QUERY_RHSM_TYPES[D.f.GRANULARITY],viewId:r},D.f.GRANULARITY,a))},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGraphData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.query;e.productId===t.productId&&y()(a,t.query)||this.onUpdateGraphData()}},{key:"getQueryGranularity",value:function(){var t=this.props.query;return null===t||void 0===t?void 0:t[D.f.GRANULARITY]}},{key:"renderLegend",value:function(t){var e=this,a=t.chart,r=t.filteredData,o=void 0===r?[]:r,i=t.granularity,l=t.hiddenDataFacets,s=void 0===l?[]:l,c=this.state,u=this.props,p=u.productId,h=u.productShortLabel,f=u.t;return o.map((function(t){var r=t.id,o=/^threshold/.test(r),l=s.includes(r),u=d.a.createElement("p",null,o&&f("curiosity-graph.thresholdLegendTooltip")||f("curiosity-graph.".concat(r,"LegendTooltip"))),v=c["".concat(p,"-").concat(i,"-").concat(r)]||!1;return d.a.createElement(M,{key:"legend-".concat(p,"-").concat(i,"-").concat(r),chart:a,chartId:r,tooltipContent:u,isDisabled:l,isThreshold:o,isToggled:v,getToggle:function(t){var a=t.isToggled;return e.setState(Object(n.a)({},"".concat(p,"-").concat(i,"-").concat(r),a))}},o&&f("curiosity-graph.thresholdLabel")||f("curiosity-graph.".concat(r,"Label"),{product:h}))}))}},{key:"renderChart",value:function(){var t=this,e=this.props,a=e.filterGraphData,n=e.graphData,i=e.productId,l=e.productShortLabel,s=e.selectOptionsType,c=this.getQueryGranularity(),u=N.a.getGranularityOptions(s).selected,p=c||u;if(!n||!Object.values(n).length)return null;var h=[];a.length?a.forEach((function(t){n[t.id]&&h.push(Object(o.a)({},t,{data:Object(r.a)(n[t.id])}))})):Object.keys(n).forEach((function(t){h.push({id:t,data:Object(r.a)(n[t])})}));var f=A({data:h,granularity:p,productShortLabel:l}),v=f.configuration,m=void 0===v?{}:v,g=f.hiddenDataFacets,b=void 0===g?[]:g;return d.a.createElement(G,{key:"chart-".concat(i,"-").concat(p),config:m},(function(e){var a=e.chart;return t.renderLegend({chart:a,filteredData:h,granularity:p,hiddenDataFacets:b})}))}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.children,r=t.error,n=t.isDisabled,o=t.pending,i=t.selectOptionsType,l=t.t;if(n)return null;var s=N.a.getGranularityOptions(i).options,c=this.getQueryGranularity();return d.a.createElement(p.a,{className:"curiosity-usage-graph"},d.a.createElement(h.a,null,d.a.createElement(f.a,null,d.a.createElement(v.a,{headingLevel:"h2",size:"lg"},e)),d.a.createElement(m.a,{className:r?"blur":""},a,d.a.createElement(O.a,{"aria-label":l("curiosity-graph.dropdownPlaceholder"),onSelect:this.onGranularitySelect,options:s,selectedOptions:c,placeholder:l("curiosity-graph.dropdownPlaceholder")}))),d.a.createElement(g.a,null,d.a.createElement("div",{className:r?"blur":"fadein"},o&&d.a.createElement(U.a,{variant:"graph"}),!o&&this.renderChart())))}}]),a}(d.a.Component);Y.defaultProps={cardTitle:null,children:null,error:!1,filterGraphData:[],getGraphReportsCapacity:T.b.noop,graphData:{},isDisabled:T.b.UI_DISABLED_GRAPH,pending:!1,selectOptionsType:"default",t:j.b,productShortLabel:"",viewId:"graphCard"};var H=E.e.graphCard.makeGraphCard(),q=Object(E.b)(H,(function(t){return{getGraphReportsCapacity:function(e,a){return t(E.d.rhsm.getGraphReportsCapacity(e,a))}}}))(Y)},1816:function(t,e,a){"use strict";a.d(e,"a",(function(){return B}));var r=a(2),n=a(10),o=a(13),i=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(84),p=a.n(d),h=a(151),f=a(216),v=a(1418),m=a(3133),g=a(3134),b=a(833),y=a(3175),O=a(3135),E=a(3139),T=a(3140),D=a(190),k=a.n(D),S=a(17),I=a(63),j=a(283),C=a(178),L=a(1805),R=a(8),A=a(11),x=a(154),w=a(127),F=a(48),M=a(5),N=function(t){var e=t.filter,a=void 0===e?{}:e,n=t.onSort,o=t.query,i=void 0===o?{}:o,l=a.id,s=Object(r.a)({},a),c=s.onSort||n;if(!s.onSort&&n&&(s.onSort=n),c&&"boolean"!==typeof s.sortActive&&(null===i||void 0===i?void 0:i[M.f.SORT])&&k()(null===i||void 0===i?void 0:i[M.f.SORT])===l&&(s.sortActive=!0),c&&!s.sortDirection&&(null===i||void 0===i?void 0:i[M.f.DIRECTION]))switch(null===i||void 0===i?void 0:i[M.f.DIRECTION]){case M.d.DESCENDING:s.sortDirection=h.a.desc;break;default:s.sortDirection=h.a.asc}return s},_=function(t){var e=t.filter,a=void 0===e?{}:e,n=Object(r.a)({},a);return Array.isArray(n.transforms)?n.transforms.push(x.a):n.transforms=[x.a],n},P=function(t){var e=t.filters,a=void 0===e?[]:e,n=t.onSort,o=t.query,i=void 0===o?{}:o;return Object(R.a)(a).map((function(t){var e=Object(r.a)({},t);return e.isSortable&&Object.assign(e,N({filter:e,onSort:n,query:i})),e.isWrappable&&Object.assign(e,_({filter:e})),e}))},G=function(t){var e=t.filters,a=void 0===e?[]:e,n=t.cellData,o=void 0===n?{}:n,i=t.session,l=void 0===i?{}:i,s=[],c=[],d={};return Object.entries(o).forEach((function(t){var e=Object(A.a)(t,2),a=e[0],r=e[1];d[a]={title:Object(F.b)("curiosity-inventory.header",{context:a}),value:r},s.push(d[a].title),c.push(r)})),(null===a||void 0===a?void 0:a.length)&&(s.length=0,c.length=0,a.forEach((function(t){var e,a,n,o,i,p,h=t.id,f=t.cell,v=t.cellWidth,m=t.header,g=t.onSort,b=t.sortActive,y=t.sortDirection,O=t.transforms;d[h]&&(e=null!==(n=null===(o=d[h])||void 0===o?void 0:o.title)&&void 0!==n?n:h,a=null!==(i=null===(p=d[h])||void 0===p?void 0:p.value)&&void 0!==i?i:"");m&&(e="function"===typeof m&&m(Object(r.a)({},d))||m),("string"===typeof e||"number"===typeof e||u.a.isValidElement(e))&&(e={title:e}),e.transforms=[],Array.isArray(O)&&(e.transforms=e.transforms.concat(Object(R.a)(O))),"number"===typeof v&&e.transforms.push(Object(w.a)(v)),"function"===typeof g&&(e=Object(r.a)({},e,{onSort:function(t){return g(Object(r.a)({},d),Object(r.a)({},t,{id:h}))},sortActive:b,sortDirection:y})),f&&(a="function"===typeof f&&f(Object(r.a)({},d),Object(r.a)({},l))||f),("string"===typeof a||"number"===typeof a||u.a.isValidElement(a))&&(a={title:a}),s.push(e),c.push(a)}))),{columnHeaders:s,cells:c,data:Object(r.a)({},d)}},U=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))).state={currentPage:0,limit:100,previousData:[]},t.onUpdateGuestsData=function(){var e=t.state,a=e.currentPage,o=e.limit,i=t.props,l=i.getHostsInventoryGuests,s=i.query,c=i.id;if(c){var u,d=Object(r.a)({},s,(u={},Object(n.a)(u,M.f.LIMIT,o),Object(n.a)(u,M.f.OFFSET,a*o||0),u));l(c,I.a.parseRhsmQuery(d).guestsQuery)}},t.onScroll=function(e){var a=e.target,r=t.state,n=r.currentPage,o=r.limit,i=r.previousData,l=t.props,s=l.numberOfGuests,c=l.pending,u=l.listData,d=a.scrollHeight-a.scrollTop===a.clientHeight;if(s>(n+1)*o&&d&&!c){var p=n+1,h=[].concat(Object(R.a)(i),Object(R.a)(u||[]));t.setState({previousData:h,currentPage:p})}},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateGuestsData()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentPage!==e.currentPage&&this.onUpdateGuestsData()}},{key:"renderLoader",value:function(){var t=this.state.currentPage,e=this.props,a=e.filterGuestsData,r=e.listData,n=e.pending;if(t>0&&n){var o=u.a.createElement(C.a,{variant:"table",tableProps:{borders:!1,colCount:(null===a||void 0===a?void 0:a.length)||(null===r||void 0===r?void 0:r[0])&&Object.keys(r[0]).length||1,rowCount:0,variant:f.b.compact}});return u.a.createElement("div",{className:"curiosity-table-scroll-loader__custom"},o)}return null}},{key:"renderTable",value:function(){var t=this.state.previousData,e=this.props,a=e.filterGuestsData,r=e.listData,n=e.numberOfGuests,o=e.session,i=[],l=[].concat(Object(R.a)(t),Object(R.a)(r||[])).map((function(t){var e=Object.assign({},t),r=G({filters:a,cellData:e,session:o}),n=r.columnHeaders,l=r.cells;return i=n,{cells:l}})),s=42*(n+1);return s=s<275&&s||275,u.a.createElement("div",{className:"curiosity-table-scroll",style:{height:"".concat(s,"px")}},u.a.createElement("div",{className:"curiosity-table-scroll-list".concat(s<275?"__no-scroll":""),onScroll:this.onScroll},this.renderLoader(),l.length&&u.a.createElement(j.a,{borders:!1,variant:f.b.compact,className:"curiosity-guests-list",columnHeaders:i,rows:l})||null))}},{key:"render",value:function(){var t=this.state.currentPage,e=this.props,a=e.error,r=e.filterGuestsData,n=e.listData,o=e.numberOfGuests,i=e.pending,l=e.perPageDefault;return u.a.createElement("div",{className:"fadein ".concat(a?"blur":"")},i&&0===t&&u.a.createElement(C.a,{variant:"table",tableProps:{borders:!1,colCount:(null===r||void 0===r?void 0:r.length)||(null===n||void 0===n?void 0:n[0])&&Object.keys(n[0]).length||1,colWidth:(null===r||void 0===r?void 0:r.length)&&r.map((function(t){return t.cellWidth}))||[],rowCount:o<l?o:l,variant:f.b.compact}}),(!i&&0===t||t>0)&&this.renderTable())}}]),a}(u.a.Component);U.defaultProps={error:!1,filterGuestsData:[],getHostsInventoryGuests:S.b.noop,listData:[],pending:!1,perPageDefault:5,query:{},session:{}};var Y=I.e.guestsList.makeGuestsList(),H=Object(I.b)(Y,(function(t){return{getHostsInventoryGuests:function(e,a){return t(I.d.rhsm.getHostsInventoryGuests(e,a))}}}))(U),q=a(3190),Q=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).onPage=function(e){var a=e.page,r=t.props,n=r.offsetDefault,o=r.perPageDefault,i=r.query,l=(null===i||void 0===i?void 0:i[M.f.LIMIT])||o,s=l*(a-1)||n;t.setOffset(s),t.setLimit(l)},t.onPerPage=function(e){var a=e.perPage;t.setOffset(),t.setLimit(a)},t}return Object(i.a)(a,[{key:"setOffset",value:function(t){var e=this.props,a=e.offsetDefault,r=e.productId,o=[];o.push(Object(n.a)({type:I.f.query.SET_QUERY_RHSM_TYPES[M.f.OFFSET],viewId:r},M.f.OFFSET,null!==t&&void 0!==t?t:a)),I.g.dispatch(o)}},{key:"setLimit",value:function(t){var e=this.props,a=e.perPageDefault,r=e.productId,o=[];o.push(Object(n.a)({type:I.f.query.SET_QUERY_RHSM_TYPES[M.f.LIMIT],viewId:r},M.f.LIMIT,null!==t&&void 0!==t?t:a)),I.g.dispatch(o)}},{key:"render",value:function(){var t=this,e=this.props,a=e.dropDirection,r=e.isCompact,n=e.isDisabled,o=e.itemCount,i=e.perPageDefault,l=e.query,s=e.variant,c=l[M.f.OFFSET]/l[M.f.LIMIT]+1||1,d=l[M.f.LIMIT]||i;return u.a.createElement(q.a,{className:o?"":"hidden",dropDirection:a,isCompact:r,isDisabled:n||!o,itemCount:o,page:c,perPage:d,onSetPage:function(e,a){return t.onPage({event:e,page:a})},onPerPageSelect:function(e,a){return t.onPerPage({event:e,perPage:a})},variant:s})}}]),a}(u.a.Component);Q.defaultProps={query:{},dropDirection:"down",isCompact:!1,isDisabled:!1,itemCount:0,offsetDefault:0,perPageDefault:10,variant:null};var z=Object(I.b)((function(t,e){var a,r=t.view,n=e.productId;return{query:null===(a=r.query)||void 0===a?void 0:a[n]}}))(Q),W=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))).onColumnSort=function(e,a){var r,o=a.direction,i=a.id,l=t.props.productId,s=Object.values(M.e).find((function(t){return k()(t)===i}));if(s){switch(o){case h.a.desc:r=M.d.DESCENDING;break;default:r=M.d.ASCENDING}I.g.dispatch([Object(n.a)({type:I.f.query.SET_QUERY_RHSM_TYPES[M.f.DIRECTION],viewId:l},M.f.DIRECTION,r),Object(n.a)({type:I.f.query.SET_QUERY_RHSM_TYPES[M.f.SORT],viewId:l},M.f.SORT,s)])}},t.onUpdateInventoryData=function(){var e=t.props,a=e.getHostsInventory,r=e.isDisabled,n=e.productId,o=e.query;!r&&n&&a(n,o)},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onUpdateInventoryData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.productId,r=e.query;a===t.productId&&p()(r,t.query)||this.onUpdateInventoryData()}},{key:"renderTable",value:function(){var t=this,e=this.props,a=e.filterGuestsData,n=e.filterInventoryData,o=e.listData,i=e.query,l=e.session,s=e.settings,c=[],d=o.map((function(e){var o=Object.assign({},e),d=G({filters:P({filters:n,onSort:t.onColumnSort,query:i}),cellData:o,session:l}),p=d.columnHeaders,h=d.cells;c=p;var f=null===o||void 0===o?void 0:o.subscriptionManagerId,v=(null===o||void 0===o?void 0:o.numberOfGuests)>0&&f;return"function"===typeof(null===s||void 0===s?void 0:s.hasGuests)&&(v=s.hasGuests(Object(r.a)({},o),Object(r.a)({},l))),{cells:h,expandedContent:v&&u.a.createElement(H,{key:f,filterGuestsData:a,numberOfGuests:null===o||void 0===o?void 0:o.numberOfGuests,id:f,query:i})||void 0}}));return u.a.createElement(j.b,{borders:!0,variant:f.b.compact,className:"curiosity-inventory-list",columnHeaders:c,rows:d})}},{key:"render",value:function(){var t=this.props,e=t.cardTitle,a=t.error,r=t.filterInventoryData,n=t.isDisabled,o=t.itemCount,i=t.listData,l=t.pending,s=t.perPageDefault,c=t.productId,d=t.query,p=t.viewId,h=t.fulfilled;if(n)return null;var D=(null===d||void 0===d?void 0:d[M.f.LIMIT])||s,k=(d[M.f.OFFSET]/d[M.f.LIMIT]+1||1)===Math.ceil(o/D),S=!0===h&&o<D&&"bodyMinHeight-".concat(D,"-resize")||!0===h&&k&&"bodyMinHeight-".concat(D,"-resize")||"bodyMinHeight-".concat(D);return u.a.createElement(v.a,{className:"curiosity-inventory-card"},u.a.createElement(L.a,{key:"headerMinHeight",updateOnContent:!0},u.a.createElement(m.a,null,u.a.createElement(g.a,null,u.a.createElement(b.a,{headingLevel:"h2",size:"lg"},e)),u.a.createElement(y.a,{className:a?"blur":""},u.a.createElement(z,{isCompact:!0,isDisabled:l||a,itemCount:o,productId:c,viewId:p,perPageDefault:D})))),u.a.createElement(L.a,{key:S,updateOnContent:!0},u.a.createElement(O.a,null,u.a.createElement("div",{className:a?"blur":"fadein"},l&&u.a.createElement(C.a,{variant:"table",tableProps:{className:"curiosity-inventory-list",colCount:(null===r||void 0===r?void 0:r.length)||(null===i||void 0===i?void 0:i[0])&&Object.keys(i[0]).length||1,colWidth:(null===r||void 0===r?void 0:r.length)&&r.map((function(t){return t.cellWidth}))||[],rowCount:(null===i||void 0===i?void 0:i.length)||D,variant:f.b.compact}}),!l&&this.renderTable()))),u.a.createElement(L.a,{key:"footerMinHeight",updateOnContent:!0},u.a.createElement(E.a,{className:a?"blur":""},u.a.createElement(T.TableToolbar,{isFooter:!0},u.a.createElement(z,{isDisabled:l||a,itemCount:o,productId:c,viewId:p,perPageDefault:D,dropDirection:"up"})))))}}]),a}(u.a.Component);W.defaultProps={cardTitle:null,error:!1,fulfilled:!1,filterGuestsData:[],filterInventoryData:[],getHostsInventory:S.b.noop,isDisabled:S.b.UI_DISABLED_TABLE,itemCount:0,listData:[],pending:!1,perPageDefault:10,session:{},settings:{},viewId:"inventoryList"};var V=I.e.inventoryList.makeInventoryList(),B=Object(I.b)(V,(function(t){return{getHostsInventory:function(e,a){return t(I.d.rhsm.getHostsInventory(e,a))}}}))(W)},1817:function(t,e,a){"use strict";a.d(e,"a",(function(){return S}));var r=a(2),n=a(10),o=a(13),i=a(14),l=a(15),s=a(16),c=a(0),u=a.n(c),d=a(3176),p=a(3196),h=a(3197),f=a(3177),v=a(1809),m=a(1419),g=a(3178),b=a(1067),y=a(63),O=a(5),E=a(48),T=function(t){switch(t){case O.f.SLA:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.slaPremium"),value:O.c.PREMIUM},{title:Object(E.b)("curiosity-toolbar.slaStandard"),value:O.c.STANDARD},{title:Object(E.b)("curiosity-toolbar.slaSelfSupport"),value:O.c.SELF},{title:Object(E.b)("curiosity-toolbar.slaNone"),value:O.c.NONE}]};case O.f.USAGE:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.usageDevelopment"),value:O.h.DEVELOPMENT},{title:Object(E.b)("curiosity-toolbar.usageDisaster"),value:O.h.DISASTER},{title:Object(E.b)("curiosity-toolbar.usageProduction"),value:O.h.PRODUCTION},{title:Object(E.b)("curiosity-toolbar.usageUnspecified"),value:O.h.UNSPECIFIED}]};default:return{selected:null,options:[{title:Object(E.b)("curiosity-toolbar.category",{context:O.f.SLA}),value:O.f.SLA},{title:Object(E.b)("curiosity-toolbar.category",{context:O.f.USAGE}),value:O.f.USAGE}]}}},D=a(17),k=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))).onClear=function(){var e,a=t.props.hardFilterReset,r=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:new Set}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:(e={},Object(n.a)(e,O.f.SLA,null),Object(n.a)(e,O.f.USAGE,null),e)}}];a&&r.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:null}}),t.setDispatch(r,!0)},t.onClearFilter=function(e){var a=t.props,r=a.activeFilters,o=a.currentFilter,i=a.hardFilterReset,l=(T().options.find((function(t){return t.title===e}))||{}).value;if(l){var s=new Set(r);s.delete(l);var c=[{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:s}},{type:y.f.query.SET_QUERY_CLEAR,data:{clearFilters:Object(n.a)({},l,null)}}];if(i){var u=s.size>0&&o||null;c.push({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:u}})}t.setDispatch(c,!0)}},t.onCategorySelect=function(e){var a=e.value;t.setDispatch({type:y.f.toolbar.SET_FILTER_TYPE,data:{currentFilter:a}})},t.onSelect=function(e){var a=e.event,r=e.field,o=t.props.activeFilters,i=a.value,l=new Set(o).add(r);t.setDispatch([{type:y.f.toolbar.SET_ACTIVE_FILTERS,data:{activeFilters:l}},{type:y.f.query.SET_QUERY_RHSM_TYPES[r],data:Object(n.a)({},r,i)}],!0)},t}return Object(i.a)(a,[{key:"setDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props.viewId,n=(Array.isArray(t)&&t||[t]).map((function(t){var e=t.type,n=t.data;return Object(r.a)({type:e,viewId:a},n)}));e&&n.push({type:y.f.query.SET_QUERY_CLEAR_INVENTORY_LIST}),y.g.dispatch(n)}},{key:"setSelectFilter",value:function(t){var e,a,r=this.props.query,n=T(t),o=this.getCurrentFilter();return a=t?"string"===typeof(null===r||void 0===r?void 0:r[t])&&n.options.find((function(e){return e.value===(null===r||void 0===r?void 0:r[t])})):n.options.find((function(t){return t.value===o})),{options:n,optionsSelected:(null===(e=a)||void 0===e?void 0:e.title)&&[a.title]||(null===n||void 0===n?void 0:n.selected)&&[n.selected]||[]}}},{key:"getCurrentFilter",value:function(){var t,e,a=this.props,r=a.currentFilter,n=a.filterOptions;return r||(null===(t=n.find((function(t){return!0===t.selected})))||void 0===t?void 0:t.id)||1===n.length&&(null===(e=n[0])||void 0===e?void 0:e.id)}},{key:"renderSelectFilter",value:function(t){var e=this,a=t.id,r=this.props.t,n=this.setSelectFilter(a),o=n.options,i=n.optionsSelected,l=this.getCurrentFilter();return u.a.createElement(d.a,{key:a,chips:i,deleteChip:this.onClearFilter,categoryName:r("curiosity-toolbar.category",{context:a}),showToolbarItem:l===a},u.a.createElement(b.a,{"aria-label":r("curiosity-toolbar.category",{context:a}),onSelect:function(t){return e.onSelect({event:t,field:a})},selectedOptions:i,placeholder:r("curiosity-toolbar.placeholder",{context:a}),options:o.options}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.filterOptions,r=e.isDisabled,n=e.t;if(r)return null;var o=this.setSelectFilter(),i=o.options,l=o.optionsSelected;return u.a.createElement(p.a,{id:"curiosity-toolbar",className:"curiosity-toolbar pf-m-toggle-group-container ins-c-primary-toolbar",collapseListedFiltersBreakpoint:"sm",clearAllFilters:this.onClear},u.a.createElement(h.a,null,u.a.createElement(f.a,{toggleIcon:u.a.createElement(g.a,null),breakpoint:"md"},u.a.createElement(v.a,{variant:"filter-group"},1!==a.length&&u.a.createElement(m.a,null,u.a.createElement(b.a,{"aria-label":n("curiosity-toolbar.category"),onSelect:this.onCategorySelect,selectedOptions:l,placeholder:n("curiosity-toolbar.placeholder"),options:i.options,toggleIcon:u.a.createElement(g.a,null)})),a.map((function(e){var a=e.id,r=e.selected;return t.renderSelectFilter({id:a,selected:r})}))))))}}]),a}(u.a.Component);k.defaultProps={query:{},activeFilters:new Set,currentFilter:null,filterOptions:[{id:O.f.SLA,filterType:"select"},{id:O.f.USAGE,filterType:"select",selected:!0}],hardFilterReset:!1,isDisabled:D.b.UI_DISABLED_TOOLBAR,t:E.b,viewId:"toolbar"};var S=Object(y.b)((function(t,e){var a,n=t.toolbar,o=e.viewId;return Object(r.a)({},null===(a=n.filters)||void 0===a?void 0:a[o])}))(k)}}]);
//# sourceMappingURL=1.0e83d549.chunk.js.map